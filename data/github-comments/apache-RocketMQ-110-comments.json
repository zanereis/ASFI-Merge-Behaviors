[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150623942","html_url":"https://github.com/apache/rocketmq/pull/4138#issuecomment-1150623942","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4138","id":1150623942,"node_id":"IC_kwDOBHrsl85ElSDG","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:18:12Z","updated_at":"2022-06-09T03:18:12Z","author_association":"MEMBER","body":"> Why not use ConcurrentHashMap instead of HashMap？Using ConcurrentHashMap, no need to lock when reading, and the scope of locking is smaller when writing.\r\n\r\n+1 for using ConcurrentHashMap to fix this issue","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150623942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150624250","html_url":"https://github.com/apache/rocketmq/pull/4428#issuecomment-1150624250","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4428","id":1150624250,"node_id":"IC_kwDOBHrsl85ElSH6","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:18:58Z","updated_at":"2022-06-09T03:18:58Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49867043/badge)](https://coveralls.io/builds/49867043)\n\nCoverage decreased (-0.02%) to 47.287% when pulling **55e7384e77bfc5525fafcf056af51fd425c2eb29 on 6U-U9:5.0.0-beta** into **42e5d734eec8ed662fb6c9b06ff1faf615559653 on apache:5.0.0-beta**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150624250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150624253","html_url":"https://github.com/apache/rocketmq/pull/4428#issuecomment-1150624253","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4428","id":1150624253,"node_id":"IC_kwDOBHrsl85ElSH9","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:18:59Z","updated_at":"2022-06-09T03:18:59Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49867043/badge)](https://coveralls.io/builds/49867043)\n\nCoverage decreased (-0.02%) to 47.287% when pulling **55e7384e77bfc5525fafcf056af51fd425c2eb29 on 6U-U9:5.0.0-beta** into **42e5d734eec8ed662fb6c9b06ff1faf615559653 on apache:5.0.0-beta**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150624253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150632497","html_url":"https://github.com/apache/rocketmq/pull/4439#issuecomment-1150632497","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4439","id":1150632497,"node_id":"IC_kwDOBHrsl85ElUIx","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:35:45Z","updated_at":"2022-06-28T12:22:51Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4439?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4439](https://codecov.io/gh/apache/rocketmq/pull/4439?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8d7240c) into [5.0.0-beta](https://codecov.io/gh/apache/rocketmq/commit/3bddd514646826253a239f95959c14840a87034a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3bddd51) will **decrease** coverage by `0.10%`.\n> The diff coverage is `73.91%`.\n\n```diff\n@@               Coverage Diff                @@\n##             5.0.0-beta    #4439      +/-   ##\n================================================\n- Coverage         43.06%   42.95%   -0.11%     \n+ Complexity         6043     6042       -1     \n================================================\n  Files               801      801              \n  Lines             57055    57088      +33     \n  Branches           7800     7805       +5     \n================================================\n- Hits              24570    24523      -47     \n- Misses            29262    29348      +86     \n+ Partials           3223     3217       -6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4439?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...n/java/org/apache/rocketmq/store/MessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL01lc3NhZ2VTdG9yZS5qYXZh) | `0.00% <ø> (ø)` | |\n| [...apache/rocketmq/store/queue/BatchConsumeQueue.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3F1ZXVlL0JhdGNoQ29uc3VtZVF1ZXVlLmphdmE=) | `69.50% <63.63%> (ø)` | |\n| [...n/java/org/apache/rocketmq/store/ConsumeQueue.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbnN1bWVRdWV1ZS5qYXZh) | `64.25% <73.91%> (ø)` | |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `52.60% <74.19%> (-0.02%)` | :arrow_down: |\n| [...apache/rocketmq/store/queue/ConsumeQueueStore.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL3F1ZXVlL0NvbnN1bWVRdWV1ZVN0b3JlLmphdmE=) | `58.97% <100.00%> (-0.35%)` | :arrow_down: |\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `68.79% <0.00%> (-14.19%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/store/FlushDiskWatcher.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0ZsdXNoRGlza1dhdGNoZXIuamF2YQ==) | `81.25% <0.00%> (-9.38%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `45.71% <0.00%> (-3.41%)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `59.03% <0.00%> (-3.06%)` | :arrow_down: |\n| ... and [19 more](https://codecov.io/gh/apache/rocketmq/pull/4439/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4439?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4439?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [3bddd51...8d7240c](https://codecov.io/gh/apache/rocketmq/pull/4439?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150632497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150633604","html_url":"https://github.com/apache/rocketmq/pull/4439#issuecomment-1150633604","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4439","id":1150633604,"node_id":"IC_kwDOBHrsl85ElUaE","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:38:30Z","updated_at":"2022-06-09T03:38:30Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49867526/badge)](https://coveralls.io/builds/49867526)\n\nCoverage decreased (-0.05%) to 47.261% when pulling **1429b782a36e781e5d165b65140bdb26aa224768 on Erik1288:5.0.0-beta-optimization** into **42e5d734eec8ed662fb6c9b06ff1faf615559653 on apache:5.0.0-beta**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150633604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150633608","html_url":"https://github.com/apache/rocketmq/pull/4439#issuecomment-1150633608","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4439","id":1150633608,"node_id":"IC_kwDOBHrsl85ElUaI","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:38:30Z","updated_at":"2022-06-29T21:46:53Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/50479966/badge)](https://coveralls.io/builds/50479966)\n\nCoverage decreased (-0.05%) to 47.262% when pulling **8d7240ce6505691a30b2a4134f0f5e0bd55d68cb on Erik1288:5.0.0-beta-optimization** into **42e5d734eec8ed662fb6c9b06ff1faf615559653 on apache:5.0.0-beta**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150633608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150634377","html_url":"https://github.com/apache/rocketmq/issues/4426#issuecomment-1150634377","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4426","id":1150634377,"node_id":"IC_kwDOBHrsl85ElUmJ","user":{"login":"Cczzzz","id":32947555,"node_id":"MDQ6VXNlcjMyOTQ3NTU1","avatar_url":"https://avatars.githubusercontent.com/u/32947555?v=4","gravatar_id":"","url":"https://api.github.com/users/Cczzzz","html_url":"https://github.com/Cczzzz","followers_url":"https://api.github.com/users/Cczzzz/followers","following_url":"https://api.github.com/users/Cczzzz/following{/other_user}","gists_url":"https://api.github.com/users/Cczzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/Cczzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cczzzz/subscriptions","organizations_url":"https://api.github.com/users/Cczzzz/orgs","repos_url":"https://api.github.com/users/Cczzzz/repos","events_url":"https://api.github.com/users/Cczzzz/events{/privacy}","received_events_url":"https://api.github.com/users/Cczzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T03:40:20Z","updated_at":"2022-06-09T03:40:20Z","author_association":"CONTRIBUTOR","body":"> @Cczzzz Some suggestions:\r\n> \r\n> * If publishing to a retry topic, get group name from it and check subscription permission to that group. Furthermore, checking DLQ topic is unnecessary, because no clients would publish to a DLQ topic directly.\r\n> * For CONSUMER_SEND_MSG_BACK, check SUB permission of group, not retry topic.\r\n> \r\n> Would you like to submit a PR? Let's fix it.\r\n\r\nOf course willing","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150634377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150677806","html_url":"https://github.com/apache/rocketmq/issues/4440#issuecomment-1150677806","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4440","id":1150677806,"node_id":"IC_kwDOBHrsl85ElfMu","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T05:12:50Z","updated_at":"2022-06-09T05:12:50Z","author_association":"MEMBER","body":"Of course, maybe you can launch a pr to upgrade","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150677806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150703007","html_url":"https://github.com/apache/rocketmq/issues/4429#issuecomment-1150703007","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4429","id":1150703007,"node_id":"IC_kwDOBHrsl85EllWf","user":{"login":"BruceMiao305","id":61451961,"node_id":"MDQ6VXNlcjYxNDUxOTYx","avatar_url":"https://avatars.githubusercontent.com/u/61451961?v=4","gravatar_id":"","url":"https://api.github.com/users/BruceMiao305","html_url":"https://github.com/BruceMiao305","followers_url":"https://api.github.com/users/BruceMiao305/followers","following_url":"https://api.github.com/users/BruceMiao305/following{/other_user}","gists_url":"https://api.github.com/users/BruceMiao305/gists{/gist_id}","starred_url":"https://api.github.com/users/BruceMiao305/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BruceMiao305/subscriptions","organizations_url":"https://api.github.com/users/BruceMiao305/orgs","repos_url":"https://api.github.com/users/BruceMiao305/repos","events_url":"https://api.github.com/users/BruceMiao305/events{/privacy}","received_events_url":"https://api.github.com/users/BruceMiao305/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T05:57:36Z","updated_at":"2022-06-09T05:57:36Z","author_association":"NONE","body":"直接升级会存在兼容性问题不？\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2022年6月9日(星期四) 上午10:59\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] RocketMQ4.1.0 fastjson version is 1.2.29, how to upgrade fastjson? (Issue #4429)\r\n\r\n\r\n\r\n\r\n\r\n \r\n@BruceMiao305 bump up the fastjson version directly :)\r\n \r\n—\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nYou are receiving this because you were mentioned.Message ID: ***@***.***&gt;","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150703007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150879469","html_url":"https://github.com/apache/rocketmq/pull/4138#issuecomment-1150879469","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4138","id":1150879469,"node_id":"IC_kwDOBHrsl85EmQbt","user":{"login":"dugenkui03","id":18216266,"node_id":"MDQ6VXNlcjE4MjE2MjY2","avatar_url":"https://avatars.githubusercontent.com/u/18216266?v=4","gravatar_id":"","url":"https://api.github.com/users/dugenkui03","html_url":"https://github.com/dugenkui03","followers_url":"https://api.github.com/users/dugenkui03/followers","following_url":"https://api.github.com/users/dugenkui03/following{/other_user}","gists_url":"https://api.github.com/users/dugenkui03/gists{/gist_id}","starred_url":"https://api.github.com/users/dugenkui03/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dugenkui03/subscriptions","organizations_url":"https://api.github.com/users/dugenkui03/orgs","repos_url":"https://api.github.com/users/dugenkui03/repos","events_url":"https://api.github.com/users/dugenkui03/events{/privacy}","received_events_url":"https://api.github.com/users/dugenkui03/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T09:18:28Z","updated_at":"2022-06-09T09:19:46Z","author_association":"CONTRIBUTOR","body":"@lizhanhui  Thanks for you reopen this PR. I deleted original fork by mistake, and lots of pr were closed automatically. All the closed pr will reopen and finished.\r\n\r\n> 感谢重新打开此PR。因为之前误删除了fork、所有的pr都自动关闭了。近期会重新处理因为误删除fork导致的自动关闭的pr。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1150879469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151049662","html_url":"https://github.com/apache/rocketmq/issues/2363#issuecomment-1151049662","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2363","id":1151049662,"node_id":"IC_kwDOBHrsl85Em5--","user":{"login":"liangliangoo","id":65400457,"node_id":"MDQ6VXNlcjY1NDAwNDU3","avatar_url":"https://avatars.githubusercontent.com/u/65400457?v=4","gravatar_id":"","url":"https://api.github.com/users/liangliangoo","html_url":"https://github.com/liangliangoo","followers_url":"https://api.github.com/users/liangliangoo/followers","following_url":"https://api.github.com/users/liangliangoo/following{/other_user}","gists_url":"https://api.github.com/users/liangliangoo/gists{/gist_id}","starred_url":"https://api.github.com/users/liangliangoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liangliangoo/subscriptions","organizations_url":"https://api.github.com/users/liangliangoo/orgs","repos_url":"https://api.github.com/users/liangliangoo/repos","events_url":"https://api.github.com/users/liangliangoo/events{/privacy}","received_events_url":"https://api.github.com/users/liangliangoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T12:18:53Z","updated_at":"2022-06-09T12:18:53Z","author_association":"NONE","body":"如何解决呢？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151049662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151113490","html_url":"https://github.com/apache/rocketmq/issues/4440#issuecomment-1151113490","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4440","id":1151113490,"node_id":"IC_kwDOBHrsl85EnJkS","user":{"login":"ltamber","id":5679413,"node_id":"MDQ6VXNlcjU2Nzk0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5679413?v=4","gravatar_id":"","url":"https://api.github.com/users/ltamber","html_url":"https://github.com/ltamber","followers_url":"https://api.github.com/users/ltamber/followers","following_url":"https://api.github.com/users/ltamber/following{/other_user}","gists_url":"https://api.github.com/users/ltamber/gists{/gist_id}","starred_url":"https://api.github.com/users/ltamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltamber/subscriptions","organizations_url":"https://api.github.com/users/ltamber/orgs","repos_url":"https://api.github.com/users/ltamber/repos","events_url":"https://api.github.com/users/ltamber/events{/privacy}","received_events_url":"https://api.github.com/users/ltamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T13:22:29Z","updated_at":"2022-06-09T13:22:29Z","author_association":"CONTRIBUTOR","body":"> Of course, maybe you can launch a pr to upgrade\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151113490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151206342","html_url":"https://github.com/apache/rocketmq/issues/4421#issuecomment-1151206342","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4421","id":1151206342,"node_id":"IC_kwDOBHrsl85EngPG","user":{"login":"huskyui","id":23629016,"node_id":"MDQ6VXNlcjIzNjI5MDE2","avatar_url":"https://avatars.githubusercontent.com/u/23629016?v=4","gravatar_id":"","url":"https://api.github.com/users/huskyui","html_url":"https://github.com/huskyui","followers_url":"https://api.github.com/users/huskyui/followers","following_url":"https://api.github.com/users/huskyui/following{/other_user}","gists_url":"https://api.github.com/users/huskyui/gists{/gist_id}","starred_url":"https://api.github.com/users/huskyui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huskyui/subscriptions","organizations_url":"https://api.github.com/users/huskyui/orgs","repos_url":"https://api.github.com/users/huskyui/repos","events_url":"https://api.github.com/users/huskyui/events{/privacy}","received_events_url":"https://api.github.com/users/huskyui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-09T14:38:32Z","updated_at":"2022-06-09T14:38:32Z","author_association":"NONE","body":"i will create a pr to fix it in this weekend.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151206342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151798185","html_url":"https://github.com/apache/rocketmq/issues/4202#issuecomment-1151798185","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4202","id":1151798185,"node_id":"IC_kwDOBHrsl85Epwup","user":{"login":"Inuyasha-Monster","id":12888788,"node_id":"MDQ6VXNlcjEyODg4Nzg4","avatar_url":"https://avatars.githubusercontent.com/u/12888788?v=4","gravatar_id":"","url":"https://api.github.com/users/Inuyasha-Monster","html_url":"https://github.com/Inuyasha-Monster","followers_url":"https://api.github.com/users/Inuyasha-Monster/followers","following_url":"https://api.github.com/users/Inuyasha-Monster/following{/other_user}","gists_url":"https://api.github.com/users/Inuyasha-Monster/gists{/gist_id}","starred_url":"https://api.github.com/users/Inuyasha-Monster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Inuyasha-Monster/subscriptions","organizations_url":"https://api.github.com/users/Inuyasha-Monster/orgs","repos_url":"https://api.github.com/users/Inuyasha-Monster/repos","events_url":"https://api.github.com/users/Inuyasha-Monster/events{/privacy}","received_events_url":"https://api.github.com/users/Inuyasha-Monster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T01:25:04Z","updated_at":"2022-06-10T01:25:04Z","author_association":"CONTRIBUTOR","body":"mark this question , wait for answer  ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151798185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151837530","html_url":"https://github.com/apache/rocketmq/issues/4202#issuecomment-1151837530","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4202","id":1151837530,"node_id":"IC_kwDOBHrsl85Ep6Va","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T02:08:52Z","updated_at":"2022-06-10T02:08:52Z","author_association":"MEMBER","body":"mlock is a system call of Linux, it seems that the Windows platform has an alternative function: https://docs.microsoft.com/zh-cn/windows/win32/api/memoryapi/nf-memoryapi-virtuallock?redirectedfrom=MSDN","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151837530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151854507","html_url":"https://github.com/apache/rocketmq/issues/4440#issuecomment-1151854507","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4440","id":1151854507,"node_id":"IC_kwDOBHrsl85Ep-er","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T02:32:05Z","updated_at":"2022-06-10T02:32:05Z","author_association":"MEMBER","body":"other fastjson version: https://github.com/apache/rocketmq/commit/3bd4b2b2f61a824196f19b03146e2c929c62777b","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151854507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151888860","html_url":"https://github.com/apache/rocketmq/pull/4442#issuecomment-1151888860","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4442","id":1151888860,"node_id":"IC_kwDOBHrsl85EqG3c","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T03:24:58Z","updated_at":"2022-06-10T03:24:58Z","author_association":"MEMBER","body":"@RongtongJin PTLA","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151888860/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151901186","html_url":"https://github.com/apache/rocketmq/pull/4442#issuecomment-1151901186","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4442","id":1151901186,"node_id":"IC_kwDOBHrsl85EqJ4C","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T03:45:50Z","updated_at":"2022-06-10T03:55:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4442?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4442](https://codecov.io/gh/apache/rocketmq/pull/4442?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b4e222d) into [5.0.0-beta-dledger-controller](https://codecov.io/gh/apache/rocketmq/commit/81dc9386a1a5f932896bea3ddfa9452cddea1786?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (81dc938) will **increase** coverage by `0.03%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@                         Coverage Diff                         @@\n##             5.0.0-beta-dledger-controller    #4442      +/-   ##\n===================================================================\n+ Coverage                            43.17%   43.21%   +0.03%     \n- Complexity                            6343     6349       +6     \n===================================================================\n  Files                                  841      841              \n  Lines                                59824    59824              \n  Branches                              8152     8152              \n===================================================================\n+ Hits                                 25830    25852      +22     \n+ Misses                               30643    30627      -16     \n+ Partials                              3351     3345       -6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4442?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...he/rocketmq/controller/impl/DLedgerController.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyLmphdmE=) | `69.94% <100.00%> (ø)` | |\n| [...controller/impl/DLedgerControllerStateMachine.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyU3RhdGVNYWNoaW5lLmphdmE=) | `85.00% <100.00%> (ø)` | |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...mq/broker/topic/TopicQueueMappingCleanService.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNRdWV1ZU1hcHBpbmdDbGVhblNlcnZpY2UuamF2YQ==) | `12.43% <0.00%> (-3.63%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `49.72% <0.00%> (-0.56%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `53.88% <0.00%> (ø)` | |\n| [...cketmq/broker/processor/PopBufferMergeService.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcEJ1ZmZlck1lcmdlU2VydmljZS5qYXZh) | `40.71% <0.00%> (+0.23%)` | :arrow_up: |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `44.91% <0.00%> (+0.24%)` | :arrow_up: |\n| [...che/rocketmq/acl/plain/PlainPermissionManager.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YWNsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9hY2wvcGxhaW4vUGxhaW5QZXJtaXNzaW9uTWFuYWdlci5qYXZh) | `75.70% <0.00%> (+0.51%)` | :arrow_up: |\n| [...rocketmq/broker/processor/PopMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcE1lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `39.57% <0.00%> (+0.53%)` | :arrow_up: |\n| ... and [8 more](https://codecov.io/gh/apache/rocketmq/pull/4442/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4442?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4442?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [81dc938...b4e222d](https://codecov.io/gh/apache/rocketmq/pull/4442?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151901186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151904558","html_url":"https://github.com/apache/rocketmq/pull/4442#issuecomment-1151904558","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4442","id":1151904558,"node_id":"IC_kwDOBHrsl85EqKsu","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T03:52:24Z","updated_at":"2022-06-10T03:52:24Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49909025/badge)](https://coveralls.io/builds/49909025)\n\nCoverage decreased (-0.02%) to 47.352% when pulling **b4e222d8f402b7eeec478ab5c06cecaf89cc96fb on hzh0425:feature/delay-controller-become-leader** into **81dc9386a1a5f932896bea3ddfa9452cddea1786 on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151904558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151904560","html_url":"https://github.com/apache/rocketmq/pull/4442#issuecomment-1151904560","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4442","id":1151904560,"node_id":"IC_kwDOBHrsl85EqKsw","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T03:52:24Z","updated_at":"2022-06-10T03:55:08Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49909292/badge)](https://coveralls.io/builds/49909292)\n\nCoverage decreased (-0.002%) to 47.366% when pulling **b4e222d8f402b7eeec478ab5c06cecaf89cc96fb on hzh0425:feature/delay-controller-become-leader** into **81dc9386a1a5f932896bea3ddfa9452cddea1786 on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1151904560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152111923","html_url":"https://github.com/apache/rocketmq/pull/4444#issuecomment-1152111923","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4444","id":1152111923,"node_id":"IC_kwDOBHrsl85Eq9Uz","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T08:28:59Z","updated_at":"2022-06-10T10:47:40Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49918529/badge)](https://coveralls.io/builds/49918529)\n\nCoverage decreased (-0.1%) to 52.064% when pulling **d53c9bc07ec7eb5025ee0dbc00315a8b68b691b6 on KyrieChang:develop** into **73b9ac82bcd14b2a40ba31888a96e62d06d42d92 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152111923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152112179","html_url":"https://github.com/apache/rocketmq/pull/4444#issuecomment-1152112179","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4444","id":1152112179,"node_id":"IC_kwDOBHrsl85Eq9Yz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T08:29:16Z","updated_at":"2022-06-10T08:29:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4444?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4444](https://codecov.io/gh/apache/rocketmq/pull/4444?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (271681f) into [develop](https://codecov.io/gh/apache/rocketmq/commit/73b9ac82bcd14b2a40ba31888a96e62d06d42d92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (73b9ac8) will **increase** coverage by `0.01%`.\n> The diff coverage is `21.42%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #4444      +/-   ##\n=============================================\n+ Coverage      48.15%   48.16%   +0.01%     \n- Complexity      5104     5111       +7     \n=============================================\n  Files            646      646              \n  Lines          42911    42925      +14     \n  Branches        5611     5611              \n=============================================\n+ Hits           20662    20675      +13     \n- Misses         19734    19741       +7     \n+ Partials        2515     2509       -6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4444?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...java/org/apache/rocketmq/broker/BrokerStartup.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyU3RhcnR1cC5qYXZh) | `5.47% <0.00%> (-0.16%)` | :arrow_down: |\n| [.../java/org/apache/rocketmq/common/BrokerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vQnJva2VyQ29uZmlnLmphdmE=) | `32.72% <0.00%> (-0.10%)` | :arrow_down: |\n| [.../apache/rocketmq/common/namesrv/NamesrvConfig.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbmFtZXNydi9OYW1lc3J2Q29uZmlnLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...va/org/apache/rocketmq/namesrv/NamesrvStartup.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9OYW1lc3J2U3RhcnR1cC5qYXZh) | `20.51% <0.00%> (-0.54%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyClientConfig.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5Q2xpZW50Q29uZmlnLmphdmE=) | `47.36% <0.00%> (-0.85%)` | :arrow_down: |\n| [...che/rocketmq/remoting/netty/NettyServerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U2VydmVyQ29uZmlnLmphdmE=) | `47.45% <0.00%> (-0.82%)` | :arrow_down: |\n| [...ache/rocketmq/store/config/MessageStoreConfig.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2NvbmZpZy9NZXNzYWdlU3RvcmVDb25maWcuamF2YQ==) | `61.53% <0.00%> (-0.19%)` | :arrow_down: |\n| [...ketmq/client/consumer/DefaultLitePullConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdExpdGVQdWxsQ29uc3VtZXIuamF2YQ==) | `76.50% <100.00%> (+0.14%)` | :arrow_up: |\n| [...ocketmq/client/consumer/DefaultMQPushConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvRGVmYXVsdE1RUHVzaENvbnN1bWVyLmphdmE=) | `58.12% <100.00%> (+0.20%)` | :arrow_up: |\n| [...he/rocketmq/client/producer/DefaultMQProducer.java](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvcHJvZHVjZXIvRGVmYXVsdE1RUHJvZHVjZXIuamF2YQ==) | `58.29% <100.00%> (+0.19%)` | :arrow_up: |\n| ... and [16 more](https://codecov.io/gh/apache/rocketmq/pull/4444/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4444?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4444?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [73b9ac8...271681f](https://codecov.io/gh/apache/rocketmq/pull/4444?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152112179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152134738","html_url":"https://github.com/apache/rocketmq/pull/4444#issuecomment-1152134738","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4444","id":1152134738,"node_id":"IC_kwDOBHrsl85ErC5S","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T08:54:19Z","updated_at":"2022-06-10T08:54:19Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/58988019/173029578-873d2328-f537-482f-b5f0-86cf420972f8.png)\r\n\r\nyou mean this?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152134738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152206944","html_url":"https://github.com/apache/rocketmq/issues/4437#issuecomment-1152206944","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4437","id":1152206944,"node_id":"IC_kwDOBHrsl85ErUhg","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T10:15:51Z","updated_at":"2022-06-10T10:16:36Z","author_association":"CONTRIBUTOR","body":"@duhenglucky  [This PR](https://github.com/apache/rocketmq/pull/4446) resolved **ALL** limitations mentioned in this issue. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152206944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152264573","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1152264573","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1152264573,"node_id":"IC_kwDOBHrsl85Eril9","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-10T11:32:31Z","updated_at":"2022-06-16T10:41:55Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/50085129/badge)](https://coveralls.io/builds/50085129)\n\nCoverage decreased (-0.08%) to 51.961% when pulling **f131379ebfdb9356894b6a8c93d2b4b443804e98 on lizhanhui:revamp_interceptor_chain** into **6273782d663483e5c278f9ef2de15ca137fe7949 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152264573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152916709","html_url":"https://github.com/apache/rocketmq/pull/4450#issuecomment-1152916709","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4450","id":1152916709,"node_id":"IC_kwDOBHrsl85EuBzl","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T12:22:45Z","updated_at":"2022-06-11T12:22:45Z","author_association":"MEMBER","body":"问题场景: master shutdown, 刚好 slave 和 controller 网络分区并且 slave 在 syncStateSet 中, 此时 slave 无法被选为 master. 后续 slave 从分区中恢复, 也没有重新注册到 controller 上. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152916709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152917799","html_url":"https://github.com/apache/rocketmq/pull/4449#issuecomment-1152917799","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4449","id":1152917799,"node_id":"IC_kwDOBHrsl85EuCEn","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T12:31:23Z","updated_at":"2022-06-11T12:31:23Z","author_association":"MEMBER","body":"问题场景: 网络分区下, master 与 slave, master 与 controller 都分区了, 但是没有和 client 分区. client 继续往 master 发送消息. 虽然在 allAckSyncStateSet = true 下, 不会发送成功, 但是这些消息仍然会被 reput by reputMessageService. \r\n后续切换 master 的时候, 就会出现消息丢失的现象.\r\n解决办法就是让 reputMessageService 利用 autoSwitchHaSerivce 中的 ConfirmOffset 作为 reput 边界, 这样当消息发送失败时 (allAckSyncStateSet = true), confirmOffset 不会增大, reputMessageService 就不会 reput 这些失败的消息.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152917799/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152918009","html_url":"https://github.com/apache/rocketmq/pull/4449#issuecomment-1152918009","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4449","id":1152918009,"node_id":"IC_kwDOBHrsl85EuCH5","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T12:33:00Z","updated_at":"2022-06-13T05:03:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4449?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4449](https://codecov.io/gh/apache/rocketmq/pull/4449?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (679d268) into [5.0.0-beta-dledger-controller](https://codecov.io/gh/apache/rocketmq/commit/81dc9386a1a5f932896bea3ddfa9452cddea1786?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (81dc938) will **increase** coverage by `0.10%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@                         Coverage Diff                         @@\n##             5.0.0-beta-dledger-controller    #4449      +/-   ##\n===================================================================\n+ Coverage                            43.17%   43.28%   +0.10%     \n- Complexity                            6343     6369      +26     \n===================================================================\n  Files                                  841      841              \n  Lines                                59824    59857      +33     \n  Branches                              8152     8161       +9     \n===================================================================\n+ Hits                                 25830    25909      +79     \n+ Misses                               30643    30594      -49     \n- Partials                              3351     3354       +3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4449?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `55.85% <100.00%> (+1.97%)` | :arrow_up: |\n| [...cketmq/store/ha/autoswitch/AutoSwitchHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBQ2xpZW50LmphdmE=) | `75.93% <100.00%> (+0.46%)` | :arrow_up: |\n| [...mq/store/ha/autoswitch/AutoSwitchHAConnection.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBQ29ubmVjdGlvbi5qYXZh) | `73.51% <100.00%> (-0.20%)` | :arrow_down: |\n| [...ketmq/store/ha/autoswitch/AutoSwitchHAService.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBU2VydmljZS5qYXZh) | `65.06% <100.00%> (+7.82%)` | :arrow_up: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...rocketmq/common/message/MessageClientIDSetter.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vbWVzc2FnZS9NZXNzYWdlQ2xpZW50SURTZXR0ZXIuamF2YQ==) | `71.42% <0.00%> (-2.39%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/logging/inner/Appender.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9BcHBlbmRlci5qYXZh) | `30.33% <0.00%> (-2.25%)` | :arrow_down: |\n| [...q/controller/impl/manager/ReplicasInfoManager.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL21hbmFnZXIvUmVwbGljYXNJbmZvTWFuYWdlci5qYXZh) | `63.22% <0.00%> (-1.29%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `49.17% <0.00%> (-1.11%)` | :arrow_down: |\n| ... and [22 more](https://codecov.io/gh/apache/rocketmq/pull/4449/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4449?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4449?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [81dc938...679d268](https://codecov.io/gh/apache/rocketmq/pull/4449?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152918009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152918506","html_url":"https://github.com/apache/rocketmq/pull/4449#issuecomment-1152918506","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4449","id":1152918506,"node_id":"IC_kwDOBHrsl85EuCPq","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T12:36:39Z","updated_at":"2022-06-11T12:36:39Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49942330/badge)](https://coveralls.io/builds/49942330)\n\nCoverage increased (+0.02%) to 47.298% when pulling **5882be707423f246c5d418b8c81a00a79c630b17 on hzh0425:feature/use-confirmOffset** into **6645d0a42b743fc003ed54658cd24e99c375ac8b on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152918506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152918508","html_url":"https://github.com/apache/rocketmq/pull/4449#issuecomment-1152918508","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4449","id":1152918508,"node_id":"IC_kwDOBHrsl85EuCPs","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T12:36:40Z","updated_at":"2022-06-13T05:03:15Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49955893/badge)](https://coveralls.io/builds/49955893)\n\nCoverage increased (+0.2%) to 47.503% when pulling **679d2680e70cdd8cd47b3ffcd5bd65b43d64555a on hzh0425:feature/use-confirmOffset** into **6645d0a42b743fc003ed54658cd24e99c375ac8b on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152918508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152926675","html_url":"https://github.com/apache/rocketmq/pull/4448#issuecomment-1152926675","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4448","id":1152926675,"node_id":"IC_kwDOBHrsl85EuEPT","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T13:16:28Z","updated_at":"2022-06-11T13:17:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4448?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4448](https://codecov.io/gh/apache/rocketmq/pull/4448?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a8a2f93) into [develop](https://codecov.io/gh/apache/rocketmq/commit/73b9ac82bcd14b2a40ba31888a96e62d06d42d92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (73b9ac8) will **decrease** coverage by `0.00%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #4448      +/-   ##\n=============================================\n- Coverage      48.15%   48.14%   -0.01%     \n- Complexity      5104     5105       +1     \n=============================================\n  Files            646      646              \n  Lines          42911    42911              \n  Branches        5611     5611              \n=============================================\n- Hits           20662    20658       -4     \n- Misses         19734    19744      +10     \n+ Partials        2515     2509       -6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4448?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...pache/rocketmq/test/client/mq/MQAsyncProducer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvbXEvTVFBc3luY1Byb2R1Y2VyLmphdmE=) | `73.33% <100.00%> (ø)` | |\n| [...rocketmq/test/client/rmq/RMQAsyncSendProducer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUUFzeW5jU2VuZFByb2R1Y2VyLmphdmE=) | `80.50% <100.00%> (ø)` | |\n| [...rocketmq/test/client/rmq/RMQBroadCastConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUUJyb2FkQ2FzdENvbnN1bWVyLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...he/rocketmq/test/client/rmq/RMQNormalConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUU5vcm1hbENvbnN1bWVyLmphdmE=) | `63.41% <100.00%> (ø)` | |\n| [...he/rocketmq/test/client/rmq/RMQNormalProducer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUU5vcm1hbFByb2R1Y2VyLmphdmE=) | `79.78% <100.00%> (ø)` | |\n| [...pache/rocketmq/test/client/rmq/RMQSqlConsumer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUVNxbENvbnN1bWVyLmphdmE=) | `80.00% <100.00%> (ø)` | |\n| [...etmq/test/client/rmq/RMQTransactionalProducer.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9jbGllbnQvcm1xL1JNUVRyYW5zYWN0aW9uYWxQcm9kdWNlci5qYXZh) | `70.58% <100.00%> (ø)` | |\n| [...pache/rocketmq/test/listener/AbstractListener.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9saXN0ZW5lci9BYnN0cmFjdExpc3RlbmVyLmphdmE=) | `74.07% <100.00%> (ø)` | |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <100.00%> (ø)` | |\n| [...ain/java/org/apache/rocketmq/test/util/MQWait.java](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RV2FpdC5qYXZh) | `43.24% <100.00%> (ø)` | |\n| ... and [13 more](https://codecov.io/gh/apache/rocketmq/pull/4448/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4448?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4448?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [73b9ac8...a8a2f93](https://codecov.io/gh/apache/rocketmq/pull/4448?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152926675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152926692","html_url":"https://github.com/apache/rocketmq/pull/4448#issuecomment-1152926692","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4448","id":1152926692,"node_id":"IC_kwDOBHrsl85EuEPk","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-11T13:16:33Z","updated_at":"2022-06-11T13:16:33Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49942602/badge)](https://coveralls.io/builds/49942602)\n\nCoverage decreased (-0.02%) to 52.178% when pulling **a8a2f9338630ffd8edbea3d49344b94b601bc433 on tsunghanjacktsai:develop** into **73b9ac82bcd14b2a40ba31888a96e62d06d42d92 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1152926692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153060979","html_url":"https://github.com/apache/rocketmq/pull/4450#issuecomment-1153060979","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4450","id":1153060979,"node_id":"IC_kwDOBHrsl85EulBz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T03:34:31Z","updated_at":"2022-06-12T04:00:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4450?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4450](https://codecov.io/gh/apache/rocketmq/pull/4450?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d59d970) into [5.0.0-beta-dledger-controller](https://codecov.io/gh/apache/rocketmq/commit/81dc9386a1a5f932896bea3ddfa9452cddea1786?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (81dc938) will **increase** coverage by `0.07%`.\n> The diff coverage is `16.66%`.\n\n```diff\n@@                         Coverage Diff                         @@\n##             5.0.0-beta-dledger-controller    #4450      +/-   ##\n===================================================================\n+ Coverage                            43.17%   43.24%   +0.07%     \n- Complexity                            6343     6360      +17     \n===================================================================\n  Files                                  841      841              \n  Lines                                59824    59835      +11     \n  Branches                              8152     8155       +3     \n===================================================================\n+ Hits                                 25830    25878      +48     \n+ Misses                               30643    30609      -34     \n+ Partials                              3351     3348       -3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4450?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../rocketmq/broker/hacontroller/ReplicasManager.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvaGFjb250cm9sbGVyL1JlcGxpY2FzTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...q/controller/impl/manager/ReplicasInfoManager.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL21hbmFnZXIvUmVwbGljYXNJbmZvTWFuYWdlci5qYXZh) | `63.22% <16.66%> (-1.29%)` | :arrow_down: |\n| [...he/rocketmq/controller/impl/DLedgerController.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyLmphdmE=) | `75.13% <100.00%> (+5.18%)` | :arrow_up: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `43.28% <0.00%> (-7.47%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...mq/broker/topic/TopicQueueMappingCleanService.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNRdWV1ZU1hcHBpbmdDbGVhblNlcnZpY2UuamF2YQ==) | `12.43% <0.00%> (-3.63%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `53.88% <0.00%> (ø)` | |\n| [...controller/impl/DLedgerControllerStateMachine.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyU3RhdGVNYWNoaW5lLmphdmE=) | `85.00% <0.00%> (ø)` | |\n| [...cketmq/broker/processor/PopBufferMergeService.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcEJ1ZmZlck1lcmdlU2VydmljZS5qYXZh) | `40.71% <0.00%> (+0.23%)` | :arrow_up: |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `44.91% <0.00%> (+0.24%)` | :arrow_up: |\n| ... and [19 more](https://codecov.io/gh/apache/rocketmq/pull/4450/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4450?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4450?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [81dc938...d59d970](https://codecov.io/gh/apache/rocketmq/pull/4450?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153060979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153064509","html_url":"https://github.com/apache/rocketmq/pull/4450#issuecomment-1153064509","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4450","id":1153064509,"node_id":"IC_kwDOBHrsl85Eul49","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T04:00:07Z","updated_at":"2022-06-12T04:00:07Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49945998/badge)](https://coveralls.io/builds/49945998)\n\nCoverage increased (+0.03%) to 47.307% when pulling **d59d970f654d087100f291f256bd4c29d5452479 on hzh0425:feature/detect-no-master** into **6645d0a42b743fc003ed54658cd24e99c375ac8b on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153064509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153064510","html_url":"https://github.com/apache/rocketmq/pull/4450#issuecomment-1153064510","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4450","id":1153064510,"node_id":"IC_kwDOBHrsl85Eul4-","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T04:00:07Z","updated_at":"2022-06-12T04:00:07Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49945998/badge)](https://coveralls.io/builds/49945998)\n\nCoverage increased (+0.03%) to 47.307% when pulling **d59d970f654d087100f291f256bd4c29d5452479 on hzh0425:feature/detect-no-master** into **6645d0a42b743fc003ed54658cd24e99c375ac8b on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153064510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153149043","html_url":"https://github.com/apache/rocketmq/pull/4428#issuecomment-1153149043","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4428","id":1153149043,"node_id":"IC_kwDOBHrsl85Eu6hz","user":{"login":"caigy","id":17410645,"node_id":"MDQ6VXNlcjE3NDEwNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/17410645?v=4","gravatar_id":"","url":"https://api.github.com/users/caigy","html_url":"https://github.com/caigy","followers_url":"https://api.github.com/users/caigy/followers","following_url":"https://api.github.com/users/caigy/following{/other_user}","gists_url":"https://api.github.com/users/caigy/gists{/gist_id}","starred_url":"https://api.github.com/users/caigy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caigy/subscriptions","organizations_url":"https://api.github.com/users/caigy/orgs","repos_url":"https://api.github.com/users/caigy/repos","events_url":"https://api.github.com/users/caigy/events{/privacy}","received_events_url":"https://api.github.com/users/caigy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T12:24:47Z","updated_at":"2022-06-12T12:24:47Z","author_association":"CONTRIBUTOR","body":"`org.apache.rocketmq.broker.transaction.queue.DefaultTransactionalMessageCheckListener#resolveDiscardMsg` handles transactional messages that should not be processed any more, what about normal transactional messages on the slave broker in acting master mode? \r\nFurthermore, what happened if the broken master recovered? ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153149043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153232642","html_url":"https://github.com/apache/rocketmq/pull/4428#issuecomment-1153232642","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4428","id":1153232642,"node_id":"IC_kwDOBHrsl85EvO8C","user":{"login":"6U-U9","id":53718342,"node_id":"MDQ6VXNlcjUzNzE4MzQy","avatar_url":"https://avatars.githubusercontent.com/u/53718342?v=4","gravatar_id":"","url":"https://api.github.com/users/6U-U9","html_url":"https://github.com/6U-U9","followers_url":"https://api.github.com/users/6U-U9/followers","following_url":"https://api.github.com/users/6U-U9/following{/other_user}","gists_url":"https://api.github.com/users/6U-U9/gists{/gist_id}","starred_url":"https://api.github.com/users/6U-U9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/6U-U9/subscriptions","organizations_url":"https://api.github.com/users/6U-U9/orgs","repos_url":"https://api.github.com/users/6U-U9/repos","events_url":"https://api.github.com/users/6U-U9/events{/privacy}","received_events_url":"https://api.github.com/users/6U-U9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-12T16:56:30Z","updated_at":"2022-06-12T16:56:30Z","author_association":"CONTRIBUTOR","body":"> `org.apache.rocketmq.broker.transaction.queue.DefaultTransactionalMessageCheckListener#resolveDiscardMsg` handles transactional messages that should not be processed any more, what about normal transactional messages on the slave broker in acting master mode? Furthermore, what happened if the broken master recovered?\r\n\r\nWhen dealing with transaction message normally, **transactionalMessageCheckService** checks half messages in **RMQ_SYS_TRANS_HALF_TOPIC**,  calls **putBackHalfMsgQueue** to rewrite messages still need to check back to message queue of **RMQ_SYS_TRANS_HALF_TOPIC** , and updates consume offset.\r\nWhen slave acts master, its **transactionalMessageCheckService** will start, but its **EndTransactionProcessor** will not accept any message tries to end a transaction such as commit or rollback. The running **transactionalMessageCheckService** will check transaction message and send any message needs check to a living master. **RMQ_SYS_TRANS_HALF_TOPIC** is also a topic not allowed to send in topic validator.So first wrap them in their origin topic with transaction check time, and send it to other master broker. Messages will bring its properties, such as **PROPERTY_TRANSACTION_CHECK_TIMES** , so master broker received these message is not going to check the transaction message for another **TRANS_CHECK_MAX_TIME**.\r\nWhen the master broker recovers, it will be in pre-online progress before it is launched. It reversely obtains the metadata of the slave, especially the consumer offset of **RMQ_SYS_TRANS_HALF_TOPIC**. Thus the recovered master broker will not check the message which has escaped.\r\n在正常处理事务消息时，**transactionalMessageCheckService**检查半消息队列**RMQ_SYS_TRANS_HALF_TOPIC**中的半消息，并调用**putBackHalfMsgQueue**将检查到的并且仍需进行检查的消息写入半消息队列**RMQ_SYS_TRANS_HALF_TOPIC**中，并更新消费位置。\r\nSlave代理Master时，**transactionalMessageCheckService**将启动。**transactionalMessageCheckService**将检查到的事务消息通过EscapeBridge向其他的Master逃逸。逃逸过程中为了避免半消息**RMQ_SYS_TRANS_HALF_TOPIC**不可写的限制，首先将半消息用原Topic包装，此时消息仍携带**PROPERTY_TRANSACTION_CHECK_TIMES**等属性，然后再投递到远程主节点上。收到消息的主节点将消息放入半消息队列**RMQ_SYS_TRANS_HALF_TOPIC**等待检查。\r\n在主节点恢复后，通过预上线机制获取从节点的**RMQ_SYS_TRANS_HALF_TOPIC**队列的消费位点，更新主节点自己的**RMQ_SYS_TRANS_HALF_TOPIC**队列的消费位点，将不再检查已经逃逸的事务消息。\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153232642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153399917","html_url":"https://github.com/apache/rocketmq/pull/4274#issuecomment-1153399917","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4274","id":1153399917,"node_id":"IC_kwDOBHrsl85Ev3xt","user":{"login":"zhanxuefeng","id":19700253,"node_id":"MDQ6VXNlcjE5NzAwMjUz","avatar_url":"https://avatars.githubusercontent.com/u/19700253?v=4","gravatar_id":"","url":"https://api.github.com/users/zhanxuefeng","html_url":"https://github.com/zhanxuefeng","followers_url":"https://api.github.com/users/zhanxuefeng/followers","following_url":"https://api.github.com/users/zhanxuefeng/following{/other_user}","gists_url":"https://api.github.com/users/zhanxuefeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhanxuefeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhanxuefeng/subscriptions","organizations_url":"https://api.github.com/users/zhanxuefeng/orgs","repos_url":"https://api.github.com/users/zhanxuefeng/repos","events_url":"https://api.github.com/users/zhanxuefeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhanxuefeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T02:39:08Z","updated_at":"2022-06-13T02:39:08Z","author_association":"NONE","body":"> Can you re-trigger ci test? @zhanxuefeng\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153399917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153506857","html_url":"https://github.com/apache/rocketmq/pull/4350#issuecomment-1153506857","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4350","id":1153506857,"node_id":"IC_kwDOBHrsl85EwR4p","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:04:02Z","updated_at":"2022-06-13T06:04:02Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n\r\n> I think it would be better to change `ThreadLocalIndex#incrementAndGet()`: if `index` reaches `Integer.MAX_VALUE`, set it to 0 instead of incrementing it.\r\n\r\nOK, Thanks for your review,sir.\r\n I will check  whether this solution is compatible with the current usage of `ThreadLocalIndex#incrementAndGet() `.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153506857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153509858","html_url":"https://github.com/apache/rocketmq/pull/4350#issuecomment-1153509858","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4350","id":1153509858,"node_id":"IC_kwDOBHrsl85EwSni","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:08:36Z","updated_at":"2022-06-13T06:08:36Z","author_association":"CONTRIBUTOR","body":"Hi, @caigy :\r\n\r\nI noticed that this issue has been solved in another PR #4447.  I will close this PR.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153509858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153515321","html_url":"https://github.com/apache/rocketmq/pull/4454#issuecomment-1153515321","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4454","id":1153515321,"node_id":"IC_kwDOBHrsl85EwT85","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:16:27Z","updated_at":"2022-06-13T06:16:27Z","author_association":"MEMBER","body":"@lizhanhui This PR needs a discussion before closing it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153515321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153518062","html_url":"https://github.com/apache/rocketmq/pull/4454#issuecomment-1153518062","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4454","id":1153518062,"node_id":"IC_kwDOBHrsl85EwUnu","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:20:25Z","updated_at":"2022-06-13T06:20:25Z","author_association":"CONTRIBUTOR","body":"Please discuss on the issue thread or the original PR before creating an 'alternative' one.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153518062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153522298","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153522298","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153522298,"node_id":"IC_kwDOBHrsl85EwVp6","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:26:23Z","updated_at":"2022-06-13T06:26:23Z","author_association":"MEMBER","body":"The RPCHook has been widely used for almost 10 years, and it has been exposed to end-users. The DefaultMQProducer and DefaultMQConsumer all have API to register RPCHook.\r\n\r\nSo we should not modify it unless we have to.\r\n\r\nIn fact, for flow control or any other demands, there is no need to modify the RPCHook.  The PR https://github.com/apache/rocketmq/pull/4454 shows the code. \r\n\r\nThis PR needs a wide discussion before merging.\r\n\r\n@lizhanhui @zhouxinyu @duhengforever ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153522298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153523973","html_url":"https://github.com/apache/rocketmq/pull/4454#issuecomment-1153523973","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4454","id":1153523973,"node_id":"IC_kwDOBHrsl85EwWEF","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:28:39Z","updated_at":"2022-06-13T06:28:39Z","author_association":"MEMBER","body":"@lizhanhui Yeah. it is intended to discuss it in the original PR. \r\n\r\nIn fact, this PR is based on the original PR and just a show.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153523973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153539852","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153539852","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153539852,"node_id":"IC_kwDOBHrsl85EwZ8M","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T06:50:33Z","updated_at":"2022-06-13T06:50:33Z","author_association":"CONTRIBUTOR","body":"@dongeforever This pull intends to keep RPCHooks as it is. Third-party implementations will continue to work as expected.\r\nInternally, RPCHooks will be wrapped to Handler, which will have better-defined APIs and deliver neat and clear semantics.\r\n\r\nFurther, we hope new plugins are developed on top of the new interface, bringing them fewer doubts during their development at error handling, logic control, etc.\r\n\r\nIn addition, this PR solves other closely related defects: \r\non the server-side,  post-hooks will get executed when ctx.writeAndFlush is used, as is also pointed out by @duhenglucky\r\non the client-side, post-hooks are executed for the async code path;","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153539852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153547387","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153547387","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153547387,"node_id":"IC_kwDOBHrsl85Ewbx7","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T07:01:12Z","updated_at":"2022-06-13T07:01:12Z","author_association":"MEMBER","body":"@lizhanhui Most part of this PR is great.\r\n\r\nThe only doubt is that there is no need to introduce a new Handler to do this, adding context to the RPCHook works well.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153547387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153551237","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153551237","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153551237,"node_id":"IC_kwDOBHrsl85EwcuF","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T07:05:44Z","updated_at":"2022-06-13T07:05:44Z","author_association":"CONTRIBUTOR","body":"@dongeforever Let's wait  to see more feedback from other community developers","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153551237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153577718","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153577718","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153577718,"node_id":"IC_kwDOBHrsl85EwjL2","user":{"login":"fuyou001","id":685537,"node_id":"MDQ6VXNlcjY4NTUzNw==","avatar_url":"https://avatars.githubusercontent.com/u/685537?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyou001","html_url":"https://github.com/fuyou001","followers_url":"https://api.github.com/users/fuyou001/followers","following_url":"https://api.github.com/users/fuyou001/following{/other_user}","gists_url":"https://api.github.com/users/fuyou001/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyou001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyou001/subscriptions","organizations_url":"https://api.github.com/users/fuyou001/orgs","repos_url":"https://api.github.com/users/fuyou001/repos","events_url":"https://api.github.com/users/fuyou001/events{/privacy}","received_events_url":"https://api.github.com/users/fuyou001/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T07:35:53Z","updated_at":"2022-06-13T07:35:53Z","author_association":"CONTRIBUTOR","body":"the new feature is only suppport jdk7+,others looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153577718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153603568","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153603568","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153603568,"node_id":"IC_kwDOBHrsl85Ewpfw","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T08:04:52Z","updated_at":"2022-06-13T08:04:52Z","author_association":"MEMBER","body":"> \r\n\r\nHi @dongeforever, follow the PR https://github.com/apache/rocketmq/pull/4454, it seems that if we want to use the new hook behavior we must override the `AbstractRPCHook` and register it, right? If so, although we don't expose a new method, a new abstract class is exposed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153603568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153608848","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153608848","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153608848,"node_id":"IC_kwDOBHrsl85EwqyQ","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T08:10:06Z","updated_at":"2022-06-13T08:10:06Z","author_association":"CONTRIBUTOR","body":"> adding\r\n\r\n\r\n\r\n> @dongeforever This pull intends to keep RPCHooks as it is. Third-party implementations will continue to work as expected. Internally, RPCHooks will be wrapped to Handler, which will have better-defined APIs and deliver neat and clear semantics.\r\n> \r\n> Further, we hope new plugins are developed on top of the new interface, bringing them fewer doubts during their development at error handling, logic control, etc.\r\n> \r\n> In addition, this PR solves other closely related defects: on the server-side, post-hooks will get executed when ctx.writeAndFlush is used, as is also pointed out by @duhenglucky on the client-side, post-hooks are executed for the async code path;\r\n\r\nA very good change, not only optimizes RPCHook, but also solves the problem that the post method is not called in asynchronous mode, but compatibility is still the biggest bottom line, many developers will implement their own Hook in the process of adapting to their own business .","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153608848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153609374","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153609374","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153609374,"node_id":"IC_kwDOBHrsl85Ewq6e","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T08:10:38Z","updated_at":"2022-06-13T08:10:38Z","author_association":"MEMBER","body":"Back to this PR, `registerHandler` is not a matched name compared to `RPCHook`. Perhaps, we could introduce a `EnhancedRPCHook` interface to make this feature easier to understand for both new and existing developers?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153609374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153615907","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153615907","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153615907,"node_id":"IC_kwDOBHrsl85Ewsgj","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T08:16:55Z","updated_at":"2022-06-13T08:17:15Z","author_association":"MEMBER","body":"> \r\n@duhenglucky \r\nBoth the two PRs don't break the compatibility. The discussion point is that should we introduce a new method like `registerHandler` or not.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153615907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153647979","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153647979","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153647979,"node_id":"IC_kwDOBHrsl85Ew0Vr","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T08:47:18Z","updated_at":"2022-06-13T08:47:18Z","author_association":"MEMBER","body":"@zhouxinyu \r\nThe AbstractRPCHook is a compromised solution for JDK 1.6.\r\n\r\nBTW, for most users,  it does not need the HanderContext,  just use the RPCHook as usual. The flow control is usually used on the Server-Side, which wants to provide advanced features.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153647979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153650778","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153650778","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153650778,"node_id":"IC_kwDOBHrsl85Ew1Ba","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T08:50:12Z","updated_at":"2022-06-13T08:50:12Z","author_association":"MEMBER","body":"The AbstractRPCHook is like an advanced tool. In fact, the third-party project could provide enhanced implementation without requiring the user to change their application code.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153650778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153669863","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153669863","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153669863,"node_id":"IC_kwDOBHrsl85Ew5rn","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T09:09:31Z","updated_at":"2022-06-13T09:09:31Z","author_association":"CONTRIBUTOR","body":"> > \r\n> \r\n> @duhenglucky Both the two PRs don't break the compatibility. The discussion point is that should we introduce a new method like `registerHandler` or not.\r\n\r\n\r\n\r\n> > \r\n> \r\n> @duhenglucky Both the two PRs don't break the compatibility. The discussion point is that should we introduce a new method like `registerHandler` or not.\r\n\r\nSorry for didn't notice that this pr moved the registerRPCHook method to the Abstract class, However, for most of the exposed APIs or Hooks, the cost of migration should be avoided as much as possible. I prefer to continue to evolve on RPCHook. RPCHook and Handler seem to be two concepts， AbstractRPCHook provides a solution, but the current implementation, especially in JDK 1.6 doesn't seem to be friendly enough. In the long run, we will also upgrade JDK 1.6 support to 1.8 or higher, but this depends on the outcome of community discussions ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153669863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153676289","html_url":"https://github.com/apache/rocketmq/pull/4456#issuecomment-1153676289","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4456","id":1153676289,"node_id":"IC_kwDOBHrsl85Ew7QB","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T09:15:53Z","updated_at":"2022-06-13T13:18:00Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49968072/badge)](https://coveralls.io/builds/49968072)\n\nCoverage increased (+0.01%) to 52.156% when pulling **3aa71fdfb177e710c156a380446b94138e80d93d on cserwen:timely-update-namesrv** into **f08c79ff9f9681f26046cb552f2c14a1ee1de10f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153676289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153718672","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1153718672","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1153718672,"node_id":"IC_kwDOBHrsl85ExFmQ","user":{"login":"lwclover","id":4252409,"node_id":"MDQ6VXNlcjQyNTI0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4252409?v=4","gravatar_id":"","url":"https://api.github.com/users/lwclover","html_url":"https://github.com/lwclover","followers_url":"https://api.github.com/users/lwclover/followers","following_url":"https://api.github.com/users/lwclover/following{/other_user}","gists_url":"https://api.github.com/users/lwclover/gists{/gist_id}","starred_url":"https://api.github.com/users/lwclover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lwclover/subscriptions","organizations_url":"https://api.github.com/users/lwclover/orgs","repos_url":"https://api.github.com/users/lwclover/repos","events_url":"https://api.github.com/users/lwclover/events{/privacy}","received_events_url":"https://api.github.com/users/lwclover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T09:58:40Z","updated_at":"2022-06-13T09:58:40Z","author_association":"CONTRIBUTOR","body":"Implementation of pipeline by Handlers, each handler call a RPCHook. \r\nIn RPCHook, there may be deserialization and serialization, which is a time-consuming behavior, I don't think this is an appropriate way to work on it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153718672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153763026","html_url":"https://github.com/apache/rocketmq/pull/4456#issuecomment-1153763026","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4456","id":1153763026,"node_id":"IC_kwDOBHrsl85ExQbS","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T10:46:29Z","updated_at":"2022-06-13T10:51:51Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/58988019/173337292-0c5f1a8e-fd7d-43df-9df0-f89ee00b716b.png)\r\nI find the branch {5.0} has the same code, maybe this pr can be consistent with this code (InitDelay, period)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153763026/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153773463","html_url":"https://github.com/apache/rocketmq/pull/4456#issuecomment-1153773463","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4456","id":1153773463,"node_id":"IC_kwDOBHrsl85ExS-X","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T10:58:42Z","updated_at":"2022-06-13T11:00:50Z","author_association":"MEMBER","body":"> ![image](https://user-images.githubusercontent.com/58988019/173337292-0c5f1a8e-fd7d-43df-9df0-f89ee00b716b.png) I find the branch {5.0} has the same code, maybe this pr can be consistent with this code (InitDelay, period)\r\n\r\n@hzh0425  I updated some parameters, but the code style is still the same as develop (such as lambda).","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153773463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153835238","html_url":"https://github.com/apache/rocketmq/pull/4457#issuecomment-1153835238","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4457","id":1153835238,"node_id":"IC_kwDOBHrsl85ExiDm","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T12:09:07Z","updated_at":"2022-06-13T12:09:07Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49965884/badge)](https://coveralls.io/builds/49965884)\n\nCoverage decreased (-0.06%) to 52.085% when pulling **22aa83762a0b5d4eb15bc373e3e18f0929b31922 on caigy:issue-4426** into **f08c79ff9f9681f26046cb552f2c14a1ee1de10f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153835238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153835242","html_url":"https://github.com/apache/rocketmq/pull/4457#issuecomment-1153835242","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4457","id":1153835242,"node_id":"IC_kwDOBHrsl85ExiDq","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T12:09:08Z","updated_at":"2022-06-13T12:10:17Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49966069/badge)](https://coveralls.io/builds/49966069)\n\nCoverage increased (+0.05%) to 52.197% when pulling **22aa83762a0b5d4eb15bc373e3e18f0929b31922 on caigy:issue-4426** into **f08c79ff9f9681f26046cb552f2c14a1ee1de10f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153835242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153914073","html_url":"https://github.com/apache/rocketmq/pull/4457#issuecomment-1153914073","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4457","id":1153914073,"node_id":"IC_kwDOBHrsl85Ex1TZ","user":{"login":"Cczzzz","id":32947555,"node_id":"MDQ6VXNlcjMyOTQ3NTU1","avatar_url":"https://avatars.githubusercontent.com/u/32947555?v=4","gravatar_id":"","url":"https://api.github.com/users/Cczzzz","html_url":"https://github.com/Cczzzz","followers_url":"https://api.github.com/users/Cczzzz/followers","following_url":"https://api.github.com/users/Cczzzz/following{/other_user}","gists_url":"https://api.github.com/users/Cczzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/Cczzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cczzzz/subscriptions","organizations_url":"https://api.github.com/users/Cczzzz/orgs","repos_url":"https://api.github.com/users/Cczzzz/repos","events_url":"https://api.github.com/users/Cczzzz/events{/privacy}","received_events_url":"https://api.github.com/users/Cczzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T13:26:57Z","updated_at":"2022-06-13T13:26:57Z","author_association":"CONTRIBUTOR","body":"nice\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153914073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153917537","html_url":"https://github.com/apache/rocketmq/pull/4441#issuecomment-1153917537","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4441","id":1153917537,"node_id":"IC_kwDOBHrsl85Ex2Jh","user":{"login":"huskyui","id":23629016,"node_id":"MDQ6VXNlcjIzNjI5MDE2","avatar_url":"https://avatars.githubusercontent.com/u/23629016?v=4","gravatar_id":"","url":"https://api.github.com/users/huskyui","html_url":"https://github.com/huskyui","followers_url":"https://api.github.com/users/huskyui/followers","following_url":"https://api.github.com/users/huskyui/following{/other_user}","gists_url":"https://api.github.com/users/huskyui/gists{/gist_id}","starred_url":"https://api.github.com/users/huskyui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huskyui/subscriptions","organizations_url":"https://api.github.com/users/huskyui/orgs","repos_url":"https://api.github.com/users/huskyui/repos","events_url":"https://api.github.com/users/huskyui/events{/privacy}","received_events_url":"https://api.github.com/users/huskyui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-13T13:29:57Z","updated_at":"2022-06-13T13:29:57Z","author_association":"NONE","body":"关错了","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1153917537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154611039","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1154611039","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1154611039,"node_id":"IC_kwDOBHrsl85E0fdf","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T01:26:32Z","updated_at":"2022-06-14T01:27:01Z","author_association":"CONTRIBUTOR","body":"> BTW, for most users, it does not need the HanderContext, just use the RPCHook as usual. The flow control is usually used on the Server-Side, which wants to provide advanced features.\r\n\r\n@dongeforever  gRPC does split this feature into two interfaces, [ClientInterceptor](https://grpc.github.io/grpc-java/javadoc/io/grpc/ClientInterceptor.html) and [ServerInterceptor](https://grpc.github.io/grpc-java/javadoc/index.html?io/grpc/ServerInterceptor.html)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154611039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154611972","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1154611972","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1154611972,"node_id":"IC_kwDOBHrsl85E0fsE","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T01:28:37Z","updated_at":"2022-06-14T01:28:37Z","author_association":"CONTRIBUTOR","body":"@lwclover \r\n> Implementation of pipeline by Handlers, each handler call a RPCHook.\r\nYes, this is how this PR works.\r\n\r\n> In RPCHook, there may be deserialization and serialization, which is a time-consuming behavior, I don't think this is an appropriate way to work on it.\r\n\r\nNo, there is no serialization or deserialization involved.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154611972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154614892","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1154614892","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1154614892,"node_id":"IC_kwDOBHrsl85E0gZs","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T01:35:12Z","updated_at":"2022-06-14T01:35:12Z","author_association":"CONTRIBUTOR","body":"@duhenglucky \r\n> the cost of migration should be avoided as much as possible. \r\nThere is no cost or migration required. The existing code would continue to work as expected.\r\n\r\n> I prefer to continue to evolve on RPCHook\r\nThere is no graceful way of evolving on RpcHook under current constraints. If the 'Default Method' feature of interface is possible, aka, relaxing JDK to 8+, we could as well add an extra pair preXXX and postXXX and delegate current ones to them.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154614892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154616007","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1154616007","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1154616007,"node_id":"IC_kwDOBHrsl85E0grH","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T01:37:46Z","updated_at":"2022-06-14T01:37:46Z","author_association":"CONTRIBUTOR","body":"> Back to this PR, `registerHandler` is not a matched name compared to `RPCHook`. Perhaps, we could introduce a `EnhancedRPCHook` interface to make this feature easier to understand for both new and existing developers?\r\n\r\nMaybe, we could rename / split Handler to ClientInterceptor / ServerInterceptor similar to gRPC. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154616007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154619162","html_url":"https://github.com/apache/rocketmq/issues/4452#issuecomment-1154619162","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4452","id":1154619162,"node_id":"IC_kwDOBHrsl85E0hca","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T01:44:25Z","updated_at":"2022-06-14T01:44:25Z","author_association":"MEMBER","body":"close issue first due to relative PR closed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154619162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154651903","html_url":"https://github.com/apache/rocketmq/issues/4458#issuecomment-1154651903","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4458","id":1154651903,"node_id":"IC_kwDOBHrsl85E0pb_","user":{"login":"tsunghanjacktsai","id":34185019,"node_id":"MDQ6VXNlcjM0MTg1MDE5","avatar_url":"https://avatars.githubusercontent.com/u/34185019?v=4","gravatar_id":"","url":"https://api.github.com/users/tsunghanjacktsai","html_url":"https://github.com/tsunghanjacktsai","followers_url":"https://api.github.com/users/tsunghanjacktsai/followers","following_url":"https://api.github.com/users/tsunghanjacktsai/following{/other_user}","gists_url":"https://api.github.com/users/tsunghanjacktsai/gists{/gist_id}","starred_url":"https://api.github.com/users/tsunghanjacktsai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsunghanjacktsai/subscriptions","organizations_url":"https://api.github.com/users/tsunghanjacktsai/orgs","repos_url":"https://api.github.com/users/tsunghanjacktsai/repos","events_url":"https://api.github.com/users/tsunghanjacktsai/events{/privacy}","received_events_url":"https://api.github.com/users/tsunghanjacktsai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T02:51:53Z","updated_at":"2022-06-14T02:51:53Z","author_association":"CONTRIBUTOR","body":"Second this. As a contributor who recently start to read the code in detail, I often found the original style of callback code is quite annoyed. The usage of CompletableFuture might erase this kind of obscurity to some extent.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154651903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154667246","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1154667246","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1154667246,"node_id":"IC_kwDOBHrsl85E0tLu","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T03:24:27Z","updated_at":"2022-06-14T03:25:38Z","author_association":"MEMBER","body":"@lizhanhui I notice that you want to improve the developer experience.\r\n\r\nBut compatibility is the most important experience for developers.\r\n\r\nEnvolve the RPCHook could continue the user's habit. The only time to break the old habit is when the old habit could not solve the problem anymore.\r\nBut currently, it is easy to evolve the RPCHook to get the flow-control ability. So there is no need to add a new one to build a new habit.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154667246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154812196","html_url":"https://github.com/apache/rocketmq/pull/4459#issuecomment-1154812196","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4459","id":1154812196,"node_id":"IC_kwDOBHrsl85E1Qkk","user":{"login":"zhouxinyu","id":3961183,"node_id":"MDQ6VXNlcjM5NjExODM=","avatar_url":"https://avatars.githubusercontent.com/u/3961183?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouxinyu","html_url":"https://github.com/zhouxinyu","followers_url":"https://api.github.com/users/zhouxinyu/followers","following_url":"https://api.github.com/users/zhouxinyu/following{/other_user}","gists_url":"https://api.github.com/users/zhouxinyu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouxinyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouxinyu/subscriptions","organizations_url":"https://api.github.com/users/zhouxinyu/orgs","repos_url":"https://api.github.com/users/zhouxinyu/repos","events_url":"https://api.github.com/users/zhouxinyu/events{/privacy}","received_events_url":"https://api.github.com/users/zhouxinyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T07:21:23Z","updated_at":"2022-06-14T07:21:23Z","author_association":"MEMBER","body":"LGTM~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154812196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154883293","html_url":"https://github.com/apache/rocketmq/pull/4383#issuecomment-1154883293","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4383","id":1154883293,"node_id":"IC_kwDOBHrsl85E1h7d","user":{"login":"dongeforever","id":8434428,"node_id":"MDQ6VXNlcjg0MzQ0Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8434428?v=4","gravatar_id":"","url":"https://api.github.com/users/dongeforever","html_url":"https://github.com/dongeforever","followers_url":"https://api.github.com/users/dongeforever/followers","following_url":"https://api.github.com/users/dongeforever/following{/other_user}","gists_url":"https://api.github.com/users/dongeforever/gists{/gist_id}","starred_url":"https://api.github.com/users/dongeforever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongeforever/subscriptions","organizations_url":"https://api.github.com/users/dongeforever/orgs","repos_url":"https://api.github.com/users/dongeforever/repos","events_url":"https://api.github.com/users/dongeforever/events{/privacy}","received_events_url":"https://api.github.com/users/dongeforever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T08:34:52Z","updated_at":"2022-06-14T08:36:23Z","author_association":"MEMBER","body":"@lwclover I have read all the code. This solution is simple and useful in some cases.\r\n\r\nAnd the same time, there are two potential problems.\r\n\r\nFirstly,  in the public cloud or hybrid cloud,  with SLB/PrivateLink, the network may be complicated, and we may not able to identify the client/broker by their remote address.  So we may need a more common way to identify the client/broker. For example, we could abstract a config named \"site\", and the client/broker inject the \"site\" info to the extFields of RemotingCommand.\r\n\r\nSecondly, we may need a way to solve the conflict between consumers of the same group in different networks. For example, some consumers on site A, some consumers on site global.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154883293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154897812","html_url":"https://github.com/apache/rocketmq/pull/4460#issuecomment-1154897812","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4460","id":1154897812,"node_id":"IC_kwDOBHrsl85E1leU","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T08:49:30Z","updated_at":"2022-06-14T08:49:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4460?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4460](https://codecov.io/gh/apache/rocketmq/pull/4460?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (41ea3e6) into [5.0.0-beta-dledger-controller](https://codecov.io/gh/apache/rocketmq/commit/f038cf95d72700419706861796eddf5c57f6b6b4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f038cf9) will **decrease** coverage by `0.07%`.\n> The diff coverage is `68.18%`.\n\n```diff\n@@                         Coverage Diff                         @@\n##             5.0.0-beta-dledger-controller    #4460      +/-   ##\n===================================================================\n- Coverage                            43.32%   43.25%   -0.08%     \n+ Complexity                            6376     6363      -13     \n===================================================================\n  Files                                  841      841              \n  Lines                                59857    59859       +2     \n  Branches                              8161     8159       -2     \n===================================================================\n- Hits                                 25932    25890      -42     \n- Misses                               30589    30619      +30     \n- Partials                              3336     3350      +14     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4460?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../rocketmq/broker/hacontroller/ReplicasManager.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvaGFjb250cm9sbGVyL1JlcGxpY2FzTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...he/rocketmq/controller/impl/DLedgerController.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvY29udHJvbGxlci9pbXBsL0RMZWRnZXJDb250cm9sbGVyLmphdmE=) | `70.65% <0.00%> (+0.38%)` | :arrow_up: |\n| [...ketmq/store/ha/autoswitch/AutoSwitchHAService.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBU2VydmljZS5qYXZh) | `63.95% <61.53%> (-0.51%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `56.18% <100.00%> (+0.16%)` | :arrow_up: |\n| [...cketmq/store/ha/autoswitch/AutoSwitchHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBQ2xpZW50LmphdmE=) | `75.47% <100.00%> (-0.47%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-8.96%)` | :arrow_down: |\n| [...etmq/namesrv/routeinfo/BatchUnRegisterService.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9yb3V0ZWluZm8vQmF0Y2hVblJlZ2lzdGVyU2VydmljZS5qYXZh) | `94.73% <0.00%> (-5.27%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `77.22% <0.00%> (-2.98%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/logging/inner/Appender.java](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9BcHBlbmRlci5qYXZh) | `30.33% <0.00%> (-2.25%)` | :arrow_down: |\n| ... and [9 more](https://codecov.io/gh/apache/rocketmq/pull/4460/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4460?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4460?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [f038cf9...41ea3e6](https://codecov.io/gh/apache/rocketmq/pull/4460?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154897812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154910694","html_url":"https://github.com/apache/rocketmq/pull/4460#issuecomment-1154910694","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4460","id":1154910694,"node_id":"IC_kwDOBHrsl85E1onm","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T09:01:11Z","updated_at":"2022-06-14T09:01:11Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/49999638/badge)](https://coveralls.io/builds/49999638)\n\nCoverage increased (+0.02%) to 47.477% when pulling **41ea3e67d6f648ad7d951fc2af7f0ed79c60c1ba on RongtongJin:5.0.0-beta-dledger-controller-4** into **f038cf95d72700419706861796eddf5c57f6b6b4 on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1154910694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155184135","html_url":"https://github.com/apache/rocketmq/issues/4445#issuecomment-1155184135","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4445","id":1155184135,"node_id":"IC_kwDOBHrsl85E2rYH","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T13:24:56Z","updated_at":"2022-06-14T13:24:56Z","author_association":"MEMBER","body":"感谢建议","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155184135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155188478","html_url":"https://github.com/apache/rocketmq/pull/4460#issuecomment-1155188478","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4460","id":1155188478,"node_id":"IC_kwDOBHrsl85E2sb-","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T13:28:38Z","updated_at":"2022-06-14T13:28:38Z","author_association":"MEMBER","body":"Still have some problems that waiting to found~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155188478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155211679","html_url":"https://github.com/apache/rocketmq/pull/4424#issuecomment-1155211679","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4424","id":1155211679,"node_id":"IC_kwDOBHrsl85E2yGf","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-14T13:48:27Z","updated_at":"2022-06-14T13:48:27Z","author_association":"MEMBER","body":"问题场景: RoleChange (Controller 选出新的 Leader) 时, Broker 是通过定时任务来 Sync controller 得元数据, 也即会有一个时间间隔. 我们希望减少这个时间间隔, 所以当选出新的 Leader 后, 让 Controller 立即通知相应得 Broker.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155211679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155861314","html_url":"https://github.com/apache/rocketmq/issues/4461#issuecomment-1155861314","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4461","id":1155861314,"node_id":"IC_kwDOBHrsl85E5QtC","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T00:58:32Z","updated_at":"2022-06-15T00:58:32Z","author_association":"CONTRIBUTOR","body":"IMO, after changing system properties, it's needed to restart process to take effect.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155861314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155890471","html_url":"https://github.com/apache/rocketmq/issues/4461#issuecomment-1155890471","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4461","id":1155890471,"node_id":"IC_kwDOBHrsl85E5X0n","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T01:58:39Z","updated_at":"2022-06-15T01:58:39Z","author_association":"MEMBER","body":"> IMO, after changing system properties, it's needed to restart process to take effect.\r\n\r\nyes it is inconvenient","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155890471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155943359","html_url":"https://github.com/apache/rocketmq/pull/4460#issuecomment-1155943359","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4460","id":1155943359,"node_id":"IC_kwDOBHrsl85E5ku_","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T03:28:31Z","updated_at":"2022-06-15T03:28:31Z","author_association":"CONTRIBUTOR","body":"> Precise changes. Meanwhile, just a reminder, I found that the quality of some comments on this branch needs to be improved. We should make them more formal and understandable in the end.\r\n\r\nWelcome to submit PRs to polish comments! :-)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155943359/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155951974","html_url":"https://github.com/apache/rocketmq/issues/4451#issuecomment-1155951974","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4451","id":1155951974,"node_id":"IC_kwDOBHrsl85E5m1m","user":{"login":"MatrixHB","id":23614576,"node_id":"MDQ6VXNlcjIzNjE0NTc2","avatar_url":"https://avatars.githubusercontent.com/u/23614576?v=4","gravatar_id":"","url":"https://api.github.com/users/MatrixHB","html_url":"https://github.com/MatrixHB","followers_url":"https://api.github.com/users/MatrixHB/followers","following_url":"https://api.github.com/users/MatrixHB/following{/other_user}","gists_url":"https://api.github.com/users/MatrixHB/gists{/gist_id}","starred_url":"https://api.github.com/users/MatrixHB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatrixHB/subscriptions","organizations_url":"https://api.github.com/users/MatrixHB/orgs","repos_url":"https://api.github.com/users/MatrixHB/repos","events_url":"https://api.github.com/users/MatrixHB/events{/privacy}","received_events_url":"https://api.github.com/users/MatrixHB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T03:50:06Z","updated_at":"2022-06-15T03:50:06Z","author_association":"CONTRIBUTOR","body":"When executing `if (isOrder && !this.lock(mq))`, the main purpose is to lock the messageQueue in the server-side, `processQueue.setLocked(true);` is secondary.\r\n![image](https://user-images.githubusercontent.com/23614576/173732924-a8bac67e-b1ee-4805-965e-4a39b8a6e27a.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1155951974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156025177","html_url":"https://github.com/apache/rocketmq/pull/4439#issuecomment-1156025177","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4439","id":1156025177,"node_id":"IC_kwDOBHrsl85E54tZ","user":{"login":"MatrixHB","id":23614576,"node_id":"MDQ6VXNlcjIzNjE0NTc2","avatar_url":"https://avatars.githubusercontent.com/u/23614576?v=4","gravatar_id":"","url":"https://api.github.com/users/MatrixHB","html_url":"https://github.com/MatrixHB","followers_url":"https://api.github.com/users/MatrixHB/followers","following_url":"https://api.github.com/users/MatrixHB/following{/other_user}","gists_url":"https://api.github.com/users/MatrixHB/gists{/gist_id}","starred_url":"https://api.github.com/users/MatrixHB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatrixHB/subscriptions","organizations_url":"https://api.github.com/users/MatrixHB/orgs","repos_url":"https://api.github.com/users/MatrixHB/repos","events_url":"https://api.github.com/users/MatrixHB/events{/privacy}","received_events_url":"https://api.github.com/users/MatrixHB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T06:05:28Z","updated_at":"2022-06-15T06:06:01Z","author_association":"CONTRIBUTOR","body":"Related to [ISSUE #4435](https://github.com/apache/rocketmq/issues/4435)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156025177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156039501","html_url":"https://github.com/apache/rocketmq/pull/4441#issuecomment-1156039501","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4441","id":1156039501,"node_id":"IC_kwDOBHrsl85E58NN","user":{"login":"tianliuliu","id":13758677,"node_id":"MDQ6VXNlcjEzNzU4Njc3","avatar_url":"https://avatars.githubusercontent.com/u/13758677?v=4","gravatar_id":"","url":"https://api.github.com/users/tianliuliu","html_url":"https://github.com/tianliuliu","followers_url":"https://api.github.com/users/tianliuliu/followers","following_url":"https://api.github.com/users/tianliuliu/following{/other_user}","gists_url":"https://api.github.com/users/tianliuliu/gists{/gist_id}","starred_url":"https://api.github.com/users/tianliuliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianliuliu/subscriptions","organizations_url":"https://api.github.com/users/tianliuliu/orgs","repos_url":"https://api.github.com/users/tianliuliu/repos","events_url":"https://api.github.com/users/tianliuliu/events{/privacy}","received_events_url":"https://api.github.com/users/tianliuliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T06:26:31Z","updated_at":"2022-06-15T06:26:31Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/13758677/173757011-720d9ba4-2acf-406f-94a4-61166b28002b.png)\r\nIt is better to describe like what problem was solved, what was done in this place","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156039501/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156050222","html_url":"https://github.com/apache/rocketmq/issues/4425#issuecomment-1156050222","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4425","id":1156050222,"node_id":"IC_kwDOBHrsl85E5-0u","user":{"login":"MatrixHB","id":23614576,"node_id":"MDQ6VXNlcjIzNjE0NTc2","avatar_url":"https://avatars.githubusercontent.com/u/23614576?v=4","gravatar_id":"","url":"https://api.github.com/users/MatrixHB","html_url":"https://github.com/MatrixHB","followers_url":"https://api.github.com/users/MatrixHB/followers","following_url":"https://api.github.com/users/MatrixHB/following{/other_user}","gists_url":"https://api.github.com/users/MatrixHB/gists{/gist_id}","starred_url":"https://api.github.com/users/MatrixHB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatrixHB/subscriptions","organizations_url":"https://api.github.com/users/MatrixHB/orgs","repos_url":"https://api.github.com/users/MatrixHB/repos","events_url":"https://api.github.com/users/MatrixHB/events{/privacy}","received_events_url":"https://api.github.com/users/MatrixHB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T06:40:48Z","updated_at":"2022-06-15T06:40:48Z","author_association":"CONTRIBUTOR","body":"Or, you can increase the waiting time limit in send request queue.\r\n\r\n`sh mqadmin updateBrokerConfig -b {brokerIP:port} -k waitTimeMillsInSendQueue -v 3000`","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156050222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156064473","html_url":"https://github.com/apache/rocketmq/pull/4390#issuecomment-1156064473","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4390","id":1156064473,"node_id":"IC_kwDOBHrsl85E6CTZ","user":{"login":"MatrixHB","id":23614576,"node_id":"MDQ6VXNlcjIzNjE0NTc2","avatar_url":"https://avatars.githubusercontent.com/u/23614576?v=4","gravatar_id":"","url":"https://api.github.com/users/MatrixHB","html_url":"https://github.com/MatrixHB","followers_url":"https://api.github.com/users/MatrixHB/followers","following_url":"https://api.github.com/users/MatrixHB/following{/other_user}","gists_url":"https://api.github.com/users/MatrixHB/gists{/gist_id}","starred_url":"https://api.github.com/users/MatrixHB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MatrixHB/subscriptions","organizations_url":"https://api.github.com/users/MatrixHB/orgs","repos_url":"https://api.github.com/users/MatrixHB/repos","events_url":"https://api.github.com/users/MatrixHB/events{/privacy}","received_events_url":"https://api.github.com/users/MatrixHB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T07:00:08Z","updated_at":"2022-06-15T07:00:08Z","author_association":"CONTRIBUTOR","body":"Related to [ISSUE #4389](https://github.com/apache/rocketmq/issues/4389)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156064473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156159863","html_url":"https://github.com/apache/rocketmq/issues/4451#issuecomment-1156159863","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4451","id":1156159863,"node_id":"IC_kwDOBHrsl85E6Zl3","user":{"login":"BurningCN","id":43363120,"node_id":"MDQ6VXNlcjQzMzYzMTIw","avatar_url":"https://avatars.githubusercontent.com/u/43363120?v=4","gravatar_id":"","url":"https://api.github.com/users/BurningCN","html_url":"https://github.com/BurningCN","followers_url":"https://api.github.com/users/BurningCN/followers","following_url":"https://api.github.com/users/BurningCN/following{/other_user}","gists_url":"https://api.github.com/users/BurningCN/gists{/gist_id}","starred_url":"https://api.github.com/users/BurningCN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurningCN/subscriptions","organizations_url":"https://api.github.com/users/BurningCN/orgs","repos_url":"https://api.github.com/users/BurningCN/repos","events_url":"https://api.github.com/users/BurningCN/events{/privacy}","received_events_url":"https://api.github.com/users/BurningCN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T08:28:39Z","updated_at":"2022-06-15T08:28:39Z","author_association":"MEMBER","body":"因为顺序消费需要判断`processQueue.isLocked()`才能往下执行，而目前只有`ConsumeMessageOrderlyService#lockMQPeriodically`触发后才能置为`processQueue.setLocked(true)`（因为初始延迟1s后触发，此时执行如上图代码的时候processQueue不会为null），这样会导致顺序消费模式会延后一段时间才开始消费(1s延迟)\r\n![image](https://user-images.githubusercontent.com/43363120/173779628-64ab4436-1b09-4a9d-9f9d-99bdc66ed271.png)\r\n![image](https://user-images.githubusercontent.com/43363120/173780791-5974a4d1-36d1-4607-b620-a0d4a769922d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156159863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156329757","html_url":"https://github.com/apache/rocketmq/pull/4460#issuecomment-1156329757","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4460","id":1156329757,"node_id":"IC_kwDOBHrsl85E7DEd","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T11:03:44Z","updated_at":"2022-06-15T11:03:44Z","author_association":"MEMBER","body":"> Precise changes. Meanwhile, just a reminder, though I know we haven't finished yet. I found that the quality of some comments on this branch needs to be improved. We should make them more formal and understandable in the end.\r\n\r\nThanks for suggestion","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156329757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156370494","html_url":"https://github.com/apache/rocketmq/pull/4464#issuecomment-1156370494","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4464","id":1156370494,"node_id":"IC_kwDOBHrsl85E7NA-","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T11:46:17Z","updated_at":"2022-06-15T11:49:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4464?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4464](https://codecov.io/gh/apache/rocketmq/pull/4464?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (878fde6) into [5.0.0-beta-dledger-controller](https://codecov.io/gh/apache/rocketmq/commit/d9273e70f649af7a13d8e8443e8059c4ac1c530d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d9273e7) will **increase** coverage by `0.06%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@                         Coverage Diff                         @@\n##             5.0.0-beta-dledger-controller    #4464      +/-   ##\n===================================================================\n+ Coverage                            43.22%   43.28%   +0.06%     \n- Complexity                            6358     6371      +13     \n===================================================================\n  Files                                  841      841              \n  Lines                                59860    59862       +2     \n  Branches                              8159     8160       +1     \n===================================================================\n+ Hits                                 25873    25912      +39     \n+ Misses                               30632    30599      -33     \n+ Partials                              3355     3351       -4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4464?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../rocketmq/broker/hacontroller/ReplicasManager.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvaGFjb250cm9sbGVyL1JlcGxpY2FzTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...cketmq/broker/processor/PopBufferMergeService.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcEJ1ZmZlck1lcmdlU2VydmljZS5qYXZh) | `40.47% <0.00%> (-0.24%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.43% <0.00%> (+0.17%)` | :arrow_up: |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `64.71% <0.00%> (+0.31%)` | :arrow_up: |\n| [...cketmq/store/ha/autoswitch/AutoSwitchHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBQ2xpZW50LmphdmE=) | `75.84% <0.00%> (+0.37%)` | :arrow_up: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `77.72% <0.00%> (+0.49%)` | :arrow_up: |\n| [.../org/apache/rocketmq/store/ha/DefaultHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0RlZmF1bHRIQUNsaWVudC5qYXZh) | `58.97% <0.00%> (+0.51%)` | :arrow_up: |\n| [...rocketmq/broker/processor/PopMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1BvcE1lc3NhZ2VQcm9jZXNzb3IuamF2YQ==) | `39.57% <0.00%> (+0.53%)` | :arrow_up: |\n| [...rocketmq/client/impl/factory/MQClientInstance.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9mYWN0b3J5L01RQ2xpZW50SW5zdGFuY2UuamF2YQ==) | `47.02% <0.00%> (+1.38%)` | :arrow_up: |\n| [...mq/store/ha/autoswitch/AutoSwitchHAConnection.java](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL2F1dG9zd2l0Y2gvQXV0b1N3aXRjaEhBQ29ubmVjdGlvbi5qYXZh) | `75.13% <0.00%> (+1.62%)` | :arrow_up: |\n| ... and [4 more](https://codecov.io/gh/apache/rocketmq/pull/4464/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4464?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4464?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [d9273e7...878fde6](https://codecov.io/gh/apache/rocketmq/pull/4464?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156370494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156372388","html_url":"https://github.com/apache/rocketmq/pull/4464#issuecomment-1156372388","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4464","id":1156372388,"node_id":"IC_kwDOBHrsl85E7Nek","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T11:48:27Z","updated_at":"2022-06-15T11:48:27Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/50047275/badge)](https://coveralls.io/builds/50047275)\n\nCoverage increased (+0.02%) to 47.474% when pulling **878fde6d0166df3182956d94858d7e80124b251e on RongtongJin:5.0.0-beta-dledger-controller-5** into **d9273e70f649af7a13d8e8443e8059c4ac1c530d on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156372388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156454460","html_url":"https://github.com/apache/rocketmq/issues/4465#issuecomment-1156454460","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4465","id":1156454460,"node_id":"IC_kwDOBHrsl85E7hg8","user":{"login":"hzh0425","id":58988019,"node_id":"MDQ6VXNlcjU4OTg4MDE5","avatar_url":"https://avatars.githubusercontent.com/u/58988019?v=4","gravatar_id":"","url":"https://api.github.com/users/hzh0425","html_url":"https://github.com/hzh0425","followers_url":"https://api.github.com/users/hzh0425/followers","following_url":"https://api.github.com/users/hzh0425/following{/other_user}","gists_url":"https://api.github.com/users/hzh0425/gists{/gist_id}","starred_url":"https://api.github.com/users/hzh0425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzh0425/subscriptions","organizations_url":"https://api.github.com/users/hzh0425/orgs","repos_url":"https://api.github.com/users/hzh0425/repos","events_url":"https://api.github.com/users/hzh0425/events{/privacy}","received_events_url":"https://api.github.com/users/hzh0425/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T13:11:50Z","updated_at":"2022-06-15T13:11:50Z","author_association":"MEMBER","body":"amazing","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156454460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156716115","html_url":"https://github.com/apache/rocketmq/pull/4466#issuecomment-1156716115","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4466","id":1156716115,"node_id":"IC_kwDOBHrsl85E8hZT","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T16:58:42Z","updated_at":"2022-06-15T16:58:42Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/50060835/badge)](https://coveralls.io/builds/50060835)\n\nCoverage increased (+0.2%) to 47.327% when pulling **acbc6f95e1c713eb44e4331bb5ebdd4984db0812 on jameslcj:5.0.0-beta** into **33fd330899145654b7c25eac36c0ceb3bbfe5aba on apache:5.0.0-beta**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156716115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156716922","html_url":"https://github.com/apache/rocketmq/pull/4466#issuecomment-1156716922","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4466","id":1156716922,"node_id":"IC_kwDOBHrsl85E8hl6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-15T16:59:35Z","updated_at":"2022-06-15T17:04:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4466?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4466](https://codecov.io/gh/apache/rocketmq/pull/4466?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (acbc6f9) into [5.0.0-beta](https://codecov.io/gh/apache/rocketmq/commit/33fd330899145654b7c25eac36c0ceb3bbfe5aba?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (33fd330) will **increase** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@               Coverage Diff                @@\n##             5.0.0-beta    #4466      +/-   ##\n================================================\n+ Coverage         43.15%   43.17%   +0.02%     \n- Complexity         6064     6069       +5     \n================================================\n  Files               801      801              \n  Lines             57087    57086       -1     \n  Branches           7805     7805              \n================================================\n+ Hits              24637    24648      +11     \n+ Misses            29229    29221       -8     \n+ Partials           3221     3217       -4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4466?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ocketmq/broker/processor/SendMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1NlbmRNZXNzYWdlUHJvY2Vzc29yLmphdmE=) | `45.64% <ø> (+0.13%)` | :arrow_up: |\n| [...rg/apache/rocketmq/common/stats/StatsSnapshot.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNTbmFwc2hvdC5qYXZh) | `84.61% <0.00%> (-15.39%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/common/stats/StatsItem.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtLmphdmE=) | `50.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (-2.57%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `49.17% <0.00%> (-0.56%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/store/MappedFileQueue.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL01hcHBlZEZpbGVRdWV1ZS5qYXZh) | `54.85% <0.00%> (-0.53%)` | :arrow_down: |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `44.91% <0.00%> (-0.38%)` | :arrow_down: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `61.00% <0.00%> (+0.45%)` | :arrow_up: |\n| [.../org/apache/rocketmq/store/ha/DefaultHAClient.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0RlZmF1bHRIQUNsaWVudC5qYXZh) | `58.97% <0.00%> (+0.51%)` | :arrow_up: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.95% <0.00%> (+0.51%)` | :arrow_up: |\n| ... and [8 more](https://codecov.io/gh/apache/rocketmq/pull/4466/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4466?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4466?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [33fd330...acbc6f9](https://codecov.io/gh/apache/rocketmq/pull/4466?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1156716922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157123649","html_url":"https://github.com/apache/rocketmq/pull/4467#issuecomment-1157123649","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4467","id":1157123649,"node_id":"IC_kwDOBHrsl85E-E5B","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T01:06:13Z","updated_at":"2022-06-16T01:06:13Z","author_association":"CONTRIBUTOR","body":"Hi @Kvicii Have you reviewed this PR carefully?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157123649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157127028","html_url":"https://github.com/apache/rocketmq/issues/4463#issuecomment-1157127028","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4463","id":1157127028,"node_id":"IC_kwDOBHrsl85E-Ft0","user":{"login":"liuzongliang0202","id":45062973,"node_id":"MDQ6VXNlcjQ1MDYyOTcz","avatar_url":"https://avatars.githubusercontent.com/u/45062973?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzongliang0202","html_url":"https://github.com/liuzongliang0202","followers_url":"https://api.github.com/users/liuzongliang0202/followers","following_url":"https://api.github.com/users/liuzongliang0202/following{/other_user}","gists_url":"https://api.github.com/users/liuzongliang0202/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzongliang0202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzongliang0202/subscriptions","organizations_url":"https://api.github.com/users/liuzongliang0202/orgs","repos_url":"https://api.github.com/users/liuzongliang0202/repos","events_url":"https://api.github.com/users/liuzongliang0202/events{/privacy}","received_events_url":"https://api.github.com/users/liuzongliang0202/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T01:13:03Z","updated_at":"2022-06-16T01:13:03Z","author_association":"NONE","body":"i think ,This can be modified like as follows\r\n\r\n//class IndexService\r\n\r\n    public void shutdown() {\r\n        if (!indexFileList.isEmpty()) {\r\n            final IndexFile indexFile = indexFileList.get(indexFileList.size() - 1);\r\n            long indexMsgTimestamp = 0;\r\n            if (indexFile.isWriteFull()) {\r\n                indexMsgTimestamp = indexFile.getEndTimestamp();\r\n            }\r\n            indexFile.flush();\r\n            if (indexMsgTimestamp > 0) {\r\n                this.defaultMessageStore.getStoreCheckpoint().setIndexMsgTimestamp(indexMsgTimestamp);\r\n            }\r\n        }\r\n    }","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157127028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157148006","html_url":"https://github.com/apache/rocketmq/pull/4467#issuecomment-1157148006","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4467","id":1157148006,"node_id":"IC_kwDOBHrsl85E-K1m","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T02:00:03Z","updated_at":"2022-06-16T03:31:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4467?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#4467](https://codecov.io/gh/apache/rocketmq/pull/4467?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (32cd55d) into [5.0.0-beta-dledger-controller](https://codecov.io/gh/apache/rocketmq/commit/fd804d9a95346b005e8c62c6f275e4bb710e1a53?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fd804d9) will **decrease** coverage by `0.00%`.\n> The diff coverage is `59.09%`.\n\n```diff\n@@                         Coverage Diff                         @@\n##             5.0.0-beta-dledger-controller    #4467      +/-   ##\n===================================================================\n- Coverage                            43.20%   43.19%   -0.01%     \n+ Complexity                            6365     6358       -7     \n===================================================================\n  Files                                  841      841              \n  Lines                                59862    59861       -1     \n  Branches                              8160     8162       +2     \n===================================================================\n- Hits                                 25864    25858       -6     \n- Misses                               30650    30656       +6     \n+ Partials                              3348     3347       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/4467?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...c/main/java/org/apache/rocketmq/common/MixAll.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vTWl4QWxsLmphdmE=) | `44.29% <ø> (ø)` | |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `68.11% <50.00%> (-0.22%)` | :arrow_down: |\n| [...apache/rocketmq/store/ha/GroupTransferService.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0dyb3VwVHJhbnNmZXJTZXJ2aWNlLmphdmE=) | `92.30% <100.00%> (ø)` | |\n| [.../org/apache/rocketmq/store/PutMessageSpinLock.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1B1dE1lc3NhZ2VTcGluTG9jay5qYXZh) | `85.71% <0.00%> (-14.29%)` | :arrow_down: |\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `68.79% <0.00%> (-14.19%)` | :arrow_down: |\n| [...etmq/namesrv/routeinfo/BatchUnRegisterService.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9yb3V0ZWluZm8vQmF0Y2hVblJlZ2lzdGVyU2VydmljZS5qYXZh) | `94.73% <0.00%> (-5.27%)` | :arrow_down: |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `59.28% <0.00%> (-3.06%)` | :arrow_down: |\n| [...che/rocketmq/namesrv/kvconfig/KVConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9rdmNvbmZpZy9LVkNvbmZpZ01hbmFnZXIuamF2YQ==) | `59.18% <0.00%> (-1.03%)` | :arrow_down: |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `63.76% <0.00%> (-0.64%)` | :arrow_down: |\n| ... and [13 more](https://codecov.io/gh/apache/rocketmq/pull/4467/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/4467?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/4467?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [fd804d9...32cd55d](https://codecov.io/gh/apache/rocketmq/pull/4467?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157148006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157148101","html_url":"https://github.com/apache/rocketmq/pull/4467#issuecomment-1157148101","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4467","id":1157148101,"node_id":"IC_kwDOBHrsl85E-K3F","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T02:00:17Z","updated_at":"2022-06-16T04:48:56Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/50077851/badge)](https://coveralls.io/builds/50077851)\n\nCoverage decreased (-0.08%) to 47.31% when pulling **b2a03513e71edb9fbb22f7c231622c4b5e38d8b3 on RongtongJin:5.0.0-beta-dledger-controller-6** into **fd804d9a95346b005e8c62c6f275e4bb710e1a53 on apache:5.0.0-beta-dledger-controller**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157148101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157195869","html_url":"https://github.com/apache/rocketmq/pull/4446#issuecomment-1157195869","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4446","id":1157195869,"node_id":"IC_kwDOBHrsl85E-Whd","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T03:36:33Z","updated_at":"2022-06-16T03:37:23Z","author_association":"CONTRIBUTOR","body":"@dongeforever \r\n\r\n> But compatibility is the most important experience for developers.\r\n\r\nThis PR suffers no compatibility issue at all, which has been explicitly stated previously.\r\n\r\n> it is easy to evolve the RPCHook to get the flow-control ability.\r\n\r\nThis is simply not true. Your proposing alternative suffers in multiple aspects\r\n1.  The proposing alternative forces developers to inherit AbstractRpcHook. Considering Java follows single inheritance, it might be a blocking issue for some use cases.\r\n2. Even if AbstractRpcHook is used, users have to set Decision to HandlerContext. Compared to the return-value approach, this API is less intuitive and error-prone. \r\n3.  [Context](https://en.wikipedia.org/wiki/Context_(computing)) in most cases are used to feed info to tasks. It is rarely used to return a value, especially when it is not part of the function signature. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157195869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157291336","html_url":"https://github.com/apache/rocketmq/issues/4463#issuecomment-1157291336","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4463","id":1157291336,"node_id":"IC_kwDOBHrsl85E-t1I","user":{"login":"tsunghanjacktsai","id":34185019,"node_id":"MDQ6VXNlcjM0MTg1MDE5","avatar_url":"https://avatars.githubusercontent.com/u/34185019?v=4","gravatar_id":"","url":"https://api.github.com/users/tsunghanjacktsai","html_url":"https://github.com/tsunghanjacktsai","followers_url":"https://api.github.com/users/tsunghanjacktsai/followers","following_url":"https://api.github.com/users/tsunghanjacktsai/following{/other_user}","gists_url":"https://api.github.com/users/tsunghanjacktsai/gists{/gist_id}","starred_url":"https://api.github.com/users/tsunghanjacktsai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsunghanjacktsai/subscriptions","organizations_url":"https://api.github.com/users/tsunghanjacktsai/orgs","repos_url":"https://api.github.com/users/tsunghanjacktsai/repos","events_url":"https://api.github.com/users/tsunghanjacktsai/events{/privacy}","received_events_url":"https://api.github.com/users/tsunghanjacktsai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T06:39:56Z","updated_at":"2022-06-27T02:40:34Z","author_association":"CONTRIBUTOR","body":"Hi @liuzongliang0202 ,\r\n\r\nThis is a good question. There are two different types of recovery strategies in RocketMQ to deal with the normal and abnormal exit of the broker, respectively. This maintains the consistency between the CommitLog and the ConsumeQueue/IndexFile.\r\n\r\nAccording to your problem, the case would be determined as an abnormal exit since the broker is down while the dispatching task (handled by ReputMessageService) from CommitLog to IndexFile hasn't been completed. An abnormal exit could be judged by whether the abort file created whenever the broker starts, since it would be removed while the broker ends up normally.\r\n\r\nAfter the broker restarts, the loading process of DefaultMessageStore will discover the abort file and execute the corresponding recovery strategy. FYI, the recovery logic is inside the CommigLog#recoverAbnormally().\r\n\r\nWelcome to RocketMQ community BTW :-)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157291336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157322538","html_url":"https://github.com/apache/rocketmq/issues/4463#issuecomment-1157322538","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4463","id":1157322538,"node_id":"IC_kwDOBHrsl85E-1cq","user":{"login":"liuzongliang0202","id":45062973,"node_id":"MDQ6VXNlcjQ1MDYyOTcz","avatar_url":"https://avatars.githubusercontent.com/u/45062973?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzongliang0202","html_url":"https://github.com/liuzongliang0202","followers_url":"https://api.github.com/users/liuzongliang0202/followers","following_url":"https://api.github.com/users/liuzongliang0202/following{/other_user}","gists_url":"https://api.github.com/users/liuzongliang0202/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzongliang0202/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzongliang0202/subscriptions","organizations_url":"https://api.github.com/users/liuzongliang0202/orgs","repos_url":"https://api.github.com/users/liuzongliang0202/repos","events_url":"https://api.github.com/users/liuzongliang0202/events{/privacy}","received_events_url":"https://api.github.com/users/liuzongliang0202/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T07:20:33Z","updated_at":"2022-06-16T07:20:33Z","author_association":"NONE","body":"hello @tsunghanjacktsai \r\nWell, as you said. when the broker is normal exit, the last indexFile has not write full, it can not be flushed by hand, since indexService shutdown method is empty. if abort file is deleted, but indexFile's  bytebuffer pagcache fails to refresh the disk in time after power failure. \r\nAfter the broker restarts, the loading process of DefaultMessageStore will normal recover and execute the CommigLog#recoverNormally","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157322538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157335918","html_url":"https://github.com/apache/rocketmq/issues/4462#issuecomment-1157335918","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/4462","id":1157335918,"node_id":"IC_kwDOBHrsl85E-4tu","user":{"login":"tsunghanjacktsai","id":34185019,"node_id":"MDQ6VXNlcjM0MTg1MDE5","avatar_url":"https://avatars.githubusercontent.com/u/34185019?v=4","gravatar_id":"","url":"https://api.github.com/users/tsunghanjacktsai","html_url":"https://github.com/tsunghanjacktsai","followers_url":"https://api.github.com/users/tsunghanjacktsai/followers","following_url":"https://api.github.com/users/tsunghanjacktsai/following{/other_user}","gists_url":"https://api.github.com/users/tsunghanjacktsai/gists{/gist_id}","starred_url":"https://api.github.com/users/tsunghanjacktsai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsunghanjacktsai/subscriptions","organizations_url":"https://api.github.com/users/tsunghanjacktsai/orgs","repos_url":"https://api.github.com/users/tsunghanjacktsai/repos","events_url":"https://api.github.com/users/tsunghanjacktsai/events{/privacy}","received_events_url":"https://api.github.com/users/tsunghanjacktsai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-16T07:36:42Z","updated_at":"2022-06-16T09:54:13Z","author_association":"CONTRIBUTOR","body":"Hi @mahaitao617 ,\r\n\r\nAs far as I know, TopicPublishInfo#isOrderTopic() hasn't been used in the current RocketMQ. However, I suggest we could keep it for a while to ensure that there isn't any usage within the other version and would not affect the future development. Thx for your notice :-)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/1157335918/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]