[{"url":"https://api.github.com/repos/apache/metron/issues/comments/519913565","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-519913565","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":519913565,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTkxMzU2NQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T13:11:40Z","updated_at":"2019-08-09T13:11:40Z","author_association":"CONTRIBUTOR","body":"@mmiklavc I merged in your PR against this branch. I'll add any commentary here as I review, but obviously feel encouraged to run through anything you want on here.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/519913565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520156881","html_url":"https://github.com/apache/metron/pull/1479#issuecomment-520156881","issue_url":"https://api.github.com/repos/apache/metron/issues/1479","id":520156881,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE1Njg4MQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T15:19:51Z","updated_at":"2019-08-10T15:19:51Z","author_association":"CONTRIBUTOR","body":"Closed and reopened due to maven download failure on Travis.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520156881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520664576","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-520664576","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":520664576,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDY2NDU3Ng==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T02:30:14Z","updated_at":"2019-08-13T02:30:14Z","author_association":"CONTRIBUTOR","body":"I'm currently hunting the source of this issue down for this PR. It's clearly a classpath conflict of some sort, but it will take a bit of sleuthing to find out why the dep is a problem now and wasn't in HDP 2.x.\r\n\r\n```\r\n2019-08-12 22:19:15,038 ERROR [RS_OPEN_REGION-regionserver/node1:16020-3] coprocessor.CoprocessorHost: The coprocessor org.apache.metron.hbase.coprocessor.EnrichmentCoprocessor threw java.lang.LinkageError: loader constraint violation: loader (instance of org/apache/hadoop/hbase/util/CoprocessorClassLoader) previously initiated loading for a different type with name \"org/apache/hadoop/conf/Configuration\"\r\njava.lang.LinkageError: loader constraint violation: loader (instance of org/apache/hadoop/hbase/util/CoprocessorClassLoader) previously initiated loading for a different type with name \"org/apache/hadoop/conf/Configuration\"\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n        at org.apache.hadoop.hbase.util.CoprocessorClassLoader.loadClass(CoprocessorClassLoader.java:317)\r\n        at org.apache.hadoop.hbase.util.CoprocessorClassLoader.loadClass(CoprocessorClassLoader.java:289)\r\n        at org.apache.metron.hbase.coprocessor.EnrichmentCoprocessor.getZookeeperUrl(EnrichmentCoprocessor.java:151)\r\n        at org.apache.metron.hbase.coprocessor.EnrichmentCoprocessor.createCacheWriter(EnrichmentCoprocessor.java:133)\r\n        at org.apache.metron.hbase.coprocessor.EnrichmentCoprocessor.start(EnrichmentCoprocessor.java:122)\r\n        at org.apache.hadoop.hbase.coprocessor.BaseEnvironment.startup(BaseEnvironment.java:72)\r\n        at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.checkAndLoadInstance(CoprocessorHost.java:263)\r\n        at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.load(CoprocessorHost.java:226)\r\n        at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.load(CoprocessorHost.java:185)\r\n        at org.apache.hadoop.hbase.regionserver.RegionCoprocessorHost.loadTableCoprocessors(RegionCoprocessorHost.java:378)        at org.apache.hadoop.hbase.regionserver.RegionCoprocessorHost.<init>(RegionCoprocessorHost.java:274)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.<init>(HRegion.java:806)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.<init>(HRegion.java:706)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.newHRegion(HRegion.java:6845)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:7042)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:7015)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:6973)\r\n        at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:6924)\r\n        at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler.openRegion(OpenRegionHandler.java:283)\r\n        at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler.process(OpenRegionHandler.java:108)\r\n        at org.apache.hadoop.hbase.executor.EventHandler.run(EventHandler.java:104)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520664576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520927745","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-520927745","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":520927745,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDkyNzc0NQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T17:23:35Z","updated_at":"2019-08-13T17:23:35Z","author_association":"CONTRIBUTOR","body":"The PR from @mmiklavc (https://github.com/justinleet/metron/pull/22) got merged to address the couple `readCharset` issues.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520927745/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520927977","html_url":"https://github.com/apache/metron/pull/1481#issuecomment-520927977","issue_url":"https://api.github.com/repos/apache/metron/issues/1481","id":520927977,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDkyNzk3Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T17:24:12Z","updated_at":"2019-08-13T17:24:12Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520927977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520930529","html_url":"https://github.com/apache/metron/pull/1474#issuecomment-520930529","issue_url":"https://api.github.com/repos/apache/metron/issues/1474","id":520930529,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDkzMDUyOQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T17:30:57Z","updated_at":"2019-08-13T17:30:57Z","author_association":"CONTRIBUTOR","body":"For reference, the underlying implementation of this validator https://commons.apache.org/proper/commons-validator/apidocs/src-html/org/apache/commons/validator/routines/InetAddressValidator.html performs an \"or\" on IPV4/IPV6\r\n\r\n```\r\n077    public boolean isValid(String inetAddress) {\r\n078        return isValidInet4Address(inetAddress) || isValidInet6Address(inetAddress);\r\n079    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520930529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520930649","html_url":"https://github.com/apache/metron/pull/1474#issuecomment-520930649","issue_url":"https://api.github.com/repos/apache/metron/issues/1474","id":520930649,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDkzMDY0OQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T17:31:17Z","updated_at":"2019-08-13T17:31:17Z","author_association":"CONTRIBUTOR","body":"+1, thanks @MohanDV ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520930649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520965262","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-520965262","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":520965262,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDk2NTI2Mg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T19:00:54Z","updated_at":"2019-08-13T19:00:54Z","author_association":"CONTRIBUTOR","body":"@mmiklavc Unit test looks like it fails because a mocked parser NPEs on the `getReadCharset`. Could just do a `when(broParser.getReadCharset()).thenReturn(StandardCharsets.UTF_8);` to fix the the issue.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520965262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/520998393","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-520998393","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":520998393,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDk5ODM5Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T20:34:36Z","updated_at":"2019-08-13T20:34:36Z","author_association":"CONTRIBUTOR","body":"Well that's odd - apparently our version of Mockito doesn't call the provided concrete method for default interface methods. Submitting another fix now.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/520998393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521011869","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521011869","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521011869,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTAxMTg2OQ==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T21:14:45Z","updated_at":"2019-08-13T21:14:45Z","author_association":"CONTRIBUTOR","body":"Merged. Adds some docs and the test fix.\r\n\r\n@mmiklavc Assuming the build succeeds, are we good for @nickwallen + @ottobackwards to follow up on their reviews?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521011869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521019388","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521019388","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521019388,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTAxOTM4OA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T21:38:38Z","updated_at":"2019-08-13T21:38:38Z","author_association":"CONTRIBUTOR","body":"Ran this up in full-dev, everything seems to be working.\r\n\r\nShip it.  +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521019388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521029586","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521029586","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521029586,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTAyOTU4Ng==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T22:14:58Z","updated_at":"2019-08-13T22:14:58Z","author_association":"CONTRIBUTOR","body":"@mmiklavc We should probably add a note to the Upgrading.md.  There is a backwards compatibility concern when upgrading:\r\n\r\nWhen a current user's default Charset is not UTF_8, they'll need to update their parser configs to use the appropriate one, or parsing will run into issues.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521029586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521033037","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-521033037","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":521033037,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTAzMzAzNw==","user":{"login":"cestella","id":540359,"node_id":"MDQ6VXNlcjU0MDM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/540359?v=4","gravatar_id":"","url":"https://api.github.com/users/cestella","html_url":"https://github.com/cestella","followers_url":"https://api.github.com/users/cestella/followers","following_url":"https://api.github.com/users/cestella/following{/other_user}","gists_url":"https://api.github.com/users/cestella/gists{/gist_id}","starred_url":"https://api.github.com/users/cestella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cestella/subscriptions","organizations_url":"https://api.github.com/users/cestella/orgs","repos_url":"https://api.github.com/users/cestella/repos","events_url":"https://api.github.com/users/cestella/events{/privacy}","received_events_url":"https://api.github.com/users/cestella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T22:28:58Z","updated_at":"2019-08-13T22:28:58Z","author_association":"MEMBER","body":"This PR piqued my interest. :)\r\n\r\nFirst off, I'm glad to see we're fixing the use of the deprecated `HTables` and HBase APIs, so that's fantastic.  Thanks for the effort on this @nickwallen .\r\n\r\nI will say, however, that I was surprised at the size of a single PR until I looked.  This PR seems to be a mix of:\r\n* Dependency changes for HBase 2.0.2\r\n* Rearchitecture/code abstraction rewriting (e.g. your point 11)\r\n* Replacing the deprecated API calls\r\n* Deprecating features\r\n\r\nI have some concerns about this approach.  Conflating so many things inside of a PR which is already inherently risky seems to increase the risk multiplicatively.  It is also difficult to review, I'd say.\r\n\r\nI would suggest that these three separate concerns be split across 3 separate PRs:\r\n* Replacing deprecated API calls against `master`\r\n  * This is also a decent time to, instead of replacing the mistake of passing around `HTableInterface` to create a key-value store abstraction which you can pass around instead that supports scan, get and put.\r\n* Dependency changes for HBase 2.0.2 against this feature branch\r\n* Deprecating features\r\n  * As I said in a previous comment, only after a community discussion and I'd strongly suggest it be separate from the upgrade.\r\n* Rearchitecture/code abstraction rewriting against `master` *after* the HDP upgrade has landed.\r\n\r\nAs I say, please don't take my feedback as an indication that I don't appreciate the work that went into this.  There is much good here, but there is just..well..very much here. :)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521033037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521034747","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521034747","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521034747,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTAzNDc0Nw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T22:36:03Z","updated_at":"2019-08-13T22:36:03Z","author_association":"CONTRIBUTOR","body":"I assume you mean if they were using the system default, which is Java's default when a charset is not provided when converting from bytearray to String? Just to be clear, this is an upgrade concern based off the fundamental nature of this PR change as a whole, not specifically the specific parser configs.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521034747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521040026","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521040026","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521040026,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA0MDAyNg==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T22:58:11Z","updated_at":"2019-08-13T22:59:23Z","author_association":"CONTRIBUTOR","body":"@mmiklavc If they're using a system default that isn't UTF-8 (say ISO_8859_1), all the parsers that currently work would silently start using the new default of UTF-8 and no longer be able to parse the data. Let me know if this understanding is incorrect.\r\n\r\nFor most, if not all, users this shouldn't be a concern, but I just want to make sure it's communicated.\r\n\r\nThe specific parser configs are what enables us to fix this case (by updating parsers), and the change as a whole is what potentially causes it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521040026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521041113","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-521041113","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":521041113,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA0MTExMw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T23:02:28Z","updated_at":"2019-08-13T23:02:28Z","author_association":"CONTRIBUTOR","body":"> I will say, however, that I was surprised at the size of a single PR until I looked... Conflating so many things inside of a PR which is already inherently risky seems to increase the risk multiplicatively. It is also difficult to review, I'd say.\r\n\r\nI do agree with you @cestella that this PR is large and I very much prefer small, isolated PRs.  The HDP-3.1 upgrade has been a huge effort so far and I've tried to break it down into small, reviewable PRs.  Here are all the PRs that we've been able to land so far as part of the upgrade.\r\n  * #1395 \r\n  * #1397 \r\n  * #1447 \r\n  * #1448 \r\n  * #1451 \r\n  * #1454 \r\n  * #1456 \r\n  * #1457 \r\n  * #1458 \r\n\r\nI tried to follow that similar pattern prior to opening this PR and ran into some problems. I attempted to open separate PRs for each functional area included here.  Something along the lines of...\r\n  * Enrichment Coprocessor\r\n  * Legacy Adapters and Stellar Enrichment functions\r\n  * Data management; TAXII, CSV loaders\r\n\r\nBut since (1) the changes in the areas listed below are not backwards compatible (unlike all the other preceding PRs listed above) and (2) there are many interdependencies between these areas, I was not able to submit separate PRs that would actually compile.\r\n\r\nTo help cut the fat and reduce the size of this PR, there are some changes here that I could try to undo or extract into separate PRs.  These come to mind immediately\r\n1. We have a public field accessed in `EnrichmentKey`.  This was changed to getters and it ended up impacting a lot of files.\r\n1. `LookupKV<KEY_T, VALUE_T>` -> `EnrichmentResult`. I actually tried to 'undo' this before submitting this PR and I ran into a problem.  I can try to to tackle this again so I can at least describe why this might be needed, if not address it.\r\n1. The deprecation of \"Least Recently Used Pruner\" (assuming that is acceptable to the community post-discuss) would have to come before this PR.\r\n\r\n> Rearchitecture/code abstraction rewriting against..\r\n\r\nDo the items I listed above (1) public field access and (2) LookupKV -> EnrichmentResult cover what you mean by rearchitecture?  Are there other items that you are thinking of that fall under this heading?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521041113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521045619","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-521045619","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":521045619,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA0NTYxOQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T23:24:22Z","updated_at":"2019-08-13T23:24:22Z","author_association":"CONTRIBUTOR","body":"> Replacing deprecated API calls against master\r\n\r\nMany of the changes here are not backwards compatible which prevents me from introducing them against master, unfortunately.\r\n\r\n> This is also a decent time to, instead of replacing the mistake of passing around HTableInterface to create a key-value store abstraction which you can pass around instead that supports scan, get and put.\r\n\r\nFor the work on this feature branch, the `HBaseClient` is that common abstraction.  It was already in the code base and was used in a few different areas, so I leveraged that.  As part of the upgrade, I've tried to port over as many functions as possible to use the `HBaseClient`.  See #1456 for more context.\r\n\r\nThere are still a few remaining places that don't directly use an `HBaseClient`, but instead pass around HBase abstractions like `Table` as they always have.  There is just a limit to how much time I can spend on this upgrade.  The ones that I have not ported to `HBaseClient` were ones where the manner in which they are tested did not force my hand in transitioning them to `HBaseClient`.  \r\n\r\nFor example, we have to integration test \"streaming enrichments\" against HBase, Kafka and Storm.  With our current IT approach, these all have to run in memory.  But we cannot run HBase in-memory with Storm and Kafka, which is why the integration tests in `master` actually use a \"mock\" HBase instance. In these cases since HBase cannot co-exist in memory, these classes were ported to `HBaseClient` and so ultimately use a `FakeHBaseClient`in the IT.\r\n\r\nFor those that were not ported to `HbaseClient`, I'd like us to upgrade or deprecate those after this feature branch is complete.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521045619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521062716","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521062716","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521062716,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA2MjcxNg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T00:56:59Z","updated_at":"2019-08-14T00:56:59Z","author_association":"CONTRIBUTOR","body":"That is correct @justinleet","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521062716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521073596","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-521073596","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":521073596,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA3MzU5Ng==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T02:00:36Z","updated_at":"2019-08-14T02:00:36Z","author_association":"CONTRIBUTOR","body":"Still trying to wrap my head around this PR and the scope of changes.\r\n\r\n> Many of the changes here are not backwards compatible which prevents me from introducing them against master, unfortunately.\r\n\r\nHBase introduced the new API in earlier versions, prior to deprecation. I don't doubt the problem exists, but I'm having a hard time understanding what we depended on that has 2 incompatible analogs in the newer versions of the HBase API. Can you provide some concrete examples?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521073596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521242040","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-521242040","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":521242040,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTI0MjA0MA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T13:18:41Z","updated_at":"2019-08-14T13:18:41Z","author_association":"CONTRIBUTOR","body":"The Coprocessor changes are definitely not backwards compatible.  That's what I can remember off-hand. I'd have to try and split this PR apart to see what else breaks to provide more detail.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521242040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521317409","html_url":"https://github.com/apache/metron/pull/1464#issuecomment-521317409","issue_url":"https://api.github.com/repos/apache/metron/issues/1464","id":521317409,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTMxNzQwOQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T16:23:44Z","updated_at":"2019-08-14T16:23:44Z","author_association":"CONTRIBUTOR","body":"According to traviscistatus.com, there were some network issues last week that could've caused the mvn download error in the latest Travis build. I'm going to close and rebuild since it looks like they've resolved the issue.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521317409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521360960","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521360960","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521360960,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTM2MDk2MA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T18:22:16Z","updated_at":"2019-08-14T18:22:16Z","author_association":"CONTRIBUTOR","body":"@mmiklavc I've added an upgrading note. Let me know if I'm missing anything there.\r\n\r\nAs a reminder to whoever merges this in (admittedly probably me), it'll be important to manually squash the commits in order to maintain attribution for both Mike and myself.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521360960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521378191","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521378191","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521378191,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTM3ODE5MQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T19:08:07Z","updated_at":"2019-08-14T19:08:07Z","author_association":"CONTRIBUTOR","body":"lgtm. I'm a non-binding +1 (due to my contributions to the PR).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521378191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521436496","html_url":"https://github.com/apache/metron/pull/1470#issuecomment-521436496","issue_url":"https://api.github.com/repos/apache/metron/issues/1470","id":521436496,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTQzNjQ5Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T22:03:27Z","updated_at":"2019-08-14T22:03:27Z","author_association":"CONTRIBUTOR","body":"It took some work, but I was at least able to extract the core Enrichment components, the HBase adapter and Enrichment functions, into their own separate PR #1482 .  That should help reviewers. Please take a look at #1482 and provide feedback. I will continue to work on cutting-up this PR into additional bite-size chunks.\r\n\r\nI am going to close-out this PR, since it is not longer needed.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521436496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521540219","html_url":"https://github.com/apache/metron/pull/1428#issuecomment-521540219","issue_url":"https://api.github.com/repos/apache/metron/issues/1428","id":521540219,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTU0MDIxOQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T07:08:41Z","updated_at":"2019-08-15T07:08:41Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521540219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521614090","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521614090","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521614090,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTYxNDA5MA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T11:46:33Z","updated_at":"2019-08-15T11:46:33Z","author_association":"CONTRIBUTOR","body":"@nickwallen anything you need to see before we wrap up this PR?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521614090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521632499","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521632499","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521632499,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTYzMjQ5OQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T13:01:49Z","updated_at":"2019-08-15T13:01:49Z","author_association":"CONTRIBUTOR","body":"No, I am good.  Thanks for all the hard work.  Please proceed.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521632499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521682081","html_url":"https://github.com/apache/metron/pull/1464#issuecomment-521682081","issue_url":"https://api.github.com/repos/apache/metron/issues/1464","id":521682081,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTY4MjA4MQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T15:24:56Z","updated_at":"2019-08-15T15:24:56Z","author_association":"CONTRIBUTOR","body":"Well, it looks everything builds fine now. However, upon one last inspection, I noticed that the menu is still rendering _sometimes_ when a user is logged out (it's hard to catch as it's mostly invisible). See the screenshot below.\r\n\r\n![Screen Shot 2019-08-15 at 4 28 35 PM](https://user-images.githubusercontent.com/7304869/63105272-c0a0e600-bf80-11e9-99a2-a36514f145f6.png)\r\n\r\nObviously, this needs to be fixed before merging. So far, I can only make this happen when I toggle between UIs on full dev. I haven't been able to reproduce this when serving the UIs manually from a terminal window. Keeping my fingers crossed that I can figure this out through some debugging in dev tools. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521682081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521693962","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521693962","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521693962,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTY5Mzk2Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T15:57:34Z","updated_at":"2019-08-15T15:57:34Z","author_association":"CONTRIBUTOR","body":"Just confirming, are you still +1 @ottobackwards with the recent Upgrading.md changes?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521693962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521707432","html_url":"https://github.com/apache/metron/pull/1482#issuecomment-521707432","issue_url":"https://api.github.com/repos/apache/metron/issues/1482","id":521707432,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcwNzQzMg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T16:32:52Z","updated_at":"2019-08-15T16:32:52Z","author_association":"CONTRIBUTOR","body":"I might be able to slim these changes down some more.  I have an idea on how to do that.  Working through it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521707432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521717848","html_url":"https://github.com/apache/metron/pull/1341#issuecomment-521717848","issue_url":"https://api.github.com/repos/apache/metron/issues/1341","id":521717848,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcxNzg0OA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T17:03:57Z","updated_at":"2019-08-15T17:03:57Z","author_association":"CONTRIBUTOR","body":"yup, let's get it out","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521717848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521723250","html_url":"https://github.com/apache/metron/pull/1464#issuecomment-521723250","issue_url":"https://api.github.com/repos/apache/metron/issues/1464","id":521723250,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcyMzI1MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T17:20:15Z","updated_at":"2019-08-15T17:20:15Z","author_association":"CONTRIBUTOR","body":"@sardell good catch. Thank you for the attention to detail on this.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521723250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521724228","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-521724228","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":521724228,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTcyNDIyOA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T17:23:07Z","updated_at":"2019-08-15T17:23:07Z","author_association":"CONTRIBUTOR","body":"I think you are going to have to look at the zepplin stellar stuff, we have to add the jar's to the zeppelin configuration by hand etc, so you may break things there","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521724228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521758370","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-521758370","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":521758370,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTc1ODM3MA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T19:03:29Z","updated_at":"2019-08-15T19:03:29Z","author_association":"CONTRIBUTOR","body":"Thanks @ottobackwards.  I am developing a test plan right now and will be sure to include this.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521758370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521790216","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-521790216","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":521790216,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTc5MDIxNg==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T20:42:54Z","updated_at":"2019-08-15T20:42:54Z","author_association":"CONTRIBUTOR","body":"It might just be the instructions or screenshots, but worth a look.\r\nWe don't test that often","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521790216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/521829120","html_url":"https://github.com/apache/metron/pull/1482#issuecomment-521829120","issue_url":"https://api.github.com/repos/apache/metron/issues/1482","id":521829120,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTgyOTEyMA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-15T23:14:10Z","updated_at":"2019-08-15T23:14:10Z","author_association":"CONTRIBUTOR","body":"I've slimmed this down quite a bit by taking a different approach with the `EnrichmentLookup` and `FakeEnrichmentLookup`.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/521829120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/522021240","html_url":"https://github.com/apache/metron/pull/1429#issuecomment-522021240","issue_url":"https://api.github.com/repos/apache/metron/issues/1429","id":522021240,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjAyMTI0MA==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T14:06:52Z","updated_at":"2019-08-16T14:06:52Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/522021240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/522043634","html_url":"https://github.com/apache/metron/pull/1482#issuecomment-522043634","issue_url":"https://api.github.com/repos/apache/metron/issues/1482","id":522043634,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjA0MzYzNA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T15:10:05Z","updated_at":"2019-08-16T15:10:05Z","author_association":"CONTRIBUTOR","body":"I have validated this in the centos6 development environment.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/522043634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/522736603","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-522736603","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":522736603,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjczNjYwMw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T20:17:13Z","updated_at":"2019-08-21T13:52:48Z","author_association":"CONTRIBUTOR","body":"The latest commits implement the change I proposed above (option 2).  For clarity's sake, here it is again:\r\n\r\n> Deploy Stellar code in a separate jar and add it to classpath after the main uber jar, whatever that is (metron-data-management, metron-enrichment-storm, etc). This satisfies 3 because the separate Stellar jar can contain the relocated classes but other dependencies will not overwrite dependencies of the main uber jar (because it's listed after the main uber jar). 1 and 2 are not a concern when classifiers are used which is the case here. The main disadvantage I see is that there will be work adding this extra jar in the various scripts or startup options and we may have to reorganize some classes.\r\n\r\nI have finished some fairly exhaustive testing and will update the original PR description with that test plan next.  This approach was fairly straightforward with the exception of an integration test in `metron-data-management` (the `pom.xml` file contains a comment with an explanation).  I will also update the Changes Included section in the original PR description to include the changes needed for this approach.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/522736603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/522824985","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-522824985","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":522824985,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjgyNDk4NQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T02:20:47Z","updated_at":"2019-08-20T02:20:47Z","author_association":"CONTRIBUTOR","body":"Linking this thread from the Apache HBase dev list - https://lists.apache.org/thread.html/6b83cd7548efb8c37899063affc97e4c5ce823a13359a49b477e3c07@%3Cdev.hbase.apache.org%3E\r\n\r\nThanks @Apache9 for the feedback and assistance here - greatly appreciated!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/522824985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523111756","html_url":"https://github.com/apache/metron/pull/1488#issuecomment-523111756","issue_url":"https://api.github.com/repos/apache/metron/issues/1488","id":523111756,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzExMTc1Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T17:19:21Z","updated_at":"2019-08-20T17:19:21Z","author_association":"CONTRIBUTOR","body":"It seems like the integration test failure is tied to these changes?  It is not an error that I've seen before with the tests.\r\n```\r\nRunning org.apache.metron.profiler.storm.integration.ProfilerIntegrationTest\r\n2019-08-20 16:16:33 ERROR util:0 - Async loop died!\r\njava.lang.RuntimeException: java.lang.IllegalStateException: This consumer has already been closed.\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:466)\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatchWhenAvailable(DisruptorQueue.java:432)\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatch(DisruptorQueue.java:422)\r\n\tat org.apache.storm.disruptor$consume_batch.invoke(disruptor.clj:69)\r\n\tat org.apache.storm.daemon.executor$fn__4905$fn__4920$fn__4951.invoke(executor.clj:624)\r\n\tat org.apache.storm.util$async_loop$fn__557.invoke(util.clj:484)\r\n\tat clojure.lang.AFn.run(AFn.java:22)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: This consumer has already been closed.\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.acquireAndEnsureOpen(KafkaConsumer.java:2202)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.beginningOffsets(KafkaConsumer.java:1984)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.beginningOffsets(KafkaConsumer.java:1963)\r\n\tat org.apache.storm.kafka.spout.metrics.KafkaOffsetMetric.getValueAndReset(KafkaOffsetMetric.java:79)\r\n\tat org.apache.storm.daemon.executor$metrics_tick$fn__4830.invoke(executor.clj:338)\r\n\tat clojure.core$map$fn__4553.invoke(core.clj:2622)\r\n\tat clojure.lang.LazySeq.sval(LazySeq.java:40)\r\n\tat clojure.lang.LazySeq.seq(LazySeq.java:49)\r\n\tat clojure.lang.RT.seq(RT.java:507)\r\n\tat clojure.core$seq__4128.invoke(core.clj:137)\r\n\tat clojure.core$filter$fn__4580.invoke(core.clj:2679)\r\n\tat clojure.lang.LazySeq.sval(LazySeq.java:40)\r\n\tat clojure.lang.LazySeq.seq(LazySeq.java:49)\r\n\tat clojure.lang.Cons.next(Cons.java:39)\r\n\tat clojure.lang.RT.next(RT.java:674)\r\n\tat clojure.core$next__4112.invoke(core.clj:64)\r\n\tat clojure.core.protocols$fn__6523.invoke(protocols.clj:170)\r\n\tat clojure.core.protocols$fn__6478$G__6473__6487.invoke(protocols.clj:19)\r\n\tat clojure.core.protocols$seq_reduce.invoke(protocols.clj:31)\r\n\tat clojure.core.protocols$fn__6506.invoke(protocols.clj:101)\r\n\tat clojure.core.protocols$fn__6452$G__6447__6465.invoke(protocols.clj:13)\r\n\tat clojure.core$reduce.invoke(core.clj:6519)\r\n\tat clojure.core$into.invoke(core.clj:6600)\r\n\tat org.apache.storm.daemon.executor$metrics_tick.invoke(executor.clj:342)\r\n\tat org.apache.storm.daemon.executor$fn__4905$tuple_action_fn__4911.invoke(executor.clj:513)\r\n\tat org.apache.storm.daemon.executor$mk_task_receiver$fn__4894.invoke(executor.clj:462)\r\n\tat org.apache.storm.disruptor$clojure_handler$reify__4409.onEvent(disruptor.clj:40)\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:453)\r\n\t... 7 more\r\n```\r\n\r\nhttps://api.travis-ci.org/v3/job/574432328/log.txt","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523111756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523250218","html_url":"https://github.com/apache/metron/pull/1487#issuecomment-523250218","issue_url":"https://api.github.com/repos/apache/metron/issues/1487","id":523250218,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzI1MDIxOA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T00:49:36Z","updated_at":"2019-08-21T00:49:36Z","author_association":"CONTRIBUTOR","body":"+1, thanks @tigerquoll!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523250218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523588870","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-523588870","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":523588870,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzU4ODg3MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-21T18:20:31Z","updated_at":"2019-08-21T18:20:31Z","author_association":"CONTRIBUTOR","body":"> Hbaseconnections are thread-safe objects. Setting up a HBaseConnection is pretty resource intensive. If you are authenticating with a static identity that is not going to change (i.e. a service account), and you are constantly interacting with HBase, then I believe it is recommended that you keep the HBaseConnection object around in a cache or context, and reuse it to pull out Table and Mutation objects.\r\n\r\nYes, that is what we're doing here. The connection model differs subtly from a standard request/response lifecycle web app in that we don't need to open/close the connections. They are bound to the process on startup for the duration of the program's execution. There should be no instance where we are left with a leaked connection because we're only opening a new one when the given thread does not already have an open connection. This generally only happens during application initialization/startup for us.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523588870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523706380","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-523706380","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":523706380,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzcwNjM4MA==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T01:12:02Z","updated_at":"2019-08-22T01:12:58Z","author_association":"CONTRIBUTOR","body":"```\r\ncommit 297b3b3cd3c6a2b138724692d95b70494d70341f\r\nman clean install\r\n...\r\nRunning org.apache.metron.stellar.dsl.functions.RestFunctionsIntegrationTest\r\n2019-08-22 11:08:32 ERROR RestFunctions:271 - Stellar REST request to http://localhost:43408/post expected status code to be one of [200] but failed with http status code 404: \r\njava.io.IOException: Stellar REST request to http://localhost:43408/post expected status code to be one of [200] but failed with http status code 404: \r\n...\r\nFailed tests: \r\n  RestFunctionsIntegrationTest.restGetShouldTimeoutWithSuppliedTimeout:279 expected null, but was:<{get=success}>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523706380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523712301","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-523712301","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":523712301,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzcxMjMwMQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T01:43:56Z","updated_at":"2019-08-22T05:16:26Z","author_association":"CONTRIBUTOR","body":"I am getting a lot of flakey tests results.\r\n\r\n```\r\n-------------------------------------------------------\r\n T E S T S\r\n-------------------------------------------------------\r\nRunning org.apache.metron.profiler.storm.integration.ProfilerIntegrationTest\r\nTests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 28.351 sec <<< FAILURE! - in org.apache.metron.profiler.storm.integration.ProfilerIntegrationTest\r\norg.apache.metron.profiler.storm.integration.ProfilerIntegrationTest  Time elapsed: 28.351 sec  <<< FAILURE!\r\njava.lang.AssertionError: Partition [indexing,0] metadata not propagated after 5000 ms\r\n\tat org.junit.Assert.fail(Assert.java:88)\r\n\tat kafka.utils.TestUtils$.waitUntilTrue(TestUtils.scala:771)\r\n\tat kafka.utils.TestUtils$.waitUntilMetadataIsPropagated(TestUtils.scala:812)\r\n\tat kafka.utils.TestUtils.waitUntilMetadataIsPropagated(TestUtils.scala)\r\n\tat org.apache.metron.integration.components.KafkaComponent.waitUntilMetadataIsPropagated(KafkaComponent.java:298)\r\n\tat org.apache.metron.integration.components.KafkaComponent.createTopic(KafkaComponent.java:310)\r\n\tat org.apache.metron.integration.components.KafkaComponent.start(KafkaComponent.java:178)\r\n\tat org.apache.metron.integration.ComponentRunner.start(ComponentRunner.java:131)\r\n\tat org.apache.metron.profiler.storm.integration.ProfilerIntegrationTest.setupBeforeClass(ProfilerIntegrationTest.java:476)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n\r\n\r\nResults :\r\n\r\nFailed tests: \r\n  ProfilerIntegrationTest.setupBeforeClass:476 Partition [indexing,0] metadata not propagated after 5000 ms\r\n```\r\n\r\nEDIT -\r\nSome of my unit test flakiness issues fixed with\r\nhttps://github.com/apache/metron/pull/1493\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523712301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523920184","html_url":"https://github.com/apache/metron/pull/1493#issuecomment-523920184","issue_url":"https://api.github.com/repos/apache/metron/issues/1493","id":523920184,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzkyMDE4NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T14:02:50Z","updated_at":"2019-08-22T14:02:50Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution. Only 1 minor change regarding the commented out test. Get that resolved and we're good to go. +1 by inspection.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523920184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/523994945","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-523994945","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":523994945,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzk5NDk0NQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T17:13:03Z","updated_at":"2019-08-22T17:13:03Z","author_association":"CONTRIBUTOR","body":"> ```\r\n> commit 297b3b3cd3c6a2b138724692d95b70494d70341f\r\n> man clean install\r\n> ...\r\n> Running org.apache.metron.stellar.dsl.functions.RestFunctionsIntegrationTest\r\n> 2019-08-22 11:08:32 ERROR RestFunctions:271 - Stellar REST request to http://localhost:43408/post expected status code to be one of [200] but failed with http status code 404: \r\n> java.io.IOException: Stellar REST request to http://localhost:43408/post expected status code to be one of [200] but failed with http status code 404: \r\n> ...\r\n> Failed tests: \r\n>   RestFunctionsIntegrationTest.restGetShouldTimeoutWithSuppliedTimeout:279 expected null, but was:<{get=success}>\r\n> ```\r\n\r\nAny diagnostics or further detail on this? We don't appear to be having this failure in Travis, at least in the latest run.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/523994945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524050475","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-524050475","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":524050475,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDA1MDQ3NQ==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T19:47:53Z","updated_at":"2019-08-22T19:47:53Z","author_association":"CONTRIBUTOR","body":"@MohanDV and I spent some time testing this PR on a multi node cluster. We were able to run the following and all tests passed :\r\n\r\n1. Regression tests for basic parsers (bro, snort, yaf, squid)\r\n2. Parser chaining use case\r\n3. Tests for REST spanning most of the functions.\r\n4. Command line tests for Stellar REPL\r\n5. Typosquatting use case\r\n6. Stellar zeppelin intepreter functionality\r\n7. Zeppelin canned notebooks import and execution\r\n8. Profiler tests\r\n9. JSON MapQuery parser test\r\n10. Smoke tests of the Alerts and Mangement UIs\r\n\r\n+1 based on the above.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524050475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524051874","html_url":"https://github.com/apache/metron/pull/1491#issuecomment-524051874","issue_url":"https://api.github.com/repos/apache/metron/issues/1491","id":524051874,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDA1MTg3NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T19:51:46Z","updated_at":"2019-08-22T19:51:46Z","author_association":"CONTRIBUTOR","body":"This looks real good @merrimanr.  I want to take it for a test spin before giving it a thumbs up.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524051874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524061914","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-524061914","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":524061914,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDA2MTkxNA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T20:20:28Z","updated_at":"2019-08-22T20:20:28Z","author_association":"CONTRIBUTOR","body":"@merrimanr How did you get through the instructions for https://github.com/apache/metron/tree/master/use-cases/typosquat_detection? I just ran up to the Stellar Bloom Filter test and am running into a stacktrace from the `OBJECT_GET` global cache size.\r\n\r\n```\r\n[Stellar]>>> BLOOM_EXISTS(OBJECT_GET('/tmp/reference/alexa10k_filter.ser'), 'gogle')\r\n[!] Unable to parse: BLOOM_EXISTS(OBJECT_GET('/tmp/reference/alexa10k_filter.ser'), 'gogle') due to: File at path '/tmp/reference/alexa10k_filter.ser' is larger than the configured max file size of 1048576\r\norg.apache.metron.stellar.dsl.ParseException: Unable to parse: BLOOM_EXISTS(OBJECT_GET('/tmp/reference/alexa10k_filter.ser'), 'gogle') due to: File at path '/tmp/reference/alexa10k_filter.ser' is larger than the configured max file size of 1048576\r\n\tat org.apache.metron.stellar.common.BaseStellarProcessor.createException(BaseStellarProcessor.java:166)\r\n\tat org.apache.metron.stellar.common.BaseStellarProcessor.parse(BaseStellarProcessor.java:154)\r\n\tat org.apache.metron.stellar.common.shell.DefaultStellarShellExecutor.executeStellar(DefaultStellarShellExecutor.java:407)\r\n\tat org.apache.metron.stellar.common.shell.DefaultStellarShellExecutor.execute(DefaultStellarShellExecutor.java:257)\r\n\tat org.apache.metron.stellar.common.shell.cli.StellarShell.execute(StellarShell.java:359)\r\n\tat org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalArgumentException: File at path '/tmp/reference/alexa10k_filter.ser' is larger than the configured max file size of 1048576\r\n\tat org.apache.metron.enrichment.cache.ObjectCache$Loader.load(ObjectCache.java:72)\r\n\tat org.apache.metron.enrichment.cache.ObjectCache$Loader.load(ObjectCache.java:46)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache$BoundedLocalLoadingCache.lambda$new$0(BoundedLocalCache.java:3366)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$doComputeIfAbsent$14(BoundedLocalCache.java:2039)\r\n\tat java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1853)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.doComputeIfAbsent(BoundedLocalCache.java:2037)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2020)\r\n\tat com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:112)\r\n\tat com.github.benmanes.caffeine.cache.LocalLoadingCache.get(LocalLoadingCache.java:67)\r\n\tat org.apache.metron.enrichment.cache.ObjectCache.get(ObjectCache.java:82)\r\n\tat org.apache.metron.enrichment.stellar.ObjectGet.apply(ObjectGet.java:66)\r\n\tat org.apache.metron.stellar.common.StellarCompiler.lambda$exitTransformationFunc$13(StellarCompiler.java:664)\r\n\tat org.apache.metron.stellar.common.StellarCompiler$Expression.apply(StellarCompiler.java:259)\r\n\tat org.apache.metron.stellar.common.BaseStellarProcessor.parse(BaseStellarProcessor.java:151)\r\n\t... 7 more\r\n```\r\n\r\nI took a spin back through https://github.com/apache/metron/pull/1399 and it looks like the README documentation about the config options, neither local to the Stellar function nor globally, ever made it into a PR. Added a bug to track it here https://issues.apache.org/jira/browse/METRON-2228https://issues.apache.org/jira/browse/METRON-2228","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524061914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524066775","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-524066775","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":524066775,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDA2Njc3NQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T20:34:36Z","updated_at":"2019-08-22T20:34:36Z","author_association":"CONTRIBUTOR","body":"**Note** for anyone else testing the typosquat usecase. The only way I was able to get this working was to add the following property to global.json.\r\n```\r\n{\r\n...\r\n \"object.cache.max.file.size\" : 5000000\r\n...\r\n}\r\n```\r\nThe file size of the summarized object is larger than the default configured maximum of 1MB.\r\n```\r\n# hdfs dfs -ls /tmp/reference/alexa10k_filter.ser\r\n-rw-r--r--   1 root hdfs    4710254 2019-08-22 19:16 /tmp/reference/alexa10k_filter.ser\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524066775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524098497","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-524098497","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":524098497,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDA5ODQ5Nw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-22T22:14:47Z","updated_at":"2019-08-22T22:14:47Z","author_association":"CONTRIBUTOR","body":"Increasing the OBJECT_CACHE size is in the Typosquat testing instructions of this PR.  There is a curl command that sets it higher than the bloom filter object.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524098497/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524128253","html_url":"https://github.com/apache/metron/pull/1436#issuecomment-524128253","issue_url":"https://api.github.com/repos/apache/metron/issues/1436","id":524128253,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDEyODI1Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T00:35:00Z","updated_at":"2019-08-23T00:35:00Z","author_association":"CONTRIBUTOR","body":"Based on getting through that issue in the typosquat use case (and confirming we didn't introduce a new regression of some sort on this PR), and the added full range test comfort from @anandsubbu and @MohanDV, I'm giving this my +1.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524128253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524214597","html_url":"https://github.com/apache/metron/pull/1489#issuecomment-524214597","issue_url":"https://api.github.com/repos/apache/metron/issues/1489","id":524214597,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDIxNDU5Nw==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T07:57:46Z","updated_at":"2019-08-23T07:57:46Z","author_association":"CONTRIBUTOR","body":"Kickstart Travis.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524214597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524250311","html_url":"https://github.com/apache/metron/pull/1464#issuecomment-524250311","issue_url":"https://api.github.com/repos/apache/metron/issues/1464","id":524250311,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDI1MDMxMQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T09:45:21Z","updated_at":"2019-08-23T09:45:21Z","author_association":"CONTRIBUTOR","body":"@mmiklavc After clearing my browser's cache and testing again for quite a while, I'm unable to reproduce the bug mentioned previously. If you're still a +1, I'll merge this in.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524250311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524323213","html_url":"https://github.com/apache/metron/pull/1464#issuecomment-524323213","issue_url":"https://api.github.com/repos/apache/metron/issues/1464","id":524323213,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDMyMzIxMw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T13:51:03Z","updated_at":"2019-08-23T13:51:03Z","author_association":"CONTRIBUTOR","body":"Yes, I'm still +1. Good work @sardell ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524323213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524323428","html_url":"https://github.com/apache/metron/pull/1493#issuecomment-524323428","issue_url":"https://api.github.com/repos/apache/metron/issues/1493","id":524323428,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDMyMzQyOA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T13:51:39Z","updated_at":"2019-08-23T13:51:39Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524323428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524326787","html_url":"https://github.com/apache/metron/pull/1491#issuecomment-524326787","issue_url":"https://api.github.com/repos/apache/metron/issues/1491","id":524326787,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDMyNjc4Nw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T14:01:03Z","updated_at":"2019-08-23T14:01:03Z","author_association":"CONTRIBUTOR","body":"Oh just thought of one thing.  We need to update the README so that any reference to 0.7.3 is replaced with 0.8.0.\r\n\r\nI will try and run this through some testing in Full Dev today.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524326787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524396606","html_url":"https://github.com/apache/metron/pull/1491#issuecomment-524396606","issue_url":"https://api.github.com/repos/apache/metron/issues/1491","id":524396606,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDM5NjYwNg==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T17:24:52Z","updated_at":"2019-08-23T17:24:52Z","author_association":"CONTRIBUTOR","body":"Doc updates are done with the latest commits.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524396606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524399486","html_url":"https://github.com/apache/metron/pull/1491#issuecomment-524399486","issue_url":"https://api.github.com/repos/apache/metron/issues/1491","id":524399486,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDM5OTQ4Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T17:33:59Z","updated_at":"2019-08-23T17:33:59Z","author_association":"CONTRIBUTOR","body":"+1 I have validated that this works using the Zeppelin 0.8.0 `netinst` binary package.  Thanks for the updates.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524399486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524401018","html_url":"https://github.com/apache/metron/pull/1491#issuecomment-524401018","issue_url":"https://api.github.com/repos/apache/metron/issues/1491","id":524401018,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDQwMTAxOA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T17:39:05Z","updated_at":"2019-08-23T17:39:05Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch as 1a41a2cf1bd394cdf15eb83e3a182b4e1addaff5.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524401018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524458609","html_url":"https://github.com/apache/metron/pull/1490#issuecomment-524458609","issue_url":"https://api.github.com/repos/apache/metron/issues/1490","id":524458609,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDQ1ODYwOQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-23T20:53:04Z","updated_at":"2019-08-23T20:53:04Z","author_association":"CONTRIBUTOR","body":"The latest commit fixes this failed test in `ProfilerIntegrationTest`:\r\n```\r\n2019-08-23 19:02:50 ERROR executor:0 - \r\njava.lang.RuntimeException: java.lang.IllegalStateException: This consumer has already been closed.\r\n```\r\nMy guess is that this upgrade changed the behavior of the Kafka Spout to close the consumer when a topology is killed.  `ProfilerIntegrationTest` is unique in that it starts and stops multiple topologies whereas most integration tests (`EnrichmentIntegrationTest`) only use one.  The fix I chose is to remove this step (consumer close) from the `KafkaComponent.stop` method.  The `KafkaComponent.shutdownConsumer` method is still available if closing the internal client is necessary. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524458609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524831281","html_url":"https://github.com/apache/metron/pull/1494#issuecomment-524831281","issue_url":"https://api.github.com/repos/apache/metron/issues/1494","id":524831281,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDgzMTI4MQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T11:55:46Z","updated_at":"2019-08-26T11:55:46Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524831281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/524999219","html_url":"https://github.com/apache/metron/pull/1490#issuecomment-524999219","issue_url":"https://api.github.com/repos/apache/metron/issues/1490","id":524999219,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDk5OTIxOQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T19:35:00Z","updated_at":"2019-08-26T19:35:00Z","author_association":"CONTRIBUTOR","body":"I still this error happening intermittently:\r\n```\r\n2019-08-26 13:50:36 ERROR util:0 - Async loop died!\r\njava.lang.RuntimeException: java.lang.IllegalStateException: This consumer has already been closed.\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:522)\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatchWhenAvailable(DisruptorQueue.java:487)\r\n\tat org.apache.storm.utils.DisruptorQueue.consumeBatch(DisruptorQueue.java:477)\r\n\tat org.apache.storm.disruptor$consume_batch.invoke(disruptor.clj:70)\r\n\tat org.apache.storm.daemon.executor$fn__4975$fn__4990$fn__5021.invoke(executor.clj:634)\r\n\tat org.apache.storm.util$async_loop$fn__557.invoke(util.clj:484)\r\n\tat clojure.lang.AFn.run(AFn.java:22)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: This consumer has already been closed.\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.acquireAndEnsureOpen(KafkaConsumer.java:2202)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.beginningOffsets(KafkaConsumer.java:1984)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.beginningOffsets(KafkaConsumer.java:1963)\r\n\tat org.apache.storm.kafka.spout.metrics.KafkaOffsetMetric.getValueAndReset(KafkaOffsetMetric.java:79)\r\n\tat org.apache.storm.daemon.executor$metrics_tick$fn__4899.invoke(executor.clj:345)\r\n```\r\nI am able to narrow it down to the `FluxTopologyComponent.reset` that gets called after every test.  I changed this test to call `FluxTopologyComponent.stop` instead, similar to how other integration tests work.  I was able to get through several runs without an error but I will keep testing.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/524999219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525020500","html_url":"https://github.com/apache/metron/pull/1492#issuecomment-525020500","issue_url":"https://api.github.com/repos/apache/metron/issues/1492","id":525020500,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTAyMDUwMA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-26T20:32:47Z","updated_at":"2019-08-26T20:32:47Z","author_association":"CONTRIBUTOR","body":"Before I forget, there are some links in `metron-solr-common/README.md` that will need updated to point to version 7.4.0.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525020500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525102320","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525102320","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525102320,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTEwMjMyMA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T01:56:28Z","updated_at":"2019-09-03T20:15:43Z","author_association":"CONTRIBUTOR","body":"## Test Plan\r\n\r\n### Enrichments\r\n\r\nThis will cover enrichments, threat intel, and the bulk loading utilities that write data to HBase\r\n\r\n#### Test basic enrichment\r\n\r\nSpin up full dev\r\n\r\nOptional - free up resources. We're going to be spinning up some additional topologies. The resources in full dev are limited, so you'll probably want to stop non-critical topologies in order to have enough Storm slots.\r\n\r\n```\r\nfor parser in bro__snort__yaf profiler pcap batch_indexing; do storm kill $parser; don\r\n```\r\n\r\nFollow the following [updated] blog series steps here to get some data into Metron using Squid along with an enrichment\r\n\r\n1. https://cwiki.apache.org/confluence/display/METRON/2016/04/25/Metron+Tutorial+-+Fundamentals+Part+1%3A+Creating+a+New+Telemetry\r\n2. https://cwiki.apache.org/confluence/display/METRON/2016/04/28/Metron+Tutorial+-+Fundamentals+Part+2%3A+Creating+a+New+Enrichment\r\n\r\n#### Test threat intel\r\n\r\n1. https://cwiki.apache.org/confluence/display/METRON/2016/05/02/Metron+Tutorial+-+Fundamentals+Part+4%3A+Pluggable+Threat+Intelligence\r\n\r\n#### Test multi-threading\r\n\r\nFor the final step, we'll deviate from the blog a bit so we can test that the thread pool doesn't cause any deadlocking/threading issues on the new HBase connection approach. Taken from https://cwiki.apache.org/confluence/display/METRON/2016/06/16/Metron+Tutorial+-+Fundamentals+Part+6%3A+Streaming+Enrichment. Follow the steps in the blog tutorial for setting up the user streaming enrichment, but instead of modifying/using bro as suggested at the end, follow the below instructions.\r\n\r\nLet's load the original whois list from step 1 as a threatintel for added fun. This way we can run multiple enrichments and also have it trigger threat intel from the same messages. Create a file `blocklist2.csv` with the following contents:\r\n```\r\n[root@node1: ~]\r\n# cat blocklist2.csv\r\naliexpress.com,squidblacklist.org\r\npravda.ru,squidblacklist.org\r\ngoogle.com,squidblacklist.org\r\nbrightsideofthesun.com,squidblacklist.org\r\nmicrosoftstore.com,squidblacklist.org\r\nautonews.com,squidblacklist.org\r\nfacebook.com,squidblacklist.org\r\nebay.com,squidblacklist.org\r\nrecruit.jp,squidblacklist.org\r\nlada.ru,squidblacklist.org\r\naliexpress.com,squidblacklist.org\r\n```\r\n\r\nLoad the threat intel into HBase\r\n`${METRON_HOME}/bin/flatfile_loader.sh -i blocklist2.csv -t threatintel -c t -e threatintel_extractor_config.json`\r\n\r\nClear the squid logs\r\n```\r\nrm /var/log/squid/access.log\r\ntouch /var/log/squid/access.log\r\nchown squid:squid /var/log/squid/access.log\r\nservice squid restart\r\n```\r\n\r\nRe-run new squid client commands similar to step 1. Rather than a fraction of the records matching on domain for the whois enrichment, we'll have them all match for this test.\r\n```\r\nsquidclient \"https://www.google.com/maps/place/Waterford,+WI/@42.7639877,-88.2867248,12z/data=!4m5!3m4!1s0x88059e67de9a3861:0x2d24f51aad34c80b!8m2!3d42.7630722!4d-88.2142563\"\r\nsquidclient \"http://www.help.1and1.co.uk/domains-c40986/transfer-domains-c79878\"\r\nsquidclient \"https://community.cisco.com/t5/technology-and-support/ct-p/technology-support\"\r\nsquidclient \"https://www.capitalone.com/support-center\"\r\nsquidclient \"https://www.cnn.com/about\"\r\nsquidclient \"https://contact.nba.com/\"\r\nsquidclient \"https://www.espn.com/nfl/team/_/name/cle/cleveland-browns\"\r\n```\r\n\r\nUpdate your squid.json enrichment to include Stellar enrichments. We're going to duplicate the `whois` enrichment multiple times for the sake of simplicity.\r\n\r\n```\r\n# cat $METRON_HOME/config/zookeeper/enrichments/squid.json\r\n{\r\n  \"enrichment\" : {\r\n    \"fieldMap\" : {\r\n      \"hbaseEnrichment\" : [ \"domain_without_subdomains\" ],\r\n      \"stellar\" : {\r\n       \"config\" : {\r\n         \"e1\" : {\r\n           \"user\" : \"ENRICHMENT_GET('user', ip_src_addr, 'enrichment', 't')\"\r\n         },\r\n         \"e2\" : {\r\n           \"dws1\" : \"ENRICHMENT_GET('whois', domain_without_subdomains, 'enrichment', 't')\"\r\n         },\r\n         \"e3\" : {\r\n           \"dws2\" : \"ENRICHMENT_GET('whois', domain_without_subdomains, 'enrichment', 't')\"\r\n         },\r\n         \"e4\" : {\r\n           \"dws3\" : \"ENRICHMENT_GET('whois', domain_without_subdomains, 'enrichment', 't')\"\r\n         },\r\n         \"e5\" : {\r\n           \"dws4\" : \"ENRICHMENT_GET('whois', domain_without_subdomains, 'enrichment', 't')\"\r\n         },\r\n         \"e6\" : {\r\n           \"dws5\" : \"ENRICHMENT_GET('whois', domain_without_subdomains, 'enrichment', 't')\"\r\n         }\r\n       }\r\n     }\r\n    },\r\n    \"fieldToTypeMap\" : {\r\n      \"domain_without_subdomains\" : [ \"whois\" ]\r\n    },\r\n    \"config\" : { }\r\n  },\r\n  \"threatIntel\" : {\r\n    \"fieldMap\" : {\r\n      \"hbaseThreatIntel\" : [ \"domain_without_subdomains\" ]\r\n    },\r\n    \"fieldToTypeMap\" : {\r\n      \"domain_without_subdomains\" : [ \"squidBlacklist\" ]\r\n    },\r\n    \"config\" : { },\r\n    \"triageConfig\" : {\r\n      \"riskLevelRules\" : [ ],\r\n      \"aggregator\" : \"MAX\",\r\n      \"aggregationConfig\" : { }\r\n    }\r\n  },\r\n  \"configuration\" : { }\r\n}\r\n```\r\n\r\nLoad the changed enrichment\r\n```\r\n${METRON_HOME}/bin/zk_load_configs.sh -m PUSH -z $ZOOKEEPER -i ${METRON_HOME}/config/zookeeper\r\n# verify it loaded\r\n${METRON_HOME}/bin/zk_load_configs.sh -m DUMP -z $ZOOKEEPER -c ENRICHMENT -n squid\r\n```\r\n\r\nWipe your squid indexes in ES\r\n```\r\ncurl -XDELETE \"http://node1:9200/squid*\"\r\n```\r\n\r\nStop the enrichment topology\r\n\r\nIn Ambari, navigate to Metron > Configs > Enrichment. Make the following config adjustments:\r\n1. Set Unified Enrichment Parallelism to 3\r\n2. Set Unified Threat Intel Parallelism to 3\r\n3. Set Unified Enrichment Cache Size to 0 (force cache misses so we hit HBase)\r\n4. Set Unified Threat Intel Cache Size to 0 (force cache misses so we hit HBase)\r\n5. Set Unified Enrichment Thread Pool Size to 5. \r\n\r\nRestart the enrichment topology. You should see a log message in the storm worker logs similar to the following:\r\n```\r\n2019-08-26 17:52:40.162 o.a.m.e.b.UnifiedEnrichmentBolt Thread-8-threatIntelBolt-executor[7 7] [INFO] Creating new threadpool of size 5\r\n```\r\n\r\nImport the squid access data to Kafka. Run it multiple times by running the following:\r\n```\r\nfor in in {1..30}; do cat /var/log/squid/access.log | ${HDP_HOME}/kafka-broker/bin/kafka-console-producer.sh --broker-list $BROKERLIST --topic squid; done\r\n```\r\n\r\nAfter a bit of time, you should see new records in the squid index that have the new enrichment and threat intel fields (note the fields dws #1-4). You should get 210 records in your squid index assuming you setup your squid access log with 7 records during the earlier squidclient setup.\r\n```\r\n{\r\n\"_index\": \"squid_index_2019.08.24.00\",\r\n\"_type\": \"squid_doc\",\r\n\"_id\": \"AWzBEZ7MZrHsl7xo6X-6\",\r\n\"_version\": 1,\r\n\"_score\": 1,\r\n\"_source\": {\r\n\"enrichments:hbaseEnrichment:domain_without_subdomains:whois:owner\": \"ESPN, Inc.\",\r\n\"full_hostname\": \"www.espn.com\",\r\n\"dws1:home_country\": \"US\",\r\n\"dws1:domain\": \"espn.com\",\r\n\"dws2:domain\": \"espn.com\",\r\n\"dws3:home_country\": \"US\",\r\n\"dws1:domain_created_timestamp\": \"781268400000\",\r\n\"enrichments:hbaseEnrichment:domain_without_subdomains:whois:home_country\": \"US\",\r\n\"enrichments:hbaseEnrichment:domain_without_subdomains:whois:domain_created_timestamp\": \"781268400000\",\r\n\"dws5:home_country\": \"US\",\r\n\"parallelenricher:enrich:end:ts\": \"1566607252930\",\r\n\"adapter:threatinteladapter:end:ts\": \"1566607252930\",\r\n\"original_string\": \"1566604971.782 732 127.0.0.1 TCP_MISS/200 331562 GET https://www.espn.com/nfl/team/_/name/cle/cleveland-browns - DIRECT/54.152.255.68 text/html\",\r\n\"dws3:registrar\": \"ESPN, Inc.\",\r\n\"dws4:owner\": \"ESPN, Inc.\",\r\n\"action\": \"TCP_MISS\",\r\n\"dws4:domain\": \"espn.com\",\r\n\"dws5:domain\": \"espn.com\",\r\n\"dws3:domain\": \"espn.com\",\r\n\"enrichments:hbaseEnrichment:domain_without_subdomains:whois:registrar\": \"ESPN, Inc.\",\r\n\"dws5:domain_created_timestamp\": \"781268400000\",\r\n\"method\": \"GET\",\r\n\"parallelenricher:enrich:begin:ts\": \"1566607252928\",\r\n\"user:user\": \"mmiklavcic\",\r\n\"adapter:simplehbaseadapter:end:ts\": \"1566607252925\",\r\n\"dws3:domain_created_timestamp\": \"781268400000\",\r\n\"dws2:domain_created_timestamp\": \"781268400000\",\r\n\"user:timestamp\": 1566598784187,\r\n\"dws2:registrar\": \"ESPN, Inc.\",\r\n\"user:source:type\": \"user\",\r\n\"dws4:domain_created_timestamp\": \"781268400000\",\r\n\"adapter:threatinteladapter:begin:ts\": \"1566607252928\",\r\n\"guid\": \"919b421a-b2ec-4e82-951e-3ee031c5a394\",\r\n\"dws3:owner\": \"ESPN, Inc.\",\r\n\"dws2:owner\": \"ESPN, Inc.\",\r\n\"code\": 200,\r\n\"adapter:stellaradapter:end:ts\": \"1566607252922\",\r\n\"enrichments:hbaseEnrichment:domain_without_subdomains:whois:domain\": \"espn.com\",\r\n\"dws2:home_country\": \"US\",\r\n\"dws4:home_country\": \"US\",\r\n\"dws1:registrar\": \"ESPN, Inc.\",\r\n\"elapsed\": 732,\r\n\"source:type\": \"squid\",\r\n\"ip_dst_addr\": \"54.152.255.68\",\r\n\"dws5:registrar\": \"ESPN, Inc.\",\r\n\"domain_without_subdomains\": \"espn.com\",\r\n\"ip_src_addr\": \"127.0.0.1\",\r\n\"timestamp\": 1566604971782,\r\n\"adapter:stellaradapter:begin:ts\": \"1566607252906\",\r\n\"url\": \"https://www.espn.com/nfl/team/_/name/cle/cleveland-browns\",\r\n\"dws1:owner\": \"ESPN, Inc.\",\r\n\"parallelenricher:splitter:begin:ts\": \"1566607252928\",\r\n\"dws5:owner\": \"ESPN, Inc.\",\r\n\"user:guid\": \"d8fb60b7-1670-4f96-a413-cb185afbe0de\",\r\n\"bytes\": 331562,\r\n\"parallelenricher:splitter:end:ts\": \"1566607252928\",\r\n\"user:original_string\": \"mmiklavcic,127.0.0.1\",\r\n\"dws4:registrar\": \"ESPN, Inc.\",\r\n\"adapter:simplehbaseadapter:begin:ts\": \"1566607252906\"\r\n}\r\n}\r\n```\r\n\r\n#### Test recoverability with HBase down\r\n\r\nNow, again clear your squid index. \r\n```\r\ncurl -XDELETE \"http://node1:9200/squid*\"\r\n```\r\n\r\nStop HBase and wait a few moments. Import the squid data again:\r\n```\r\ncat /var/log/squid/access.log | ${HDP_HOME}/kafka-broker/bin/kafka-console-producer.sh --broker-list $BROKERLIST --topic squid\r\n```\r\n\r\nWait about a minute and check your squid index. You should not see any new data in the index. Now, restart HBase again in Ambari. After HBase has restarted, check the squid index. After some amount of time, the data should be able to flow through enrichments and make it to the squid index.\r\n\r\nAfter completing the above steps you should not see any HBase exceptions or errors in the enrichment logs.\r\n\r\n### Profiler\r\n\r\nStop the profiler. In Ambari, set the profiler period duration to 1 minute via the Profiler config section.\r\nAdjust `$METRON_HOME/config/zookeeper/global.json` to adjust the capture duration:\r\n\r\n```\r\nvim ${METRON_HOME}/config/zookeeper/global.json\r\n\"profiler.client.period.duration\" : \"1\",\r\n\"profiler.client.period.duration.units\" : \"MINUTES\",\r\n```\r\n\r\nCreate `$METRON_HOME/config/zookeeper/profiler.json` and save the following contents:\r\n```\r\n{\r\n  \"profiles\": [\r\n    {\r\n      \"profile\": \"hello-world\",\r\n      \"onlyif\":  \"exists(ip_dst_addr)\",\r\n      \"foreach\": \"ip_dst_addr\",\r\n      \"init\":    { \"count\": \"0\" },\r\n      \"update\":  { \"count\": \"count + 1\" },\r\n      \"result\":  \"count\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nModify `${METRON_HOME}/config/zookeeper/enrichments/squid.json` so it pulls values from the profiler. Update our previous example to add the following Stellar enrichment \"e7\":\r\n```\r\n         \"e6\" : {\r\n           \"dws5\" : \"ENRICHMENT_GET('whois', domain_without_subdomains, 'enrichment', 't')\"\r\n         },\r\n         \"e7\" : {\r\n           \"profile_for_ip_dst_addr\" : \"PROFILE_GET( 'hello-world', ip_dst_addr, PROFILE_FIXED(2, 'MINUTES'))\"\r\n         }\r\n```\r\n\r\n\r\nPush your changes to Zookeeper\r\n```\r\n${METRON_HOME}/bin/zk_load_configs.sh -m PUSH -z $ZOOKEEPER -i ${METRON_HOME}/config/zookeeper\r\n```\r\n\r\nRestart the profiler again.\r\n\r\nClear your squid data\r\n```\r\ncurl -XDELETE \"http://node1:9200/squid*\"\r\n```\r\n\r\nAnd publish some squid data to the squid topic for roughly 500 seconds. This is a somewhat arbitrary choice, but we want to give the profiles enough time to flush in order for the enrichments to start picking up the profile data from HBase.\r\n```\r\nfor in in {1..100}; do cat /var/log/squid/access.log | ${HDP_HOME}/kafka-broker/bin/kafka-console-producer.sh --broker-list $BROKERLIST --topic squid; sleep 5; done\r\n```\r\n\r\nOnce this process completes, you should note the following:\r\n1. No errors/exceptions in the profiler or enrichment Storm logs\r\n2. 700 records get written to the Squid index in ES\r\n3. You should see many (not all, especially the early records) records written with non-empty values for field `profile_for_ip_dst_addr`. e.g.\r\n    ```\r\n    curl -XGET \"http://node1:9200/squid*/_search?size=700&pretty=true\" | grep -A 2 profile_for_ip_dst_addr\r\n    ```\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525102320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525108550","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525108550","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525108550,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTEwODU1MA==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T02:25:52Z","updated_at":"2019-08-27T02:26:52Z","author_association":"CONTRIBUTOR","body":"Metron tutorial needs updating from the new Kafka client tools.  Step 5 needs to be updated to read Kafka via:\r\n`${HDP_HOME}/kafka-broker/bin/kafka-console-consumer.sh --bootstrap-server $BROKERLIST --topic squid --from-beginning`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525108550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525124908","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525124908","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525124908,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTEyNDkwOA==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T03:48:36Z","updated_at":"2019-08-27T03:48:36Z","author_association":"CONTRIBUTOR","body":"Metron tutorial step 5 global.json additional to support squid needs a comma after last square bracket. ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525124908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525170209","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525170209","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525170209,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTE3MDIwOQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T07:07:21Z","updated_at":"2019-08-27T07:07:21Z","author_association":"CONTRIBUTOR","body":"Metron tutorial Step 5,  no spare workers available to run squid topology.  Need to add instructions on adding another supervisor slot port.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525170209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525186733","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525186733","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525186733,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTE4NjczMw==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T07:57:40Z","updated_at":"2019-08-27T07:57:40Z","author_association":"CONTRIBUTOR","body":"Metron tutorial part 2.  To \"Check if Zookeeper enrichment tag was properly populated\"\r\ncommand should be changed to\r\n`${METRON_HOME}/bin/zk_load_configs.sh -m DUMP -z $ZOOKEEPER -c ENRICHMENT -n squid`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525186733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525217698","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525217698","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525217698,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTIxNzY5OA==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T09:20:52Z","updated_at":"2019-08-27T09:20:52Z","author_association":"CONTRIBUTOR","body":"Metron tutorial part 2, should have instructions to retrigger squid data feed, and directions on how to drive the Rest interface to prove data is being enriched.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525217698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525228236","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525228236","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525228236,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTIyODIzNg==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T09:49:38Z","updated_at":"2019-08-27T09:49:38Z","author_association":"CONTRIBUTOR","body":"Threatintel tutorial: Dropping of elasticsearch index requires a sudo as their owned by root","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525228236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525247222","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525247222","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525247222,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTI0NzIyMg==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T10:47:23Z","updated_at":"2019-08-27T10:47:23Z","author_association":"CONTRIBUTOR","body":"What commands are you using to query the ES index?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525247222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525327794","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525327794","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525327794,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTMyNzc5NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T14:29:50Z","updated_at":"2019-08-27T14:29:50Z","author_association":"CONTRIBUTOR","body":"@tigerquoll thanks for the test script feedback! Ultimately, I think it would be nice to get the blog entries added in our use-cases directory where we can track and maintain them more easily. This is a good first step.\r\n\r\n> Metron tutorial needs updating from the new Kafka client tools. Step 5 needs to be updated to read Kafka via:\r\n${HDP_HOME}/kafka-broker/bin/kafka-console-consumer.sh --bootstrap-server $BROKERLIST --topic squid --from-beginning\r\n\r\nUpdated\r\n\r\n> Metron tutorial step 5 global.json additional to support squid needs a comma after last square bracket.\r\n\r\nNot sure what you mean here - this is a snippet to use as guidance to modify the global.json, not replace it.\r\n\r\n> Metron tutorial Step 5, no spare workers available to run squid topology. Need to add instructions on adding another supervisor slot port.\r\n\r\nI added instructions to cleanup resources. I'm going to add the same to my test script here.\r\n\r\n> Metron tutorial part 2. To \"Check if Zookeeper enrichment tag was properly populated\"\r\ncommand should be changed to\r\n${METRON_HOME}/bin/zk_load_configs.sh -m DUMP -z $ZOOKEEPER -c ENRICHMENT -n squid\r\n\r\nFixed\r\n\r\n> Metron tutorial part 2, should have instructions to retrigger squid data feed, and directions on how to drive the Rest interface to prove data is being enriched.\r\n\r\nThat tutorial references back to part 1 for instructions, but I added an extra line with the command detail. The Head plugin can be used for searching the ES indexes in this context.\r\n\r\n> Threatintel tutorial: Dropping of elasticsearch index requires a sudo as their owned by root\r\n\r\nThis series of tutorials assumes full dev - you should be running as root by default in that environment\r\n\r\n> What commands are you using to query the ES index?\r\n\r\nHead browser plugin. From the first blog\r\n![image](https://user-images.githubusercontent.com/658443/63780018-bb0e9e80-c8a4-11e9-97d9-9e25aa3cb090.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525327794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525388697","html_url":"https://github.com/apache/metron/pull/1484#issuecomment-525388697","issue_url":"https://api.github.com/repos/apache/metron/issues/1484","id":525388697,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTM4ODY5Nw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T16:51:52Z","updated_at":"2019-08-27T16:51:52Z","author_association":"CONTRIBUTOR","body":"No longer needed [per this discussion](https://lists.apache.org/thread.html/59c965d360e239e160622564317b3274cbeef3908a6a4d7a73d1b11f@%3Cdev.metron.apache.org%3E).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525388697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525388815","html_url":"https://github.com/apache/metron/pull/1486#issuecomment-525388815","issue_url":"https://api.github.com/repos/apache/metron/issues/1486","id":525388815,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTM4ODgxNQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T16:52:09Z","updated_at":"2019-08-27T16:52:09Z","author_association":"CONTRIBUTOR","body":"No longer needed [per this discussion](https://lists.apache.org/thread.html/59c965d360e239e160622564317b3274cbeef3908a6a4d7a73d1b11f@%3Cdev.metron.apache.org%3E).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525388815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525388908","html_url":"https://github.com/apache/metron/pull/1485#issuecomment-525388908","issue_url":"https://api.github.com/repos/apache/metron/issues/1485","id":525388908,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTM4ODkwOA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T16:52:24Z","updated_at":"2019-08-27T16:52:24Z","author_association":"CONTRIBUTOR","body":"No longer needed [per this discussion](https://lists.apache.org/thread.html/59c965d360e239e160622564317b3274cbeef3908a6a4d7a73d1b11f@%3Cdev.metron.apache.org%3E).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525388908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525389117","html_url":"https://github.com/apache/metron/pull/1482#issuecomment-525389117","issue_url":"https://api.github.com/repos/apache/metron/issues/1482","id":525389117,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTM4OTExNw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T16:52:55Z","updated_at":"2019-08-27T16:52:55Z","author_association":"CONTRIBUTOR","body":"No longer needed [per this discussion](https://lists.apache.org/thread.html/59c965d360e239e160622564317b3274cbeef3908a6a4d7a73d1b11f@%3Cdev.metron.apache.org%3E).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525389117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525416763","html_url":"https://github.com/apache/metron/pull/1490#issuecomment-525416763","issue_url":"https://api.github.com/repos/apache/metron/issues/1490","id":525416763,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTQxNjc2Mw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T18:03:34Z","updated_at":"2019-08-27T18:03:34Z","author_association":"CONTRIBUTOR","body":"Hey @merrimanr - Your test script mentions validating these changes under kerberos.  That might not be necessary based on your changes in this PR.  \r\n\r\nI would suggest that we hold off on validating kerberos until we have all the upgrade work merged into the feature branch.  This makes sense to me because (1) we are working on a feature branch and (2) our code doesn't really *do* much with kerberos, it is just *provided* by the underlying platform.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525416763/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525420030","html_url":"https://github.com/apache/metron/pull/1490#issuecomment-525420030","issue_url":"https://api.github.com/repos/apache/metron/issues/1490","id":525420030,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTQyMDAzMA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T18:12:05Z","updated_at":"2019-08-27T18:12:05Z","author_association":"CONTRIBUTOR","body":"+1  Thanks @merrimanr .  This looks good.  I ran this up using the CentOS 7 dev environment.  I validated that the topologies consumed telemetry and poked and prodded them by stopping, starting, and rebalancing.  I also ensured that I can access Kafka using the KAFKA_* stellar functions.  No problems.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525420030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525441376","html_url":"https://github.com/apache/metron/pull/1497#issuecomment-525441376","issue_url":"https://api.github.com/repos/apache/metron/issues/1497","id":525441376,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTQ0MTM3Ng==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T19:07:22Z","updated_at":"2019-08-27T19:07:22Z","author_association":"CONTRIBUTOR","body":"Looks like we've got some merge conflicts with the Kafka PR that just went in.\r\n\r\nHere is a reference to the PR in master that obviates the need for these PRs - https://github.com/apache/metron/pull/1483","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525441376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525451558","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525451558","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525451558,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTQ1MTU1OA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T19:37:43Z","updated_at":"2019-08-27T19:37:43Z","author_association":"CONTRIBUTOR","body":"@tigerquoll - Needed to update my enrichment config - I used stellar expression groups and forgot to update my script for the enrichment config accordingly.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525451558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525465143","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525465143","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525465143,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTQ2NTE0Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-27T20:16:13Z","updated_at":"2019-08-27T20:16:13Z","author_association":"CONTRIBUTOR","body":"I just merged this PR with master, which includes the latest Maven changes from https://github.com/apache/metron/pull/1436. This PR (1483) doesn't include any changes to Maven dependencies. I reviewed the test plan on 1436 and it looks like we may have missed a test case for that PR which introduces a regression for streaming enrichments. Logging a ticket against master.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525465143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525733917","html_url":"https://github.com/apache/metron/pull/1490#issuecomment-525733917","issue_url":"https://api.github.com/repos/apache/metron/issues/1490","id":525733917,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTczMzkxNw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T12:59:41Z","updated_at":"2019-08-28T12:59:41Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch as 15e5276","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525733917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525796735","html_url":"https://github.com/apache/metron/pull/1492#issuecomment-525796735","issue_url":"https://api.github.com/repos/apache/metron/issues/1492","id":525796735,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTc5NjczNQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T15:27:26Z","updated_at":"2019-08-28T15:27:26Z","author_association":"CONTRIBUTOR","body":"The latest commit updates the README for 7.4.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525796735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525822179","html_url":"https://github.com/apache/metron/pull/1497#issuecomment-525822179","issue_url":"https://api.github.com/repos/apache/metron/issues/1497","id":525822179,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTgyMjE3OQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T16:30:23Z","updated_at":"2019-08-28T16:30:23Z","author_association":"CONTRIBUTOR","body":"> Here is a reference to the PR in master that obviates the need for these PRs - #1483\r\n\r\nYes that PR, plus we'll have another PR on the feature branch that updates the mock table along some other small API changes to take us to 2.0.2.\r\n\r\nI am working on merging this into the feature branch now to resolve the conflict.s","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525822179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525829355","html_url":"https://github.com/apache/metron/pull/1492#issuecomment-525829355","issue_url":"https://api.github.com/repos/apache/metron/issues/1492","id":525829355,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTgyOTM1NQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T16:50:08Z","updated_at":"2019-08-28T16:50:08Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch as ad71c04.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525829355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525858316","html_url":"https://github.com/apache/metron/pull/1498#issuecomment-525858316","issue_url":"https://api.github.com/repos/apache/metron/issues/1498","id":525858316,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTg1ODMxNg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T18:06:08Z","updated_at":"2019-08-28T18:06:08Z","author_association":"CONTRIBUTOR","body":"What's our guarantee this change won't have implications in other places? What projects or other uber jars depend on this module?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525858316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525875507","html_url":"https://github.com/apache/metron/pull/1498#issuecomment-525875507","issue_url":"https://api.github.com/repos/apache/metron/issues/1498","id":525875507,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTg3NTUwNw==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T18:51:55Z","updated_at":"2019-08-28T18:51:55Z","author_association":"CONTRIBUTOR","body":"As far as I know there are no modules that depend on `metron-parsing-storm`.  If we focus on testing parser topologies then we should be covered.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525875507/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525882099","html_url":"https://github.com/apache/metron/pull/1498#issuecomment-525882099","issue_url":"https://api.github.com/repos/apache/metron/issues/1498","id":525882099,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTg4MjA5OQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T19:10:01Z","updated_at":"2019-08-28T19:10:01Z","author_association":"CONTRIBUTOR","body":"I'm going to run through this test as well - https://cwiki.apache.org/confluence/display/METRON/2016/04/25/Metron+Tutorial+-+Fundamentals+Part+1:+Creating+a+New+Telemetry. I saw some issues while testing another PR and would like to be able to better isolate it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525882099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525885493","html_url":"https://github.com/apache/metron/pull/1498#issuecomment-525885493","issue_url":"https://api.github.com/repos/apache/metron/issues/1498","id":525885493,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTg4NTQ5Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T19:19:33Z","updated_at":"2019-08-28T19:19:33Z","author_association":"CONTRIBUTOR","body":"Ran through the streaming enrichment case as well as the basic squid parser case. Looks good to me, +1.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525885493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/525960987","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-525960987","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":525960987,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTk2MDk4Nw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-28T23:28:50Z","updated_at":"2019-08-28T23:28:50Z","author_association":"CONTRIBUTOR","body":"I was getting classpath issues with my PR that now seem to be fixed with https://github.com/apache/metron/pull/1498. That PR should get merged tomorrow sometime, barring any discussion to the contrary. In the meantime, I've merged those changes into this PR for sake of testing. I ran through the major parts of the test plan one more time and everything works as expected. I did not repeat the failure recovery scenario.\r\n\r\nFor reference, this another exception I ran into while running the basic parser test. Again, this issue appears to have been resolved now with the changes in pr 1498:\r\n```\r\n2019-08-27 20:38:55.531 o.a.s.d.executor Thread-12-parserBolt-executor[5 5] [ERROR]\r\njava.lang.IllegalStateException: Unable to process transformation: DOMAIN_REMOVE_SUBDOMAINS(full_hostname) for domain_without_subdomains because Unable to parse: DOMAIN_REMOVE_SUBDOMAINS(full_hostname) due to: EXACT with relevant variables full_hostname=www.aliexpress.com\r\n        at org.apache.metron.common.field.transformation.StellarTransformation.map(StellarTransformation.java:73) ~[stormjar.jar:?]\r\n        at org.apache.metron.common.configuration.FieldTransformer.transform(FieldTransformer.java:139) ~[stormjar.jar:?]\r\n        at org.apache.metron.common.configuration.FieldTransformer.transformAndUpdate(FieldTransformer.java:159) ~[stormjar.jar:?]\r\n        at org.apache.metron.parsers.ParserRunnerImpl.applyFieldTransformations(ParserRunnerImpl.java:299) ~[stormjar.jar:?]\r\n        at org.apache.metron.parsers.ParserRunnerImpl.processMessage(ParserRunnerImpl.java:254) ~[stormjar.jar:?]\r\n        at org.apache.metron.parsers.ParserRunnerImpl.lambda$execute$0(ParserRunnerImpl.java:151) ~[stormjar.jar:?]\r\n        at java.util.ArrayList.forEach(ArrayList.java:1249) ~[?:1.8.0_112]\r\n        at org.apache.metron.parsers.ParserRunnerImpl.execute(ParserRunnerImpl.java:150) ~[stormjar.jar:?]\r\n        at org.apache.metron.parsers.bolt.ParserBolt.execute(ParserBolt.java:257) [stormjar.jar:?]\r\n        at org.apache.storm.daemon.executor$fn__10252$tuple_action_fn__10254.invoke(executor.clj:735) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.daemon.executor$mk_task_receiver$fn__10171.invoke(executor.clj:466) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.disruptor$clojure_handler$reify__9685.onEvent(disruptor.clj:40) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.utils.DisruptorQueue.consumeBatchToCursor(DisruptorQueue.java:472) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.utils.DisruptorQueue.consumeBatchWhenAvailable(DisruptorQueue.java:451) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.disruptor$consume_batch_when_available.invoke(disruptor.clj:73) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.daemon.executor$fn__10252$fn__10265$fn__10320.invoke(executor.clj:855) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at org.apache.storm.util$async_loop$fn__553.invoke(util.clj:484) [storm-core-1.1.0.2.6.5.1175-1.jar:1.1.0.2.6.5.1175-1]\r\n        at clojure.lang.AFn.run(AFn.java:22) [clojure-1.7.0.jar:?]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_112]\r\nCaused by: org.apache.metron.stellar.dsl.ParseException: Unable to parse: DOMAIN_REMOVE_SUBDOMAINS(full_hostname) due to: EXACT with relevant variables full_hostname=www.aliexpress.com\r\n        at org.apache.metron.stellar.common.BaseStellarProcessor.createException(BaseStellarProcessor.java:173) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.BaseStellarProcessor.parse(BaseStellarProcessor.java:154) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.CachingStellarProcessor.parseUncached(CachingStellarProcessor.java:161) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.CachingStellarProcessor.parse(CachingStellarProcessor.java:155) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.common.field.transformation.StellarTransformation.map(StellarTransformation.java:50) ~[stormjar.jar:?]\r\n        ... 18 more\r\nCaused by: java.lang.NoSuchFieldError: EXACT\r\n        at org.apache.metron.guava.17.0.net.InternetDomainName.findPublicSuffix(InternetDomainName.java:173) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.guava.17.0.net.InternetDomainName.<init>(InternetDomainName.java:158) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.guava.17.0.net.InternetDomainName.from(InternetDomainName.java:213) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.dsl.functions.NetworkFunctions.toDomainName(NetworkFunctions.java:271) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.dsl.functions.NetworkFunctions.access$000(NetworkFunctions.java:34) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.dsl.functions.NetworkFunctions$RemoveSubdomains.apply(NetworkFunctions.java:86) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.dsl.BaseStellarFunction.apply(BaseStellarFunction.java:30) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.StellarCompiler.lambda$exitTransformationFunc$13(StellarCompiler.java:664) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.StellarCompiler$Expression.apply(StellarCompiler.java:259) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.BaseStellarProcessor.parse(BaseStellarProcessor.java:151) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.CachingStellarProcessor.parseUncached(CachingStellarProcessor.java:161) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.stellar.common.CachingStellarProcessor.parse(CachingStellarProcessor.java:155) ~[dep-stellar-common-0.7.2-uber-6958fda1-1cb6-4e03-80ba-c5171221d03a.jar.1566935872000:?]\r\n        at org.apache.metron.common.field.transformation.StellarTransformation.map(StellarTransformation.java:50) ~[stormjar.jar:?]\r\n        ... 18 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/525960987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526119013","html_url":"https://github.com/apache/metron/pull/1477#issuecomment-526119013","issue_url":"https://api.github.com/repos/apache/metron/issues/1477","id":526119013,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjExOTAxMw==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:07:24Z","updated_at":"2019-08-29T11:31:26Z","author_association":"CONTRIBUTOR","body":"Tested it manually. Worked fine for me. Well done! 👍 +1 (non-binding)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526119013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526122189","html_url":"https://github.com/apache/metron/pull/1495#issuecomment-526122189","issue_url":"https://api.github.com/repos/apache/metron/issues/1495","id":526122189,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjEyMjE4OQ==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T10:16:59Z","updated_at":"2019-08-29T11:31:50Z","author_association":"CONTRIBUTOR","body":"Tested it manually and everything worked fine. That's a nice one actually. +1 (non-binding) 👍 ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526122189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526140555","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-526140555","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":526140555,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjE0MDU1NQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T11:14:53Z","updated_at":"2019-08-29T11:14:53Z","author_association":"CONTRIBUTOR","body":"For the test script: full dev still needed another supervisor slot in Storm to allow the squid enrichment topology to run.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526140555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526184609","html_url":"https://github.com/apache/metron/pull/1489#issuecomment-526184609","issue_url":"https://api.github.com/repos/apache/metron/issues/1489","id":526184609,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjE4NDYwOQ==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T13:27:28Z","updated_at":"2019-08-29T13:27:28Z","author_association":"CONTRIBUTOR","body":"Travis issue seems unrelated to this PR. Retry #2 ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526184609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526243889","html_url":"https://github.com/apache/metron/pull/1477#issuecomment-526243889","issue_url":"https://api.github.com/repos/apache/metron/issues/1477","id":526243889,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI0Mzg4OQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T15:41:03Z","updated_at":"2019-08-29T15:41:03Z","author_association":"CONTRIBUTOR","body":"+1, thanks @sardell ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526243889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526245828","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-526245828","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":526245828,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI0NTgyOA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T15:45:26Z","updated_at":"2019-08-29T15:45:26Z","author_association":"CONTRIBUTOR","body":"@tigerquoll what all are you running? This leaves me with 1 slot available still\r\n![image](https://user-images.githubusercontent.com/658443/63955284-b16e6d80-ca41-11e9-8bfa-af19d765d3aa.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526245828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526253490","html_url":"https://github.com/apache/metron/pull/1483#issuecomment-526253490","issue_url":"https://api.github.com/repos/apache/metron/issues/1483","id":526253490,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI1MzQ5MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T16:04:04Z","updated_at":"2019-08-29T16:04:04Z","author_association":"CONTRIBUTOR","body":"@tigerquoll I've updated the test script on this PR to reflect the note in the first tutorial.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526253490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/526269692","html_url":"https://github.com/apache/metron/pull/1495#issuecomment-526269692","issue_url":"https://api.github.com/repos/apache/metron/issues/1495","id":526269692,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjI2OTY5Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-29T16:47:57Z","updated_at":"2019-08-29T16:47:57Z","author_association":"CONTRIBUTOR","body":"@sardell you must be making people happy with this one - I think this is the first time I've ever seen a heart emoji on a PR","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/526269692/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]