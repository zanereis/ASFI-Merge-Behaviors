[{"url":"https://api.github.com/repos/apache/mesos/issues/comments/849169050","html_url":"https://github.com/apache/mesos/pull/386#issuecomment-849169050","issue_url":"https://api.github.com/repos/apache/mesos/issues/386","id":849169050,"node_id":"MDEyOklzc3VlQ29tbWVudDg0OTE2OTA1MA==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T22:45:12Z","updated_at":"2021-05-29T20:17:39Z","author_association":"CONTRIBUTOR","body":"> @cf-natali @bmahler It strikes me that no backward conversion (from the string key to an integer position) is ever used by the replicated log code.... Do we have a good understanding what the actual contract for `encode()` should look like?\r\n> \r\n> From what I can tell by quickly looking at the code, the main requirement is that `encode()` results, when ordered lexicographically, should be in the order of positions. This means that, **_if I haven't missed something_**, for example, prefixing integers larger than `9'999'999'999` by a single letter `A` will result in the correct order of keys:\r\n> \r\n> ```\r\n> 0000000000\r\n> .......\r\n> 9999999998\r\n> 9999999999\r\n> A00000010000000000\r\n> A00000010000000001\r\n> ```\r\n\r\nNice!\r\nIndeed, that's also my understanding, as far as I can tell the only properties needed for `encode()` are that it is:\r\n- ~bijective~ injective\r\n- monotonic - the ordering is checked using `leveldb::BytewiseComparator`, which does a lexicographic comparison, see https://github.com/google/leveldb/blob/f57513a1d6c99636fc5b710150d0b93713af4e43/util/comparator.cc#L28 and https://github.com/google/leveldb/blob/5d94ad4d95c09d3ac203ddaf9922e55e730706a8/include/leveldb/slice.h#L100\r\n\r\nSo yes, it looks like this could work - I'll have a play.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/849169050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850258298","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-850258298","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":850258298,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDI1ODI5OA==","user":{"login":"asekretenko","id":8353245,"node_id":"MDQ6VXNlcjgzNTMyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8353245?v=4","gravatar_id":"","url":"https://api.github.com/users/asekretenko","html_url":"https://github.com/asekretenko","followers_url":"https://api.github.com/users/asekretenko/followers","following_url":"https://api.github.com/users/asekretenko/following{/other_user}","gists_url":"https://api.github.com/users/asekretenko/gists{/gist_id}","starred_url":"https://api.github.com/users/asekretenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asekretenko/subscriptions","organizations_url":"https://api.github.com/users/asekretenko/orgs","repos_url":"https://api.github.com/users/asekretenko/repos","events_url":"https://api.github.com/users/asekretenko/events{/privacy}","received_events_url":"https://api.github.com/users/asekretenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T08:46:07Z","updated_at":"2021-05-28T08:46:56Z","author_association":"MEMBER","body":"@cf-natali I'm trying to look into this and to make sure this is not making some other issues worse.\r\n\r\nFor example, does this all mean that this deferred call that freezes a cgroup\r\nhttps://github.com/apache/mesos/blob/85981d7c728798783b2e1e7cbed4f27a1497ccb2/src/linux/cgroups.cpp#L1440\r\n\r\nhas never been executed before this patch (due to immediate termination of a TaskKiller process), but, after this change, will be executing in some cases?...\r\n\r\n(Btw, inablilty to comment on an untouched line in a github PR is one of examples why, as of 2019-2020, Mesos committers were still preferring to review contribution using Apache Reviewboard. I'm not saying that we should not do something to simplify contributing via GitHub, just illustrating why the RB has not been phased out.)\r\n\r\n@ridv This, unfortunately, is not a \"small patch\", but an attempt to compensate for a deficiency in a workaround in a code that uses a rather problematic kernel interface and is already full of hacks and short-term solutions. I'm sorry, but reviewing such stuff meaningfully takes significant chunks of an uninterrupted time and should only be done in a very sound mind and a very good health (this was not my case in the beginnig of this week).","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850258298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850527177","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-850527177","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":850527177,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDUyNzE3Nw==","user":{"login":"ridv","id":1643994,"node_id":"MDQ6VXNlcjE2NDM5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1643994?v=4","gravatar_id":"","url":"https://api.github.com/users/ridv","html_url":"https://github.com/ridv","followers_url":"https://api.github.com/users/ridv/followers","following_url":"https://api.github.com/users/ridv/following{/other_user}","gists_url":"https://api.github.com/users/ridv/gists{/gist_id}","starred_url":"https://api.github.com/users/ridv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ridv/subscriptions","organizations_url":"https://api.github.com/users/ridv/orgs","repos_url":"https://api.github.com/users/ridv/repos","events_url":"https://api.github.com/users/ridv/events{/privacy}","received_events_url":"https://api.github.com/users/ridv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T16:16:49Z","updated_at":"2021-05-28T16:16:49Z","author_association":"NONE","body":"@asekretenko that is absolutely understandable and I hope you find yourself in better health very soon. What you are doing here is greatly appreciated. \r\n\r\nMy main concern, and this is in no way to put pressure on you as you're already doing a huge service to to project here, is the general radio silence from committers and PMC.\r\n\r\nEither the community has enough reviewers and volunteers to keep the project going, or we don't and new people that want to continue the project need to be given permission to continue the project (as per the Apache board members during the Attic discussions). \r\n\r\nI think this is a conversation best had on the mailing list (and in fact, I've kicked off a thread).","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850527177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850602132","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-850602132","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":850602132,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDYwMjEzMg==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-28T18:46:31Z","updated_at":"2021-05-28T18:46:31Z","author_association":"CONTRIBUTOR","body":"> @ridv This, unfortunately, is not a \"small patch\", but an attempt to compensate for a deficiency in a workaround in a code that uses a rather problematic kernel interface and is already full of hacks and short-term solutions.\r\n\r\nIndeed, this freezer code is quite tricky, and with good reason - at work we experienced 3 different kernel bugs involving the freezer cgroup, it's really a mess even after all those years...\r\n\r\n> @cf-natali I'm trying to look into this and to make sure this is not making some other issues worse.\r\n> \r\n> For example, does this all mean that this deferred call that freezes a cgroup\r\n> \r\n> https://github.com/apache/mesos/blob/85981d7c728798783b2e1e7cbed4f27a1497ccb2/src/linux/cgroups.cpp#L1440\r\n> \r\n> has never been executed before this patch (due to immediate termination of a TaskKiller process), but, after this change, will be executing in some cases?...\r\n\r\nAs far as I can tell, this should not exercise any new code path, and should actually make unusual code paths less frequent.\r\nThe code you're referring to is only involved when the freeze operation timed out, and attempts to thaw and freeze it again - this can happen in normal circumstances, i.e. in the normal case where a cgroup is destroyed. This specific code path was exercised in the past - I checked using logs and `strace`, and will continue to be exercised if the freeze times out.\r\n\r\nOne way to view this change is that it can only delay the termination of the `TaskKiller` process: therefore, the `TaskKiller` will only terminate in a state in which it could already be terminated in in the current code.\r\nThe extra delay is a grace period letting some time to the `TaskKiller` to finish its freeze/kill/thaw cycle, hence making it much less likely to terminate it while it's in the middle of its freeze/kill/thaw.\r\n\r\n> (Btw, inablilty to comment on an untouched line in a github PR is one of examples why, as of 2019-2020, Mesos committers were still preferring to review contribution using Apache Reviewboard. I'm not saying that we should not do something to simplify contributing via GitHub, just illustrating why the RB has not been phased out.)\r\n\r\nInteresting, thanks!\r\n\r\n> I'm sorry, but reviewing such stuff meaningfully takes significant chunks of an uninterrupted time and should only be done in a very sound mind and a very good health (this was not my case in the beginnig of this week).\r\n\r\nI'm really sorry to hear that, and hope you're feeling better!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850602132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850833193","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-850833193","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":850833193,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDgzMzE5Mw==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T13:24:16Z","updated_at":"2021-05-29T13:24:49Z","author_association":"CONTRIBUTOR","body":"> FWIW it's breaking other things:\r\n> \r\n> ```\r\n> [ RUN      ] HealthCheckTest.ROOT_HealthyTaskWithContainerImage\r\n> ../../src/tests/health_check_tests.cpp:505: Failure\r\n> (testImage).failure(): Failed to create docker test image rootfs: Failed to parse ld.so cache: Invalid format\r\n> [  FAILED  ] HealthCheckTest.ROOT_HealthyTaskWithContainerImage (26 ms)\r\n> ```\r\n\r\n@cf-natali Did you run this test in the same machine with the other tests (like `LdcacheTest.Parse`), all of these tests will call `ldcache::parse()` internally, so it does not make sense that one succeeds but the other fails.\r\n\r\nIn another hand, there are a couple of places in `ldcache::parse()` which will error out with `Invalid format`, maybe we should use distinct error message in each place so that we can better troubleshooting this issue.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850833193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850840426","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-850840426","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":850840426,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDg0MDQyNg==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T14:14:14Z","updated_at":"2021-05-29T14:14:14Z","author_association":"CONTRIBUTOR","body":"On Sat, 29 May 2021, 14:24 Qian Zhang, ***@***.***> wrote:\n\n> FWIW it's breaking other things:\n>\n> [ RUN      ] HealthCheckTest.ROOT_HealthyTaskWithContainerImage\n> ../../src/tests/health_check_tests.cpp:505: Failure\n> (testImage).failure(): Failed to create docker test image rootfs: Failed to parse ld.so cache: Invalid format\n> [  FAILED  ] HealthCheckTest.ROOT_HealthyTaskWithContainerImage (26 ms)\n>\n> @cf-natali <https://github.com/cf-natali> Did you run this test in the\n> same machine with the other tests (like LdcacheTest.Parse), all of these\n> tests will call ldcache::parse() internally, so it does not make sense\n> that one succeeds but the other fails.\n>\n\nI'm not sure what you mean - this test is an example of failing tests,\namong many others.\n\n\nIn another hand, there are a couple of places in ldcache::parse() which\n> will error out with Invalid format, maybe we should use distinct error\n> message in each places so that we can better troubleshooting this issue.\n>\n\nDunno, the issue seems pretty clear to me, it affects anything parsing\nldcache due to the format change. And the attached change fixes it.\n\n\n\n—\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/mesos/pull/384#issuecomment-850833193>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AB75O43IY5HF3SVBGXFFSS3TQDTIZANCNFSM443EOPDA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850840426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850844432","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-850844432","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":850844432,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDg0NDQzMg==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T14:41:01Z","updated_at":"2021-05-29T14:41:01Z","author_association":"CONTRIBUTOR","body":"> Dunno, the issue seems pretty clear to me, it affects anything parsing ldcache due to the format change. And the attached change fixes it.\r\n\r\nNVM, I thought `HealthCheckTest.ROOT_HealthyTaskWithContainerImage` failed after your code changes in this PR was applied, sorry for the confusion.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850844432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850879962","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-850879962","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":850879962,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDg3OTk2Mg==","user":{"login":"asekretenko","id":8353245,"node_id":"MDQ6VXNlcjgzNTMyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8353245?v=4","gravatar_id":"","url":"https://api.github.com/users/asekretenko","html_url":"https://github.com/asekretenko","followers_url":"https://api.github.com/users/asekretenko/followers","following_url":"https://api.github.com/users/asekretenko/following{/other_user}","gists_url":"https://api.github.com/users/asekretenko/gists{/gist_id}","starred_url":"https://api.github.com/users/asekretenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asekretenko/subscriptions","organizations_url":"https://api.github.com/users/asekretenko/orgs","repos_url":"https://api.github.com/users/asekretenko/repos","events_url":"https://api.github.com/users/asekretenko/events{/privacy}","received_events_url":"https://api.github.com/users/asekretenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T18:37:04Z","updated_at":"2021-05-29T18:47:34Z","author_association":"MEMBER","body":"@cf-natali After looking at this code more carefully and doing some experiments, I'm wondering if it is possible to more reliably prevent the root cause of this issue (leaving cgroup in a wrong state) from occurring.\r\n\r\nIf I'm not missing something, `TasksKiller::freeze()` essentially runs a retry loop, each iteration of which does the following:\r\n1. calls `cgroups::freezer::freeze(hierarchy, cgroup)` limited by a timeout of a length determined by `FREEZE_RETRY_INTERVAL`\r\n2. cancels timed-out result of (1)\r\n3. calls `TasksKiller::kill()`\r\n4. calls `TasksKiller::thaw()`, that is, `cgroups::freezer::thaw(hierarchy, cgroup)`\r\n\r\nand then the loop repeats, potentially indefinitely (at least, the iteration count is not limited by the `TasksKiller` itself)\r\n\r\nThere are three conditions, upon which the loop ends:\r\na) success of `cgroups::freezer::freeze()`\r\nb) failure at any stage\r\nc) process termination caused by discard of TaskKiller's result future\r\n\r\nThat said, I'm not convinced that postponing c) is the best available option. \r\n\r\nMaybe we should consider replacing c) with another termination mechanism that will be **guaranteed** not to halt this loop in the middle of an iteration? Something like ~~setting a flag by that discard callback and checking this flag~~ checking `future.hasDiscard()` inside this loop before calling  `cgroups::freezer:freeze()` ? \r\n\r\nBtw, how are you testing the code handling freeze/kill failures? \r\nIn my experience, the simplest way to reliably create a process in an uninterruptable sleep (D state) is to create a file on some FUSE-backed FS (say, sshfs), mmap that file, stop the program backing the FS with SIGSTOP, and repeatedly read/write the mmap-ed bytes until the process eventually hangs. That's rather complicated, takes 30 seconds of read/write on my kernel and is not really usable in tests... I'm wondering if there is a simpler option.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850879962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850889402","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-850889402","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":850889402,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDg4OTQwMg==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T19:47:47Z","updated_at":"2021-05-29T19:47:47Z","author_association":"CONTRIBUTOR","body":"> That said, I'm not convinced that postponing c) is the best available option.\r\n> \r\n> Maybe we should consider replacing c) with another termination mechanism that will be **guaranteed** not to halt this loop in the middle of an iteration? Something like ~setting a flag by that discard callback and checking this flag~ checking `future.hasDiscard()` inside this loop before calling `cgroups::freezer:freeze()` ?\r\n\r\nYes, I wondered about this, and actually I initially wanted to go for this approach to never interrupt of the middle of an iteration, however I chose the approach in this MR because:\r\n- it's simpler\r\n- I don't feel too comfortable changing this code as it's already the result of several workarounds, so as you said earlier it's not clear that any change won't break some subtle corner-case\r\n- but more fundamentally, the reason is that if the freezing fails, then I think pretty much all bets are off. For example in case of timeout upon freeze, I'm not convinced that the call to `TaskKiller::kill` is safe because by definition some tasks are not frozen hence the kill won't be atomic and it might be possible that because of PID reuse we end up killing the wrong process. Another thing is that if freezing failed, I am not sure how reliable the thawing or if the kernel might just discard it which will also leave the cgroup in a bad state.\r\n\r\nHowever I'm open to trying it if you prefer the non-interruption approach.\r\n\r\nIt's so sad that there is no simple and reliable way to do this. AFAICT systemd doesn't use the freezer cgroup because of its various issues - it actually suffers from PID reuse race conditions, looks like they are considering using freezer in cgroupsv2: https://github.com/systemd/systemd/issues/13101\r\n\r\nAnd sadly, while PID namespace mentions in the various comments sounds promising, the problem is that it could definitely break some tasks so it's not like we can just switch to using it.\r\n \r\n> Btw, how are you testing the code handling freeze/kill failures?\r\n> In my experience, the simplest way to reliably create a process in an uninterruptable sleep (D state) is to create a file on some FUSE-backed FS (say, sshfs), mmap that file, stop the program backing the FS with SIGSTOP, and repeatedly read/write the mmap-ed bytes until the process eventually hangs. That's rather complicated, takes 30 seconds of read/write on my kernel and is not really usable in tests... I'm wondering if there is a simpler option.\r\n\r\nIt depends.\r\nIf the goal is really to create a process in uninterruptible sleep, then yes I'm not aware of any way much simpler - typically I'd use a write to an hard NFS mount, and use e.g. iptables to drop the packets and cause the process to hang.\r\n\r\nHowever I don't believe it's quite necessary to test the freezer code.\r\nFor this change, I just re-ran some cgroups related tests in a loop because it was enough to trigger the issue.\r\n\r\nFor the previous changes I've made to the freezer code - some workarounds for kernel bugs - I'd generally just use `strace --inject` to either introduce faults or delays, e.g.:\r\n```\r\ncf@thinkpad:~$ strace -ttT --inject=read:delay_enter=1s /bin/cat /etc/fstab >/dev/null \r\n[...]\r\n20:34:21.932568 openat(AT_FDCWD, \"/etc/fstab\", O_RDONLY) = 3 <0.000041>\r\n[...]\r\n20:34:21.932936 read(3, \"# /etc/fstab: static file system\"..., 131072) = 788 <1.000289>\r\n20:34:22.933402 write(1, \"# /etc/fstab: static file system\"..., 788) = 788 <0.000037>\r\n20:34:22.933580 read(3, \"\", 131072)     = 0 <1.000115>\r\n20:34:23.933857 munmap(0x7ff03b46b000, 139264) = 0 <0.000074>\r\n[...]\r\n```\r\n\r\nThis can be used to e.g. cause timeouts while reading/writing to `freezer.state` file, which is enough to exercise some interesting code paths.\r\nAnd I quite like it because it's very generic and can be used for many problems.\r\n\r\nFor something purely freezer-specific, another way I can think of to trigger freezer errors, and which can actually probably be done as part of an automated test, is to use nested cgroups:\r\n```\r\nroot@thinkpad:~# # create parent cgroup\r\nroot@thinkpad:~# mkdir /sys/fs/cgroup/freezer/parent\r\nroot@thinkpad:~# # create child cgroup\r\nroot@thinkpad:~# mkdir /sys/fs/cgroup/freezer/parent/child\r\nroot@thinkpad:~# # freeze parent - since freezing is recursive, the child will be frozen\r\nroot@thinkpad:~# echo FROZEN > /sys/fs/cgroup/freezer/parent/freezer.state\r\nroot@thinkpad:~# cat /sys/fs/cgroup/freezer/parent/freezer.state \r\nFROZEN\r\nroot@thinkpad:~# cat /sys/fs/cgroup/freezer/parent/child/freezer.state \r\nFROZEN\r\nroot@thinkpad:~# # attempt to thaw the child\r\nroot@thinkpad:~# echo THAWED > /sys/fs/cgroup/freezer/parent/child/freezer.state \r\nroot@thinkpad:~# # not working since parent is still frozen\r\nroot@thinkpad:~# cat /sys/fs/cgroup/freezer/parent/child/freezer.state \r\nFROZEN\r\nroot@thinkpad:~# cat /sys/fs/cgroup/freezer/parent/freezer.state \r\nFROZEN\r\nroot@thinkpad:~# # thaw parent, and child thaws as well\r\nroot@thinkpad:~# echo THAWED > /sys/fs/cgroup/freezer/parent/freezer.state \r\nroot@thinkpad:~# cat /sys/fs/cgroup/freezer/parent/freezer.state \r\nTHAWED\r\nroot@thinkpad:~# cat /sys/fs/cgroup/freezer/parent/child/freezer.state \r\nTHAWED\r\nroot@thinkpad:~# \r\n```","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850889402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850890266","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-850890266","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":850890266,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDg5MDI2Ng==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T19:55:35Z","updated_at":"2021-05-29T19:56:34Z","author_association":"CONTRIBUTOR","body":"> > Dunno, the issue seems pretty clear to me, it affects anything parsing ldcache due to the format change. And the attached change fixes it.\r\n> \r\n> NVM, I thought `HealthCheckTest.ROOT_HealthyTaskWithContainerImage` failed after your code changes in this PR was applied, sorry for the confusion.\r\n\r\nAha no worries it happens!\r\n\r\nI think all comments are addressed now, let me know if you need anything else :).","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850890266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850890927","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-850890927","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":850890927,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDg5MDkyNw==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-29T20:01:31Z","updated_at":"2021-05-29T20:01:31Z","author_association":"CONTRIBUTOR","body":"Ah and by the way, here's how I tested it:\r\n`compat` format - until 2.32/2.31:\r\n```\r\nroot@thinkpad:/home/cf/src/mesos/build# ldconfig -c compat\r\nroot@thinkpad:/home/cf/src/mesos/build# ./bin/mesos-tests.sh --gtest_filter=*Ld* 2>&1 | tail -n13\r\n\r\n[----------] 3 tests from Ldd\r\n[ RUN      ] Ldd.BinSh\r\n[       OK ] Ldd.BinSh (2 ms)\r\n[ RUN      ] Ldd.EmptyCache\r\n[       OK ] Ldd.EmptyCache (0 ms)\r\n[ RUN      ] Ldd.MissingFile\r\n[       OK ] Ldd.MissingFile (1 ms)\r\n[----------] 3 tests from Ldd (3 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 4 tests from 2 test cases ran. (548 ms total)\r\n[  PASSED  ] 4 tests.\r\n```\r\n\r\n`new` format - supported by this change:\r\n```\r\nroot@thinkpad:/home/cf/src/mesos/build# ldconfig -c new\r\nroot@thinkpad:/home/cf/src/mesos/build# ./bin/mesos-tests.sh --gtest_filter=*Ld* 2>&1 | tail -n13\r\n\r\n[----------] 3 tests from Ldd\r\n[ RUN      ] Ldd.BinSh\r\n[       OK ] Ldd.BinSh (3 ms)\r\n[ RUN      ] Ldd.EmptyCache\r\n[       OK ] Ldd.EmptyCache (0 ms)\r\n[ RUN      ] Ldd.MissingFile\r\n[       OK ] Ldd.MissingFile (1 ms)\r\n[----------] 3 tests from Ldd (4 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 4 tests from 2 test cases ran. (550 ms total)\r\n[  PASSED  ] 4 tests.\r\n```\r\n\r\n`old` format - never supported - as a sanity check:\r\n```\r\nroot@thinkpad:/home/cf/src/mesos/build# ldconfig -c old\r\nroot@thinkpad:/home/cf/src/mesos/build# ./bin/mesos-tests.sh --gtest_filter=*Ld* 2>&1 | tail -n13\r\ncache: Invalid format\r\n[  FAILED  ] Ldd.MissingFile (0 ms)\r\n[----------] 3 tests from Ldd (1 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 4 tests from 2 test cases ran. (7 ms total)\r\n[  PASSED  ] 1 test.\r\n[  FAILED  ] 3 tests, listed below:\r\n[  FAILED  ] LdcacheTest.Parse\r\n[  FAILED  ] Ldd.BinSh\r\n[  FAILED  ] Ldd.MissingFile\r\n\r\n 3 FAILED TESTS\r\n```","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850890927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850982231","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-850982231","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":850982231,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDk4MjIzMQ==","user":{"login":"abudnik","id":1283969,"node_id":"MDQ6VXNlcjEyODM5Njk=","avatar_url":"https://avatars.githubusercontent.com/u/1283969?v=4","gravatar_id":"","url":"https://api.github.com/users/abudnik","html_url":"https://github.com/abudnik","followers_url":"https://api.github.com/users/abudnik/followers","following_url":"https://api.github.com/users/abudnik/following{/other_user}","gists_url":"https://api.github.com/users/abudnik/gists{/gist_id}","starred_url":"https://api.github.com/users/abudnik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abudnik/subscriptions","organizations_url":"https://api.github.com/users/abudnik/orgs","repos_url":"https://api.github.com/users/abudnik/repos","events_url":"https://api.github.com/users/abudnik/events{/privacy}","received_events_url":"https://api.github.com/users/abudnik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-30T11:12:09Z","updated_at":"2021-05-30T11:12:09Z","author_association":"MEMBER","body":"IIRC, Mesos leaves a task in the KILLING state if `cgroup::destroy()` fails or hangs. The agent can't force the kernel to deallocate resources in the cgroup, so it leaves the task in that state to prevent resource leaks. Otherwise, the agent would eventually allocate all resources of the host on a buggy kernel.\r\n\r\nI remember a few jira tickets describing similar issues. Maybe it would make more sense to add some links as there have been investigations some time ago.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/850982231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/851005111","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-851005111","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":851005111,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTAwNTExMQ==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-30T14:00:57Z","updated_at":"2021-05-30T14:00:57Z","author_association":"CONTRIBUTOR","body":"> I think all comments are addressed now, let me know if you need anything else :).\r\n\r\nJust posted a minor comment, otherwise I think we are good to merge :)","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/851005111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/851043018","html_url":"https://github.com/apache/mesos/pull/386#issuecomment-851043018","issue_url":"https://api.github.com/repos/apache/mesos/issues/386","id":851043018,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTA0MzAxOA==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-30T18:41:07Z","updated_at":"2021-05-30T18:41:07Z","author_association":"CONTRIBUTOR","body":"@asekretenko Updated.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/851043018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/851495709","html_url":"https://github.com/apache/mesos/pull/384#issuecomment-851495709","issue_url":"https://api.github.com/repos/apache/mesos/issues/384","id":851495709,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTQ5NTcwOQ==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-31T13:33:42Z","updated_at":"2021-05-31T13:33:42Z","author_association":"CONTRIBUTOR","body":"The commit in this PR has been merged, and I also marked https://issues.apache.org/jira/browse/MESOS-10220 as resolved, thanks @cf-natali for your contribution!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/851495709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852330284","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-852330284","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":852330284,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjMzMDI4NA==","user":{"login":"ridv","id":1643994,"node_id":"MDQ6VXNlcjE2NDM5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1643994?v=4","gravatar_id":"","url":"https://api.github.com/users/ridv","html_url":"https://github.com/ridv","followers_url":"https://api.github.com/users/ridv/followers","following_url":"https://api.github.com/users/ridv/following{/other_user}","gists_url":"https://api.github.com/users/ridv/gists{/gist_id}","starred_url":"https://api.github.com/users/ridv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ridv/subscriptions","organizations_url":"https://api.github.com/users/ridv/orgs","repos_url":"https://api.github.com/users/ridv/repos","events_url":"https://api.github.com/users/ridv/events{/privacy}","received_events_url":"https://api.github.com/users/ridv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T17:54:57Z","updated_at":"2021-06-01T17:54:57Z","author_association":"NONE","body":"> Could you squash all commits to increase readability of this history before merging?\r\n\r\nIn the past the commiter merging the change used the \"squash and merge\" strategy which has the same effect. So no need to do anything special  😄 . (In fact, it's probably better to leave the individual commits to see how the patch progressed which is a bit of a carry over from when reviews happened on Review Board) ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852330284/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852388266","html_url":"https://github.com/apache/mesos/pull/391#issuecomment-852388266","issue_url":"https://api.github.com/repos/apache/mesos/issues/391","id":852388266,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MjM4ODI2Ng==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-01T19:27:11Z","updated_at":"2021-06-01T19:27:11Z","author_association":"CONTRIBUTOR","body":"@asekretenko @qianzhangxa \r\n\r\nIt's really a corner case but it's causing one of the tests to fail on my box, and I'm trying to get them all to pass...","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852388266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852885997","html_url":"https://github.com/apache/mesos/pull/386#issuecomment-852885997","issue_url":"https://api.github.com/repos/apache/mesos/issues/386","id":852885997,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mjg4NTk5Nw==","user":{"login":"asekretenko","id":8353245,"node_id":"MDQ6VXNlcjgzNTMyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8353245?v=4","gravatar_id":"","url":"https://api.github.com/users/asekretenko","html_url":"https://github.com/asekretenko","followers_url":"https://api.github.com/users/asekretenko/followers","following_url":"https://api.github.com/users/asekretenko/following{/other_user}","gists_url":"https://api.github.com/users/asekretenko/gists{/gist_id}","starred_url":"https://api.github.com/users/asekretenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asekretenko/subscriptions","organizations_url":"https://api.github.com/users/asekretenko/orgs","repos_url":"https://api.github.com/users/asekretenko/repos","events_url":"https://api.github.com/users/asekretenko/events{/privacy}","received_events_url":"https://api.github.com/users/asekretenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T09:51:48Z","updated_at":"2021-06-02T09:51:48Z","author_association":"MEMBER","body":"@cf-natali Great job, and special thanks for the tests!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852885997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852899178","html_url":"https://github.com/apache/mesos/pull/386#issuecomment-852899178","issue_url":"https://api.github.com/repos/apache/mesos/issues/386","id":852899178,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Mjg5OTE3OA==","user":{"login":"asekretenko","id":8353245,"node_id":"MDQ6VXNlcjgzNTMyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8353245?v=4","gravatar_id":"","url":"https://api.github.com/users/asekretenko","html_url":"https://github.com/asekretenko","followers_url":"https://api.github.com/users/asekretenko/followers","following_url":"https://api.github.com/users/asekretenko/following{/other_user}","gists_url":"https://api.github.com/users/asekretenko/gists{/gist_id}","starred_url":"https://api.github.com/users/asekretenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asekretenko/subscriptions","organizations_url":"https://api.github.com/users/asekretenko/orgs","repos_url":"https://api.github.com/users/asekretenko/repos","events_url":"https://api.github.com/users/asekretenko/events{/privacy}","received_events_url":"https://api.github.com/users/asekretenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T10:08:49Z","updated_at":"2021-06-02T10:09:26Z","author_association":"MEMBER","body":"P.S. Looks like those who implemented backward-incompatible fixes in their private forks will either need one more backward-incompatible upgrade with clearing the log, or to patch out this fix. Given that the tests in this PR should work with alternative approaches to fixing `encode()` as well, this should not be a big deal in either case.\r\n\r\nIt might even be the case that upgrading from a straightforward 20-digit encoding to the encoding introduced by this patch is _functionally_ equivalent to simply dropping the log on a master: all the previously recorded 20-digit keys will become unreachable after an upgrade.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/852899178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/853135728","html_url":"https://github.com/apache/mesos/pull/391#issuecomment-853135728","issue_url":"https://api.github.com/repos/apache/mesos/issues/391","id":853135728,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzEzNTcyOA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T15:41:58Z","updated_at":"2021-06-02T15:42:28Z","author_association":"CONTRIBUTOR","body":"> root@thinkpad:~# LC_NUMERIC=fr_FR.UTF-8 perf stat --field-separator \"/\"\r\n> -- true\r\n> 0,31/msec/task-clock/306721/100,00/0/CPUs utilized\r\n> 0//context-switches/306721/100,00/0/K/sec\r\n> 0//cpu-migrations/306721/100,00/0/K/sec\r\n> 44//page-faults/306721/100,00/0/M/sec\r\n> 788234//cycles/311478/100,00/2/GHz\r\n> 538077//instructions/311478/100,00/0/insn per cycle\r\n> 106749//branches/311478/100,00/348/M/sec\r\n> 4556//branch-misses/311478/100,00/4/of all branches\r\n\r\nWhen I run `LC_NUMERIC=fr_FR.UTF-8 perf stat --field-separator \"/\" -- true` in my machine, I see something like:\r\n`0//cpu-migrations/779898/100.00/0.000/K/sec` which is different from yours, it seems still using `.` as decimal separator (i.e. `100.00` and `0.000`).","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/853135728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/853254919","html_url":"https://github.com/apache/mesos/pull/391#issuecomment-853254919","issue_url":"https://api.github.com/repos/apache/mesos/issues/391","id":853254919,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzI1NDkxOQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T17:46:53Z","updated_at":"2021-06-02T21:33:58Z","author_association":"CONTRIBUTOR","body":"> When I run `LC_NUMERIC=fr_FR.UTF-8 perf stat --field-separator \"/\" -- true` in my machine, I see something like:\r\n> `0//cpu-migrations/779898/100.00/0.000/K/sec` which is different from yours, it seems still using `.` as decimal separator (i.e. `100.00` and `0.000`).\r\n\r\nMight be because `LC_ALL` is set on your machine - try running:\r\n```\r\n# LC_ALL=fr_FR.UTF-8 perf stat --field-separator \"/\" -- true\r\n```\r\n\r\ninstead?\r\n\r\nIt's also possible you don't have the `fr_FR.UTF-8` locale generated, in which case it wouldn't work.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/853254919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/853916168","html_url":"https://github.com/apache/mesos/pull/391#issuecomment-853916168","issue_url":"https://api.github.com/repos/apache/mesos/issues/391","id":853916168,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzkxNjE2OA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T14:32:07Z","updated_at":"2021-06-03T14:32:07Z","author_association":"CONTRIBUTOR","body":"> It's also possible you don't have the `fr_FR.UTF-8` locale generated, in which case it wouldn't work.\r\n\r\nYeah, it's because that I did not have the `fr_FR.UTF-8` locale generated, now it works as expected. Thank you!\r\n\r\nBTW, I see in the output of your test, the number of tokens is 7 (e.g. `788234//cycles/311478/100,00/2/GHz`) which should fail in [this code](https://github.com/apache/mesos/blob/1.11.0/src/linux/perf.cpp#L364:L400) since there is no case 7, right?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/853916168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/854051032","html_url":"https://github.com/apache/mesos/pull/391#issuecomment-854051032","issue_url":"https://api.github.com/repos/apache/mesos/issues/391","id":854051032,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDA1MTAzMg==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T17:30:26Z","updated_at":"2021-06-03T17:32:54Z","author_association":"CONTRIBUTOR","body":"> BTW, I see in the output of your test, the number of tokens is 7 (e.g. 788234//cycles/311478/100,00/2/GHz) which should fail in this code since there is no case 7, right?\r\n\r\nYes this example wouldn't work anyway but that's because it doesn't specify the cgroup, whereas the actual code does (https://github.com/apache/mesos/blob/50b729904e4b4ed7964cd5f2ac8177bca5a5a72c/src/linux/perf.cpp#L288):\r\n\r\nNo `--cgroup` - 7 columns:\r\n```\r\nroot@thinkpad:~# perf stat --field-separator \"/\" --all-cpus -e cycles -- true\r\n1987580//cycles/3437534/100.00//\r\n```\r\n\r\n`--cgroup` - 8 columns:\r\n```\r\nroot@thinkpad:~# mkdir /sys/fs/cgroup/perf_event/test\r\nroot@thinkpad:~# perf stat --field-separator \"/\" --all-cpus -e cycles --cgroup test -- true\r\n<not counted>//cycles/test/0/100.00//\r\nroot@thinkpad:~# \r\n```\r\n\r\nThis MR definitely fixes the test :):\r\n```\r\nroot@thinkpad:/home/cf/src/mesos/build# LC_ALL=fr_FR.utf8 ./bin/mesos-tests.sh --gtest_filter=\"*CgroupsAnyHierarchyWithPerfEventTest.ROOT_CGROUPS_PERF_PerfTest*\"       \r\n[...]\r\n[==========] Running 1 test from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from CgroupsAnyHierarchyWithPerfEventTest\r\n[ RUN      ] CgroupsAnyHierarchyWithPerfEventTest.ROOT_CGROUPS_PERF_PerfTest\r\n[       OK ] CgroupsAnyHierarchyWithPerfEventTest.ROOT_CGROUPS_PERF_PerfTest (2227 ms)\r\n[----------] 1 test from CgroupsAnyHierarchyWithPerfEventTest (2227 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 1 test from 1 test case ran. (2241 ms total)\r\n[  PASSED  ] 1 test.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/854051032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/854755987","html_url":"https://github.com/apache/mesos/pull/391#issuecomment-854755987","issue_url":"https://api.github.com/repos/apache/mesos/issues/391","id":854755987,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDc1NTk4Nw==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-04T14:08:13Z","updated_at":"2021-06-04T14:08:13Z","author_association":"CONTRIBUTOR","body":"> Yes this example wouldn't work anyway but that's because it doesn't specify the cgroup, whereas the actual code does (\r\n\r\nAha, I see `perf::sample` will be a no-op if no cgroup is specified:\r\n```\r\nFuture<hashmap<string, mesos::PerfStatistics>> sample(\r\n    const set<string>& events,\r\n    const set<string>& cgroups,\r\n    const Duration& duration)\r\n{\r\n  // Is this a no-op?\r\n  if (cgroups.empty()) {\r\n    return hashmap<string, mesos::PerfStatistics>();\r\n  }\r\n\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/854755987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/855368613","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-855368613","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":855368613,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTM2ODYxMw==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-06T09:31:06Z","updated_at":"2021-06-06T09:31:06Z","author_association":"CONTRIBUTOR","body":"@asekretenko @qianzhangxa \r\nMaybe you could have a look at it?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/855368613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857591209","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-857591209","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":857591209,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NzU5MTIwOQ==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T10:46:56Z","updated_at":"2021-06-09T10:46:56Z","author_association":"CONTRIBUTOR","body":"> @asekretenko @qianzhangxa\r\n> Maybe you could have a look at it?\r\n\r\nSome feedback? :-) ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857591209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857682870","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-857682870","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":857682870,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NzY4Mjg3MA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T13:13:10Z","updated_at":"2021-06-09T13:13:10Z","author_association":"CONTRIBUTOR","body":"I am not very familiar with Python :(\r\n@asekretenko can you please review again?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857682870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857715024","html_url":"https://github.com/apache/mesos/pull/392#issuecomment-857715024","issue_url":"https://api.github.com/repos/apache/mesos/issues/392","id":857715024,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NzcxNTAyNA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T13:54:45Z","updated_at":"2021-06-09T13:54:45Z","author_association":"CONTRIBUTOR","body":"I see the fix in https://github.com/kazuho/picojson/commit/c8853367b0ad6ff6e76188e639a8e7f0706d4431 is pretty small, so can we just add it into our patch https://github.com/apache/mesos/blob/master/3rdparty/picojson-1.3.0.patch?\r\n\r\nBumping picojson to 1.3.1-dev will involve more changes which may have unknown impact.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857715024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857971389","html_url":"https://github.com/apache/mesos/pull/392#issuecomment-857971389","issue_url":"https://api.github.com/repos/apache/mesos/issues/392","id":857971389,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Nzk3MTM4OQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T18:44:13Z","updated_at":"2021-06-09T18:44:13Z","author_association":"CONTRIBUTOR","body":"Yes I was wondering about that, but:\r\n- the patch doesn't apply cleanly, because in the meantime they've reformatted the code\r\n- updating would allow us to get rid of this patch we maintain ourselves\r\n- I think the patch we currently apply is actually incomplete, upstream has a subsequent fix applied more recently: https://github.com/kazuho/picojson/commit/35ce0b6b03e0b60541258f5ad061003a696d9a34\r\n\r\nSo I can definitely apply the one-line change to our patch, just want to make sure that's the preferred option - @asekretenko  ?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/857971389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/860088425","html_url":"https://github.com/apache/mesos/pull/392#issuecomment-860088425","issue_url":"https://api.github.com/repos/apache/mesos/issues/392","id":860088425,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDA4ODQyNQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-12T18:03:53Z","updated_at":"2021-06-12T18:03:53Z","author_association":"CONTRIBUTOR","body":"OK I updated to just backport the specific change, let's get this merged!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/860088425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/860625051","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-860625051","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":860625051,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDYyNTA1MQ==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T11:54:43Z","updated_at":"2021-06-14T11:54:43Z","author_association":"CONTRIBUTOR","body":"@cf-natali Can you please let me know your kernel version and which test has the most possibility to fail due to this issue? I'd like to try to reproduce it in my machine.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/860625051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/860855361","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-860855361","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":860855361,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDg1NTM2MQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T17:20:51Z","updated_at":"2021-06-14T17:20:51Z","author_association":"CONTRIBUTOR","body":"Running the following usually reproduces the problem after a couple iterations:\r\n\r\n```\r\nroot@thinkpad:/home/cf/src/mesos/build# ./bin/mesos-tests.sh --gtest_filter=\"SlaveRecoveryTest/0.ExecutorDanglingLatestSymlink\" --gtest_repeat=-1 --gtest_break_on_failure                                         \r\n```\r\n\r\n```\r\nroot@thinkpad:~# uname -a\r\nLinux thinkpad 5.10.0-7-amd64 #1 SMP Debian 5.10.40-1 (2021-05-28) x86_64 GNU/Linux\r\n```\r\n\r\nI'll try to update the MR with the new approach soon.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/860855361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/863608013","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-863608013","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":863608013,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzYwODAxMw==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T22:41:55Z","updated_at":"2021-06-17T22:43:33Z","author_association":"CONTRIBUTOR","body":"@qianzhangxa Did you manage to reproduce it?\r\n\r\nThe updated MR only handles the discard at the beginning of a freeze/kill/thaw cycle, therefore ensuring we don't leave a cgroup frozen.\r\nObviously it means that discard will be ignored while the kill/thaw is in progress, but I think it's what we want since interrupting them would be quite bad, and in practice kill is non-blocking and thaw shouldn't block forever.\r\n\r\nI test this by:\r\n- running all the tests\r\n- running the failing test in a loop, adding logging to check that the discard code path was exercised (and `freezeTimedout`)\r\n- I ran a test continuously starting new tasks, using `strace --inject` as explained above to change timings and make timeouts more likely.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/863608013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/864067011","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-864067011","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":864067011,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDA2NzAxMQ==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-18T14:09:51Z","updated_at":"2021-06-18T14:09:51Z","author_association":"CONTRIBUTOR","body":"@cf-natali I did not upgrade the kernel of my machine yet (5.10.0 seems a bit too new for me). Thanks for updating the PR, I left a comment. ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/864067011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/864525538","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-864525538","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":864525538,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDUyNTUzOA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-20T09:29:06Z","updated_at":"2021-06-20T09:29:06Z","author_association":"CONTRIBUTOR","body":"> Which means that the task killer can be interrupted after it's frozen the cgroup, but before killing the tasks and thawing.\r\n\r\n@cf-natali I am a bit confused about this, if the cgroup is frozen, then I think we should see a log message like `Successfully froze cgroup ...`, right? But in the logs you pasted (see below), I do not see such message, it just tried to thaw the cgroup even the cgroup was not frozen. I am not sure why it can happen.\r\n\r\n```\r\nI0516 23:58:42.638830 466897 linux_launcher.cpp:606] Destroying cgroup '/sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558'\r\nI0516 23:58:42.639083 466898 composing.cpp:343] Finished recovering all containerizers\r\nI0516 23:58:42.639549 466898 cgroups.cpp:2934] Freezing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\nI0516 23:58:42.714794 466899 cgroups.cpp:2952] Thawing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\n```","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/864525538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/864587247","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-864587247","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":864587247,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDU4NzI0Nw==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-20T17:33:36Z","updated_at":"2021-06-20T17:33:36Z","author_association":"CONTRIBUTOR","body":"> > Which means that the task killer can be interrupted after it's frozen the cgroup, but before killing the tasks and thawing.\r\n> \r\n> @cf-natali I am a bit confused about this, if the cgroup is frozen, then I think we should see a log message like `Successfully froze cgroup ...`, right? But in the logs you pasted (see below), I do not see such message, it just tried to thaw the cgroup even the cgroup was not frozen. I am not sure why it can happen.\r\n> \r\n> ```\r\n> I0516 23:58:42.638830 466897 linux_launcher.cpp:606] Destroying cgroup '/sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558'\r\n> I0516 23:58:42.639083 466898 composing.cpp:343] Finished recovering all containerizers\r\n> I0516 23:58:42.639549 466898 cgroups.cpp:2934] Freezing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\n> I0516 23:58:42.714794 466899 cgroups.cpp:2952] Thawing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\n> ```\r\n\r\nIt happens in case of freeze timeout: https://github.com/apache/mesos/blob/master/src/linux/cgroups.cpp#L1423\r\n\r\nThe freeze is discarded, then it calls `kill` - which doesn't log anything - then it calls `thaw`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/864587247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/866021443","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-866021443","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":866021443,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjAyMTQ0Mw==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T14:14:18Z","updated_at":"2021-06-22T14:14:18Z","author_association":"CONTRIBUTOR","body":"> It happens in case of freeze timeout: https://github.com/apache/mesos/blob/master/src/linux/cgroups.cpp#L1423\r\n> The freeze is discarded, then it calls kill - which doesn't log anything - then it calls thaw.\r\n\r\nI see the timeout for freeze is 10 seconds (`FREEZE_RETRY_INTERVAL`), so if that occurs, there should be ~10s interval between the log messages `Freezing cgroup ...` and `Thawing cgroup ...`, but that's not the case in the log messages you posted:\r\n```\r\nI0516 23:58:42.638830 466897 linux_launcher.cpp:606] Destroying cgroup '/sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558'\r\nI0516 23:58:42.639083 466898 composing.cpp:343] Finished recovering all containerizers\r\nI0516 23:58:42.639549 466898 cgroups.cpp:2934] Freezing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\nI0516 23:58:42.714794 466899 cgroups.cpp:2952] Thawing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\n```","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/866021443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/866026881","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-866026881","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":866026881,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjAyNjg4MQ==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T14:21:01Z","updated_at":"2021-06-22T14:21:01Z","author_association":"CONTRIBUTOR","body":"I do not have any comments for the code changes in this PR, @asekretenko Do you have further comments?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/866026881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/866194661","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-866194661","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":866194661,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjE5NDY2MQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T17:41:51Z","updated_at":"2021-06-22T17:41:51Z","author_association":"CONTRIBUTOR","body":"> > It happens in case of freeze timeout: https://github.com/apache/mesos/blob/master/src/linux/cgroups.cpp#L1423\r\n> > The freeze is discarded, then it calls kill - which doesn't log anything - then it calls thaw.\r\n> \r\n> I see the timeout for freeze is 10 seconds (`FREEZE_RETRY_INTERVAL`), so if that occurs, there should be ~10s interval between the log messages `Freezing cgroup ...` and `Thawing cgroup ...`, but that's not the case in the log messages you posted:\r\n> \r\n> ```\r\n> I0516 23:58:42.638830 466897 linux_launcher.cpp:606] Destroying cgroup '/sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558'\r\n> I0516 23:58:42.639083 466898 composing.cpp:343] Finished recovering all containerizers\r\n> I0516 23:58:42.639549 466898 cgroups.cpp:2934] Freezing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\n> I0516 23:58:42.714794 466899 cgroups.cpp:2952] Thawing cgroup /sys/fs/cgroup/freezer/mesos_test_98d2814b-03ad-4c14-a3f9-832ab688e386/3139257f-4e7a-4828-9af4-75c867846558\r\n> ```\r\n\r\nThat's because the test uses `Clock::pause`, `Clock::advance` and `Clock::settle` to advance the time, hence the freeze timeout occurs really quickly.\r\nThat's probably why this test is the most effective one at reproducing the issue :).","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/866194661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867184325","html_url":"https://github.com/apache/mesos/pull/394#issuecomment-867184325","issue_url":"https://api.github.com/repos/apache/mesos/issues/394","id":867184325,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzE4NDMyNQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T21:49:46Z","updated_at":"2021-06-23T21:49:46Z","author_association":"CONTRIBUTOR","body":"LGTM - @qianzhangxa can you review and merge?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867184325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867602814","html_url":"https://github.com/apache/mesos/pull/394#issuecomment-867602814","issue_url":"https://api.github.com/repos/apache/mesos/issues/394","id":867602814,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzYwMjgxNA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T12:38:12Z","updated_at":"2021-06-24T12:38:12Z","author_association":"CONTRIBUTOR","body":"> LGTM - @qianzhangxa can you review and merge?\r\n\r\nSure. Thanks @surahman for your contribution!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867602814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867711565","html_url":"https://github.com/apache/mesos/pull/394#issuecomment-867711565","issue_url":"https://api.github.com/repos/apache/mesos/issues/394","id":867711565,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzcxMTU2NQ==","user":{"login":"surahman","id":3979925,"node_id":"MDQ6VXNlcjM5Nzk5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3979925?v=4","gravatar_id":"","url":"https://api.github.com/users/surahman","html_url":"https://github.com/surahman","followers_url":"https://api.github.com/users/surahman/followers","following_url":"https://api.github.com/users/surahman/following{/other_user}","gists_url":"https://api.github.com/users/surahman/gists{/gist_id}","starred_url":"https://api.github.com/users/surahman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surahman/subscriptions","organizations_url":"https://api.github.com/users/surahman/orgs","repos_url":"https://api.github.com/users/surahman/repos","events_url":"https://api.github.com/users/surahman/events{/privacy}","received_events_url":"https://api.github.com/users/surahman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T15:06:48Z","updated_at":"2021-06-24T15:06:48Z","author_association":"MEMBER","body":"@cf-natali and @qianzhangxa thank you, I am looking forward to making more substantial contributions going forward.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867711565/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867886666","html_url":"https://github.com/apache/mesos/pull/364#issuecomment-867886666","issue_url":"https://api.github.com/repos/apache/mesos/issues/364","id":867886666,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzg4NjY2Ng==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T19:11:21Z","updated_at":"2021-06-24T19:11:21Z","author_association":"CONTRIBUTOR","body":"It seems to be actually due to an openjdk bug which has been fixed and backported:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8212233\r\n\r\n@surahman confirmed that it works fine on a recent Ubuntu.\r\n\r\n@qianzhangxa can you close this PR?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/867886666/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/868494976","html_url":"https://github.com/apache/mesos/pull/364#issuecomment-868494976","issue_url":"https://api.github.com/repos/apache/mesos/issues/364","id":868494976,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQ5NDk3Ng==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T13:20:30Z","updated_at":"2021-06-25T13:20:30Z","author_association":"CONTRIBUTOR","body":"Sure, thanks @cf-natali and @surahman!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/868494976/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/868496475","html_url":"https://github.com/apache/mesos/pull/364#issuecomment-868496475","issue_url":"https://api.github.com/repos/apache/mesos/issues/364","id":868496475,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQ5NjQ3NQ==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T13:22:31Z","updated_at":"2021-06-25T13:22:31Z","author_association":"CONTRIBUTOR","body":"Oh, actually I do not have the permission to manually close PRs in GitHub, I will ask for that.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/868496475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/870806793","html_url":"https://github.com/apache/mesos/pull/397#issuecomment-870806793","issue_url":"https://api.github.com/repos/apache/mesos/issues/397","id":870806793,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDgwNjc5Mw==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T18:07:35Z","updated_at":"2021-06-29T18:07:35Z","author_association":"CONTRIBUTOR","body":"It's really  a simple change, so if anyone could have a look, that'd be great.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/870806793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/870813317","html_url":"https://github.com/apache/mesos/pull/397#issuecomment-870813317","issue_url":"https://api.github.com/repos/apache/mesos/issues/397","id":870813317,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDgxMzMxNw==","user":{"login":"bmahler","id":606213,"node_id":"MDQ6VXNlcjYwNjIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/606213?v=4","gravatar_id":"","url":"https://api.github.com/users/bmahler","html_url":"https://github.com/bmahler","followers_url":"https://api.github.com/users/bmahler/followers","following_url":"https://api.github.com/users/bmahler/following{/other_user}","gists_url":"https://api.github.com/users/bmahler/gists{/gist_id}","starred_url":"https://api.github.com/users/bmahler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmahler/subscriptions","organizations_url":"https://api.github.com/users/bmahler/orgs","repos_url":"https://api.github.com/users/bmahler/repos","events_url":"https://api.github.com/users/bmahler/events{/privacy}","received_events_url":"https://api.github.com/users/bmahler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T18:17:40Z","updated_at":"2021-06-29T18:17:40Z","author_association":"CONTRIBUTOR","body":"makes sense, thanks for fixing this","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/870813317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871401822","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-871401822","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":871401822,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTQwMTgyMg==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T13:24:17Z","updated_at":"2021-06-30T13:24:17Z","author_association":"CONTRIBUTOR","body":"@andreaspeters The changes for persisting asf.yaml configuration seems not related to MESOS-10225, right? Could you please create a dedicated PR for that?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871401822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871405491","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-871405491","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":871405491,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTQwNTQ5MQ==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T13:29:08Z","updated_at":"2021-06-30T13:29:08Z","author_association":"CONTRIBUTOR","body":"No problem, but then it's important to merge the (new) asf PR first and then these PR therefore the jenkins websitebot will not remove the current .asf.yaml. :-) Is that ok for you?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871405491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871408080","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-871408080","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":871408080,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTQwODA4MA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T13:32:34Z","updated_at":"2021-06-30T13:32:34Z","author_association":"CONTRIBUTOR","body":"> No problem, but then it's important to merge the (new) asf PR first and then these PR therefore the jenkins websitebot will not remove the current .asf.yaml. :-) Is that ok for you?\r\n\r\nDo you mean merge the new asf.yaml PR before merging this PR? I do not quite follow, I think they are totally separate PRs, right? Why is there such a dependency?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871408080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871412537","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-871412537","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":871412537,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTQxMjUzNw==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T13:38:23Z","updated_at":"2021-06-30T13:38:23Z","author_association":"CONTRIBUTOR","body":"Yes thats what I mean. And normally u are right, it's should be two PR's. \r\nSo, the relation between both is the website. If we change the docs, that will also change the website and jenkins will generate and publish it. The website generation is doing by middleman and if it see the current asf.yaml then he will removed it because it's not a part of his configuration.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871412537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871428749","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-871428749","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":871428749,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTQyODc0OQ==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T13:57:57Z","updated_at":"2021-06-30T13:57:57Z","author_association":"CONTRIBUTOR","body":"Ok, I open a seperated PR for the asf.yaml. :-)  https://github.com/apache/mesos/pull/399","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871428749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871993554","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-871993554","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":871993554,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTk5MzU1NA==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T07:21:35Z","updated_at":"2021-07-01T07:21:35Z","author_association":"CONTRIBUTOR","body":"Everything solved. Later, I will build the website to have a look if everything is fine and then push the changes. ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/871993554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872260972","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-872260972","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":872260972,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjI2MDk3Mg==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T13:45:47Z","updated_at":"2021-07-01T13:45:47Z","author_association":"CONTRIBUTOR","body":"@andreaspeters Could you please update the commit message by removing `persist asf.yaml configuration` from there?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872260972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872261301","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-872261301","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":872261301,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjI2MTMwMQ==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T13:46:12Z","updated_at":"2021-07-01T13:46:12Z","author_association":"CONTRIBUTOR","body":"> @andreaspeters Could you please update the commit message by removing `persist asf.yaml configuration` from there?\r\n\r\nI will. :+1: ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872261301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872281697","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-872281697","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":872281697,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjI4MTY5Nw==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T14:11:37Z","updated_at":"2021-07-01T14:11:37Z","author_association":"CONTRIBUTOR","body":"I was able to build the website without errors. U can merge it @qianzhangxa if u like. :-) ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872281697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872475029","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-872475029","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":872475029,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjQ3NTAyOQ==","user":{"login":"asekretenko","id":8353245,"node_id":"MDQ6VXNlcjgzNTMyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8353245?v=4","gravatar_id":"","url":"https://api.github.com/users/asekretenko","html_url":"https://github.com/asekretenko","followers_url":"https://api.github.com/users/asekretenko/followers","following_url":"https://api.github.com/users/asekretenko/following{/other_user}","gists_url":"https://api.github.com/users/asekretenko/gists{/gist_id}","starred_url":"https://api.github.com/users/asekretenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asekretenko/subscriptions","organizations_url":"https://api.github.com/users/asekretenko/orgs","repos_url":"https://api.github.com/users/asekretenko/repos","events_url":"https://api.github.com/users/asekretenko/events{/privacy}","received_events_url":"https://api.github.com/users/asekretenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T18:53:22Z","updated_at":"2021-07-01T18:53:22Z","author_association":"MEMBER","body":"Other than this question about the `condition` logic, I don't see any other issues.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872475029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872998598","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-872998598","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":872998598,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Mjk5ODU5OA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T13:27:54Z","updated_at":"2021-07-02T13:27:54Z","author_association":"CONTRIBUTOR","body":"> I was able to build the website without errors. U can merge it @qianzhangxa if u like. :-)\r\n\r\n@andreaspeters Did you mean https://github.com/apache/mesos/pull/399 is ready for merge now?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/872998598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/873075855","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-873075855","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":873075855,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzA3NTg1NQ==","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T15:18:29Z","updated_at":"2021-07-02T15:18:29Z","author_association":"CONTRIBUTOR","body":"> > I was able to build the website without errors. U can merge it @qianzhangxa if u like. :-)\r\n> \r\n> @andreaspeters Did you mean #399 is ready for merge now?\r\n\r\n#399 is ready, yes. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/873075855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/873976871","html_url":"https://github.com/apache/mesos/pull/372#issuecomment-873976871","issue_url":"https://api.github.com/repos/apache/mesos/issues/372","id":873976871,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Mzk3Njg3MQ==","user":{"login":"kamaradclimber","id":503537,"node_id":"MDQ6VXNlcjUwMzUzNw==","avatar_url":"https://avatars.githubusercontent.com/u/503537?v=4","gravatar_id":"","url":"https://api.github.com/users/kamaradclimber","html_url":"https://github.com/kamaradclimber","followers_url":"https://api.github.com/users/kamaradclimber/followers","following_url":"https://api.github.com/users/kamaradclimber/following{/other_user}","gists_url":"https://api.github.com/users/kamaradclimber/gists{/gist_id}","starred_url":"https://api.github.com/users/kamaradclimber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamaradclimber/subscriptions","organizations_url":"https://api.github.com/users/kamaradclimber/orgs","repos_url":"https://api.github.com/users/kamaradclimber/repos","events_url":"https://api.github.com/users/kamaradclimber/events{/privacy}","received_events_url":"https://api.github.com/users/kamaradclimber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-05T09:54:29Z","updated_at":"2021-07-05T09:54:29Z","author_association":"CONTRIBUTOR","body":"@zorro786 are you still interested?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/873976871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/874096130","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-874096130","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":874096130,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDA5NjEzMA==","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-05T13:03:37Z","updated_at":"2021-07-05T13:03:37Z","author_association":"CONTRIBUTOR","body":"> > > I was able to build the website without errors. U can merge it @qianzhangxa if u like. :-)\r\n> > \r\n> > \r\n> > @andreaspeters Did you mean #399 is ready for merge now?\r\n> \r\n> #399 is ready, yes.\r\n\r\nMerged it, thanks!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/874096130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/880204475","html_url":"https://github.com/apache/mesos/pull/398#issuecomment-880204475","issue_url":"https://api.github.com/repos/apache/mesos/issues/398","id":880204475,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDIwNDQ3NQ==","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T20:57:22Z","updated_at":"2021-07-14T20:57:22Z","author_association":"CONTRIBUTOR","body":"@andreaspeters thanks for taking care of this!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/880204475/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/882023310","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-882023310","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":882023310,"node_id":"IC_kwDOAK8Cf840kpuO","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-18T08:51:27Z","updated_at":"2021-07-18T08:51:27Z","author_association":"CONTRIBUTOR","body":"Can we merge it please?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/882023310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/883709170","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-883709170","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":883709170,"node_id":"IC_kwDOAK8Cf840rFTy","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T21:07:40Z","updated_at":"2021-07-20T21:07:40Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nAnything preventing to merge this?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/883709170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/883709924","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-883709924","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":883709924,"node_id":"IC_kwDOAK8Cf840rFfk","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T21:09:01Z","updated_at":"2021-07-20T21:09:01Z","author_association":"CONTRIBUTOR","body":"Yeah this PR has been open for a while now, and @andreaspeters has addressed all the comments.\r\nI reviewed it and it looks good to me, although I don't use Python with Mesos at all.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/883709924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/884177186","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-884177186","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":884177186,"node_id":"IC_kwDOAK8Cf840s3ki","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T13:10:09Z","updated_at":"2021-07-21T13:10:09Z","author_association":"CONTRIBUTOR","body":"Sorry for the late response, I have merged it, thanks for the contributions @andreaspeters!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/884177186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/884179745","html_url":"https://github.com/apache/mesos/pull/383#issuecomment-884179745","issue_url":"https://api.github.com/repos/apache/mesos/issues/383","id":884179745,"node_id":"IC_kwDOAK8Cf840s4Mh","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T13:13:37Z","updated_at":"2021-07-21T13:13:37Z","author_association":"CONTRIBUTOR","body":"No problem @qianzhangxa. Your welcome. :-) ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/884179745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/884181032","html_url":"https://github.com/apache/mesos/pull/388#issuecomment-884181032","issue_url":"https://api.github.com/repos/apache/mesos/issues/388","id":884181032,"node_id":"IC_kwDOAK8Cf840s4go","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T13:15:26Z","updated_at":"2021-07-21T13:15:26Z","author_association":"CONTRIBUTOR","body":"Sorry for the late response, I have merged it, thanks for your contributions @cf-natali!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/884181032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/887481342","html_url":"https://github.com/apache/mesos/pull/400#issuecomment-887481342","issue_url":"https://api.github.com/repos/apache/mesos/issues/400","id":887481342,"node_id":"IC_kwDOAK8Cf8405eP-","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T12:45:59Z","updated_at":"2021-07-27T12:45:59Z","author_association":"CONTRIBUTOR","body":"Merged, thanks @cf-natali for your contribution!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/887481342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895266629","html_url":"https://github.com/apache/mesos/pull/402#issuecomment-895266629","issue_url":"https://api.github.com/repos/apache/mesos/issues/402","id":895266629,"node_id":"IC_kwDOAK8Cf841XK9F","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T14:22:15Z","updated_at":"2021-08-09T14:22:15Z","author_association":"CONTRIBUTOR","body":"I have merged this PR, thanks @cf-natali for your contributions!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895266629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895418868","html_url":"https://github.com/apache/mesos/pull/403#issuecomment-895418868","issue_url":"https://api.github.com/repos/apache/mesos/issues/403","id":895418868,"node_id":"IC_kwDOAK8Cf841XwH0","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T17:51:17Z","updated_at":"2021-08-09T17:51:17Z","author_association":"CONTRIBUTOR","body":"@qianzhangxa \r\nI don't seem to have merge permissions yet?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895418868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895624470","html_url":"https://github.com/apache/mesos/pull/403#issuecomment-895624470","issue_url":"https://api.github.com/repos/apache/mesos/issues/403","id":895624470,"node_id":"IC_kwDOAK8Cf841YiUW","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T23:45:24Z","updated_at":"2021-08-09T23:45:24Z","author_association":"CONTRIBUTOR","body":"> I don't seem to have merge permissions yet?\r\n\r\n@cf-natali What we usually do is to run `support/apply-reviews.py -g <PR-number>` (e.g. `support/apply-reviews.py -g 403` for this PR) to apply the changes of a PR on top of the latest code of `master` branch, and then run `git push` to push the commit to the remote (https://gitbox.apache.org/repos/asf/mesos.git) which will also automatically close the PR. I think you already have the push permission now. Once the commit gets pushed, it will also trigger a build in https://builds.apache.org/job/Mesos/job/Mesos-Buildbot/, we need to check if that build has any failures.\r\n\r\nPlease note, https://github.com/apache/mesos.git is just a mirror of https://gitbox.apache.org/repos/asf/mesos.git, so I do not think we should directly merge MRs in it.\r\n\r\nPlease also add yourself into https://github.com/apache/mesos/blob/master/docs/committers.md, thanks!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895624470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895627816","html_url":"https://github.com/apache/mesos/pull/403#issuecomment-895627816","issue_url":"https://api.github.com/repos/apache/mesos/issues/403","id":895627816,"node_id":"IC_kwDOAK8Cf841YjIo","user":{"login":"qianzhangxa","id":16984932,"node_id":"MDQ6VXNlcjE2OTg0OTMy","avatar_url":"https://avatars.githubusercontent.com/u/16984932?v=4","gravatar_id":"","url":"https://api.github.com/users/qianzhangxa","html_url":"https://github.com/qianzhangxa","followers_url":"https://api.github.com/users/qianzhangxa/followers","following_url":"https://api.github.com/users/qianzhangxa/following{/other_user}","gists_url":"https://api.github.com/users/qianzhangxa/gists{/gist_id}","starred_url":"https://api.github.com/users/qianzhangxa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qianzhangxa/subscriptions","organizations_url":"https://api.github.com/users/qianzhangxa/orgs","repos_url":"https://api.github.com/users/qianzhangxa/repos","events_url":"https://api.github.com/users/qianzhangxa/events{/privacy}","received_events_url":"https://api.github.com/users/qianzhangxa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T23:55:56Z","updated_at":"2021-08-09T23:55:56Z","author_association":"CONTRIBUTOR","body":"@cf-natali And I think you do need the write permission of the following two projects so you can close stale PRs for 1 and may need to merge PRs for 2.\r\n\r\n1. https://github.com/apache/mesos\r\n2. https://github.com/apache/mesos-site\r\n\r\nTo get the write permission, you need to link your GitHub and Apache accounts via https://gitbox.apache.org/setup/.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/895627816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/896326141","html_url":"https://github.com/apache/mesos/pull/403#issuecomment-896326141","issue_url":"https://api.github.com/repos/apache/mesos/issues/403","id":896326141,"node_id":"IC_kwDOAK8Cf841bNn9","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T21:26:03Z","updated_at":"2021-08-10T21:26:03Z","author_association":"CONTRIBUTOR","body":"Thanks!\r\n\r\nIf this looks OK to you I'll merge :).","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/896326141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/899592853","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-899592853","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":899592853,"node_id":"IC_kwDOAK8Cf841nrKV","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T15:15:02Z","updated_at":"2021-08-16T15:15:02Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nI'm on holiday so I'll have a look when I'm back, unless someone else beats me to it.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/899592853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/899649417","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-899649417","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":899649417,"node_id":"IC_kwDOAK8Cf841n4-J","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-16T16:32:15Z","updated_at":"2021-08-16T16:32:15Z","author_association":"CONTRIBUTOR","body":":joy: Take your time and enjoy your holiday. ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/899649417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/908512305","html_url":"https://github.com/apache/mesos/pull/406#issuecomment-908512305","issue_url":"https://api.github.com/repos/apache/mesos/issues/406","id":908512305,"node_id":"IC_kwDOAK8Cf842Jswx","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-30T16:59:06Z","updated_at":"2021-08-30T16:59:06Z","author_association":"CONTRIBUTOR","body":"Thanks @martin-g !","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/908512305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912048089","html_url":"https://github.com/apache/mesos/pull/407#issuecomment-912048089","issue_url":"https://api.github.com/repos/apache/mesos/issues/407","id":912048089,"node_id":"IC_kwDOAK8Cf842XL_Z","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T20:53:28Z","updated_at":"2021-09-02T20:53:28Z","author_association":"CONTRIBUTOR","body":"Hi @ridv , I'm not against backporting, but are you aware that you can build by passing `--disable-Werror`?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912048089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912057976","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-912057976","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":912057976,"node_id":"IC_kwDOAK8Cf842XOZ4","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:07:56Z","updated_at":"2021-09-02T21:07:56Z","author_association":"CONTRIBUTOR","body":"> I think it would be better to split the changes to the task plugin into its own MR.\r\n\r\nOh please don't push me to split it. :-( Thats very painfull. There will be more PR's for the mesos-cli in the future. Then I will keep an eye to separate it.   ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912057976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912063682","html_url":"https://github.com/apache/mesos/pull/407#issuecomment-912063682","issue_url":"https://api.github.com/repos/apache/mesos/issues/407","id":912063682,"node_id":"IC_kwDOAK8Cf842XPzC","user":{"login":"ridv","id":1643994,"node_id":"MDQ6VXNlcjE2NDM5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1643994?v=4","gravatar_id":"","url":"https://api.github.com/users/ridv","html_url":"https://github.com/ridv","followers_url":"https://api.github.com/users/ridv/followers","following_url":"https://api.github.com/users/ridv/following{/other_user}","gists_url":"https://api.github.com/users/ridv/gists{/gist_id}","starred_url":"https://api.github.com/users/ridv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ridv/subscriptions","organizations_url":"https://api.github.com/users/ridv/orgs","repos_url":"https://api.github.com/users/ridv/repos","events_url":"https://api.github.com/users/ridv/events{/privacy}","received_events_url":"https://api.github.com/users/ridv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:16:30Z","updated_at":"2021-09-02T21:16:30Z","author_association":"NONE","body":"Blissfully unaware of the numerous build options for different C++ building tools 😊\n\nStill not ideal to have to start building the project and (depending on the machine) waiting around a bunch of time only to have to kick start the process again.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912063682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912077769","html_url":"https://github.com/apache/mesos/pull/407#issuecomment-912077769","issue_url":"https://api.github.com/repos/apache/mesos/issues/407","id":912077769,"node_id":"IC_kwDOAK8Cf842XTPJ","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:40:17Z","updated_at":"2021-09-02T21:40:17Z","author_association":"CONTRIBUTOR","body":"Fair enough!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912077769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912080577","html_url":"https://github.com/apache/mesos/pull/407#issuecomment-912080577","issue_url":"https://api.github.com/repos/apache/mesos/issues/407","id":912080577,"node_id":"IC_kwDOAK8Cf842XT7B","user":{"login":"ridv","id":1643994,"node_id":"MDQ6VXNlcjE2NDM5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1643994?v=4","gravatar_id":"","url":"https://api.github.com/users/ridv","html_url":"https://github.com/ridv","followers_url":"https://api.github.com/users/ridv/followers","following_url":"https://api.github.com/users/ridv/following{/other_user}","gists_url":"https://api.github.com/users/ridv/gists{/gist_id}","starred_url":"https://api.github.com/users/ridv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ridv/subscriptions","organizations_url":"https://api.github.com/users/ridv/orgs","repos_url":"https://api.github.com/users/ridv/repos","events_url":"https://api.github.com/users/ridv/events{/privacy}","received_events_url":"https://api.github.com/users/ridv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:45:36Z","updated_at":"2021-09-02T21:45:36Z","author_association":"NONE","body":"Thanks @cf-natali, appreciate you sharing that workaround with me! (and for submitting the original patch to fix that error 👍🏼 )","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912080577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912082594","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-912082594","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":912082594,"node_id":"IC_kwDOAK8Cf842XUai","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:49:21Z","updated_at":"2021-09-02T21:49:21Z","author_association":"CONTRIBUTOR","body":"> > I think it would be better to split the changes to the task plugin into its own MR.\r\n> \r\n> Oh please don't push me to split it. :-( Thats very painfull. There will be more PR's for the mesos-cli in the future. Then I will keep an eye to separate it.\r\n\r\nReally?\r\nThe problem is that fundamentally this MR contains two unrelated changes, so it'd be nice to separate.\r\nEither to review, commit, and revert if necessary...","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912082594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912083983","html_url":"https://github.com/apache/mesos/pull/407#issuecomment-912083983","issue_url":"https://api.github.com/repos/apache/mesos/issues/407","id":912083983,"node_id":"IC_kwDOAK8Cf842XUwP","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:51:57Z","updated_at":"2021-09-02T21:51:57Z","author_association":"CONTRIBUTOR","body":"You're welcome!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912083983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912085063","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-912085063","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":912085063,"node_id":"IC_kwDOAK8Cf842XVBH","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T21:53:47Z","updated_at":"2021-09-02T21:54:51Z","author_association":"CONTRIBUTOR","body":"> > > I think it would be better to split the changes to the task plugin into its own MR.\r\n> > \r\n> > \r\n> > Oh please don't push me to split it. :-( Thats very painfull. There will be more PR's for the mesos-cli in the future. Then I will keep an eye to separate it.\r\n> \r\n> Really?\r\n> The problem is that fundamentally this MR contains two unrelated changes, so it'd be nice to separate.\r\n> Either to review, commit, and revert if necessary...\r\n\r\nCharles u are killing me. :joy:  But I will do it because u are right.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912085063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912429455","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-912429455","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":912429455,"node_id":"IC_kwDOAK8Cf842YpGP","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T10:19:06Z","updated_at":"2021-10-25T09:38:08Z","author_association":"CONTRIBUTOR","body":"Shell I open three PR's? Technically  there are three kind of changes.\r\n\r\n1. Add Framework Plugins\r\n2. Update Task Plugins\r\n3. [x]  Update mesos_cli lib.\r\n\r\nWhat do u think?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912429455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912724891","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-912724891","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":912724891,"node_id":"IC_kwDOAK8Cf842ZxOb","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T18:20:06Z","updated_at":"2021-09-03T18:20:06Z","author_association":"CONTRIBUTOR","body":"Sounds good!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/912724891/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/917370232","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-917370232","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":917370232,"node_id":"IC_kwDOAK8Cf842rfV4","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-11T08:52:12Z","updated_at":"2021-09-11T08:52:12Z","author_association":"CONTRIBUTOR","body":"@andreaspeters how's the refactoring going? :)","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/917370232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/918021712","html_url":"https://github.com/apache/mesos/pull/405#issuecomment-918021712","issue_url":"https://api.github.com/repos/apache/mesos/issues/405","id":918021712,"node_id":"IC_kwDOAK8Cf842t-ZQ","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T09:47:41Z","updated_at":"2021-09-13T09:47:41Z","author_association":"CONTRIBUTOR","body":"> @andreaspeters how's the refactoring going? :)\r\n\r\nDidn't found the time the last week. Hopefully the next two weeks. ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/918021712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/923319528","html_url":"https://github.com/apache/mesos/pull/408#issuecomment-923319528","issue_url":"https://api.github.com/repos/apache/mesos/issues/408","id":923319528,"node_id":"IC_kwDOAK8Cf843CLzo","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-20T21:18:05Z","updated_at":"2021-09-20T21:18:05Z","author_association":"CONTRIBUTOR","body":"@asekretenko Are you happy with the MR?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/923319528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/927349879","html_url":"https://github.com/apache/mesos/pull/408#issuecomment-927349879","issue_url":"https://api.github.com/repos/apache/mesos/issues/408","id":927349879,"node_id":"IC_kwDOAK8Cf843Rjx3","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-26T18:31:32Z","updated_at":"2021-09-26T18:31:32Z","author_association":"CONTRIBUTOR","body":"@asekretenko @qianzhangxa So what do you think, OK for me to merge?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/927349879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/932460110","html_url":"https://github.com/apache/mesos/pull/410#issuecomment-932460110","issue_url":"https://api.github.com/repos/apache/mesos/issues/410","id":932460110,"node_id":"IC_kwDOAK8Cf843lDZO","user":{"login":"bmahler","id":606213,"node_id":"MDQ6VXNlcjYwNjIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/606213?v=4","gravatar_id":"","url":"https://api.github.com/users/bmahler","html_url":"https://github.com/bmahler","followers_url":"https://api.github.com/users/bmahler/followers","following_url":"https://api.github.com/users/bmahler/following{/other_user}","gists_url":"https://api.github.com/users/bmahler/gists{/gist_id}","starred_url":"https://api.github.com/users/bmahler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmahler/subscriptions","organizations_url":"https://api.github.com/users/bmahler/orgs","repos_url":"https://api.github.com/users/bmahler/repos","events_url":"https://api.github.com/users/bmahler/events{/privacy}","received_events_url":"https://api.github.com/users/bmahler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T18:28:40Z","updated_at":"2021-10-01T18:28:40Z","author_association":"CONTRIBUTOR","body":"While you're here, would you mind updating it to grab a single clock now value at the beginning? The double call makes it tricky to reason about the overflow logic holding true on the second calls as well.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/932460110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/932461797","html_url":"https://github.com/apache/mesos/pull/410#issuecomment-932461797","issue_url":"https://api.github.com/repos/apache/mesos/issues/410","id":932461797,"node_id":"IC_kwDOAK8Cf843lDzl","user":{"login":"bmahler","id":606213,"node_id":"MDQ6VXNlcjYwNjIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/606213?v=4","gravatar_id":"","url":"https://api.github.com/users/bmahler","html_url":"https://github.com/bmahler","followers_url":"https://api.github.com/users/bmahler/followers","following_url":"https://api.github.com/users/bmahler/following{/other_user}","gists_url":"https://api.github.com/users/bmahler/gists{/gist_id}","starred_url":"https://api.github.com/users/bmahler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmahler/subscriptions","organizations_url":"https://api.github.com/users/bmahler/orgs","repos_url":"https://api.github.com/users/bmahler/repos","events_url":"https://api.github.com/users/bmahler/events{/privacy}","received_events_url":"https://api.github.com/users/bmahler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T18:31:31Z","updated_at":"2021-10-01T18:31:31Z","author_association":"CONTRIBUTOR","body":"One more thing, we have to have PRs split across changes to stout/libprocess/mesos, so you'd need one patch for the timeout header and one for the mesos test.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/932461797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933005286","html_url":"https://github.com/apache/mesos/pull/409#issuecomment-933005286","issue_url":"https://api.github.com/repos/apache/mesos/issues/409","id":933005286,"node_id":"IC_kwDOAK8Cf843nIfm","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T18:49:53Z","updated_at":"2021-10-03T18:49:53Z","author_association":"CONTRIBUTOR","body":"Thanks, looking forward to the other MRs!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933005286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933005385","html_url":"https://github.com/apache/mesos/pull/408#issuecomment-933005385","issue_url":"https://api.github.com/repos/apache/mesos/issues/408","id":933005385,"node_id":"IC_kwDOAK8Cf843nIhJ","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T18:50:27Z","updated_at":"2021-10-03T18:50:27Z","author_association":"CONTRIBUTOR","body":"Unless anyone opposes I'll merge this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933005385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933719487","html_url":"https://github.com/apache/mesos/pull/410#issuecomment-933719487","issue_url":"https://api.github.com/repos/apache/mesos/issues/410","id":933719487,"node_id":"IC_kwDOAK8Cf843p22_","user":{"login":"bmahler","id":606213,"node_id":"MDQ6VXNlcjYwNjIxMw==","avatar_url":"https://avatars.githubusercontent.com/u/606213?v=4","gravatar_id":"","url":"https://api.github.com/users/bmahler","html_url":"https://github.com/bmahler","followers_url":"https://api.github.com/users/bmahler/followers","following_url":"https://api.github.com/users/bmahler/following{/other_user}","gists_url":"https://api.github.com/users/bmahler/gists{/gist_id}","starred_url":"https://api.github.com/users/bmahler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bmahler/subscriptions","organizations_url":"https://api.github.com/users/bmahler/orgs","repos_url":"https://api.github.com/users/bmahler/repos","events_url":"https://api.github.com/users/bmahler/events{/privacy}","received_events_url":"https://api.github.com/users/bmahler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-04T17:57:24Z","updated_at":"2021-10-04T17:57:24Z","author_association":"CONTRIBUTOR","body":"Looks good, will you be sending a separate PR for the mesos tests?\r\n\r\nCan you update the commit title / description to reflect the timeout library issue and not the mesos related issue? We treat libprocess / stout as separate libraries so try to avoid talking about mesos in their commits.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933719487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933890736","html_url":"https://github.com/apache/mesos/pull/410#issuecomment-933890736","issue_url":"https://api.github.com/repos/apache/mesos/issues/410","id":933890736,"node_id":"IC_kwDOAK8Cf843qgqw","user":{"login":"xiao66xiang","id":7522293,"node_id":"MDQ6VXNlcjc1MjIyOTM=","avatar_url":"https://avatars.githubusercontent.com/u/7522293?v=4","gravatar_id":"","url":"https://api.github.com/users/xiao66xiang","html_url":"https://github.com/xiao66xiang","followers_url":"https://api.github.com/users/xiao66xiang/followers","following_url":"https://api.github.com/users/xiao66xiang/following{/other_user}","gists_url":"https://api.github.com/users/xiao66xiang/gists{/gist_id}","starred_url":"https://api.github.com/users/xiao66xiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiao66xiang/subscriptions","organizations_url":"https://api.github.com/users/xiao66xiang/orgs","repos_url":"https://api.github.com/users/xiao66xiang/repos","events_url":"https://api.github.com/users/xiao66xiang/events{/privacy}","received_events_url":"https://api.github.com/users/xiao66xiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-04T22:04:25Z","updated_at":"2021-10-04T22:04:25Z","author_association":"CONTRIBUTOR","body":"Yes I'll send a separate PR for the mesos tests.","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/933890736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/934689429","html_url":"https://github.com/apache/mesos/pull/411#issuecomment-934689429","issue_url":"https://api.github.com/repos/apache/mesos/issues/411","id":934689429,"node_id":"IC_kwDOAK8Cf843tjqV","user":{"login":"cf-natali","id":8378227,"node_id":"MDQ6VXNlcjgzNzgyMjc=","avatar_url":"https://avatars.githubusercontent.com/u/8378227?v=4","gravatar_id":"","url":"https://api.github.com/users/cf-natali","html_url":"https://github.com/cf-natali","followers_url":"https://api.github.com/users/cf-natali/followers","following_url":"https://api.github.com/users/cf-natali/following{/other_user}","gists_url":"https://api.github.com/users/cf-natali/gists{/gist_id}","starred_url":"https://api.github.com/users/cf-natali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cf-natali/subscriptions","organizations_url":"https://api.github.com/users/cf-natali/orgs","repos_url":"https://api.github.com/users/cf-natali/repos","events_url":"https://api.github.com/users/cf-natali/events{/privacy}","received_events_url":"https://api.github.com/users/cf-natali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T19:03:40Z","updated_at":"2021-10-05T19:03:40Z","author_association":"CONTRIBUTOR","body":"Thanks!\r\n\r\nI think we need to do the same thing for https://github.com/apache/mesos-site?","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/934689429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/934702634","html_url":"https://github.com/apache/mesos/pull/411#issuecomment-934702634","issue_url":"https://api.github.com/repos/apache/mesos/issues/411","id":934702634,"node_id":"IC_kwDOAK8Cf843tm4q","user":{"login":"andreaspeters","id":19497059,"node_id":"MDQ6VXNlcjE5NDk3MDU5","avatar_url":"https://avatars.githubusercontent.com/u/19497059?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaspeters","html_url":"https://github.com/andreaspeters","followers_url":"https://api.github.com/users/andreaspeters/followers","following_url":"https://api.github.com/users/andreaspeters/following{/other_user}","gists_url":"https://api.github.com/users/andreaspeters/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaspeters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaspeters/subscriptions","organizations_url":"https://api.github.com/users/andreaspeters/orgs","repos_url":"https://api.github.com/users/andreaspeters/repos","events_url":"https://api.github.com/users/andreaspeters/events{/privacy}","received_events_url":"https://api.github.com/users/andreaspeters/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T19:19:27Z","updated_at":"2021-10-05T19:19:27Z","author_association":"CONTRIBUTOR","body":"> Thanks!\r\n> \r\n> I think we need to do the same thing for https://github.com/apache/mesos-site?\r\n\r\nyes, I will open a PR for that after the mesos-cli. :-) The web-site will not have a impact of the security scanner from \"p engels\". :-) ","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/934702634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/mesos/issues/comments/942930828","html_url":"https://github.com/apache/mesos/pull/410#issuecomment-942930828","issue_url":"https://api.github.com/repos/apache/mesos/issues/410","id":942930828,"node_id":"IC_kwDOAK8Cf844M_uM","user":{"login":"mengzhu28","id":4656661,"node_id":"MDQ6VXNlcjQ2NTY2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4656661?v=4","gravatar_id":"","url":"https://api.github.com/users/mengzhu28","html_url":"https://github.com/mengzhu28","followers_url":"https://api.github.com/users/mengzhu28/followers","following_url":"https://api.github.com/users/mengzhu28/following{/other_user}","gists_url":"https://api.github.com/users/mengzhu28/gists{/gist_id}","starred_url":"https://api.github.com/users/mengzhu28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mengzhu28/subscriptions","organizations_url":"https://api.github.com/users/mengzhu28/orgs","repos_url":"https://api.github.com/users/mengzhu28/repos","events_url":"https://api.github.com/users/mengzhu28/events{/privacy}","received_events_url":"https://api.github.com/users/mengzhu28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T04:14:42Z","updated_at":"2021-10-14T04:14:42Z","author_association":"NONE","body":"LGTM. @bmahler let's merge this?\r\n\r\n@xiao66xiang please add the mesos test in a separate PR. thanks!","reactions":{"url":"https://api.github.com/repos/apache/mesos/issues/comments/942930828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]