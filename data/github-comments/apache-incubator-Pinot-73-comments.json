[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701105519","html_url":"https://github.com/apache/pinot/pull/6040#issuecomment-701105519","issue_url":"https://api.github.com/repos/apache/pinot/issues/6040","id":701105519,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTEwNTUxOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T01:28:47Z","updated_at":"2020-09-30T01:28:47Z","author_association":"CONTRIBUTOR","body":"After some benchmark we found this change might cause some performance degradation for extremely high QPS use cases. Closing this PR and filed #6078 as a work-around without overhead.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701105519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701106090","html_url":"https://github.com/apache/pinot/issues/6029#issuecomment-701106090","issue_url":"https://api.github.com/repos/apache/pinot/issues/6029","id":701106090,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTEwNjA5MA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T01:31:11Z","updated_at":"2020-09-30T01:31:11Z","author_association":"CONTRIBUTOR","body":"Removing the partition info for consuming segments could cause performance degradation for extremely high QPS use cases. Filed #6078 as a work-around without performance impact.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701106090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701154675","html_url":"https://github.com/apache/pinot/pull/6078#issuecomment-701154675","issue_url":"https://api.github.com/repos/apache/pinot/issues/6078","id":701154675,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTE1NDY3NQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T04:50:43Z","updated_at":"2020-09-30T04:50:43Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Thanks for addressing this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701154675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701167620","html_url":"https://github.com/apache/pinot/pull/6039#issuecomment-701167620","issue_url":"https://api.github.com/repos/apache/pinot/issues/6039","id":701167620,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTE2NzYyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T05:39:28Z","updated_at":"2020-09-30T05:39:28Z","author_association":"CONTRIBUTOR","body":"had a chat with @Mayank mainly to introduce the use case and things of priority here. for the curious this is for a  \"quick start\" of hypertrace, which ideally can result in ports listening IFF the tables were added. This could help reduce some blocking loops done externally, and ideally also mitigate some delays using external scripts to orchestrate this.\r\n\r\nNEXT ACTION: await more feedback. I'll pickup on monday","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701167620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701552561","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-701552561","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":701552561,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTU1MjU2MQ==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T18:05:05Z","updated_at":"2020-09-30T18:05:05Z","author_association":"CONTRIBUTOR","body":"Looks good to me, thanks ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701552561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701688302","html_url":"https://github.com/apache/pinot/pull/6073#issuecomment-701688302","issue_url":"https://api.github.com/repos/apache/pinot/issues/6073","id":701688302,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTY4ODMwMg==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T22:53:19Z","updated_at":"2020-09-30T22:53:19Z","author_association":"CONTRIBUTOR","body":"> Recommend removing the tenant check in this PR, and move the validation into `PinotHelixResourceManager` in the following PR\r\n\r\nDone. Removed tenant validation","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701688302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701878622","html_url":"https://github.com/apache/pinot/pull/6087#issuecomment-701878622","issue_url":"https://api.github.com/repos/apache/pinot/issues/6087","id":701878622,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTg3ODYyMg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T04:36:37Z","updated_at":"2020-10-01T04:36:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=h1) Report\n> Merging [#6087](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.57%`.\n> The diff coverage is `59.61%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6087/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6087      +/-   ##\n==========================================\n+ Coverage   66.44%   73.02%   +6.57%     \n==========================================\n  Files        1075     1217     +142     \n  Lines       54773    57377    +2604     \n  Branches     8168     8449     +281     \n==========================================\n+ Hits        36396    41900    +5504     \n+ Misses      15700    12730    -2970     \n- Partials     2677     2747      +70     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.59% <48.65%> (?)` | |\n| #unittests | `64.16% <37.88%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `96.49% <ø> (-3.51%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [951 more](https://codecov.io/gh/apache/incubator-pinot/pull/6087/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=footer). Last update [e303938...e606b94](https://codecov.io/gh/apache/incubator-pinot/pull/6087?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701878622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701903297","html_url":"https://github.com/apache/pinot/pull/6070#issuecomment-701903297","issue_url":"https://api.github.com/repos/apache/pinot/issues/6070","id":701903297,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTkwMzI5Nw==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T05:52:16Z","updated_at":"2020-10-01T05:52:16Z","author_association":"MEMBER","body":"Discussed with @mayankshriv. The issue before this PR is that pinot-orc and pinot-parquet module needs Hadoop libraries. While the Hadoop dependencies are in provided scope, which means these Hadoop jars will not be included in the classpath. Thus, we encounter `NoClassDefFoundError` shown in the description of this PR above. PluginManager doesn't help here because the prerequisite is that it requires the jars that contains the needed classes to be in the classpath at the first place.\r\n\r\nThere are two ways to solve this issue:\r\n1. configure the pom so that these Hadoop jars can be shown in the classpath, like this PR does. Another way is to specify the scope of Hadoop dependencies to `compile` in the pom files of pinot-orc and pinot-parquet.\r\n2. users manually add those Hadoop jars in the classpath when running pinot commands.\r\n\r\nThe 1st approach seems better, because for the 2nd one, users have to manually add these jars to the classpath one by one. And it'll take multiple times for users to keep adding the missing jars. Plus, we have to tell users to do that.\r\n\r\nAs to the 1st approach, we can revert the change in this PR and put the Hadoop dependencies down to the pinot-orc and pinot-parquet modules, so that if we don't want to support some formats in the future, the Hadoop dependencies can be removed altogether. I've tested this change in the HadoopSegmentCreationJob and it works well. Here is the new PR: https://github.com/apache/incubator-pinot/pull/6088.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701903297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701923751","html_url":"https://github.com/apache/pinot/issues/6083#issuecomment-701923751","issue_url":"https://api.github.com/repos/apache/pinot/issues/6083","id":701923751,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTkyMzc1MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T06:42:32Z","updated_at":"2020-10-01T06:42:32Z","author_association":"CONTRIBUTOR","body":"cc: @npawar @KKcorps ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/701923751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702295090","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-702295090","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":702295090,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjI5NTA5MA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T17:46:02Z","updated_at":"2020-10-01T17:46:02Z","author_association":"CONTRIBUTOR","body":"I think we are still missing this support for transform functions","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702295090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702314614","html_url":"https://github.com/apache/pinot/issues/6089#issuecomment-702314614","issue_url":"https://api.github.com/repos/apache/pinot/issues/6089","id":702314614,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjMxNDYxNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T18:21:28Z","updated_at":"2020-10-01T18:21:28Z","author_association":"MEMBER","body":"We are planning to enable validation by default when there is schema. The reason we can’t do this today is one can use Pinot in batch only mode without a schema ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702314614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702349449","html_url":"https://github.com/apache/pinot/pull/6053#issuecomment-702349449","issue_url":"https://api.github.com/repos/apache/pinot/issues/6053","id":702349449,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM0OTQ0OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T19:27:28Z","updated_at":"2020-10-01T19:27:28Z","author_association":"MEMBER","body":"Looks good merging it. Lets learn from this v0 version and incorporate the learnings when we add BigDecimal as a data type","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702349449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702350789","html_url":"https://github.com/apache/pinot/pull/6020#issuecomment-702350789","issue_url":"https://api.github.com/repos/apache/pinot/issues/6020","id":702350789,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM1MDc4OQ==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T19:30:03Z","updated_at":"2020-10-01T19:30:03Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Can you take a look at this PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702350789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702354428","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-702354428","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":702354428,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM1NDQyOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T19:37:24Z","updated_at":"2020-10-01T19:37:24Z","author_association":"CONTRIBUTOR","body":"> I think we are still missing this support for transform functions\r\n\r\nYou mean pre-aggregation on transformed columns?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702354428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702367115","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-702367115","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":702367115,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM2NzExNQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:03:14Z","updated_at":"2020-10-01T20:03:14Z","author_association":"CONTRIBUTOR","body":"> > I think we are still missing this support for transform functions\r\n> \r\n> You mean pre-aggregation on transformed columns?\r\n\r\nI mean transform functions like `array_sum` is not supported yet only `arraysum`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702367115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702370915","html_url":"https://github.com/apache/pinot/issues/6092#issuecomment-702370915","issue_url":"https://api.github.com/repos/apache/pinot/issues/6092","id":702370915,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM3MDkxNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:10:53Z","updated_at":"2020-10-01T20:10:53Z","author_association":"MEMBER","body":"I thought this was already supported? @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702370915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702380610","html_url":"https://github.com/apache/pinot/issues/6092#issuecomment-702380610","issue_url":"https://api.github.com/repos/apache/pinot/issues/6092","id":702380610,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM4MDYxMA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:31:16Z","updated_at":"2020-10-01T20:31:16Z","author_association":"CONTRIBUTOR","body":"We don't support generating new star-tree when there is existing star-tree","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702380610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702381262","html_url":"https://github.com/apache/pinot/issues/6093#issuecomment-702381262","issue_url":"https://api.github.com/repos/apache/pinot/issues/6093","id":702381262,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM4MTI2Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:32:30Z","updated_at":"2020-10-01T20:32:30Z","author_association":"CONTRIBUTOR","body":"This is a little bit tricky because the filter is shared among all segments. Will try to figure out a work around","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702381262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702382819","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-702382819","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":702382819,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM4MjgxOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:35:32Z","updated_at":"2020-10-01T20:35:32Z","author_association":"CONTRIBUTOR","body":"The function in star-tree can only be aggregation function (pre-aggregation)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702382819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702384394","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-702384394","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":702384394,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM4NDM5NA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:38:44Z","updated_at":"2020-10-01T20:38:44Z","author_association":"CONTRIBUTOR","body":"oh i'm justing talking about for regular transform functions usage:\r\n```\r\nselect array_sum(mvCol) from myTable\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702384394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702423020","html_url":"https://github.com/apache/pinot/pull/6079#issuecomment-702423020","issue_url":"https://api.github.com/repos/apache/pinot/issues/6079","id":702423020,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQyMzAyMA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T22:07:33Z","updated_at":"2020-10-01T22:07:33Z","author_association":"CONTRIBUTOR","body":"> oh i'm justing talking about for regular transform functions usage:\r\n> \r\n> ```\r\n> select array_sum(mvCol) from myTable\r\n> ```\r\n\r\nIt's handled within `TransformFunctionType.getTransformFunctionType()`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702423020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702888304","html_url":"https://github.com/apache/pinot/pull/6020#issuecomment-702888304","issue_url":"https://api.github.com/repos/apache/pinot/issues/6020","id":702888304,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjg4ODMwNA==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T18:23:31Z","updated_at":"2020-10-02T18:23:31Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu The issue is the changes are needed for new /Brokers api.\r\nThe plan is to call the API to fetch the brokers for a tenant from JDBC driver. The current implementation requires too many calls to zookeeper. \r\nI was not aware of the watchers concern though. @kishoreg @fx19880617 What should we do about this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702888304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702984608","html_url":"https://github.com/apache/pinot/issues/5807#issuecomment-702984608","issue_url":"https://api.github.com/repos/apache/pinot/issues/5807","id":702984608,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjk4NDYwOA==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T22:29:54Z","updated_at":"2020-10-02T22:29:54Z","author_association":"CONTRIBUTOR","body":"Just wanted to update this thread to state that we (LinkedIn) are targeting to migrate our users from PQL to SQL by Dec 2020, after which we would be ready to start deprecating PQL @fx19880617. Are there any other users out there who are still using PQL? \r\n\r\ncc: @siddharthteotia @kishoreg ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/702984608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703002912","html_url":"https://github.com/apache/pinot/issues/6099#issuecomment-703002912","issue_url":"https://api.github.com/repos/apache/pinot/issues/6099","id":703002912,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzAwMjkxMg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T23:43:36Z","updated_at":"2020-10-02T23:43:36Z","author_association":"CONTRIBUTOR","body":"A word of caution on this. For table deletion, we specifically added table type sometime back (not sure if it is still there), preventing the operator from deleting realtime table unless they know what they are doing. The reason is that it is very easy to recreate the offline table with data if it is accidentally deleted. We don't have a mechanism to upload realtime segments yet, and so the only option is to re-consume data (and the underlying stream may not have a long retention).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703002912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703006917","html_url":"https://github.com/apache/pinot/issues/6099#issuecomment-703006917","issue_url":"https://api.github.com/repos/apache/pinot/issues/6099","id":703006917,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzAwNjkxNw==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T00:02:37Z","updated_at":"2020-10-03T00:02:37Z","author_association":"CONTRIBUTOR","body":"Good point. Yes we should probably continue such safeguards but try to make\nother things as consistent as possible.\n\nOn Fri, Oct 2, 2020 at 4:43 PM Subbu Subramaniam <notifications@github.com>\nwrote:\n\n> A word of caution on this. For table deletion, we specifically added table\n> type sometime back (not sure if it is still there), preventing the operator\n> from deleting realtime table unless they know what they are doing. The\n> reason is that it is very easy to recreate the offline table with data if\n> it is accidentally deleted. We don't have a mechanism to upload realtime\n> segments yet, and so the only option is to re-consume data (and the\n> underlying stream may not have a long retention).\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-pinot/issues/6099#issuecomment-703002912>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAFRXV77JJDTM4DGNVOIALLSIZQTLANCNFSM4SCHMXAQ>\n> .\n>\n-- \nThanks and regards\n\nChinmay Soman\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703006917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703010708","html_url":"https://github.com/apache/pinot/issues/5807#issuecomment-703010708","issue_url":"https://api.github.com/repos/apache/pinot/issues/5807","id":703010708,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzAxMDcwOA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T00:19:44Z","updated_at":"2020-10-03T00:19:44Z","author_association":"CONTRIBUTOR","body":"At Uber, we use Presto/Pinot connector and we plan to migrate to the SQL-based connector by the end of 2020.\r\n+1 to using SQL onward.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703010708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703022706","html_url":"https://github.com/apache/pinot/issues/6092#issuecomment-703022706","issue_url":"https://api.github.com/repos/apache/pinot/issues/6092","id":703022706,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzAyMjcwNg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T01:25:16Z","updated_at":"2020-10-03T01:25:16Z","author_association":"CONTRIBUTOR","body":"Allow modifying/removing existing star-trees during segment reload: #6100 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703022706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703051117","html_url":"https://github.com/apache/pinot/pull/5476#issuecomment-703051117","issue_url":"https://api.github.com/repos/apache/pinot/issues/5476","id":703051117,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzA1MTExNw==","user":{"login":"prm-dan","id":49970746,"node_id":"MDQ6VXNlcjQ5OTcwNzQ2","avatar_url":"https://avatars.githubusercontent.com/u/49970746?v=4","gravatar_id":"","url":"https://api.github.com/users/prm-dan","html_url":"https://github.com/prm-dan","followers_url":"https://api.github.com/users/prm-dan/followers","following_url":"https://api.github.com/users/prm-dan/following{/other_user}","gists_url":"https://api.github.com/users/prm-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/prm-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prm-dan/subscriptions","organizations_url":"https://api.github.com/users/prm-dan/orgs","repos_url":"https://api.github.com/users/prm-dan/repos","events_url":"https://api.github.com/users/prm-dan/events{/privacy}","received_events_url":"https://api.github.com/users/prm-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T05:43:18Z","updated_at":"2020-10-03T05:43:18Z","author_association":"CONTRIBUTOR","body":"Sorry, I took too long to get back to this.  The code has changed a bit.  I'll delete this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703051117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703125178","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-703125178","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":703125178,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzEyNTE3OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T16:00:19Z","updated_at":"2020-10-03T16:00:19Z","author_association":"MEMBER","body":"This is done and is available since 0.3.0","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703125178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703157496","html_url":"https://github.com/apache/pinot/pull/6020#issuecomment-703157496","issue_url":"https://api.github.com/repos/apache/pinot/issues/6020","id":703157496,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE1NzQ5Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T19:58:19Z","updated_at":"2020-10-03T19:58:19Z","author_association":"CONTRIBUTOR","body":"Find an old issue related to caching the configs: https://github.com/apache/incubator-pinot/issues/4665","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703157496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703161952","html_url":"https://github.com/apache/pinot/pull/6096#issuecomment-703161952","issue_url":"https://api.github.com/repos/apache/pinot/issues/6096","id":703161952,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE2MTk1Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T20:39:29Z","updated_at":"2020-10-03T20:39:29Z","author_association":"CONTRIBUTOR","body":"After some consideration, I still think it is better to wrap the primary key columns inside the `UpsertConfig` for the following reasons:\r\n- The schema for the offline segment is re-constructed from the segment metadata, where primary key columns might not be maintained\r\n- For regular use cases, there is no primary key concept in Pinot. Putting it in `UpsertConfig` can keep all related configs at the same place\r\n- For the upcoming JOIN feature, we should have another config for the in-memory lookup table, where we can put the primary key there. This 2 features cannot be applied to the same table, and I don't see the benefit of keeping this info inside the schema\r\n\r\nSince this is the first feature using the primary key concept, I suggest putting all the related configs at the same place for easier management. If we find this as a common concept in the future, we can move it then.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703161952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703188624","html_url":"https://github.com/apache/pinot/pull/6096#issuecomment-703188624","issue_url":"https://api.github.com/repos/apache/pinot/issues/6096","id":703188624,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE4ODYyNA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T02:05:29Z","updated_at":"2020-10-04T02:05:29Z","author_association":"CONTRIBUTOR","body":"I don't think so. Strictly speaking, primary key is a constraint defined on the schema, just like other constraints over the schema such as a column is `NOT NULL` or a column is `UNIQUE`. This is well defined in the database literature.\r\n\r\nIf the consideration is to limit its usage, then we can add a checker to ensure it's defined only when Upsert mode is not `NONE`. \r\nHowever, for cleaniness (and also the ease of future development and structuring), the constraints shall be defined as part of the schema.\r\n\r\n> After some consideration, I still think it is better to wrap the primary key columns inside the `UpsertConfig` for the following reasons:\r\n> \r\n> * The schema for the offline segment is re-constructed from the segment metadata, where primary key columns might not be maintained\r\n> * For regular use cases, there is no primary key concept in Pinot. Putting it in `UpsertConfig` can keep all related configs at the same place\r\n> * For the upcoming JOIN feature, we should have another config for the in-memory lookup table, where we can put the primary key there. This 2 features cannot be applied to the same table, and I don't see the benefit of keeping this info inside the schema\r\n> \r\n> Since this is the first feature using the primary key concept, I suggest putting all the related configs at the same place for easier management. If we find this as a common concept in the future, we can move it then.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703188624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703194819","html_url":"https://github.com/apache/pinot/pull/6096#issuecomment-703194819","issue_url":"https://api.github.com/repos/apache/pinot/issues/6096","id":703194819,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE5NDgxOQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T03:13:22Z","updated_at":"2020-10-04T03:13:58Z","author_association":"CONTRIBUTOR","body":"> After some consideration, I still think it is better to wrap the primary key columns inside the `UpsertConfig` for the following reasons:\r\n> \r\n> * The schema for the offline segment is re-constructed from the segment metadata, where primary key columns might not be maintained\r\n\r\nThis is fine for now. As upsert applies to real-time segment only. In the future, I think we shall consider adding the primary ey concept to offline segment too\r\n\r\n> * For regular use cases, there is no primary key concept in Pinot. Putting it in `UpsertConfig` can keep all related configs at the same place\r\n> * For the upcoming JOIN feature, we should have another config for the in-memory lookup table, where we can put the primary key there. This 2 features cannot be applied to the same table, and I don't see the benefit of keeping this info inside the schema\r\n\r\nFor fact-dim join, the primary key actually needs to be defined on the regular table.\r\n\r\n> \r\n> Since this is the first feature using the primary key concept, I suggest putting all the related configs at the same place for easier management. If we find this as a common concept in the future, we can move it then.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703194819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703195721","html_url":"https://github.com/apache/pinot/pull/6096#issuecomment-703195721","issue_url":"https://api.github.com/repos/apache/pinot/issues/6096","id":703195721,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE5NTcyMQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T03:23:28Z","updated_at":"2020-10-04T03:23:28Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang thanks for taking a look. comments addressed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703195721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703198725","html_url":"https://github.com/apache/pinot/pull/6096#issuecomment-703198725","issue_url":"https://api.github.com/repos/apache/pinot/issues/6096","id":703198725,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE5ODcyNQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T04:03:39Z","updated_at":"2020-10-04T04:05:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=h1) Report\n> Merging [#6096](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.49%`.\n> The diff coverage is `59.61%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6096/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6096      +/-   ##\n==========================================\n+ Coverage   66.44%   72.94%   +6.49%     \n==========================================\n  Files        1075     1223     +148     \n  Lines       54773    57731    +2958     \n  Branches     8168     8518     +350     \n==========================================\n+ Hits        36396    42111    +5715     \n+ Misses      15700    12864    -2836     \n- Partials     2677     2756      +79     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.45% <48.65%> (?)` | |\n| #unittests | `64.03% <37.88%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [960 more](https://codecov.io/gh/apache/incubator-pinot/pull/6096/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=footer). Last update [9929dad...d47729b](https://codecov.io/gh/apache/incubator-pinot/pull/6096?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703198725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703198974","html_url":"https://github.com/apache/pinot/issues/5807#issuecomment-703198974","issue_url":"https://api.github.com/repos/apache/pinot/issues/5807","id":703198974,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE5ODk3NA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T04:07:17Z","updated_at":"2020-10-04T04:07:17Z","author_association":"CONTRIBUTOR","body":"> Just wanted to update this thread to state that we (LinkedIn) are targeting to migrate our users from PQL to SQL by Dec 2020, after which we would be ready to start deprecating PQL @fx19880617. Are there any other users out there who are still using PQL?\r\n> \r\n> cc: @siddharthteotia @kishoreg\r\n\r\nGlad to hear this :) ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703198974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703200227","html_url":"https://github.com/apache/pinot/issues/6098#issuecomment-703200227","issue_url":"https://api.github.com/repos/apache/pinot/issues/6098","id":703200227,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzIwMDIyNw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T04:23:02Z","updated_at":"2020-10-04T04:23:02Z","author_association":"CONTRIBUTOR","body":"I feel we can have table level aggregated metrics for each host. Just per host level metrics might be too coarse?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703200227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703200911","html_url":"https://github.com/apache/pinot/issues/6063#issuecomment-703200911","issue_url":"https://api.github.com/repos/apache/pinot/issues/6063","id":703200911,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzIwMDkxMQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T04:32:13Z","updated_at":"2020-10-04T04:32:13Z","author_association":"CONTRIBUTOR","body":"Agreed. I will take a look.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703200911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703297016","html_url":"https://github.com/apache/pinot/pull/6069#issuecomment-703297016","issue_url":"https://api.github.com/repos/apache/pinot/issues/6069","id":703297016,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI5NzAxNg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T18:35:14Z","updated_at":"2020-10-04T18:35:14Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang I made one more change. Can you take another look please? thanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703297016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703319756","html_url":"https://github.com/apache/pinot/pull/6104#issuecomment-703319756","issue_url":"https://api.github.com/repos/apache/pinot/issues/6104","id":703319756,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzMxOTc1Ng==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T21:37:49Z","updated_at":"2020-10-04T21:37:49Z","author_association":"CONTRIBUTOR","body":"Overall LGTM.\r\nCould you add more details of how to config this connector to MinIO with a sample configs into the PR description, thanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703319756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703368633","html_url":"https://github.com/apache/pinot/pull/6104#issuecomment-703368633","issue_url":"https://api.github.com/repos/apache/pinot/issues/6104","id":703368633,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzM2ODYzMw==","user":{"login":"prm-dan","id":49970746,"node_id":"MDQ6VXNlcjQ5OTcwNzQ2","avatar_url":"https://avatars.githubusercontent.com/u/49970746?v=4","gravatar_id":"","url":"https://api.github.com/users/prm-dan","html_url":"https://github.com/prm-dan","followers_url":"https://api.github.com/users/prm-dan/followers","following_url":"https://api.github.com/users/prm-dan/following{/other_user}","gists_url":"https://api.github.com/users/prm-dan/gists{/gist_id}","starred_url":"https://api.github.com/users/prm-dan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prm-dan/subscriptions","organizations_url":"https://api.github.com/users/prm-dan/orgs","repos_url":"https://api.github.com/users/prm-dan/repos","events_url":"https://api.github.com/users/prm-dan/events{/privacy}","received_events_url":"https://api.github.com/users/prm-dan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T02:51:51Z","updated_at":"2020-10-05T02:51:51Z","author_association":"CONTRIBUTOR","body":"Updated.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703368633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703716431","html_url":"https://github.com/apache/pinot/pull/6020#issuecomment-703716431","issue_url":"https://api.github.com/repos/apache/pinot/issues/6020","id":703716431,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcxNjQzMQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:43:49Z","updated_at":"2020-10-05T15:43:49Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu I don't think this change will add more watchers though. These watchers are always set by Helix, and we are just registering some extra callbacks to Helix\r\n\r\nThat is not true. We have separated Helix and pinot controllers. The watches are registered by helix controllers. Pinot controllers have zero watches in them","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703716431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703717382","html_url":"https://github.com/apache/pinot/pull/6020#issuecomment-703717382","issue_url":"https://api.github.com/repos/apache/pinot/issues/6020","id":703717382,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcxNzM4Mg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:45:23Z","updated_at":"2020-10-05T15:45:23Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu The issue is the changes are needed for new /Brokers api.\r\n> The plan is to call the API to fetch the brokers for a tenant from JDBC driver. The current implementation requires too many calls to zookeeper.\r\n> I was not aware of the watchers concern though. @kishoreg @fx19880617 What should we do about this?\r\n\r\nWhy is calls to zookeeper bad? How many calls is it? Zookeepers can handle a lot more calls to it than pinot controllers can.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703717382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703732970","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-703732970","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":703732970,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzczMjk3MA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T16:11:27Z","updated_at":"2020-10-05T16:11:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=h1) Report\n> Merging [#6105](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.28%`.\n> The diff coverage is `60.07%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6105/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6105      +/-   ##\n==========================================\n+ Coverage   66.44%   72.73%   +6.28%     \n==========================================\n  Files        1075     1224     +149     \n  Lines       54773    57825    +3052     \n  Branches     8168     8530     +362     \n==========================================\n+ Hits        36396    42059    +5663     \n+ Misses      15700    13004    -2696     \n- Partials     2677     2762      +85     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.26% <48.50%> (?)` | |\n| #unittests | `63.99% <38.12%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [956 more](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=footer). Last update [2379791...83ecfb2](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703732970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703750862","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-703750862","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":703750862,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzc1MDg2Mg==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T16:42:45Z","updated_at":"2020-10-05T16:42:45Z","author_association":"CONTRIBUTOR","body":"@SandishKumarHN Can you also add some tests for these functions along with an example in the description?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703750862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703762755","html_url":"https://github.com/apache/pinot/pull/6039#issuecomment-703762755","issue_url":"https://api.github.com/repos/apache/pinot/issues/6039","id":703762755,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzc2Mjc1NQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T17:03:43Z","updated_at":"2020-10-05T17:03:43Z","author_association":"CONTRIBUTOR","body":"I put some more thought on this, and still unable to convince myself about ServiceManager controlling when the service should announce health status (especially given that the use case is for dev/test env). I feel a cleaner way is for client side to check for something like /tableReady or /tableHealthy (that could be added).\r\n\r\nPerhaps this is because I still see ServiceManager as a utility to setup the cluster (and not an integral part of the service itself). We can solicit inputs from other folks as well: @mcvsubbu @siddharthteotia @kishoreg ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703762755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703889578","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703889578","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703889578,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzg4OTU3OA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T21:07:53Z","updated_at":"2020-10-05T21:07:53Z","author_association":"CONTRIBUTOR","body":"Along with this, I think we also need to make APPEND the default? I remember there were some retention related issues.\r\nFrom retention manager\r\n```\r\nString segmentPushType = validationConfig.getSegmentPushType();\r\n    if (tableConfig.getTableType() == TableType.OFFLINE && !\"APPEND\".equalsIgnoreCase(segmentPushType)) {\r\n      LOGGER.info(\"Segment push type is not APPEND for table: {}, skip\", tableNameWithType);\r\n      return;\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703889578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703891914","html_url":"https://github.com/apache/pinot/issues/5942#issuecomment-703891914","issue_url":"https://api.github.com/repos/apache/pinot/issues/5942","id":703891914,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzg5MTkxNA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T21:12:55Z","updated_at":"2020-10-05T21:12:55Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nAnother use case is the upcoming upsert. There are several expectations for upsert table like primary key in schema, replica group setup, routing by replicas group, partition config, ingestion via LLC etc","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703891914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703921970","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703921970","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703921970,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkyMTk3MA==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T22:25:20Z","updated_at":"2020-10-05T22:25:20Z","author_association":"MEMBER","body":"The config `segmentPushType` is needed at least in the following scenarios:\r\n1. Retention manager needs it to purge segments: https://github.com/apache/incubator-pinot/blob/9929dad2e804f525b8ace925e859e07c6fdee9da/pinot-controller/src/main/java/org/apache/pinot/controller/helix/core/retention/RetentionManager.java#L104\r\n2. `TableRetentionValidator` gets called https://github.com/apache/incubator-pinot/blob/fb043dab7d5fef3ef726896d2f53e45a2fd69f22/pinot-controller/src/main/java/org/apache/pinot/controller/util/TableRetentionValidator.java#L112\r\n3. Segment creation Hadoop/Spark job requires it to validate the time column: https://github.com/apache/incubator-pinot/blob/fb043dab7d5fef3ef726896d2f53e45a2fd69f22/pinot-plugins/pinot-batch-ingestion/v0_deprecated/pinot-hadoop/src/main/java/org/apache/pinot/hadoop/job/HadoopSegmentCreationJob.java#L145\r\n4. Segment creation job requires it to generate the segment name: https://github.com/apache/incubator-pinot/blob/540853d786c9e4b4bb27bf4bbc6fa73837ff1bc3/pinot-core/src/main/java/org/apache/pinot/core/segment/name/NormalizedDateSegmentNameGenerator.java#L48\r\n\r\nSo if you remove the check, you'd also need to adjust those logic to avoid breaking the current behaviors.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703921970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703922813","html_url":"https://github.com/apache/pinot/pull/6108#issuecomment-703922813","issue_url":"https://api.github.com/repos/apache/pinot/issues/6108","id":703922813,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkyMjgxMw==","user":{"login":"suvodeep-pyne","id":2577714,"node_id":"MDQ6VXNlcjI1Nzc3MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2577714?v=4","gravatar_id":"","url":"https://api.github.com/users/suvodeep-pyne","html_url":"https://github.com/suvodeep-pyne","followers_url":"https://api.github.com/users/suvodeep-pyne/followers","following_url":"https://api.github.com/users/suvodeep-pyne/following{/other_user}","gists_url":"https://api.github.com/users/suvodeep-pyne/gists{/gist_id}","starred_url":"https://api.github.com/users/suvodeep-pyne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suvodeep-pyne/subscriptions","organizations_url":"https://api.github.com/users/suvodeep-pyne/orgs","repos_url":"https://api.github.com/users/suvodeep-pyne/repos","events_url":"https://api.github.com/users/suvodeep-pyne/events{/privacy}","received_events_url":"https://api.github.com/users/suvodeep-pyne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T22:27:38Z","updated_at":"2020-10-05T22:27:38Z","author_association":"CONTRIBUTOR","body":"Yes. That is correct. This streamlines access to the datalayer classes which is currently behind a static interface wall.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703922813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703925780","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703925780","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703925780,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkyNTc4MA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T22:35:55Z","updated_at":"2020-10-05T22:35:55Z","author_association":"CONTRIBUTOR","body":"If we want to remove the mandatory check, we should adjust codes to align all the usage with falling back to the default behavior. We can make `APPEND` as the default behavior since it's the most common use case. Currently, the code explicitly checks the `APPEND` in most cases, so `null` value for push type will end up with the `REFRESH` behavior. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703925780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703929767","html_url":"https://github.com/apache/pinot/pull/6069#issuecomment-703929767","issue_url":"https://api.github.com/repos/apache/pinot/issues/6069","id":703929767,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkyOTc2Nw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T22:48:16Z","updated_at":"2020-10-05T22:48:16Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu We want both `getChildNames()` and `getChildren()` to have the same behavior, and should throw exception on failures. Since Helix does not have the correct APIs for `getChildren()` yet, I would suggest not changing `getChildren()` for now and wait until we upgrade to the new Helix version, or it will be very confusing for the developers because of the unexpected Helix behavior. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703929767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703932617","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703932617","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703932617,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkzMjYxNw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T22:56:43Z","updated_at":"2020-10-05T22:56:43Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @jackjlli @snleee The mandatory check is just introduced in #6073, and might break the existing use cases without the push type configured (correct me if I was wrong @icefury71 ). I think there are offline use cases within LinkedIn without the push type, which will break.\r\nWe cannot directly change the default behavior to use `APPEND` if the push type is not mandatory for the existing use cases.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703932617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703935277","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703935277","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703935277,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkzNTI3Nw==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T23:05:18Z","updated_at":"2020-10-05T23:05:18Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu @jackjlli @snleee The mandatory check is just introduced in #6073, and might break the existing use cases without the push type configured (correct me if I was wrong @icefury71 ). I think there are offline use cases within LinkedIn without the push type, which will break.\r\n> We cannot directly change the default behavior to use `APPEND` if the push type is not mandatory for the existing use cases.\r\n\r\nYes, this was mostly to conserve the existing use cases that don't explicitly specify a push type. Hence I removed the mandate.\r\n\r\nHowever, I did choose to add a default value (APPEND) since it will break the retention manager otherwise. @Jackie-Jiang lemme know if there are any implications of this assumption ? As @mcvsubbu mentioned, most of the code places kinda assume APPEND semantics.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703935277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703937589","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703937589","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703937589,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkzNzU4OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T23:12:59Z","updated_at":"2020-10-05T23:12:59Z","author_association":"CONTRIBUTOR","body":"ah ok, I was thinking push-frequency","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703937589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703938266","html_url":"https://github.com/apache/pinot/pull/6069#issuecomment-703938266","issue_url":"https://api.github.com/repos/apache/pinot/issues/6069","id":703938266,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkzODI2Ng==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T23:15:06Z","updated_at":"2020-10-05T23:15:06Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu We want both `getChildNames()` and `getChildren()` to have the same behavior, and should throw exception on failures. Since Helix does not have the correct APIs for `getChildren()` yet, I would suggest not changing `getChildren()` for now and wait until we upgrade to the new Helix version, or it will be very confusing for the developers because of the unexpected Helix behavior. Thoughts?\r\n\r\nSince the new API has not been implemented yet, there will not be any unexpected behavior at this time, right?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703938266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703938464","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703938464","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703938464,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzkzODQ2NA==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T23:15:43Z","updated_at":"2020-10-05T23:15:43Z","author_association":"MEMBER","body":"@icefury71 The 4th item I pasted above is the one we should be cautious about:\r\nhttps://github.com/apache/incubator-pinot/blob/540853d786c9e4b4bb27bf4bbc6fa73837ff1bc3/pinot-core/src/main/java/org/apache/pinot/core/segment/name/NormalizedDateSegmentNameGenerator.java#L53\r\n\r\nThe boolean value depends on whether the push type is shown as `APPEND` in the table config. If it's missing or it's REFRESH, (or it's mis-spelled), the behavior will be different. In this case, the missing pushType behavior is the same as `REFRESH` push type, which violates your default assumption.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703938464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703941715","html_url":"https://github.com/apache/pinot/pull/6107#issuecomment-703941715","issue_url":"https://api.github.com/repos/apache/pinot/issues/6107","id":703941715,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk0MTcxNQ==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T23:25:44Z","updated_at":"2020-10-05T23:25:44Z","author_association":"CONTRIBUTOR","body":"Removed the default value based on this conversation. We're now back to the old behaviour where push type is not mandatory and no default value assigned. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703941715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703942976","html_url":"https://github.com/apache/pinot/pull/6102#issuecomment-703942976","issue_url":"https://api.github.com/repos/apache/pinot/issues/6102","id":703942976,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk0Mjk3Ng==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T23:29:41Z","updated_at":"2020-10-05T23:29:41Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang thanks for the review. Comments addressed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703942976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703951253","html_url":"https://github.com/apache/pinot/pull/6069#issuecomment-703951253","issue_url":"https://api.github.com/repos/apache/pinot/issues/6069","id":703951253,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk1MTI1Mw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T00:00:36Z","updated_at":"2020-10-06T00:00:36Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu The unexpected behavior I was referring to is that we explicitly set retry in the method, but Helix won't do the retry, and won't throw exception when the read fails. So I suggest not doing the explicit retry before upgrading the Helix version. But this is not critical. Feel free to merge","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703951253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703956599","html_url":"https://github.com/apache/pinot/pull/6102#issuecomment-703956599","issue_url":"https://api.github.com/repos/apache/pinot/issues/6102","id":703956599,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk1NjU5OQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T00:18:47Z","updated_at":"2020-10-06T00:18:47Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang done. Thanks for taking another look","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703956599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703984609","html_url":"https://github.com/apache/pinot/issues/6093#issuecomment-703984609","issue_url":"https://api.github.com/repos/apache/pinot/issues/6093","id":703984609,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk4NDYwOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T02:04:07Z","updated_at":"2020-10-06T02:04:07Z","author_association":"CONTRIBUTOR","body":"Enhance star-tree to skip matching-all predicate on non-star-tree dimension: #6109 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/703984609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704448410","html_url":"https://github.com/apache/pinot/pull/6020#issuecomment-704448410","issue_url":"https://api.github.com/repos/apache/pinot/issues/6020","id":704448410,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDQ0ODQxMA==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T17:59:22Z","updated_at":"2020-10-06T17:59:22Z","author_association":"CONTRIBUTOR","body":"Closing this PR! ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704448410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704464803","html_url":"https://github.com/apache/pinot/issues/6106#issuecomment-704464803","issue_url":"https://api.github.com/repos/apache/pinot/issues/6106","id":704464803,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDQ2NDgwMw==","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T18:25:53Z","updated_at":"2020-10-06T18:25:53Z","author_association":"CONTRIBUTOR","body":"#6112 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704464803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704562951","html_url":"https://github.com/apache/pinot/pull/6113#issuecomment-704562951","issue_url":"https://api.github.com/repos/apache/pinot/issues/6113","id":704562951,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDU2Mjk1MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T21:28:29Z","updated_at":"2020-10-06T21:28:29Z","author_association":"CONTRIBUTOR","body":"This is awesome! ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704562951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704563263","html_url":"https://github.com/apache/pinot/pull/6112#issuecomment-704563263","issue_url":"https://api.github.com/repos/apache/pinot/issues/6112","id":704563263,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDU2MzI2Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T21:29:12Z","updated_at":"2020-10-13T23:08:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=h1) Report\n> Merging [#6112](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.42%`.\n> The diff coverage is `59.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6112/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6112      +/-   ##\n==========================================\n+ Coverage   66.44%   72.87%   +6.42%     \n==========================================\n  Files        1075     1224     +149     \n  Lines       54773    57796    +3023     \n  Branches     8168     8524     +356     \n==========================================\n+ Hits        36396    42116    +5720     \n+ Misses      15700    12917    -2783     \n- Partials     2677     2763      +86     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.37% <48.75%> (?)` | |\n| #unittests | `64.01% <38.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [973 more](https://codecov.io/gh/apache/incubator-pinot/pull/6112/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=footer). Last update [e1ab421...0487101](https://codecov.io/gh/apache/incubator-pinot/pull/6112?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704563263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704578112","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-704578112","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":704578112,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDU3ODExMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T22:05:16Z","updated_at":"2020-11-03T02:33:02Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=h1) Report\n> Merging [#6105](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `20.16%`.\n> The diff coverage is `50.74%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6105/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6105       +/-   ##\n===========================================\n- Coverage   66.44%   46.28%   -20.17%     \n===========================================\n  Files        1075     1240      +165     \n  Lines       54773    58938     +4165     \n  Branches     8168     8737      +569     \n===========================================\n- Hits        36396    27281     -9115     \n- Misses      15700    29417    +13717     \n+ Partials     2677     2240      -437     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration | `46.28% <50.74%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...ceselector/StrictReplicaGroupInstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL1N0cmljdFJlcGxpY2FHcm91cEluc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| ... and [1229 more](https://codecov.io/gh/apache/incubator-pinot/pull/6105/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=footer). Last update [b7819e1...37aec3e](https://codecov.io/gh/apache/incubator-pinot/pull/6105?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704578112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704671400","html_url":"https://github.com/apache/pinot/issues/6114#issuecomment-704671400","issue_url":"https://api.github.com/repos/apache/pinot/issues/6114","id":704671400,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDY3MTQwMA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T03:35:53Z","updated_at":"2020-10-07T03:35:53Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/pull/5711 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704671400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704686373","html_url":"https://github.com/apache/pinot/pull/6113#issuecomment-704686373","issue_url":"https://api.github.com/repos/apache/pinot/issues/6113","id":704686373,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDY4NjM3Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T04:38:01Z","updated_at":"2020-10-14T01:26:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=h1) Report\n> Merging [#6113](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.38%`.\n> The diff coverage is `59.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6113/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6113      +/-   ##\n==========================================\n+ Coverage   66.44%   72.83%   +6.38%     \n==========================================\n  Files        1075     1228     +153     \n  Lines       54773    57957    +3184     \n  Branches     8168     8553     +385     \n==========================================\n+ Hits        36396    42213    +5817     \n+ Misses      15700    12964    -2736     \n- Partials     2677     2780     +103     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.31% <48.75%> (?)` | |\n| #unittests | `63.91% <38.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [980 more](https://codecov.io/gh/apache/incubator-pinot/pull/6113/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=footer). Last update [e1ab421...ac006cd](https://codecov.io/gh/apache/incubator-pinot/pull/6113?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704686373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704705126","html_url":"https://github.com/apache/pinot/pull/5711#issuecomment-704705126","issue_url":"https://api.github.com/repos/apache/pinot/issues/5711","id":704705126,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDcwNTEyNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T05:39:02Z","updated_at":"2020-10-07T05:39:02Z","author_association":"MEMBER","body":"Can we take this to completion?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704705126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704995920","html_url":"https://github.com/apache/pinot/pull/6117#issuecomment-704995920","issue_url":"https://api.github.com/repos/apache/pinot/issues/6117","id":704995920,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDk5NTkyMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T15:00:36Z","updated_at":"2020-10-07T15:00:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=h1) Report\n> Merging [#6117](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `21.11%`.\n> The diff coverage is `48.75%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6117/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6117       +/-   ##\n===========================================\n- Coverage   66.44%   45.33%   -21.12%     \n===========================================\n  Files        1075     1224      +149     \n  Lines       54773    57779     +3006     \n  Branches     8168     8528      +360     \n===========================================\n- Hits        36396    26192    -10204     \n- Misses      15700    29439    +13739     \n+ Partials     2677     2148      -529     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.33% <48.75%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `64.28% <ø> (-8.89%)` | :arrow_down: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| ... and [1192 more](https://codecov.io/gh/apache/incubator-pinot/pull/6117/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=footer). Last update [8782e47...8326038](https://codecov.io/gh/apache/incubator-pinot/pull/6117?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/704995920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705018662","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-705018662","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":705018662,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTAxODY2Mg==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T15:35:27Z","updated_at":"2020-10-07T15:35:27Z","author_association":"CONTRIBUTOR","body":"LGTM!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705018662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705030345","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-705030345","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":705030345,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTAzMDM0NQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T15:54:28Z","updated_at":"2020-10-07T15:54:28Z","author_association":"CONTRIBUTOR","body":"Please add some tests for ArrayFunctions in the InbuiltFunctionsTest (similar to those for ArithmeticFunctions, DateTimeFunctions and JsonFunctions)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705030345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705031759","html_url":"https://github.com/apache/pinot/pull/6117#issuecomment-705031759","issue_url":"https://api.github.com/repos/apache/pinot/issues/6117","id":705031759,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTAzMTc1OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T15:56:37Z","updated_at":"2020-10-07T15:56:37Z","author_association":"MEMBER","body":"I think we can remove number of the segments from the tiles. It takes up a lot of time for large clusters","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705031759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705066450","html_url":"https://github.com/apache/pinot/pull/6117#issuecomment-705066450","issue_url":"https://api.github.com/repos/apache/pinot/issues/6117","id":705066450,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTA2NjQ1MA==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T16:56:07Z","updated_at":"2020-10-07T16:56:07Z","author_association":"CONTRIBUTOR","body":"@kishoreg \r\nRemoved Segment Count tile.\r\n![image](https://user-images.githubusercontent.com/6761317/95362676-0ab6fa80-08ec-11eb-8de7-ffd8b589e67d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705066450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705077171","html_url":"https://github.com/apache/pinot/pull/6117#issuecomment-705077171","issue_url":"https://api.github.com/repos/apache/pinot/issues/6117","id":705077171,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTA3NzE3MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T17:15:18Z","updated_at":"2020-10-07T17:15:18Z","author_association":"MEMBER","body":"Thanks, Verified that it works!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705077171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705301336","html_url":"https://github.com/apache/pinot/pull/6113#issuecomment-705301336","issue_url":"https://api.github.com/repos/apache/pinot/issues/6113","id":705301336,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTMwMTMzNg==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T03:02:41Z","updated_at":"2020-10-08T03:02:41Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Thanks for the suggestion. Made some changes to address your comments:\r\n - use `PartitionUpsetMetadataManager` directly by the call sites\r\n - changed the metadata processing flow in the segment loader to directly update the metadata in `PartitionUpsetMetadataManager`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705301336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705710970","html_url":"https://github.com/apache/pinot/pull/6120#issuecomment-705710970","issue_url":"https://api.github.com/repos/apache/pinot/issues/6120","id":705710970,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTcxMDk3MA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T17:18:50Z","updated_at":"2020-10-08T17:18:50Z","author_association":"CONTRIBUTOR","body":"@pradeepgv42 Can you use Pinot styles for the code formatting? \r\n\r\nYou can check the following page on how to set up the Pinot stylesheet.\r\nhttps://docs.pinot.apache.org/developers/developers-and-contributors/code-setup","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705710970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705758333","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705758333","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705758333,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc1ODMzMw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T18:52:23Z","updated_at":"2020-10-08T18:52:23Z","author_association":"CONTRIBUTOR","body":"@npawar @mcvsubbu ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705758333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705785878","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705785878","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705785878,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc4NTg3OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:47:22Z","updated_at":"2020-10-08T19:47:22Z","author_association":"MEMBER","body":"This is something we saw in other users as well and we need to figure out a way to support this. However, you seem to experience this at a low segment size. Feels like the system is overloaded with something else.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705785878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705790392","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705790392","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705790392,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5MDM5Mg==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:57:10Z","updated_at":"2020-10-08T19:57:10Z","author_association":"CONTRIBUTOR","body":"Correct. The problem exaggerates given the data volume is high.\r\n\r\n![image](https://user-images.githubusercontent.com/13425258/95507042-ac2e6280-0965-11eb-9c0c-6cee486c9ff1.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705790392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705791509","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705791509","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705791509,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5MTUwOQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:59:31Z","updated_at":"2020-10-08T19:59:31Z","author_association":"MEMBER","body":"something is not adding up, its 2k msgs/per sec but segments of size 5mb are getting flushed every 2 hours?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705791509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705796940","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705796940","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705796940,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5Njk0MA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:10:48Z","updated_at":"2020-10-08T20:10:48Z","author_association":"CONTRIBUTOR","body":"There is some approximation. Each data point is the max value of the 1 min window. And each line maps to a partition.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705796940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705799470","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705799470","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705799470,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5OTQ3MA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:16:14Z","updated_at":"2020-10-08T20:16:14Z","author_association":"CONTRIBUTOR","body":"Did you run the provisioning helper tool? Can you paste the output here?\r\n(See https://docs.pinot.apache.org/operators/operating-pinot/tuning/realtime)\r\n\r\nThat being said, there is always a risk of excessive GC load during segment completion. What we have seen is that all the memory that is accumulated during consumption is released when the segment is completed. Also, segment build takes up cpu, causing queries to get slower. \r\n\r\nThere is a config (on the server) to limit the number of segment builds per server. Default is no limit, but you can try to set it to some limit if you like.\r\n\r\nAlso, 5MB segment sizes seem too small to me, but of course, it depends on what kind of hosts you are provisioning. Running the prov helper and pasting the output here will guide us some.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705799470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705804061","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705804061","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705804061,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgwNDA2MQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:25:30Z","updated_at":"2020-10-08T20:25:30Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu No, we have not done that yet. Can look into it\r\nBut these are the JVM metrics of one server of this table. Note that this server also ingests many other tables.\r\n![image](https://user-images.githubusercontent.com/13425258/95509697-af2b5200-0969-11eb-93eb-40570324d87a.png)\r\n\r\nDo these charts look sane to you?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705804061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705804691","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705804691","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705804691,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgwNDY5MQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:26:50Z","updated_at":"2020-10-08T20:26:50Z","author_association":"CONTRIBUTOR","body":"Some more metrics\r\n![image](https://user-images.githubusercontent.com/13425258/95509824-dbdf6980-0969-11eb-80e6-629a38d4165c.png)\r\n\r\n![image](https://user-images.githubusercontent.com/13425258/95509857-e7329500-0969-11eb-90e9-2f30f4d4ea29.png)\r\n\r\n\r\nThis is for the past 24 hours","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705804691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705806058","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705806058","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705806058,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgwNjA1OA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:29:43Z","updated_at":"2020-10-08T20:29:43Z","author_association":"CONTRIBUTOR","body":"hmm seems this tool is only v0.4 and later","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705806058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705827639","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705827639","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705827639,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgyNzYzOQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T21:15:16Z","updated_at":"2020-10-08T21:15:16Z","author_association":"CONTRIBUTOR","body":"The tool was there as of 0.1\r\n\r\nYou can download the latest version and run the tool (it is by itself as a command line). You don't need to be running the cluster at that version.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705827639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705873455","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705873455","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705873455,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg3MzQ1NQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T23:23:55Z","updated_at":"2020-10-08T23:23:55Z","author_association":"CONTRIBUTOR","body":"I see. Thanks @mcvsubbu \r\n\r\nThis is the output of run on one sample segment\r\n```\r\nMemory used per host\r\n\r\nnumHosts --> 2        |4        |6        |8        |10       |12       |14       |16       |\r\nnumHours\r\n 2 --------> 8.5G     |4.25G    |2.83G    |2.83G    |2.83G    |1.42G    |1.42G    |1.42G    |\r\n 3 --------> 8.73G    |4.36G    |2.91G    |2.91G    |2.91G    |1.45G    |1.45G    |1.45G    |\r\n 4 --------> 8.96G    |4.48G    |2.99G    |2.99G    |2.99G    |1.49G    |1.49G    |1.49G    |\r\n 5 --------> 9.52G    |4.76G    |3.17G    |3.17G    |3.17G    |1.59G    |1.59G    |1.59G    |\r\n 6 --------> 9.42G    |4.71G    |3.14G    |3.14G    |3.14G    |1.57G    |1.57G    |1.57G    |\r\n 7 --------> 10.96G   |5.48G    |3.65G    |3.65G    |3.65G    |1.83G    |1.83G    |1.83G    |\r\n 8 --------> 9.88G    |4.94G    |3.29G    |3.29G    |3.29G    |1.65G    |1.65G    |1.65G    |\r\n 9 --------> 11.09G   |5.55G    |3.7G     |3.7G     |3.7G     |1.85G    |1.85G    |1.85G    |\r\n10 --------> 12.3G    |6.15G    |4.1G     |4.1G     |4.1G     |2.05G    |2.05G    |2.05G    |\r\n11 --------> 13.51G   |6.76G    |4.5G     |4.5G     |4.5G     |2.25G    |2.25G    |2.25G    |\r\n12 --------> 10.8G    |5.4G     |3.6G     |3.6G     |3.6G     |1.8G     |1.8G     |1.8G     |\r\n\r\nOptimal segment size\r\n\r\nnumHosts --> 2        |4        |6        |8        |10       |12       |14       |16       |\r\nnumHours\r\n 2 --------> 111.67M  |111.67M  |111.67M  |111.67M  |111.67M  |111.67M  |111.67M  |111.67M  |\r\n 3 --------> 167.5M   |167.5M   |167.5M   |167.5M   |167.5M   |167.5M   |167.5M   |167.5M   |\r\n 4 --------> 223.34M  |223.34M  |223.34M  |223.34M  |223.34M  |223.34M  |223.34M  |223.34M  |\r\n 5 --------> 279.17M  |279.17M  |279.17M  |279.17M  |279.17M  |279.17M  |279.17M  |279.17M  |\r\n 6 --------> 335M     |335M     |335M     |335M     |335M     |335M     |335M     |335M     |\r\n 7 --------> 390.84M  |390.84M  |390.84M  |390.84M  |390.84M  |390.84M  |390.84M  |390.84M  |\r\n 8 --------> 446.67M  |446.67M  |446.67M  |446.67M  |446.67M  |446.67M  |446.67M  |446.67M  |\r\n 9 --------> 502.51M  |502.51M  |502.51M  |502.51M  |502.51M  |502.51M  |502.51M  |502.51M  |\r\n10 --------> 558.34M  |558.34M  |558.34M  |558.34M  |558.34M  |558.34M  |558.34M  |558.34M  |\r\n11 --------> 614.18M  |614.18M  |614.18M  |614.18M  |614.18M  |614.18M  |614.18M  |614.18M  |\r\n12 --------> 670.01M  |670.01M  |670.01M  |670.01M  |670.01M  |670.01M  |670.01M  |670.01M  |\r\n\r\nConsuming memory\r\n\r\nnumHosts --> 2        |4        |6        |8        |10       |12       |14       |16       |\r\nnumHours\r\n 2 --------> 1.3G     |666.02M  |444.01M  |444.01M  |444.01M  |222.01M  |222.01M  |222.01M  |\r\n 3 --------> 1.86G    |951.41M  |634.27M  |634.27M  |634.27M  |317.14M  |317.14M  |317.14M  |\r\n 4 --------> 2.42G    |1.21G    |824.53M  |824.53M  |824.53M  |412.27M  |412.27M  |412.27M  |\r\n 5 --------> 2.97G    |1.49G    |1014.79M |1014.79M |1014.79M |507.39M  |507.39M  |507.39M  |\r\n 6 --------> 3.53G    |1.77G    |1.18G    |1.18G    |1.18G    |602.52M  |602.52M  |602.52M  |\r\n 7 --------> 4.09G    |2.04G    |1.36G    |1.36G    |1.36G    |697.65M  |697.65M  |697.65M  |\r\n 8 --------> 4.65G    |2.32G    |1.55G    |1.55G    |1.55G    |792.78M  |792.78M  |792.78M  |\r\n 9 --------> 5.2G     |2.6G     |1.73G    |1.73G    |1.73G    |887.91M  |887.91M  |887.91M  |\r\n10 --------> 5.76G    |2.88G    |1.92G    |1.92G    |1.92G    |983.04M  |983.04M  |983.04M  |\r\n11 --------> 6.32G    |3.16G    |2.11G    |2.11G    |2.11G    |1.05G    |1.05G    |1.05G    |\r\n12 --------> 6.87G    |3.44G    |2.29G    |2.29G    |2.29G    |1.15G    |1.15G    |1.15G    |\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705873455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705873636","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705873636","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705873636,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg3MzYzNg==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T23:24:36Z","updated_at":"2020-10-08T23:24:36Z","author_association":"CONTRIBUTOR","body":"I used `-periodSampleSegmentConsumed 2h`, but not sure the best value for it","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705873636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705891235","html_url":"https://github.com/apache/pinot/pull/6120#issuecomment-705891235","issue_url":"https://api.github.com/repos/apache/pinot/issues/6120","id":705891235,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg5MTIzNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T00:06:19Z","updated_at":"2020-12-24T03:40:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=h1) Report\n> Merging [#6120](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=desc) (d0405e7) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) (1beaab5) will **increase** coverage by `7.43%`.\n> The diff coverage is `73.16%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6120/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6120      +/-   ##\n==========================================\n+ Coverage   66.44%   73.88%   +7.43%     \n==========================================\n  Files        1075     1305     +230     \n  Lines       54773    63102    +8329     \n  Branches     8168     9164     +996     \n==========================================\n+ Hits        36396    46621   +10225     \n+ Misses      15700    13468    -2232     \n- Partials     2677     3013     +336     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration | `44.80% <38.69%> (?)` | |\n| unittests | `65.37% <56.80%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [...common/config/tuner/NoOpTableTableConfigTuner.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL3R1bmVyL05vT3BUYWJsZVRhYmxlQ29uZmlnVHVuZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...ot/common/config/tuner/RealTimeAutoIndexTuner.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL3R1bmVyL1JlYWxUaW1lQXV0b0luZGV4VHVuZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../common/config/tuner/TableConfigTunerRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL3R1bmVyL1RhYmxlQ29uZmlnVHVuZXJSZWdpc3RyeS5qYXZh) | `72.00% <ø> (ø)` | |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `100.00% <ø> (ø)` | |\n| ... and [1105 more](https://codecov.io/gh/apache/incubator-pinot/pull/6120/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=footer). Last update [6d8b09e...d0405e7](https://codecov.io/gh/apache/incubator-pinot/pull/6120?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705891235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705896905","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705896905","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705896905,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg5NjkwNQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T00:26:16Z","updated_at":"2020-10-09T00:26:16Z","author_association":"CONTRIBUTOR","body":"If you run the later version that will be good. It has bugs ironed out","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705896905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705898894","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705898894","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705898894,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg5ODg5NA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T00:34:03Z","updated_at":"2020-10-09T00:34:03Z","author_association":"CONTRIBUTOR","body":"I tried 0.5, but it seems I did not run it correctly\r\n```\r\nTrying to close RealtimeSegmentImpl : rta_eats_canonical_rt_order_states__1__4457__20201008T2039Z\r\n\r\n============================================================\r\nRealtimeProvisioningHelper -tableConfigFile table -numPartitions 4 -pushFrequency null -numHosts 2,4,6,8,10,12,14,16 -numHours 2,3,4,5,6,7,8,9,10,11,12 -sampleCompletedSegmentDir rta_eats_canonical_rt_order_states__1__4457__20201008T2039Z -ingestionRate 1000 -maxUsableHostMemory 48G -retentionHours 336\r\n\r\nNote:\r\n\r\n* Retention hours taken from tableConfig\r\n* See https://docs.pinot.apache.org/operators/operating-pinot/tuning/realtime\r\n\r\nMemory used per host (Active/Mapped)\r\n\r\nnumHosts --> 2               |4               |6               |8               |10              |12              |14              |16              |\r\nnumHours\r\n 2 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 3 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 4 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 5 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 6 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 7 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 8 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 9 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n10 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n11 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n12 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n\r\nOptimal segment size\r\n\r\nnumHosts --> 2               |4               |6               |8               |10              |12              |14              |16              |\r\nnumHours\r\n 2 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 3 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 4 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 5 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 6 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 7 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 8 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 9 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n10 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n11 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n12 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n\r\nConsuming memory\r\n\r\nnumHosts --> 2               |4               |6               |8               |10              |12              |14              |16              |\r\nnumHours\r\n 2 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 3 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 4 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 5 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 6 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 7 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 8 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 9 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n10 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n11 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n12 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n\r\nTotal number of segments queried per host (for all partitions)\r\n\r\nnumHosts --> 2               |4               |6               |8               |10              |12              |14              |16              |\r\nnumHours\r\n 2 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 3 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 4 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 5 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 6 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 7 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 8 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n 9 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n10 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n11 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n12 --------> NA              |NA              |NA              |NA              |NA              |NA              |NA              |NA              |\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705898894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705899115","html_url":"https://github.com/apache/pinot/pull/6125#issuecomment-705899115","issue_url":"https://api.github.com/repos/apache/pinot/issues/6125","id":705899115,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg5OTExNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T00:35:02Z","updated_at":"2020-10-09T00:39:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=h1) Report\n> Merging [#6125](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `5.71%`.\n> The diff coverage is `59.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6125/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6125      +/-   ##\n==========================================\n+ Coverage   66.44%   72.16%   +5.71%     \n==========================================\n  Files        1075     1228     +153     \n  Lines       54773    60010    +5237     \n  Branches     8168     8795     +627     \n==========================================\n+ Hits        36396    43304    +6908     \n+ Misses      15700    13780    -1920     \n- Partials     2677     2926     +249     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.64% <48.75%> (?)` | |\n| #unittests | `63.15% <38.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [978 more](https://codecov.io/gh/apache/incubator-pinot/pull/6125/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=footer). Last update [81028ce...16384aa](https://codecov.io/gh/apache/incubator-pinot/pull/6125?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705899115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705899786","html_url":"https://github.com/apache/pinot/pull/6120#issuecomment-705899786","issue_url":"https://api.github.com/repos/apache/pinot/issues/6120","id":705899786,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTg5OTc4Ng==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T00:37:33Z","updated_at":"2020-10-09T00:37:33Z","author_association":"CONTRIBUTOR","body":"> @pradeepgv42 Can you use Pinot styles for the code formatting?\r\n> \r\n> You can check the following page on how to set up the Pinot stylesheet.\r\n> https://docs.pinot.apache.org/developers/developers-and-contributors/code-setup\r\n\r\n@snleee Thanks updated my intellij with this config, is there a target to reformat a PR? \r\nI tried to fixup things a bit, not sure if I missed something though","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705899786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705909906","html_url":"https://github.com/apache/pinot/pull/6124#issuecomment-705909906","issue_url":"https://api.github.com/repos/apache/pinot/issues/6124","id":705909906,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTkwOTkwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T01:18:39Z","updated_at":"2020-10-13T23:30:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=h1) Report\n> Merging [#6124](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.39%`.\n> The diff coverage is `38.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6124/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6124      +/-   ##\n==========================================\n- Coverage   66.44%   64.05%   -2.40%     \n==========================================\n  Files        1075     1229     +154     \n  Lines       54773    58023    +3250     \n  Branches     8168     8559     +391     \n==========================================\n+ Hits        36396    37166     +770     \n- Misses      15700    18161    +2461     \n- Partials     2677     2696      +19     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #unittests | `64.05% <38.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <ø> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `0.00% <0.00%> (-34.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <ø> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| ... and [1054 more](https://codecov.io/gh/apache/incubator-pinot/pull/6124/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=footer). Last update [0e1d458...7577085](https://codecov.io/gh/apache/incubator-pinot/pull/6124?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705909906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705940435","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705940435","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705940435,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk0MDQzNQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T03:03:57Z","updated_at":"2020-10-09T03:03:57Z","author_association":"CONTRIBUTOR","body":"This is the correct output. This means that your segment does not fit into any of these buckets with the kind of memory (48GB usable)and ingestion rate (1000 events per second per partition) that you have with your retention of 336 hours. i would suggest to use higher number of hosts and see where things are.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705940435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705966809","html_url":"https://github.com/apache/pinot/issues/6121#issuecomment-705966809","issue_url":"https://api.github.com/repos/apache/pinot/issues/6121","id":705966809,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk2NjgwOQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T04:53:39Z","updated_at":"2020-10-09T04:53:39Z","author_association":"CONTRIBUTOR","body":"I see. Why shall we add more hosts? Is it because we have too long retention, and therefore need to distribute the real-time segments to more hosts?\r\n\r\ncc @chenboat ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705966809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705967089","html_url":"https://github.com/apache/pinot/pull/6113#issuecomment-705967089","issue_url":"https://api.github.com/repos/apache/pinot/issues/6113","id":705967089,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTk2NzA4OQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T04:54:53Z","updated_at":"2020-10-09T04:54:53Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Addressed the comments. PTAL","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/705967089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/706091014","html_url":"https://github.com/apache/pinot/pull/6119#issuecomment-706091014","issue_url":"https://api.github.com/repos/apache/pinot/issues/6119","id":706091014,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjA5MTAxNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T10:02:36Z","updated_at":"2020-10-09T10:03:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=h1) Report\n> Merging [#6119](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `5.72%`.\n> The diff coverage is `59.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6119/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6119      +/-   ##\n==========================================\n+ Coverage   66.44%   72.16%   +5.72%     \n==========================================\n  Files        1075     1229     +154     \n  Lines       54773    60053    +5280     \n  Branches     8168     8795     +627     \n==========================================\n+ Hits        36396    43340    +6944     \n+ Misses      15700    13799    -1901     \n- Partials     2677     2914     +237     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integration | `45.46% <48.75%> (?)` | |\n| #unittests | `63.12% <38.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `53.33% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <ø> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <ø> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <ø> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <ø> (ø)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <ø> (+44.44%)` | :arrow_up: |\n| ... and [979 more](https://codecov.io/gh/apache/incubator-pinot/pull/6119/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=footer). Last update [8782e47...f49a017](https://codecov.io/gh/apache/incubator-pinot/pull/6119?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/706091014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]