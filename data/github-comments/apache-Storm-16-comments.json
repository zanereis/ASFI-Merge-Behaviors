[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449821","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449821","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449821,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-29T21:26:18Z","updated_at":"2025-01-24T12:45:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13205800\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13205800</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/AbstractHdfsBolt.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hdfs.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.hadoop.conf.Configuration;<br/>\n    +import org.apache.hadoop.fs.FileSystem;<br/>\n    +import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.storm.hdfs.bolt.format.FileNameFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.rotation.FileRotationPolicy;<br/>\n    +import org.apache.storm.hdfs.bolt.sync.SyncPolicy;<br/>\n    +import org.apache.storm.hdfs.common.rotation.RotationAction;<br/>\n    +import org.apache.storm.hdfs.common.security.HdfsSecurityUtil;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public abstract class AbstractHdfsBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AbstractHdfsBolt.class);<br/>\n    +<br/>\n    +    protected ArrayList<RotationAction> rotationActions = new ArrayList<RotationAction>();<br/>\n    +    private Path currentFile;<br/>\n    +    protected OutputCollector collector;<br/>\n    +    protected FileSystem fs;<br/>\n    +    protected SyncPolicy syncPolicy;<br/>\n    +    protected FileRotationPolicy rotationPolicy;<br/>\n    +    protected FileNameFormat fileNameFormat;<br/>\n    +    protected int rotation = 0;<br/>\n    +    protected String fsUrl;<br/>\n    +    protected String configKey;<br/>\n    +//    protected String path;<br/>\n    +<br/>\n    +    protected Configuration hdfsConfig;<br/>\n    +<br/>\n    +    protected void rotateOutputFile() throws IOException {<br/>\n    +LOG.info(\"Rotating output file...\");<br/>\n    +long start = System.currentTimeMillis();<br/>\n    +closeOutputFile();<br/>\n    +this.rotation++;<br/>\n    +<br/>\n    +Path newFile = createOutputFile();<br/>\n    +LOG.info(\"Performing {} file rotation actions.\", this.rotationActions.size());<br/>\n    +for(RotationAction action : this.rotationActions)</p>\n{\n    +    action.execute(this.fs, this.currentFile);\n    +}\n<p>    +this.currentFile = newFile;<br/>\n    +long time = System.currentTimeMillis() - start;<br/>\n    +LOG.info(\"File rotation took {} ms.\", time);<br/>\n    +    }<br/>\n    +<br/>\n    +    public void prepare(Map conf, TopologyContext topologyContext, OutputCollector collector){<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It might be good to mark this as final and add some javadocs so that it is obvious that doPrepare is the extension point and not prepare.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449829","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449829","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449829,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-29T21:28:11Z","updated_at":"2025-01-24T12:45:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13205891\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13205891</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/AbstractHdfsBolt.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hdfs.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.hadoop.conf.Configuration;<br/>\n    +import org.apache.hadoop.fs.FileSystem;<br/>\n    +import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.storm.hdfs.bolt.format.FileNameFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.rotation.FileRotationPolicy;<br/>\n    +import org.apache.storm.hdfs.bolt.sync.SyncPolicy;<br/>\n    +import org.apache.storm.hdfs.common.rotation.RotationAction;<br/>\n    +import org.apache.storm.hdfs.common.security.HdfsSecurityUtil;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public abstract class AbstractHdfsBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AbstractHdfsBolt.class);<br/>\n    +<br/>\n    +    protected ArrayList<RotationAction> rotationActions = new ArrayList<RotationAction>();<br/>\n    +    private Path currentFile;<br/>\n    +    protected OutputCollector collector;<br/>\n    +    protected FileSystem fs;<br/>\n    +    protected SyncPolicy syncPolicy;<br/>\n    +    protected FileRotationPolicy rotationPolicy;<br/>\n    +    protected FileNameFormat fileNameFormat;<br/>\n    +    protected int rotation = 0;<br/>\n    +    protected String fsUrl;<br/>\n    +    protected String configKey;<br/>\n    +//    protected String path;<br/>\n    +<br/>\n    +    protected Configuration hdfsConfig;<br/>\n    +<br/>\n    +    protected void rotateOutputFile() throws IOException {<br/>\n    +LOG.info(\"Rotating output file...\");<br/>\n    +long start = System.currentTimeMillis();<br/>\n    +closeOutputFile();<br/>\n    +this.rotation++;<br/>\n    +<br/>\n    +Path newFile = createOutputFile();<br/>\n    +LOG.info(\"Performing {} file rotation actions.\", this.rotationActions.size());<br/>\n    +for(RotationAction action : this.rotationActions)</p>\n{\n    +    action.execute(this.fs, this.currentFile);\n    +}\n<p>    +this.currentFile = newFile;<br/>\n    +long time = System.currentTimeMillis() - start;<br/>\n    +LOG.info(\"File rotation took {} ms.\", time);<br/>\n    +    }<br/>\n    +<br/>\n    +    public void prepare(Map conf, TopologyContext topologyContext, OutputCollector collector){<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    good point.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449837","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449837","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449837,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4Mzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-29T22:03:54Z","updated_at":"2025-01-24T12:45:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13207661\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13207661</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/README.md &#8212;<br/>\n    @@ -0,0 +1,342 @@<br/>\n    +# Storm HDFS<br/>\n    +<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Fair enough, it is just that a lot of the configs are really hard to get right, especially for security, unless you copy the configs from a gateway.</p>\n\n<p>    Also I could be wrong about this but in the past for us there is enough about Hadoop and its RPC layer that is static, that you cannot talk to two different clusters that are configured incompatibly.  But a client can talk to many different compatible clusters.  Either way we can adjust the documentation as we get more experience with users trying to do this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449844","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449844","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449844,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-29T22:05:02Z","updated_at":"2025-01-24T12:45:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13207702\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13207702</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/HdfsBolt.java &#8212;<br/>\n    @@ -0,0 +1,129 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hdfs.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.hadoop.fs.FSDataOutputStream;<br/>\n    +import org.apache.hadoop.fs.FileSystem;<br/>\n    +import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.hadoop.hdfs.client.HdfsDataOutputStream;<br/>\n    +import org.apache.hadoop.hdfs.client.HdfsDataOutputStream.SyncFlag;<br/>\n    +import org.apache.storm.hdfs.bolt.format.FileNameFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.format.RecordFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.rotation.FileRotationPolicy;<br/>\n    +import org.apache.storm.hdfs.bolt.sync.SyncPolicy;<br/>\n    +import org.apache.storm.hdfs.common.rotation.RotationAction;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.EnumSet;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class HdfsBolt extends AbstractHdfsBolt{<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(HdfsBolt.class);<br/>\n    +<br/>\n    +    private FSDataOutputStream out;<br/>\n    +    private RecordFormat format;<br/>\n    +    private long offset = 0;<br/>\n    +<br/>\n    +    public HdfsBolt withFsUrl(String fsUrl)</p>\n{\n    +this.fsUrl = fsUrl;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public HdfsBolt withConfigKey(String configKey)</p>\n{\n    +this.configKey = configKey;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public HdfsBolt withFileNameFormat(FileNameFormat fileNameFormat)</p>\n{\n    +this.fileNameFormat = fileNameFormat;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public HdfsBolt withRecordFormat(RecordFormat format)</p>\n{\n    +this.format = format;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public HdfsBolt withSyncPolicy(SyncPolicy syncPolicy)</p>\n{\n    +this.syncPolicy = syncPolicy;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public HdfsBolt withRotationPolicy(FileRotationPolicy rotationPolicy)</p>\n{\n    +this.rotationPolicy = rotationPolicy;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public HdfsBolt addRotationAction(RotationAction action)</p>\n{\n    +this.rotationActions.add(action);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void doPrepare(Map conf, TopologyContext topologyContext, OutputCollector collector) throws IOException </p>\n{\n    +LOG.info(\"Preparing HDFS Bolt...\");\n    +this.fs = FileSystem.get(URI.create(this.fsUrl), hdfsConfig);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    byte[] bytes = this.format.format(tuple);<br/>\n    +    out.write(bytes);<br/>\n    +    this.offset += bytes.length;<br/>\n    +<br/>\n    +    this.collector.ack(tuple);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Is there ever a use case to only ack the tuple after it has hit disk?  I guess that kind of is what the trident implementations are for.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44599761","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44599761","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44599761,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTk5NzYx","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-29T23:48:23Z","updated_at":"2014-05-29T23:48:23Z","author_association":"MEMBER","body":"@harshach it looks like this commit reverts the previous commit to fix the complete latency metrics... Can you double check?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44599761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448896","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448896","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448896,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg4OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-29T23:48:27Z","updated_at":"2025-01-24T12:45:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44599761\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44599761</a></p>\n\n<p>    @harshach it looks like this commit reverts the previous commit to fix the complete latency metrics... Can you double check?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44629767","html_url":"https://github.com/apache/storm/pull/103#issuecomment-44629767","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":44629767,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjI5NzY3","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T09:13:26Z","updated_at":"2014-05-30T09:13:26Z","author_association":"CONTRIBUTOR","body":"@clockfly , @revans2 \n\nI added more nodes, from 4 nodes to 15 nodes, as well as spouts, bolts, ackers and workers, and keep their parallelism count in the same ratio, eg, for every other 4 nodes, add 48 spouts, 48 bolts, 48 ackers and 8 workers. Here is the test result:\n\nnodes | workers | Throughput | CPU usage | NET usage (only IN Bytes)\n4   | 8   | 656,000 tps    | 89% | 28MB/s\n8   | 16 | 1,004,000 tps | 82% | 28MB/s\n12 | 24 | 1,133,000 tps | 72% | 25MB/s\n15 | 30 | 1,235,000 tps | 69% | 24MB/s\n\nfor last two rows, the CPU usage decreased, and the throughput increasing speed slows down. I added a few more worker to re-run the test, the result is:\n\nnodes | workers | Throughput | CPU usage | NET usage (only IN Bytes)\n12 | 48 | 1,444,000 tps | 88% | 30MB/s\n15 | 30 | 1,735,000 tps | 88% | 30MB/s\n\nFrom the result, We can see adding some more workers DO help to scale up performance as adding more CPUs. \n\nFinally, maybe we should re-considerate the root cause of this issue \"STORM-297 Storm Performance cannot be scaled up by adding more CPU cores\"\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44629767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461036","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461036","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461036,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwMzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T09:13:29Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-44629767\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-44629767</a></p>\n\n<p>    @clockfly , @revans2 </p>\n\n<p>    I added more nodes, from 4 nodes to 15 nodes, as well as spouts, bolts, ackers and workers, and keep their parallelism count in the same ratio, eg, for every other 4 nodes, add 48 spouts, 48 bolts, 48 ackers and 8 workers. Here is the test result:</p>\n\n<p>    nodes | workers | Throughput | CPU usage | NET usage (only IN Bytes)<br/>\n    4   | 8   | 656,000 tps    | 89% | 28MB/s<br/>\n    8   | 16 | 1,004,000 tps | 82% | 28MB/s<br/>\n    12 | 24 | 1,133,000 tps | 72% | 25MB/s<br/>\n    15 | 30 | 1,235,000 tps | 69% | 24MB/s</p>\n\n<p>    for last two rows, the CPU usage decreased, and the throughput increasing speed slows down. I added a few more worker to re-run the test, the result is:</p>\n\n<p>    nodes | workers | Throughput | CPU usage | NET usage (only IN Bytes)<br/>\n    12 | 48 | 1,444,000 tps | 88% | 30MB/s<br/>\n    15 | 30 | 1,735,000 tps | 88% | 30MB/s</p>\n\n<p>    From the result, We can see adding some more workers DO help to scale up performance as adding more CPUs. </p>\n\n<p>    Finally, maybe we should re-considerate the root cause of this issue \"<a href=\"https://issues.apache.org/jira/browse/STORM-297\" title=\"Storm Performance cannot be scaled up by adding more CPU cores\" class=\"issue-link\" data-issue-key=\"STORM-297\"><del>STORM-297</del></a> Storm Performance cannot be scaled up by adding more CPU cores\"</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44634492","html_url":"https://github.com/apache/storm/pull/103#issuecomment-44634492","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":44634492,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjM0NDky","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T09:54:55Z","updated_at":"2014-05-30T09:54:55Z","author_association":"CONTRIBUTOR","body":"Hi Gvain,\n\nFirstly I apologize for the late reply, I was stuck by a 2-day training.\n\nThank you for sharing your data! It is really awesome that we are using the data to present our points!\n\nBefore jumping to conclusions, let's make sure we understand the data in the same way and the test can be reproduced, I have some questions about your data.\n1. what tps here is consist of? Is it solely consist of spout message? or also including acker message? and other message?\n2. What is the message latency in each test?\n3. I noticed your network usage is pretty small, is it overall cluster network usage? or is it only single machine network usage? Are you using 1Gb network?\n4. What is your max spout pending setting? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44634492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461040","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461040","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461040,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T09:54:57Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-44634492\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-44634492</a></p>\n\n<p>    Hi Gvain,</p>\n\n<p>    Firstly I apologize for the late reply, I was stuck by a 2-day training.</p>\n\n<p>    Thank you for sharing your data! It is really awesome that we are using the data to present our points!</p>\n\n<p>    Before jumping to conclusions, let's make sure we understand the data in the same way and the test can be reproduced, I have some questions about your data.</p>\n\n<p>    1. what tps here is consist of? Is it solely consist of spout message? or also including acker message? and other message?<br/>\n    2. What is the message latency in each test?<br/>\n    3. I noticed your network usage is pretty small, is it overall cluster network usage? or is it only single machine network usage? Are you using 1Gb network?<br/>\n    4. What is your max spout pending setting? </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44635246","html_url":"https://github.com/apache/storm/pull/103#issuecomment-44635246","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":44635246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjM1MjQ2","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T10:05:12Z","updated_at":"2014-05-30T10:05:12Z","author_association":"CONTRIBUTOR","body":"Hi, clockfly\n\n1) tps here only consists of spout emitted messages, NOT including acker messages or any other messages.\n3) the network usage is only SINGLE machine network usage, and only the IN direction bytes counts. And I am using two bonded 1Gb network card.\n4) max.spout.pending is 1000.\n\nAs for 2), i didn't really stats message latency. All i did is compared the emitted count by spouts and the received count by bolts, they are quite catch up with each other  \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44635246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461045","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461045","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T10:05:14Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-44635246\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-44635246</a></p>\n\n<p>    Hi, clockfly</p>\n\n<p>    1) tps here only consists of spout emitted messages, NOT including acker messages or any other messages.<br/>\n    3) the network usage is only SINGLE machine network usage, and only the IN direction bytes counts. And I am using two bonded 1Gb network card.<br/>\n    4) max.spout.pending is 1000.</p>\n\n<p>    As for 2), i didn't really stats message latency. All i did is compared the emitted count by spouts and the received count by bolts, they are quite catch up with each other  </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44642174","html_url":"https://github.com/apache/storm/pull/103#issuecomment-44642174","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":44642174,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjQyMTc0","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T11:45:02Z","updated_at":"2014-05-30T11:45:02Z","author_association":"CONTRIBUTOR","body":"Hi, clockfly\n\nYou can reproduce my test by checking out the modified storm-perf-test here \nhttps://github.com/Gvain/storm-perf-test/tree/spout-throughput\nand the storm here\nhttps://github.com/Gvain/incubator-storm, which is merely a copy from the original apache/incubator-storm several days ago.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44642174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461048","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461048","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461048,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T11:45:04Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-44642174\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-44642174</a></p>\n\n<p>    Hi, clockfly</p>\n\n<p>    You can reproduce my test by checking out the modified storm-perf-test here <br/>\n    <a href=\"https://github.com/Gvain/storm-perf-test/tree/spout-throughput\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Gvain/storm-perf-test/tree/spout-throughput</a><br/>\n    and the storm here<br/>\n    <a href=\"https://github.com/Gvain/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Gvain/incubator-storm</a>, which is merely a copy from the original apache/incubator-storm several days ago.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44659748","html_url":"https://github.com/apache/storm/pull/127#issuecomment-44659748","issue_url":"https://api.github.com/repos/apache/storm/issues/127","id":44659748,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjU5NzQ4","user":{"login":"aaronzimmerman","id":4855565,"node_id":"MDQ6VXNlcjQ4NTU1NjU=","avatar_url":"https://avatars.githubusercontent.com/u/4855565?v=4","gravatar_id":"","url":"https://api.github.com/users/aaronzimmerman","html_url":"https://github.com/aaronzimmerman","followers_url":"https://api.github.com/users/aaronzimmerman/followers","following_url":"https://api.github.com/users/aaronzimmerman/following{/other_user}","gists_url":"https://api.github.com/users/aaronzimmerman/gists{/gist_id}","starred_url":"https://api.github.com/users/aaronzimmerman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaronzimmerman/subscriptions","organizations_url":"https://api.github.com/users/aaronzimmerman/orgs","repos_url":"https://api.github.com/users/aaronzimmerman/repos","events_url":"https://api.github.com/users/aaronzimmerman/events{/privacy}","received_events_url":"https://api.github.com/users/aaronzimmerman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T14:53:24Z","updated_at":"2014-05-30T14:53:24Z","author_association":"NONE","body":"This looks very cool.  I was thinking of doing something similar.  Does this work for Trident as well as regular topologies?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44659748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612432222","html_url":"https://github.com/apache/storm/issues/3911#issuecomment-2612432222","issue_url":"https://api.github.com/repos/apache/storm/issues/3911","id":2612432222,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzIyMjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T14:53:26Z","updated_at":"2025-01-24T12:36:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user aaronzimmerman commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/127#issuecomment-44659748\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/127#issuecomment-44659748</a></p>\n\n<p>    This looks very cool.  I was thinking of doing something similar.  Does this work for Trident as well as regular topologies?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612432222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44662020","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44662020","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44662020,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjYyMDIw","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T15:13:24Z","updated_at":"2014-05-30T15:13:24Z","author_association":"MEMBER","body":"@revans2 @d2r Are you okay with merging this as-is with a follow up JIRA for cleanup/doc?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44662020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448898","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448898","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448898,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg4OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T15:13:26Z","updated_at":"2025-01-24T12:45:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44662020\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44662020</a></p>\n\n<p>    @revans2 @d2r Are you okay with merging this as-is with a follow up JIRA for cleanup/doc?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449848","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449848","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449848,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T16:03:44Z","updated_at":"2025-01-24T12:45:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13235725\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13235725</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/SequenceFileBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hdfs.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.hadoop.fs.FileSystem;<br/>\n    +import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.hadoop.io.SequenceFile;<br/>\n    +import org.apache.hadoop.io.compress.CompressionCodecFactory;<br/>\n    +import org.apache.storm.hdfs.bolt.format.FileNameFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.format.SequenceFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.rotation.FileRotationPolicy;<br/>\n    +import org.apache.storm.hdfs.bolt.sync.SyncPolicy;<br/>\n    +import org.apache.storm.hdfs.common.rotation.RotationAction;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class SequenceFileBolt extends AbstractHdfsBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(SequenceFileBolt.class);<br/>\n    +<br/>\n    +    private SequenceFormat format;<br/>\n    +    private SequenceFile.CompressionType compressionType = SequenceFile.CompressionType.RECORD;<br/>\n    +    private SequenceFile.Writer writer;<br/>\n    +<br/>\n    +    private String compressionCodec = \"default\";<br/>\n    +    private transient CompressionCodecFactory codecFactory;<br/>\n    +<br/>\n    +    public SequenceFileBolt() </p>\n{\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withCompressionCodec(String codec)</p>\n{\n    +this.compressionCodec = codec;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withFsUrl(String fsUrl) </p>\n{\n    +this.fsUrl = fsUrl;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withConfigKey(String configKey)</p>\n{\n    +this.configKey = configKey;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withFileNameFormat(FileNameFormat fileNameFormat) </p>\n{\n    +this.fileNameFormat = fileNameFormat;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withSequenceFormat(SequenceFormat format) </p>\n{\n    +this.format = format;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withSyncPolicy(SyncPolicy syncPolicy) </p>\n{\n    +this.syncPolicy = syncPolicy;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withRotationPolicy(FileRotationPolicy rotationPolicy) </p>\n{\n    +this.rotationPolicy = rotationPolicy;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withCompressionType(SequenceFile.CompressionType compressionType)</p>\n{\n    +this.compressionType = compressionType;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt addRotationAction(RotationAction action)</p>\n{\n    +this.rotationActions.add(action);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void doPrepare(Map conf, TopologyContext topologyContext, OutputCollector collector) throws IOException </p>\n{\n    +LOG.info(\"Preparing Sequence File Bolt...\");\n    +if (this.format == null) throw new IllegalStateException(\"SequenceFormat must be specified.\");\n    +\n    +this.fs = FileSystem.get(URI.create(this.fsUrl), hdfsConfig);\n    +this.codecFactory = new CompressionCodecFactory(hdfsConfig);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    this.writer.append(this.format.key(tuple), this.format.value(tuple));<br/>\n    +    long offset = this.writer.getLength();<br/>\n    +    this.collector.ack(tuple);<br/>\n    +<br/>\n    +    if (this.syncPolicy.mark(tuple, offset)) {<br/>\n    +this.writer.hsync();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    hsync is Hadoop 2.x specific.  If we are going to restrict ourselves to that, I am OK, but we may want to document it in the section about incompatible exceptions.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449853","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449853","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449853,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T16:05:38Z","updated_at":"2025-01-24T12:45:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13235820\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13235820</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/SequenceFileBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hdfs.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.hadoop.fs.FileSystem;<br/>\n    +import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.hadoop.io.SequenceFile;<br/>\n    +import org.apache.hadoop.io.compress.CompressionCodecFactory;<br/>\n    +import org.apache.storm.hdfs.bolt.format.FileNameFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.format.SequenceFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.rotation.FileRotationPolicy;<br/>\n    +import org.apache.storm.hdfs.bolt.sync.SyncPolicy;<br/>\n    +import org.apache.storm.hdfs.common.rotation.RotationAction;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.net.URI;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class SequenceFileBolt extends AbstractHdfsBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(SequenceFileBolt.class);<br/>\n    +<br/>\n    +    private SequenceFormat format;<br/>\n    +    private SequenceFile.CompressionType compressionType = SequenceFile.CompressionType.RECORD;<br/>\n    +    private SequenceFile.Writer writer;<br/>\n    +<br/>\n    +    private String compressionCodec = \"default\";<br/>\n    +    private transient CompressionCodecFactory codecFactory;<br/>\n    +<br/>\n    +    public SequenceFileBolt() </p>\n{\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withCompressionCodec(String codec)</p>\n{\n    +this.compressionCodec = codec;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withFsUrl(String fsUrl) </p>\n{\n    +this.fsUrl = fsUrl;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withConfigKey(String configKey)</p>\n{\n    +this.configKey = configKey;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withFileNameFormat(FileNameFormat fileNameFormat) </p>\n{\n    +this.fileNameFormat = fileNameFormat;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withSequenceFormat(SequenceFormat format) </p>\n{\n    +this.format = format;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withSyncPolicy(SyncPolicy syncPolicy) </p>\n{\n    +this.syncPolicy = syncPolicy;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withRotationPolicy(FileRotationPolicy rotationPolicy) </p>\n{\n    +this.rotationPolicy = rotationPolicy;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt withCompressionType(SequenceFile.CompressionType compressionType)</p>\n{\n    +this.compressionType = compressionType;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    public SequenceFileBolt addRotationAction(RotationAction action)</p>\n{\n    +this.rotationActions.add(action);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void doPrepare(Map conf, TopologyContext topologyContext, OutputCollector collector) throws IOException </p>\n{\n    +LOG.info(\"Preparing Sequence File Bolt...\");\n    +if (this.format == null) throw new IllegalStateException(\"SequenceFormat must be specified.\");\n    +\n    +this.fs = FileSystem.get(URI.create(this.fsUrl), hdfsConfig);\n    +this.codecFactory = new CompressionCodecFactory(hdfsConfig);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    this.writer.append(this.format.key(tuple), this.format.value(tuple));<br/>\n    +    long offset = this.writer.getLength();<br/>\n    +    this.collector.ack(tuple);<br/>\n    +<br/>\n    +    if (this.syncPolicy.mark(tuple, offset)) </p>\n{\n    +this.writer.hsync();\n    +this.syncPolicy.reset();\n    +    }\n<p>    +    if (this.rotationPolicy.mark(tuple, offset)) </p>\n{\n    +rotateOutputFile();\n    +this.rotationPolicy.reset();\n    +    }\n<p>    +} catch (IOException e) </p>\n{\n    +    LOG.warn(\"write/sync failed.\", e);\n    +    this.collector.fail(tuple);\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    Path createOutputFile() throws IOException </p>\n{\n    +Path p = new Path(this.fsUrl + this.fileNameFormat.getPath(), this.fileNameFormat.getName(this.rotation, System.currentTimeMillis()));\n    +this.writer = SequenceFile.createWriter(\n    +this.hdfsConfig,\n    +SequenceFile.Writer.file(p),\n    +SequenceFile.Writer.keyClass(this.format.keyClass()),\n    +SequenceFile.Writer.valueClass(this.format.valueClass()),\n    +SequenceFile.Writer.compression(this.compressionType, this.codecFactory.getCodecByName(this.compressionCodec))\n    +);\n    +return p;\n    +    }\n<p>    +<br/>\n    +    void closeOutputFile() throws IOException {<br/>\n    +this.writer.hsync();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I'm not sure this is needed.  Close is supposed to block until the data is in HDFS, not necessarily on disk. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449856","html_url":"https://github.com/apache/storm/issues/4053#issuecomment-2612449856","issue_url":"https://api.github.com/repos/apache/storm/issues/4053","id":2612449856,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDk4NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T16:12:27Z","updated_at":"2025-01-24T12:45:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/128#discussion_r13236143\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/128#discussion_r13236143</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/bolt/AbstractHdfsBolt.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hdfs.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.hadoop.conf.Configuration;<br/>\n    +import org.apache.hadoop.fs.FileSystem;<br/>\n    +import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.storm.hdfs.bolt.format.FileNameFormat;<br/>\n    +import org.apache.storm.hdfs.bolt.rotation.FileRotationPolicy;<br/>\n    +import org.apache.storm.hdfs.bolt.sync.SyncPolicy;<br/>\n    +import org.apache.storm.hdfs.common.rotation.RotationAction;<br/>\n    +import org.apache.storm.hdfs.common.security.HdfsSecurityUtil;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public abstract class AbstractHdfsBolt extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(AbstractHdfsBolt.class);<br/>\n    +<br/>\n    +    protected ArrayList<RotationAction> rotationActions = new ArrayList<RotationAction>();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    If the intention of a RotationAction is primarily to move/rename a file, then I am not really sure that having multiple of them makes a lot of since.  I can see having other actions, like sending an event that rotation has finished, but I personally would rather represent it as a RotationAction that wraps another one.  Just so it can have more control over the order in which operations, like a move, happen.</p>\n\n<p>    This is not critical, just curious for your thoughts on this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44683882","html_url":"https://github.com/apache/storm/pull/127#issuecomment-44683882","issue_url":"https://api.github.com/repos/apache/storm/issues/127","id":44683882,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjgzODgy","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T18:29:59Z","updated_at":"2014-06-02T15:28:38Z","author_association":"CONTRIBUTOR","body":"Trident works fine since storm gathers the same metrics on those topologies, and that's all the visualizations rely on.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44683882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612432223","html_url":"https://github.com/apache/storm/issues/3911#issuecomment-2612432223","issue_url":"https://api.github.com/repos/apache/storm/issues/3911","id":2612432223,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzIyMjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T18:30:02Z","updated_at":"2025-01-24T12:36:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/127#issuecomment-44683882\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/127#issuecomment-44683882</a></p>\n\n<p>    I haven't tested on trident, but I imagine it would since I believe storm gathers the same metrics on those topologies, and that's all the visualizations really rely on.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612432223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44691802","html_url":"https://github.com/apache/storm/pull/33#issuecomment-44691802","issue_url":"https://api.github.com/repos/apache/storm/issues/33","id":44691802,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjkxODAy","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T19:44:43Z","updated_at":"2014-05-30T19:44:43Z","author_association":"NONE","body":"I am +1.  I will add a unit test in a separate JIRA.  We should fix the leak now.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44691802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612431591","html_url":"https://github.com/apache/storm/issues/3905#issuecomment-2612431591","issue_url":"https://api.github.com/repos/apache/storm/issues/3905","id":2612431591,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzE1OTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T19:44:46Z","updated_at":"2025-01-24T12:35:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/33#issuecomment-44691802\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/33#issuecomment-44691802</a></p>\n\n<p>    I am +1.  I will add a unit test in a separate JIRA.  We should fix the leak now.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612431591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612468147","html_url":"https://github.com/apache/storm/issues/4177#issuecomment-2612468147","issue_url":"https://api.github.com/repos/apache/storm/issues/4177","id":2612468147,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjgxNDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T19:49:27Z","updated_at":"2025-01-24T12:54:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagit\">dagit</a>:</i>\n<p>Thinking this should do it: <a href=\"https://github.com/d2r/incubator-storm/commit/baed81c717e0fc20eb9151690fdcd2352bed57ae\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/d2r/incubator-storm/commit/baed81c717e0fc20eb9151690fdcd2352bed57ae</a></p>\n\n<p>I'll add a pull request once <a href=\"https://issues.apache.org/jira/browse/STORM-63\" title=\"timeout request stay in queue of drpc server\" class=\"issue-link\" data-issue-key=\"STORM-63\"><del>STORM-63</del></a> is in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612468147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612441917","html_url":"https://github.com/apache/storm/issues/3995#issuecomment-2612441917","issue_url":"https://api.github.com/repos/apache/storm/issues/3995","id":2612441917,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDE5MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-30T21:31:57Z","updated_at":"2025-01-24T12:41:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=danehammer\">danehammer</a>:</i>\n<p>Link to mentioned storm-user discussion: <a href=\"https://groups.google.com/forum/#!topic/storm-user/7ybeoZzqI2Q\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://groups.google.com/forum/#!topic/storm-user/7ybeoZzqI2Q</a></p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612441917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465619","html_url":"https://github.com/apache/storm/issues/4165#issuecomment-2612465619","issue_url":"https://api.github.com/repos/apache/storm/issues/4165","id":2612465619,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjU2MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T00:49:24Z","updated_at":"2025-01-24T12:53:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srinath.c\">srinath.c</a>:</i>\n<p>This issue was debugged and the root cause was due to a spout blocking on a queue for prolonged duration of time.<br/>\nThe spout would only unblock itself upon some activity that was rarely occurring. Once this was corrected, the issue has not been seen again. Heap dumps do not show any signs of these tuples getting accumulated.</p>\n\n<p>On a side note, the following would have helped in troubleshooting:<br/>\n1. Looking into the dumps, it wasn't possible to trace the spout/bolt whose RingBuffers held these unacked tuples. <br/>\n2. Some documentation on the internals like async_loop, RingBuffer, etc just for the sake of those who are not familiar with clojure</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465621","html_url":"https://github.com/apache/storm/issues/4165#issuecomment-2612465621","issue_url":"https://api.github.com/repos/apache/storm/issues/4165","id":2612465621,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjU2MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T00:53:54Z","updated_at":"2025-01-24T12:53:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srinath.c\">srinath.c</a>:</i>\n<p>Marking this as invalid since this was due to spout blocking on a queue and not releasing storm's executor thread.<br/>\nThe javadoc for nextTuple clearly mentions that it should be non-blocking.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44755252","html_url":"https://github.com/apache/storm/pull/130#issuecomment-44755252","issue_url":"https://api.github.com/repos/apache/storm/issues/130","id":44755252,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzU1MjUy","user":{"login":"xpe","id":4576329,"node_id":"MDQ6VXNlcjQ1NzYzMjk=","avatar_url":"https://avatars.githubusercontent.com/u/4576329?v=4","gravatar_id":"","url":"https://api.github.com/users/xpe","html_url":"https://github.com/xpe","followers_url":"https://api.github.com/users/xpe/followers","following_url":"https://api.github.com/users/xpe/following{/other_user}","gists_url":"https://api.github.com/users/xpe/gists{/gist_id}","starred_url":"https://api.github.com/users/xpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xpe/subscriptions","organizations_url":"https://api.github.com/users/xpe/orgs","repos_url":"https://api.github.com/users/xpe/repos","events_url":"https://api.github.com/users/xpe/events{/privacy}","received_events_url":"https://api.github.com/users/xpe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T18:09:07Z","updated_at":"2014-05-31T18:09:07Z","author_association":"CONTRIBUTOR","body":"```\nResults :\n\nTests run: 35, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Storm ............................................. SUCCESS [0.614s]\n[INFO] maven-shade-clojure-transformer ................... SUCCESS [1.114s]\n[INFO] Storm Core ........................................ SUCCESS [2:07.361s]\n[INFO] storm-starter ..................................... SUCCESS [3.184s]\n[INFO] storm-kafka ....................................... SUCCESS [23.383s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2:36.234s\n[INFO] Finished at: Sat May 31 14:01:20 EDT 2014\n[INFO] Final Memory: 20M/446M\n[INFO] ------------------------------------------------------------------------\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44755252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44756441","html_url":"https://github.com/apache/storm/pull/66#issuecomment-44756441","issue_url":"https://api.github.com/repos/apache/storm/issues/66","id":44756441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzU2NDQx","user":{"login":"xpe","id":4576329,"node_id":"MDQ6VXNlcjQ1NzYzMjk=","avatar_url":"https://avatars.githubusercontent.com/u/4576329?v=4","gravatar_id":"","url":"https://api.github.com/users/xpe","html_url":"https://github.com/xpe","followers_url":"https://api.github.com/users/xpe/followers","following_url":"https://api.github.com/users/xpe/following{/other_user}","gists_url":"https://api.github.com/users/xpe/gists{/gist_id}","starred_url":"https://api.github.com/users/xpe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xpe/subscriptions","organizations_url":"https://api.github.com/users/xpe/orgs","repos_url":"https://api.github.com/users/xpe/repos","events_url":"https://api.github.com/users/xpe/events{/privacy}","received_events_url":"https://api.github.com/users/xpe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T18:54:35Z","updated_at":"2014-05-31T18:54:55Z","author_association":"CONTRIBUTOR","body":"I think that \"a ton of namespace conflicts\" is overstated. When I tried Clojure 1.6.0, I saw namespace conflicts that all had to do with `some?`.\n\nClojure 1.6 added [some?](http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/some?). I think this is easily solved, since `some?` is only used by `zip-contains-dir?` in Storm.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44756441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456646","html_url":"https://github.com/apache/storm/issues/4107#issuecomment-2612456646","issue_url":"https://api.github.com/repos/apache/storm/issues/4107","id":2612456646,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY2NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T18:54:37Z","updated_at":"2025-01-24T12:49:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user xpe commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/66#issuecomment-44756441\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/66#issuecomment-44756441</a></p>\n\n<p>    I think that \"a ton of namespace conflicts\" is overstated. When I tried Clojure 1.6.0, I saw namespace conflicts that all had to do with `some?`.</p>\n\n<p>    Clojure 1.6 added <span class=\"error\">&#91;some?&#93;</span>(<a href=\"http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/some?\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://clojure.github.io/clojure/clojure.core-api.html#clojure.core/some?</a>). I think this is easily solved, since `some?` is only used by `zip-contains-dir?`.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44756490","html_url":"https://github.com/apache/storm/pull/106#issuecomment-44756490","issue_url":"https://api.github.com/repos/apache/storm/issues/106","id":44756490,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzU2NDkw","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T18:56:31Z","updated_at":"2014-05-31T18:56:31Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44756490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612463574","html_url":"https://github.com/apache/storm/issues/4155#issuecomment-2612463574","issue_url":"https://api.github.com/repos/apache/storm/issues/4155","id":2612463574,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjM1NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T18:56:32Z","updated_at":"2025-01-24T12:53:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/106#issuecomment-44756490\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/106#issuecomment-44756490</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612463574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44758853","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44758853","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44758853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzU4ODUz","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T20:26:37Z","updated_at":"2014-05-31T20:26:37Z","author_association":"NONE","body":"> I get a weird error when trying to compile this:\n\nNever mind.  Rebooted and did not see the issue again.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44758853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448901","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448901","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448901,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T20:26:38Z","updated_at":"2025-01-24T12:45:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44758853\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44758853</a></p>\n\n<p>    > I get a weird error when trying to compile this:</p>\n\n<p>    Never mind.  Rebooted and did not see the issue again.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448910","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448910","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448910,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T20:27:58Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#discussion_r13263218\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#discussion_r13263218</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/ui/core.clj &#8212;<br/>\n    @@ -644,11 +304,153 @@<br/>\n       [:input {:type \"button\"<br/>\n:value action<br/>\n(if enabled :enabled :disabled) \"\"</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>:onclick (str \"confirmAction('\"</li>\n\t<li>(StringEscapeUtils/escapeJavaScript id) \"', '\"<br/>\n    +   :onclick (str \"confirmAction('\"<br/>\n    + (StringEscapeUtils/escapeJavaScript id) \"', '\"<br/>\n      (StringEscapeUtils/escapeJavaScript name) \"', '\"<br/>\n      command \"', \" is-wait \", \" default-wait \")\")}])</li>\n</ul>\n\n\n<p>    +(defn cluster-configuration []<br/>\n    +  (with-nimbus nimbus<br/>\n    +    (.getNimbusConf ^Nimbus$Client nimbus)))<br/>\n    +<br/>\n    +(defn cluster-summary<br/>\n    +  ([]<br/>\n    +     (with-nimbus nimbus<br/>\n    +(cluster-summary (.getClusterInfo ^Nimbus$Client nimbus))))<br/>\n    +  (<span class=\"error\">&#91;^ClusterSummary summ&#93;</span><br/>\n    +     (let [sups (.get_supervisors summ)<br/>\n    +used-slots (reduce + (map #(.get_num_used_workers ^SupervisorSummary %) sups))<br/>\n    +total-slots (reduce + (map #(.get_num_workers ^SupervisorSummary %) sups))<br/>\n    +free-slots (- total-slots used-slots)<br/>\n    +total-tasks (->> (.get_topologies summ)<br/>\n    + (map #(.get_num_tasks ^TopologySummary %))<br/>\n    + (reduce +))<br/>\n    +total-executors (->> (.get_topologies summ)<br/>\n    +     (map #(.get_num_executors ^TopologySummary %))<br/>\n    +     (reduce +))]<br/>\n    +       { \"stormVersion\" (read-storm-version)<br/>\n    + \"nimbusUptime\" (pretty-uptime-sec (.get_nimbus_uptime_secs summ))<br/>\n    + \"supervisors\" (count sups)<br/>\n    + \"topologies\" \"\"<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Looks like topologies is always blank with /api/v1/cluster/summary</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44759676","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44759676","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44759676,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzU5Njc2","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T21:03:38Z","updated_at":"2014-05-31T21:03:38Z","author_association":"CONTRIBUTOR","body":"@d2r Thanks for catching that. Topologies info can be retried from /api/v1/topology/summary . I am not sure about including it as part of cluster/summary. If it makes sense I'll add there otherwise I'll remove the \"topologies\" element from the response.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44759676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448914","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448914","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448914,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-31T21:03:40Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44759676\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44759676</a></p>\n\n<p>    @d2r Thanks for catching that. Topologies info can be retried from /api/v1/topology/summary . I am not sure about including it as part of cluster/summary. If it makes sense I'll add there otherwise I'll remove the \"topologies\" element from the response.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612468038","html_url":"https://github.com/apache/storm/issues/4176#issuecomment-2612468038","issue_url":"https://api.github.com/repos/apache/storm/issues/4176","id":2612468038,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjgwMzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-01T05:01:37Z","updated_at":"2025-01-24T12:54:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gkhare\" class=\"user-hover\" rel=\"gkhare\">Gaurav Khare</a> <br/>\nI tried on OS X 10.9.2 with maven-3.2.1 with java 1.7.0_55 and 1.6.0_65 <br/>\non Windows 7 with maven-3.2.1 and java 1.7.0_55 my build went through fine for the <br/>\nlatest from git.<br/>\nI would try deleting ~/.m2 dir and run mvn clean package.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612468038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465842","html_url":"https://github.com/apache/storm/issues/4167#issuecomment-2612465842","issue_url":"https://api.github.com/repos/apache/storm/issues/4167","id":2612465842,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjU4NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T07:16:13Z","updated_at":"2025-01-24T12:53:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hamnis\">hamnis</a>:</i>\n<p>Can someone take a look at the pull request please?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612465842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448918","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448918","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448918,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T13:33:04Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#discussion_r13283946\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#discussion_r13283946</a></p>\n\n<p>    &#8212; Diff: storm-core/src/ui/public/component.html &#8212;<br/>\n    @@ -0,0 +1,88 @@<br/>\n    +<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"><br/>\n    +<html><head><br/>\n    +<title>Storm UI</title><br/>\n    +<link href=\"/css/bootstrap-1.4.0.css\" rel=\"stylesheet\" type=\"text/css\"><br/>\n    +<link href=\"/css/style.css\" rel=\"stylesheet\" type=\"text/css\"><br/>\n    +<script src=\"/js/jquery-1.6.2.min.js\" type=\"text/javascript\"></script><br/>\n    +<script src=\"/js/jquery.tablesorter.min.js\" type=\"text/javascript\"></script><br/>\n    +<script src=\"/js/jquery.cookies.2.2.0.min.js\" type=\"text/javascript\"></script><br/>\n    +<script src=\"/js/jquery.mustache.js\" type=\"text/javascript\"></script><br/>\n    +<script src=\"/js/purl.js\" type=\"text/javascript\"></script><br/>\n    +<script src=\"/js/bootstrap-twipsy.js\" type=\"text/javascript\"></script><br/>\n    +<script src=\"/js/script.js\" type=\"text/javascript\"></script><br/>\n    +</head><br/>\n    +<body><br/>\n    +<h1><a href=\"/\">Storm UI</a></h1><br/>\n    +<div id=\"component-summary\"><br/>\n    +</div><br/>\n    +<div id=\"component-stats-detail\"><br/>\n    +</div><br/>\n    +<div id=\"component-input-stats\"><br/>\n    +</div><br/>\n    +<div id=\"component-output-stats\"><br/>\n    +</div><br/>\n    +<div id=\"component-executor-stats\"><br/>\n    +</div><br/>\n    +<div id=\"component-errors\"><br/>\n    +</div><br/>\n    +<div id=\"error\"><br/>\n    +</div><br/>\n    +<p id=\"toggle-switch\" style=\"display: block;\" class=\"js-only\"></p><br/>\n    +<script><br/>\n    +$(document).ready(function() {<br/>\n    +    var componentId = $.url().param(\"id\");<br/>\n    +    var topologyId = $.url().param(\"topology_id\");<br/>\n    +    var window = $.url().param(\"window\");<br/>\n    +    var sys = $.cookies.get(\"sys\") || \"false\";<br/>\n    +    var url = \"/api/v1/topology/\"<ins>topologyId</ins>\"/component/\"<ins>componentId</ins>\"?sys=\"+sys;<br/>\n    +    if(window) url += \"&window=\"+window;<br/>\n    +    renderToggleSys($(\"#toggle-switch\"));<br/>\n    +    $.ajaxSetup({<br/>\n    +\"error\":function(jqXHR,textStatus,response) {<br/>\n    +    var errorJson = jQuery.parseJSON(jqXHR.responseText);<br/>\n    +    $.get(\"/templates/error-template.html\", function(template) </p>\n{\n    +$(\"#error\").append(Mustache.render($(template).filter(\"#error-template\").html(),errorJson));\n    +    }\n<p>);<br/>\n    +}<br/>\n    +    });<br/>\n    +<br/>\n    +    $.getJSON(url,function(response,status,jqXHR) {<br/>\n    +var componentSummary = $(\"#component-summary\");<br/>\n    +var componentStatsDetail = $(\"#component-stats-detail\")<br/>\n    +var inputStats = $(\"#component-input-stats\");<br/>\n    +var outputStats = $(\"#component-output-stats\");<br/>\n    +var executorStats = $(\"#component-executor-stats\");<br/>\n    +var errors = $(\"#component-errors\");<br/>\n    +$.get(\"/templates/component-page-template.html\", function(template) {<br/>\n    +    componentSummary.append(Mustache.render($(template).filter(\"#component-summary-template\").html(),response));<br/>\n    +    if(response<span class=\"error\">&#91;\"componentType\"&#93;</span> == \"spout\") {<br/>\n    +componentStatsDetail.append(Mustache.render($(template).filter(\"#spout-stats-detail-template\").html(),response));<br/>\n    +$(\"#spout-stats-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {0: </p>\n{ sorter: \"stormtimestr\"}\n<p>}});<br/>\n    +outputStats.append(Mustache.render($(template).filter(\"#output-stats-template\").html(),response));<br/>\n    +$(\"#output-stats-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {0: </p>\n{ sorter: \"stormtimestr\"}\n<p>}});<br/>\n    +executorStats.append(Mustache.render($(template).filter(\"#executor-stats-template\").html(),response));<br/>\n    +$(\"#executor-stats-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {1: </p>\n{ sorter: \"stormtimestr\"}\n<p>}});<br/>\n    +    } else {<br/>\n    +componentStatsDetail.append(Mustache.render($(template).filter(\"#bolt-stats-template\").html(),response));<br/>\n    +$(\"#bolt-stats-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {0: </p>\n{ sorter: \"stormtimestr\"}\n<p>}});<br/>\n    +inputStats.append(Mustache.render($(template).filter(\"#bolt-input-stats-template\").html(),response));<br/>\n    +if (response<span class=\"error\">&#91;\"inputStats\"&#93;</span>.length > 0) {<br/>\n    +    $(\"#bolt-input-stats-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {}});<br/>\n    +}<br/>\n    +outputStats.append(Mustache.render($(template).filter(\"#bolt-output-stats-template\").html(),response));<br/>\n    +$(\"#bolt-output-stats-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {}});<br/>\n    +executorStats.append(Mustache.render($(template).filter(\"#bolt-executor-template\").html(),response));<br/>\n    +if(response<span class=\"error\">&#91;\"outputStats\"&#93;</span>.length > 0) {<br/>\n    +    $(\"#bolt-executor-table\").tablesorter({ sortList: [<span class=\"error\">&#91;0,0&#93;</span>], headers: {}});<br/>\n    +}<br/>\n    +    }<br/>\n    +    errors.append(Mustache.render($(template).filter(\"#errors-template\").html(),response));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I am seeing a table of errors where every cell is blank.  Should this line have `#error-template` (singular) instead of `#errors-template`?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448922","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448922","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448922,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T13:55:35Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#discussion_r13284947\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#discussion_r13284947</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/ui/core.clj &#8212;<br/>\n    @@ -509,26 +231,23 @@<br/>\nreverse<br/>\nfirst)]<br/>\n (if error</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>[:span (if (< (time-delta (.get_error_time_secs ^ErrorInfo error))</li>\n\t<li>(* 60 30))</li>\n\t<li>{:class \"red\"}\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Recent errors are no longer red in the UI.  On the topology page, where the times of errors are not listed, this is useful to show that an error is recent.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448930","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448930","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448930,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:00:02Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#discussion_r13285182\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#discussion_r13285182</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/ui/core.clj &#8212;<br/>\n    @@ -414,88 +218,6 @@<br/>\n     (defn bolt-summary? <span class=\"error\">&#91;topology s&#93;</span><br/>\n       (= :bolt (executor-summary-type topology s)))</p>\n\n<p>    -(defn topology-summary-table <span class=\"error\">&#91;^TopologyInfo summ&#93;</span></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(let [executors (.get_executors summ)</li>\n\t<li>workers (set (for <span class=\"error\">&#91;^ExecutorSummary e executors&#93;</span> <span class=\"error\">&#91;(.get_host e) (.get_port e)&#93;</span>))]</li>\n\t<li>(table [{:text \"Name\" :attr {:class \"tip right\"</li>\n\t<li>:title (:name tips)}}</li>\n\t<li>{:text \"Id\" :attr {:class \"tip right\"</li>\n\t<li>:title (:topo-id tips)}}</li>\n\t<li>{:text \"Status\" :attr {:class \"tip above\"</li>\n\t<li>:title (:status tips)}}</li>\n\t<li>{:text \"Uptime\" :attr {:class \"tip above\"</li>\n\t<li>:title (:topo-uptime tips)}}</li>\n\t<li>{:text \"Num workers\" :attr {:class \"tip above\"</li>\n\t<li>:title (:num-workers tips)}}</li>\n\t<li>{:text \"Num executors\" :attr {:class \"tip above\"</li>\n\t<li>:title (:num-execs tips)}}</li>\n\t<li>{:text \"Num tasks\" :attr {:class \"tip above\"</li>\n\t<li>:title (:num-tasks tips)}}]</li>\n\t<li>[[(escape-html (.get_name summ))</li>\n\t<li>(escape-html (.get_id summ))</li>\n\t<li>(.get_status summ)</li>\n\t<li>(pretty-uptime-sec (.get_uptime_secs summ))</li>\n\t<li>(count workers)</li>\n\t<li>(count executors)</li>\n\t<li>(sum-tasks executors)</li>\n\t<li>]]</li>\n\t<li>)))<br/>\n    -<br/>\n    -(defn total-aggregate-stats <span class=\"error\">&#91;spout-summs bolt-summs include-sys?&#93;</span></li>\n\t<li>(let [spout-stats (get-filled-stats spout-summs)</li>\n\t<li>bolt-stats (get-filled-stats bolt-summs)</li>\n\t<li>agg-spout-stats (-> spout-stats</li>\n\t<li>(aggregate-spout-stats include-sys?)</li>\n\t<li>aggregate-spout-streams)</li>\n\t<li>agg-bolt-stats (-> bolt-stats</li>\n\t<li>(aggregate-bolt-stats include-sys?)</li>\n\t<li>aggregate-bolt-streams)]</li>\n\t<li>(merge-with</li>\n\t<li>(fn <span class=\"error\">&#91;s1 s2&#93;</span></li>\n\t<li>(merge-with + s1 s2))</li>\n\t<li>(select-keys agg-bolt-stats <span class=\"error\">&#91;:emitted :transferred&#93;</span>)</li>\n\t<li>agg-spout-stats</li>\n\t<li>)))<br/>\n    -<br/>\n    -(defn stats-times <span class=\"error\">&#91;stats-map&#93;</span></li>\n\t<li>(sort-by #(Integer/parseInt %)</li>\n\t<li>(-> stats-map</li>\n\t<li>clojurify-structure</li>\n\t<li>(dissoc \":all-time\")</li>\n\t<li>keys)))<br/>\n    -<br/>\n    -(defn topology-stats-table <span class=\"error\">&#91;id window stats&#93;</span></li>\n\t<li>(let [times (stats-times (:emitted stats))</li>\n\t<li>display-map (into {} (for <span class=\"error\">&#91;t times&#93;</span> <span class=\"error\">&#91;t pretty-uptime-sec&#93;</span>))</li>\n\t<li>display-map (assoc display-map \":all-time\" (fn <span class=\"error\">&#91;_&#93;</span> \"All time\"))]</li>\n\t<li>(sorted-table</li>\n\t<li>[{:text \"Window\" :attr {:class \"tip right\"</li>\n\t<li>:title (:window tips)}}</li>\n\t<li>{:text \"Emitted\" :attr {:class \"tip above\"</li>\n\t<li>:title (:emitted tips)}}</li>\n\t<li>{:text \"Transferred\" :attr {:class \"tip above\"</li>\n\t<li>:title (:transferred tips)}}</li>\n\t<li>{:text \"Complete latency (ms)\" :attr {:class \"tip above\"</li>\n\t<li>:title (:complete-lat tips)}}</li>\n\t<li>{:text \"Acked\" :attr {:class \"tip above\"</li>\n\t<li>:title (:spout-acked tips)}}</li>\n\t<li>{:text \"Failed\" :attr {:class \"tip left\"</li>\n\t<li>:title (:spout-failed tips)}}]</li>\n\t<li>(for [k (concat times <span class=\"error\">&#91;\":all-time\"&#93;</span>)</li>\n\t<li>:let <span class=\"error\">&#91;disp ((display-map k) k)&#93;</span>]</li>\n\t<li>[(link-to (if (= k window) {:class \"red\"} {})\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    The selected time window in the UI no longer appears as red.  This could be important since the user would not know whether a window applied to the metrics without looking at the URL.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448935","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448935","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448935,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:00:09Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#discussion_r13285186\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#discussion_r13285186</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/ui/core.clj &#8212;<br/>\n    @@ -509,26 +231,23 @@<br/>\nreverse<br/>\nfirst)]<br/>\n (if error</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>[:span (if (< (time-delta (.get_error_time_secs ^ErrorInfo error))</li>\n\t<li>(* 60 30))</li>\n\t<li>{:class \"red\"}</li>\n\t<li>{})</li>\n\t<li>(error-subset (.get_error ^ErrorInfo error))]</li>\n\t<li>)))<br/>\n    +      (error-subset (.get_error ^ErrorInfo error))<br/>\n    +      \"\")))</li>\n</ul>\n\n\n<p>    -(defn component-link <span class=\"error\">&#91;storm-id id&#93;</span></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(link-to (url-format \"/topology/%s/component/%s\" storm-id id) (escape-html id)))<br/>\n    +(defn component-task-summs <span class=\"error\">&#91;^TopologyInfo summ topology id&#93;</span><br/>\n    +  (let [spout-summs (filter (partial spout-summary? topology) (.get_executors summ))<br/>\n    +bolt-summs (filter (partial bolt-summary? topology) (.get_executors summ))<br/>\n    +spout-comp-summs (group-by-comp spout-summs)<br/>\n    +bolt-comp-summs (group-by-comp bolt-summs)<br/>\n    +ret (if (contains? spout-comp-summs id)<br/>\n    +      (spout-comp-summs id)<br/>\n    +      (bolt-comp-summs id))]<br/>\n    +    (sort-by #(-> ^ExecutorSummary % .get_executor_info .get_task_start) ret)<br/>\n    +    ))</li>\n</ul>\n\n\n<p>     (defn worker-log-link <span class=\"error\">&#91;host port&#93;</span></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(link-to (url-format \"http://%s:%s/log?file=worker-%s.log\"</li>\n\t<li>host (<b>STORM-CONF</b> LOGVIEWER-PORT) port) (str port)))<br/>\n    -<br/>\n    -(defn render-capacity <span class=\"error\">&#91;capacity&#93;</span></li>\n\t<li>(let <span class=\"error\">&#91;capacity (nil-to-zero capacity)&#93;</span></li>\n\t<li>[:span (if (> capacity 0.9)</li>\n\t<li>{:class \"red\"}\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Capacities may no longer be highlighted read if they are above 90%.  I have not tested this, but I could not find where we were applying this style with the new templates.  I do not think this is a very big deal, but it is a regression of a feature that some users might want.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44841346","html_url":"https://github.com/apache/storm/pull/33#issuecomment-44841346","issue_url":"https://api.github.com/repos/apache/storm/issues/33","id":44841346,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQxMzQ2","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:11:31Z","updated_at":"2014-06-02T14:11:31Z","author_association":"NONE","body":"See https://issues.apache.org/jira/browse/STORM-335\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44841346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612431595","html_url":"https://github.com/apache/storm/issues/3905#issuecomment-2612431595","issue_url":"https://api.github.com/repos/apache/storm/issues/3905","id":2612431595,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzE1OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:11:32Z","updated_at":"2025-01-24T12:35:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/33#issuecomment-44841346\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/33#issuecomment-44841346</a></p>\n\n<p>    See <a href=\"https://issues.apache.org/jira/browse/STORM-335\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-335</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612431595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448941","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448941","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448941,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:24:43Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p>Thanks @d2r will send a PR with fixes.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44845150","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44845150","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44845150,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ1MTUw","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:40:39Z","updated_at":"2014-06-02T14:40:39Z","author_association":"NONE","body":"It will be great to have an API with JSON responses coming back.  I would like to resolve at least the issue with the errors table on the component page, and then I will be +1.  The other issues can go in a follow-on JIRA.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44845150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448949","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448949","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448949,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:40:40Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44845150\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44845150</a></p>\n\n<p>    It will be great to have an API with JSON responses coming back.  I would like to resolve at least the issue with the errors table on the component page, and then I will be +1.  The other issues can go in a follow-on JIRA.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44846721","html_url":"https://github.com/apache/storm/pull/131#issuecomment-44846721","issue_url":"https://api.github.com/repos/apache/storm/issues/131","id":44846721,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ2NzIx","user":{"login":"kingice","id":4256391,"node_id":"MDQ6VXNlcjQyNTYzOTE=","avatar_url":"https://avatars.githubusercontent.com/u/4256391?v=4","gravatar_id":"","url":"https://api.github.com/users/kingice","html_url":"https://github.com/kingice","followers_url":"https://api.github.com/users/kingice/followers","following_url":"https://api.github.com/users/kingice/following{/other_user}","gists_url":"https://api.github.com/users/kingice/gists{/gist_id}","starred_url":"https://api.github.com/users/kingice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingice/subscriptions","organizations_url":"https://api.github.com/users/kingice/orgs","repos_url":"https://api.github.com/users/kingice/repos","events_url":"https://api.github.com/users/kingice/events{/privacy}","received_events_url":"https://api.github.com/users/kingice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T14:52:41Z","updated_at":"2014-06-02T14:52:41Z","author_association":"NONE","body":"pull?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44846721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44849862","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44849862","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44849862,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ5ODYy","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T15:15:18Z","updated_at":"2014-06-02T15:15:18Z","author_association":"CONTRIBUTOR","body":"@d2r component errors page is working fine. I guess its my template naming thats not good. There is div \"error\" which get update if the API responded with any error and it doesn't return any proper json.\nerrors-template is part of component-page-templates.html which get updated if there are any errors for the bolts or spouts returned by component api. I'll change the naming to be more appropriate.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44849862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448951","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448951","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448951,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T15:15:21Z","updated_at":"2025-01-24T12:45:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44849862\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44849862</a></p>\n\n<p>    @d2r component errors page is working fine. I guess its my template naming thats not good. There is div \"error\" which get update if the API responded with any error and it doesn't return any proper json.<br/>\n    errors-template is part of component-page-templates.html which get updated if there are any errors for the bolts or spouts returned by component api. I'll change the naming to be more appropriate.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44860047","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44860047","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44860047,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODYwMDQ3","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:32:53Z","updated_at":"2014-06-02T16:32:53Z","author_association":"NONE","body":"This is the rendered HTML I see:\n\n```\n<table id=\"errors-table\" class=\"zebra-striped\">\n    <thead></thead>\n    <tbody>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr></tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n        </tr>\n    </tbody>\n</table>\n```\n\nIt looks like 9 rows with two blank cells each, and one row without any cells.\n\nI see this on Firefox and Safari on OSX.  It seems to know there are errors there, but they are not getting populated for some reason...\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44860047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448959","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448959","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448959,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:32:54Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44860047\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44860047</a></p>\n\n<p>    This is the rendered HTML I see:<br/>\n    ```<br/>\n    <table id=\"errors-table\" class=\"zebra-striped\"><br/>\n<thead></thead><br/>\n<tbody><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr></tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n    <tr><br/>\n<td></td><br/>\n<td></td><br/>\n    </tr><br/>\n</tbody><br/>\n    </table><br/>\n    ```</p>\n\n<p>    It looks like 9 rows with two blank cells each, and one row without any cells.</p>\n\n<p>    I see this on Firefox and Safari on OSX.  It seems to know there are errors there, but they are not getting populated for some reason...</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44861386","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44861386","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44861386,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODYxMzg2","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:44:49Z","updated_at":"2014-06-02T16:44:49Z","author_association":"NONE","body":"> It looks like 9 rows with two blank cells each, and one row without any cells.\n\nCorrection: It is 10 rows of two blank cells each.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44861386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448962","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448962","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448962,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:44:51Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44861386\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44861386</a></p>\n\n<p>    > It looks like 9 rows with two blank cells each, and one row without any cells.</p>\n\n<p>    Correction: It is 10 rows of two blank cells each.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44861584","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44861584","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44861584,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODYxNTg0","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:46:31Z","updated_at":"2014-06-02T16:46:31Z","author_association":"CONTRIBUTOR","body":"@d2r thanks for the info. I am testing few things I'll update the PR with the fix.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44861584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448966","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448966","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448966,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:46:32Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44861584\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44861584</a></p>\n\n<p>    @d2r thanks for the info. I am testing few things I'll update the PR with the fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44862608","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44862608","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44862608,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODYyNjA4","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:55:47Z","updated_at":"2014-06-02T16:55:47Z","author_association":"NONE","body":"I know what it is.  The errors are doubly-nested in lists.  So you have `response[\"errors\"][0][0][\"time\"]` to get the time of the first error, instead of `response[\"errors\"][0][\"time\"]`.  It's noticeable in the JSON output.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44862608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448969","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448969","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448969,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T16:55:49Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44862608\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44862608</a></p>\n\n<p>    I know what it is.  The errors are doubly-nested in lists.  So you have `response<span class=\"error\">&#91;\"errors\"&#93;</span><span class=\"error\">&#91;0&#93;</span><span class=\"error\">&#91;0&#93;</span><span class=\"error\">&#91;\"time\"&#93;</span>` to get the time of the first error, instead of `response<span class=\"error\">&#91;\"errors\"&#93;</span><span class=\"error\">&#91;0&#93;</span><span class=\"error\">&#91;\"time\"&#93;</span>`.  It's noticeable in the JSON output.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44867544","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44867544","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44867544,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODY3NTQ0","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T17:36:54Z","updated_at":"2014-06-02T17:36:54Z","author_association":"CONTRIBUTOR","body":"yeah error is in returning the json here https://github.com/harshach/incubator-storm/blob/ui-rest-new/storm-core/src/clj/backtype/storm/ui/core.clj#L514 . updating PR with fix.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44867544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448973","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448973","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448973,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T17:36:55Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44867544\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44867544</a></p>\n\n<p>    yeah error is in returning the json here <a href=\"https://github.com/harshach/incubator-storm/blob/ui-rest-new/storm-core/src/clj/backtype/storm/ui/core.clj#L514\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/harshach/incubator-storm/blob/ui-rest-new/storm-core/src/clj/backtype/storm/ui/core.clj#L514</a> . updating PR with fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44874202","html_url":"https://github.com/apache/storm/pull/101#issuecomment-44874202","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":44874202,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODc0MjAy","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T18:32:51Z","updated_at":"2014-06-02T18:32:51Z","author_association":"CONTRIBUTOR","body":"@d2r can you please check the latest update. I've tested on a small cluster here is a screenshot\nhttp://grab.by/xoP4\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44874202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448981","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448981","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448981,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T18:32:52Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-44874202\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-44874202</a></p>\n\n<p>    @d2r can you please check the latest update. I've tested on a small cluster here is a screenshot<br/>\n    <a href=\"http://grab.by/xoP4\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://grab.by/xoP4</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454267","html_url":"https://github.com/apache/storm/issues/4086#issuecomment-2612454267","issue_url":"https://api.github.com/repos/apache/storm/issues/4086","id":2612454267,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTQyNjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T21:51:41Z","updated_at":"2025-01-24T12:48:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user knusbaum opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/132\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/132</a></p>\n\n<p>    Fix for <a href=\"https://issues.apache.org/jira/browse/STORM-244\" title=\"DRPC timeout can return null instead of throwing an exception\" class=\"issue-link\" data-issue-key=\"STORM-244\"><del>STORM-244</del></a></p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/knusbaum/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/knusbaum/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-244\" title=\"DRPC timeout can return null instead of throwing an exception\" class=\"issue-link\" data-issue-key=\"STORM-244\"><del>STORM-244</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/132.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/132.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #132</p>\n\n<hr />\n<p>commit 4c61cd40023ae31cb9045e04360b376736969d3d<br/>\nAuthor: Kyle Nusbaum <knusbaum@yahoo-inc.com><br/>\nDate:   2014-06-02T20:56:37Z</p>\n\n<p>    Fix for <a href=\"https://issues.apache.org/jira/browse/STORM-244\" title=\"DRPC timeout can return null instead of throwing an exception\" class=\"issue-link\" data-issue-key=\"STORM-244\"><del>STORM-244</del></a></p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44900176","html_url":"https://github.com/apache/storm/pull/103#issuecomment-44900176","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":44900176,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTAwMTc2","user":{"login":"miofthena","id":24657,"node_id":"MDQ6VXNlcjI0NjU3","avatar_url":"https://avatars.githubusercontent.com/u/24657?v=4","gravatar_id":"","url":"https://api.github.com/users/miofthena","html_url":"https://github.com/miofthena","followers_url":"https://api.github.com/users/miofthena/followers","following_url":"https://api.github.com/users/miofthena/following{/other_user}","gists_url":"https://api.github.com/users/miofthena/gists{/gist_id}","starred_url":"https://api.github.com/users/miofthena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miofthena/subscriptions","organizations_url":"https://api.github.com/users/miofthena/orgs","repos_url":"https://api.github.com/users/miofthena/repos","events_url":"https://api.github.com/users/miofthena/events{/privacy}","received_events_url":"https://api.github.com/users/miofthena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T22:38:15Z","updated_at":"2014-06-02T22:38:15Z","author_association":"CONTRIBUTOR","body":"Hi, @clockfly \nIn Client.java\n- submit _flusher_ every ~10ms\n- every _flusher_ never stops (if closed == true)\n- in _flusher_ loop we don't park thread \n\n→ 100% CPU,  uncool =(\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44900176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461050","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461050","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461050,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-02T22:38:17Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user miofthena commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-44900176\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-44900176</a></p>\n\n<p>    Hi, @clockfly <br/>\n    In Client.java</p>\n\n<ul>\n\t<li>submit <b>flusher</b> every ~10ms</li>\n\t<li>every <b>flusher</b> never stops (if closed == true)</li>\n\t<li>in <b>flusher</b> loop we don't park thread</li>\n</ul>\n\n\n<p>    → 100% CPU,  uncool =(</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/44925955","html_url":"https://github.com/apache/storm/pull/103#issuecomment-44925955","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":44925955,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTI1OTU1","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-03T06:54:48Z","updated_at":"2014-06-03T06:54:48Z","author_association":"CONTRIBUTOR","body":"Thanks @miofthena,\n\nfixed at 0bca173! I should have done more test on new checkin.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/44925955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461056","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461056","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461056,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-03T06:54:50Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-44925955\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-44925955</a></p>\n\n<p>    Thanks @miofthena,</p>\n\n<p>    fixed at 0bca173! I should have done more test on new checkin.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45014883","html_url":"https://github.com/apache/storm/pull/101#issuecomment-45014883","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":45014883,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDE0ODgz","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-03T20:19:06Z","updated_at":"2014-06-03T20:19:06Z","author_association":"NONE","body":"+1 that fixed it.\nI love how much faster this feels.  I like the renames you made too—much clearer.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45014883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448986","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448986","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448986,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-03T20:19:08Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-45014883\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-45014883</a></p>\n\n<p>    +1 that fixed it.<br/>\n    I love how much faster this feels.  I like the renames you made too—much clearer.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45039505","html_url":"https://github.com/apache/storm/pull/101#issuecomment-45039505","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":45039505,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDM5NTA1","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T00:32:41Z","updated_at":"2014-06-04T00:32:41Z","author_association":"CONTRIBUTOR","body":"looks good to me +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45039505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448987","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448987","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448987,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T00:32:42Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-45039505\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-45039505</a></p>\n\n<p>    looks good to me +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448992","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448992","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448992,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T00:33:48Z","updated_at":"2025-01-24T12:45:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448995","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612448995","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612448995,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDg5OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T00:34:23Z","updated_at":"2025-01-24T12:45:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks harshach,</p>\n\n<p>I merged this into master.  Keep up the good work.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612448995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45043476","html_url":"https://github.com/apache/storm/pull/101#issuecomment-45043476","issue_url":"https://api.github.com/repos/apache/storm/issues/101","id":45043476,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDQzNDc2","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T01:47:26Z","updated_at":"2014-06-04T01:47:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the feedback on this. Working on documentation and other recommendations that made earlier will push those as part of new JIRA.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45043476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449003","html_url":"https://github.com/apache/storm/issues/4047#issuecomment-2612449003","issue_url":"https://api.github.com/repos/apache/storm/issues/4047","id":2612449003,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDkwMDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T01:47:27Z","updated_at":"2025-01-24T12:45:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/101#issuecomment-45043476\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/101#issuecomment-45043476</a></p>\n\n<p>    Thanks for the feedback on this. Working on documentation and other recommendations that made earlier will push those as part of new JIRA.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612449003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45046513","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45046513","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45046513,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDQ2NTEz","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T02:50:34Z","updated_at":"2014-06-04T02:50:34Z","author_association":"CONTRIBUTOR","body":"@Gvain, thanks for your detailed description. I care nothing but finding the truth. :Let me try your approach to reproduce the test. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45046513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461063","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461063","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461063,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T02:50:36Z","updated_at":"2025-01-24T12:51:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45046513\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45046513</a></p>\n\n<p>    @Gvain, thanks for your detailed description. I care nothing but finding the truth. :Let me try your approach to reproduce the test. </p>\n\n\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461069","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461069","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461069,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T04:12:21Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=clockfly\">clockfly</a>:</i>\n<p>worker scability test without storm-297</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45050542","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45050542","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45050542,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDUwNTQy","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T04:29:00Z","updated_at":"2014-06-04T04:29:00Z","author_association":"CONTRIBUTOR","body":"@clockfly , Just let you know that I keep the topology.executor.send.buffer.size and the topology.executor.receive.buffer.size unchanged which are both 1024. And the netty.server/client.worker_threads are both set to 1, and storm.messaging.netty.buffer_size is set to 5242880\n\nI think this discuss will help us understand the issue much better.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45050542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461073","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461073","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461073,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T04:29:01Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45050542\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45050542</a></p>\n\n<p>    @clockfly , Just let you know that I keep the topology.executor.send.buffer.size and the topology.executor.receive.buffer.size unchanged which are both 1024. And the netty.server/client.worker_threads are both set to 1, and storm.messaging.netty.buffer_size is set to 5242880</p>\n\n<p>    I think this discuss will help us understand the issue much better.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45052822","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45052822","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45052822,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDUyODIy","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T05:27:40Z","updated_at":"2014-06-04T05:27:40Z","author_association":"CONTRIBUTOR","body":"Hi @Gvain,\n\nFirst thank you for your insistence! it really helps to gain more understanding of storm.  \nI run with your approach, the result verified your saying, the throughput does increase as worker number increase.\n\n## Test\n\n**Throughput vs. worker# ①**\n\n| Worker# | cluster network IN(MB/s) | spout throughput(msg/s) | overall CPU | user cpu | system cpu | total threads#② |\n| --- | :-: | --: | --: | --: | --: | --: |\n| 4 | 72 | 391860 | 42% | 36% | 6% | 422 |\n| 8 | 88.3 | 475007 | 42% | 35% | 7% | 554 |\n| 12 | 104 | 555174 | 51% | 40% | 11% | 686 |\n| 16 | 116 | 603399 | 59% | 46% | 13% | 818 |\n| 24 | 130 | 622938 | 77% | 55% | 22% | 1082 |\n| 4(storm 297) | 140 | 752479 | 74% | 67.80% | 5.20% | 434 |\n\n① Test environment: node=4, 48 vcore on each machine, max.spout.pendings = 1000, CPU: E52680, 48 spout, 48 bolt, and 48 ackers.\n② We will only count 1 gc thread 1 jit thread for each JVM.\n\n![worker_throughput_without_storm-297](https://cloud.githubusercontent.com/assets/2595532/3169502/82447702-eb9e-11e3-9f97-bc29fde190f3.png)\n\n**CPU Usage**\n\n![cpu_worker _scability](https://cloud.githubusercontent.com/assets/2595532/3169503/afdac11c-eb9e-11e3-9207-9d524606f613.png)\n\nWe can find out both throughput and CPU usage increase when worker number increase.\n\n## Analysis\n\nThe facts revealed by this test strengthened my conviction that it is even better to apply this patch for higher performance:\n1. **Higher performance with this patch.**\n   \n   |  | Worker# | cluster network IN(MB/s) | spout through put(msg/s) |\n   | --- | :-: | --: | --: |\n   | no storm-297 | 24 | 130 | 622938 |\n   | with storm 297 | 4 | 140 | 752479 |\n   \n   **4 worker** with storm-297 can process **20% more** message than **24 workers** without this patch, with **less** CPU consumption.\n2. **Storm cannot scale well by changing task parallism solely**\n   \n   As the data in your test showed, for 4 worker, we can only reach 56% CPU. with the facts that there are 36 task parallism for each worker, much lagger than CPU core# 24.\n   \n   **The worker has inherit bottlenecks, ths issues are there. Work-arounds won't fix those issues.**\n3. **CPU System time increase when worker number increase**\n   \n   | Worker# | user cpu | system cpu |\n   | --- | --: | --: |\n   | 4 | 36% | 6% |\n   | 8 | 35% | 7% |\n   | 12 | 40% | 11% |\n   | 16 | 46% | 13% |\n   | 24 | 55% | **22%** |\n   | 4(with storm-297) | 67.80% | 5.20% |\n   \n   Unnormal high system CPU is not good.\n4. **JVM allocation cost is high.**\n   In the test, there are 16+ threads running for each JVM allocation. The supporting data can be found at  \n5. **Worker allocation is not cost free**\n   \n   Besides the JVM allocation cost, there are zookeeper related threads(4), hearbeat threads(5), system bolt(2), netty boss and worker threads(6, 2 boss, 2 worker, and 2 timer). Plus with JVM threads, each worker will add at least 33 threads. \n   \n   More threads will add more pressure to central service like nimbus, and zookeeper.\n   \n   More threads means more context switch, it will hurt the performance of all applications running on these server. \n   \n   | Worker# | cluster total threads# |\n   | --- | :-: |\n   | 4 | 422 |\n   | 8 | 554 |\n   | 12 | 686 |\n   | 16 | 818 |\n   | 24 | **1082** |\n   | 4(with storm-297) | 434 |\n   \n   (We will only count 1 gc thread 1 jit thread for each JVM) \n   \n   For 24 workers case, the overall thread number is 1082+, with **each machine having more than 270 threads!**\n6. **Serialization and Deserialization Cost**\n   \n   When the message is delivered from the task in the same process, the tuple won't be serialized. \n   \n   When there are 4 worker(suppose shuffle grouping and task is even distributed), there are 1/4 message that don't need serialization, but for 24 workers, the ratio is 1/24, which means we are now need to serialize 28% more messages.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45052822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461076","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461076","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461076,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T05:27:43Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45052822\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45052822</a></p>\n\n<p>    Hi @Gvain,</p>\n\n<p>    First thank you for your insistence! it really helps to gain more understanding of storm.  <br/>\n    I run with your approach, the result verified your saying, the throughput does increase as worker number increase.</p>\n\n<p>    Test<br/>\n    -------------</p>\n\n<p>    *<b>Throughput vs. worker# ①</b>*</p>\n\n<div class='table-wrap'>\n<table class='confluenceTable'><tbody>\n<tr>\n<td class='confluenceTd'> Worker# </td>\n<td class='confluenceTd'>cluster network IN(MB/s)</td>\n<td class='confluenceTd'>spout throughput(msg/s)</td>\n<td class='confluenceTd'>overall CPU</td>\n<td class='confluenceTd'>user cpu</td>\n<td class='confluenceTd'>system cpu</td>\n<td class='confluenceTd'>total threads#② </td>\n</tr>\n<tr>\n<td class='confluenceTd'> ------------- </td>\n<td class='confluenceTd'>:-------------:</td>\n<td class='confluenceTd'> -----:</td>\n<td class='confluenceTd'>-----:</td>\n<td class='confluenceTd'>-----:</td>\n<td class='confluenceTd'>-----:</td>\n<td class='confluenceTd'>-----:</td>\n<td class='confluenceTd'>-----:</td>\n</tr>\n<tr>\n<td class='confluenceTd'> 4 </td>\n<td class='confluenceTd'> 72 </td>\n<td class='confluenceTd'> 391860 </td>\n<td class='confluenceTd'> 42% </td>\n<td class='confluenceTd'> 36% </td>\n<td class='confluenceTd'> 6%</td>\n<td class='confluenceTd'> 422 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 8 </td>\n<td class='confluenceTd'> 88.3 </td>\n<td class='confluenceTd'> 475007 </td>\n<td class='confluenceTd'> 42% </td>\n<td class='confluenceTd'> 35%\t</td>\n<td class='confluenceTd'> 7%\t</td>\n<td class='confluenceTd'> 554 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 12 </td>\n<td class='confluenceTd'>\t104 </td>\n<td class='confluenceTd'> 555174 </td>\n<td class='confluenceTd'> 51% </td>\n<td class='confluenceTd'> 40% </td>\n<td class='confluenceTd'> 11% </td>\n<td class='confluenceTd'> 686 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 16 </td>\n<td class='confluenceTd'> 116 </td>\n<td class='confluenceTd'> 603399 </td>\n<td class='confluenceTd'> 59% </td>\n<td class='confluenceTd'> 46% </td>\n<td class='confluenceTd'> 13% </td>\n<td class='confluenceTd'> 818 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 24 </td>\n<td class='confluenceTd'>\t130 </td>\n<td class='confluenceTd'> 622938 </td>\n<td class='confluenceTd'> 77% </td>\n<td class='confluenceTd'> 55% </td>\n<td class='confluenceTd'> 22% </td>\n<td class='confluenceTd'> 1082 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 4(storm 297) </td>\n<td class='confluenceTd'>\t140 </td>\n<td class='confluenceTd'>\t752479 </td>\n<td class='confluenceTd'> 74% </td>\n<td class='confluenceTd'> 67.80% </td>\n<td class='confluenceTd'> 5.20% </td>\n<td class='confluenceTd'> 434 </td>\n</tr>\n</tbody></table>\n</div>\n\n\n<p>    ①\tTest environment: node=4, 48 vcore on each machine, max.spout.pendings = 1000, CPU: E52680, 48 spout, 48 bolt, and 48 ackers.<br/>\n    ②\tWe will only count 1 gc thread 1 jit thread for each JVM.</p>\n\n\n\n<p>    !<span class=\"error\">&#91;worker_throughput_without_storm-297&#93;</span>(<a href=\"https://cloud.githubusercontent.com/assets/2595532/3169502/82447702-eb9e-11e3-9f97-bc29fde190f3.png\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cloud.githubusercontent.com/assets/2595532/3169502/82447702-eb9e-11e3-9f97-bc29fde190f3.png</a>)</p>\n\n\n<p>    *<b>CPU Usage</b>*</p>\n\n<p>    !<span class=\"error\">&#91;cpu_worker _scability&#93;</span>(<a href=\"https://cloud.githubusercontent.com/assets/2595532/3169503/afdac11c-eb9e-11e3-9207-9d524606f613.png\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cloud.githubusercontent.com/assets/2595532/3169503/afdac11c-eb9e-11e3-9207-9d524606f613.png</a>)</p>\n\n<p>    We can find out both throughput and CPU usage increase when worker number increase.</p>\n\n<p>    Analysis<br/>\n    -------------------<br/>\n    The facts revealed by this test strengthened my conviction that it is even better to apply this patch for higher performance:</p>\n\n<p>    1. *<b>Higher performance with this patch.</b>*</p>\n\n<div class='table-wrap'>\n<table class='confluenceTable'><tbody>\n<tr>\n<td class='confluenceTd'> </td>\n<td class='confluenceTd'> Worker# </td>\n<td class='confluenceTd'>cluster network IN(MB/s)</td>\n<td class='confluenceTd'>spout through put(msg/s)</td>\n</tr>\n<tr>\n<td class='confluenceTd'> ------------- </td>\n<td class='confluenceTd'>:-------------:</td>\n<td class='confluenceTd'> -----:</td>\n<td class='confluenceTd'>-----:</td>\n<td class='confluenceTd'>-----:</td>\n</tr>\n<tr>\n<td class='confluenceTd'> no storm-297 </td>\n<td class='confluenceTd'> 24 </td>\n<td class='confluenceTd'>\t130 </td>\n<td class='confluenceTd'> 622938 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> with storm 297 </td>\n<td class='confluenceTd'> 4 </td>\n<td class='confluenceTd'>\t140 </td>\n<td class='confluenceTd'>\t752479 </td>\n</tr>\n</tbody></table>\n</div>\n\n\n<p>      *<b>4 worker</b>* with storm-297 can process *<b>20% more</b>* message than *<b>24 workers</b>* without this patch, with *<b>less</b>* CPU consumption.</p>\n\n<p>    2. *<b>Storm cannot scale well by changing task parallism solely</b>*</p>\n\n<p>      As the data in your test showed, for 4 worker, we can only reach 56% CPU. with the facts that there are 36 task parallism for each worker, much lagger than CPU core# 24.</p>\n\n<p>      *<b>The worker has inherit bottlenecks, ths issues are there. Work-arounds won't fix those issues.</b>*</p>\n\n<p>    3. *<b>CPU System time increase when worker number increase</b>*</p>\n\n<div class='table-wrap'>\n<table class='confluenceTable'><tbody>\n<tr>\n<td class='confluenceTd'> Worker# </td>\n<td class='confluenceTd'>user cpu</td>\n<td class='confluenceTd'>system cpu</td>\n</tr>\n<tr>\n<td class='confluenceTd'> ------------- </td>\n<td class='confluenceTd'> -----:</td>\n<td class='confluenceTd'>-----:</td>\n</tr>\n<tr>\n<td class='confluenceTd'> 4 </td>\n<td class='confluenceTd'> 36% </td>\n<td class='confluenceTd'> 6%</td>\n</tr>\n<tr>\n<td class='confluenceTd'> 8 </td>\n<td class='confluenceTd'> 35%\t</td>\n<td class='confluenceTd'> 7%\t</td>\n</tr>\n<tr>\n<td class='confluenceTd'> 12 </td>\n<td class='confluenceTd'>\t40% </td>\n<td class='confluenceTd'> 11% </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 16 </td>\n<td class='confluenceTd'> 46% </td>\n<td class='confluenceTd'> 13% </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 24 </td>\n<td class='confluenceTd'>\t55% </td>\n<td class='confluenceTd'> *<b>22%</b>* </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 4(with storm-297) </td>\n<td class='confluenceTd'> 67.80% </td>\n<td class='confluenceTd'> 5.20% </td>\n</tr>\n</tbody></table>\n</div>\n\n\n<p>      Unnormal high system CPU is not good.</p>\n\n<p>    4. *<b>JVM allocation cost is high.</b>*<br/>\n      In the test, there are 16+ threads running for each JVM allocation. The supporting data can be found at  </p>\n\n<p>    5. *<b>Worker allocation is not cost free</b>*</p>\n\n<p>     Besides the JVM allocation cost, there are zookeeper related threads(4), hearbeat threads(5), system bolt(2), netty boss and worker threads(6, 2 boss, 2 worker, and 2 timer). Plus with JVM threads, each worker will add at least 33 threads. </p>\n\n<p>      More threads will add more pressure to central service like nimbus, and zookeeper.</p>\n\n<p>      More threads means more context switch, it will hurt the performance of all applications running on these server. </p>\n\n<div class='table-wrap'>\n<table class='confluenceTable'><tbody>\n<tr>\n<td class='confluenceTd'> Worker# </td>\n<td class='confluenceTd'>cluster total threads#</td>\n</tr>\n<tr>\n<td class='confluenceTd'> ------------- </td>\n<td class='confluenceTd'>:-------------:</td>\n</tr>\n<tr>\n<td class='confluenceTd'> 4 </td>\n<td class='confluenceTd'> 422 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 8 </td>\n<td class='confluenceTd'> 554 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 12 </td>\n<td class='confluenceTd'> 686 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 16 </td>\n<td class='confluenceTd'> 818 </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 24 </td>\n<td class='confluenceTd'> *<b>1082</b>* </td>\n</tr>\n<tr>\n<td class='confluenceTd'> 4(with storm-297) </td>\n<td class='confluenceTd'> 434 </td>\n</tr>\n</tbody></table>\n</div>\n\n<p>    (We will only count 1 gc thread 1 jit thread for each JVM) </p>\n\n<p>      For 24 workers case, the overall thread number is 1082+, with *<b>each machine having more than 270 threads!</b>*</p>\n\n\n<p>    6. *<b>Serialization and Deserialization Cost</b>*</p>\n\n<p>      When the message is delivered from the task in the same process, the tuple won't be serialized. </p>\n\n<p>      When there are 4 worker(suppose shuffle grouping and task is even distributed), there are 1/4 message that don't need serialization, but for 24 workers, the ratio is 1/24, which means we are now need to serialize 28% more messages.</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45053277","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45053277","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45053277,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDUzMjc3","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T05:39:12Z","updated_at":"2014-06-04T05:39:12Z","author_association":"CONTRIBUTOR","body":"Test case for message delivery order is added at 426d143\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45053277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461077","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461077","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461077,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T05:39:15Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45053277\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45053277</a></p>\n\n<p>    Test case for message delivery order is added at 426d143</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461080","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461080","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461080,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T05:59:03Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=clockfly\">clockfly</a>:</i>\n<p>general configuration used for this test.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45056169","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45056169","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45056169,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDU2MTY5","user":{"login":"nathanmarz","id":131416,"node_id":"MDQ6VXNlcjEzMTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/131416?v=4","gravatar_id":"","url":"https://api.github.com/users/nathanmarz","html_url":"https://github.com/nathanmarz","followers_url":"https://api.github.com/users/nathanmarz/followers","following_url":"https://api.github.com/users/nathanmarz/following{/other_user}","gists_url":"https://api.github.com/users/nathanmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/nathanmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nathanmarz/subscriptions","organizations_url":"https://api.github.com/users/nathanmarz/orgs","repos_url":"https://api.github.com/users/nathanmarz/repos","events_url":"https://api.github.com/users/nathanmarz/events{/privacy}","received_events_url":"https://api.github.com/users/nathanmarz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T06:38:36Z","updated_at":"2014-06-04T06:38:36Z","author_association":"CONTRIBUTOR","body":"Great work @clockfly. The only additional change I'd like to see is renaming \"worker.receiver.thread.count\" to \"topology.worker.receiver.thread.count\". The \"topology\" prefix is how we indicate confs can be set on a topology-specific level. After that I'm +1. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45056169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461085","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461085","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461085,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T06:38:41Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user nathanmarz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45056169\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45056169</a></p>\n\n<p>    Great work @clockfly. The only additional change I'd like to see is renaming \"worker.receiver.thread.count\" to \"topology.worker.receiver.thread.count\". The \"topology\" prefix is how we indicate confs can be set on a topology-specific level. After that I'm +1. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45056355","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45056355","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45056355,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDU2MzU1","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T06:42:04Z","updated_at":"2014-06-04T06:42:04Z","author_association":"CONTRIBUTOR","body":"@clockfly \n\nThanks for your detailed test. But notice that there is a big difference between our test results. \nIn my test, only using 8 workers, i get the throughput peak which is 656K tps, and adding more workers the throughput drops down. \nIn your test, adding more worker helps increasing throughput, and the throughput peak reached 622K tps when using 24 workers. The worker number is greatly increased and thus the total threads number.\n\nI am wondering why this difference exists. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45056355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461090","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461090","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461090,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwOTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T06:42:06Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45056355\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45056355</a></p>\n\n<p>    @clockfly </p>\n\n<p>    Thanks for your detailed test. But notice that there is a big difference between our test results. <br/>\n    In my test, only using 8 workers, i get the throughput peak which is 656K tps, and adding more workers the throughput drops down. <br/>\n    In your test, adding more worker helps increasing throughput, and the throughput peak reached 622K tps when using 24 workers. The worker number is greatly increased and thus the total threads number.</p>\n\n<p>    I am wondering why this difference exists. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45060188","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45060188","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45060188,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwMTg4","user":{"login":"miguno","id":294849,"node_id":"MDQ6VXNlcjI5NDg0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/294849?v=4","gravatar_id":"","url":"https://api.github.com/users/miguno","html_url":"https://github.com/miguno","followers_url":"https://api.github.com/users/miguno/followers","following_url":"https://api.github.com/users/miguno/following{/other_user}","gists_url":"https://api.github.com/users/miguno/gists{/gist_id}","starred_url":"https://api.github.com/users/miguno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguno/subscriptions","organizations_url":"https://api.github.com/users/miguno/orgs","repos_url":"https://api.github.com/users/miguno/repos","events_url":"https://api.github.com/users/miguno/events{/privacy}","received_events_url":"https://api.github.com/users/miguno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T07:41:11Z","updated_at":"2014-06-04T07:41:11Z","author_association":"CONTRIBUTOR","body":"@clockfly Beyond the specific work on this item (STORM-297) what would be your lessons learned after having investigated Storm's performance and scalability so closely, i.e. with regards to potential bottlenecks (= things that are broken and that need fixing) or areas where we still have untapped potential (= where we could optimize further, maybe simply because we haven't focused on a particular piece of the architecture/code/... yet)?\n\nFor instance, would you say that there are some general design-related decisions that could put an upper bound on Storm's scalability (in theory and/or in practice)?  Or would you say it is, at least at this point in time, more the current implementation of the design?  Just thinking aloud.\n\nI'd appreciate any comments -- positive or negative -- you might have in this context.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45060188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461094","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461094","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461094,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEwOTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T07:41:12Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user miguno commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45060188\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45060188</a></p>\n\n<p>    @clockfly Beyond the specific work on this item (<a href=\"https://issues.apache.org/jira/browse/STORM-297\" title=\"Storm Performance cannot be scaled up by adding more CPU cores\" class=\"issue-link\" data-issue-key=\"STORM-297\"><del>STORM-297</del></a>) what would be your lessons learned after having investigated Storm's performance and scalability so closely, i.e. with regards to potential bottlenecks (= things that are broken and that need fixing) or areas where we still have untapped potential (= where we could optimize further, maybe simply because we haven't focused on a particular piece of the architecture/code/... yet)?</p>\n\n<p>    For instance, would you say that there are some general design-related decisions that could put an upper bound on Storm's scalability (in theory and/or in practice)?  Or would you say it is, at least at this point in time, more the current implementation of the design?  Just thinking aloud.</p>\n\n<p>    I'd appreciate any comments &#8211; positive or negative &#8211; you might have in this context.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45072821","html_url":"https://github.com/apache/storm/pull/103#issuecomment-45072821","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":45072821,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDcyODIx","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T10:03:32Z","updated_at":"2014-06-04T10:03:32Z","author_association":"CONTRIBUTOR","body":"@Gvain,\n\nThere are two parts in your question,\n1. In your test, why throughput drops when worker number increase after reaching a value(8 in your test case)? \n   \n   For this one, it is because your CPU reach limit for worker# = 8 (CPU usage: 89%), In this case, adding more workers will just adding more threads and context switch, hurting performance. While for my case, I have more powerful CPU, and allow more parallel workers.\n2. why there are performance difference when scaling worker# from 4 to 8, in two different  environment?\n   \n   I don't know the answer. But I guess it may be caused by the difference in hardware. You env is  \"bonded 1Gb network card\"(2Gb)  bandwith is twice mine, and CPU is 24 core, half of mine. \n   \n   Suppose we can model the message transfering pipeline as three layers:\n   \n   netty layer(throughput somewhat impacted by NIC bandwidth) -> intermediate layer( worker intermediate receiving pipes: netty server handler -> decoding-> receiver thread ) -> task processing (througput impact by CPU).\n   \n   For your env, CPU is relative at shortage, effective network bandwidth is rich(effective bandwith is measured by theory_bandwidth \\* network_efficiency_factor), the performance is throttled by the last layer. While for my environment, CPU is rich, effective network bandwidth is not enough(due to theory_bandwidth is only half), the performance is throttled by the first two layers. \n   \n   The patch mainly solved the first two layers.\n   1. Change netty Api from async -> sync and messaging API change will improve the network_efficiency_factor, thus increasing the effective network bandwidth.\n   2. Adding more receiver thread and optimization in netty server handler will improve the second layer throughput.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45072821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461103","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461103","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461103,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjExMDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T10:03:34Z","updated_at":"2025-01-24T12:51:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-45072821\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-45072821</a></p>\n\n<p>    @Gvain,</p>\n\n<p>    There are two parts in your question,</p>\n\n<p>    1. In your test, why throughput drops when worker number increase after reaching a value(8 in your test case)? </p>\n\n<p>       For this one, it is because your CPU reach limit for worker# = 8 (CPU usage: 89%), In this case, adding more workers will just adding more threads and context switch, hurting performance. While for my case, I have more powerful CPU, and allow more parallel workers.</p>\n\n<p>    2. why there are performance difference when scaling worker# from 4 to 8, in two different  environment?</p>\n\n<p>      I don't know the answer. But I guess it may be caused by the difference in hardware. You env is  \"bonded 1Gb network card\"(2Gb)  bandwith is twice mine, and CPU is 24 core, half of mine. </p>\n\n<p>      Suppose we can model the message transfering pipeline as three layers:</p>\n\n<p>      netty layer(throughput somewhat impacted by NIC bandwidth) <del>> intermediate layer( worker intermediate receiving pipes: netty server handler -> decoding</del>> receiver thread ) -> task processing (througput impact by CPU).</p>\n\n<p>      For your env, CPU is relative at shortage, effective network bandwidth is rich(effective bandwith is measured by theory_bandwidth * network_efficiency_factor), the performance is throttled by the last layer. While for my environment, CPU is rich, effective network bandwidth is not enough(due to theory_bandwidth is only half), the performance is throttled by the first two layers. </p>\n\n<p>      The patch mainly solved the first two layers.</p>\n\n<p>      1. Change netty Api from async -> sync and messaging API change will improve the network_efficiency_factor, thus increasing the effective network bandwidth.</p>\n\n<p>      2. Adding more receiver thread and optimization in netty server handler will improve the second layer throughput.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454272","html_url":"https://github.com/apache/storm/issues/4086#issuecomment-2612454272","issue_url":"https://api.github.com/repos/apache/storm/issues/4086","id":2612454272,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTQyNzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T12:41:39Z","updated_at":"2025-01-24T12:48:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/132#discussion_r13383216\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/132#discussion_r13383216</a></p>\n\n<p>    &#8212; Diff: storm-core/test/clj/backtype/storm/drpc_test.clj &#8212;<br/>\n    @@ -218,3 +220,13 @@<br/>\n (.shutdown cluster)<br/>\n (.shutdown drpc)<br/>\n ))<br/>\n    +<br/>\n    +(deftest test-drpc-timeout-cleanup <br/>\n    +  (let [queue (ConcurrentLinkedQueue.)<br/>\n    +delay-seconds 2]<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Why 2 instead of 1? Also could we stub TIMEOUT-CHECK-SECS to something smaller like 1 so that the test can run faster?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45085240","html_url":"https://github.com/apache/storm/pull/132#issuecomment-45085240","issue_url":"https://api.github.com/repos/apache/storm/issues/132","id":45085240,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDg1MjQw","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T12:42:08Z","updated_at":"2014-06-04T12:42:08Z","author_association":"CONTRIBUTOR","body":"Just one small comment, to speed up the test,  The code itself looks great.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45085240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454274","html_url":"https://github.com/apache/storm/issues/4086#issuecomment-2612454274","issue_url":"https://api.github.com/repos/apache/storm/issues/4086","id":2612454274,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTQyNzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T12:42:10Z","updated_at":"2025-01-24T12:48:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/132#issuecomment-45085240\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/132#issuecomment-45085240</a></p>\n\n<p>    Just one small comment, to speed up the test,  The code itself looks great.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/45087241","html_url":"https://github.com/apache/storm/pull/130#issuecomment-45087241","issue_url":"https://api.github.com/repos/apache/storm/issues/130","id":45087241,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDg3MjQx","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-06-04T13:03:44Z","updated_at":"2014-06-04T13:03:44Z","author_association":"CONTRIBUTOR","body":"I like the idea of cleaning up the style of the clojure. For me I learned clojure working on storm, and a lot of the code I write has fairly arbitrary formatting.  I have looked through some, but not all of the code and what I have seen seems OK to me.  I just really have a few concerns.\n\nFirst is this somehow going to turn into a \"religious\" debate.  I looked around and could not find much of anything about formatting of clojure code, except a stackoverflow saying format it like lisp.  I couldn't find any submission guidelines about it on clojure.org either.  Is this just an unwritten standard, or is there going to be a debate about this?\n\nSecond is there documentation anywhere that we can use to describe the formatting?  After doing something like this it seems logical to me that we would want to try and have new pull requests also follow the same guidelines, but we need something to point submitters to that they can use for this purpose. Is there an automated tool that you used that can help with this formatting as well?\n\nMy final concern is actually rather minor, but pulling this in is going to cause some pair for anyone else who has a pull request outstanding, simply because it touches so many different files.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/45087241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]