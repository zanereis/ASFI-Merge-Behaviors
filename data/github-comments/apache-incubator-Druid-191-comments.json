[{"url":"https://api.github.com/repos/apache/druid/issues/comments/399565410","html_url":"https://github.com/apache/druid/pull/5854#issuecomment-399565410","issue_url":"https://api.github.com/repos/apache/druid/issues/5854","id":399565410,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTU2NTQxMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T20:00:23Z","updated_at":"2018-06-22T20:00:23Z","author_association":"CONTRIBUTOR","body":"@jon-wei thank you for the review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399565410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399582528","html_url":"https://github.com/apache/druid/pull/5711#issuecomment-399582528","issue_url":"https://api.github.com/repos/apache/druid/issues/5711","id":399582528,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTU4MjUyOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T21:08:00Z","updated_at":"2018-06-22T21:08:00Z","author_association":"CONTRIBUTOR","body":"@scrawfor Let's go ahead and remove that in this PR","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399582528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399603084","html_url":"https://github.com/apache/druid/issues/5897#issuecomment-399603084","issue_url":"https://api.github.com/repos/apache/druid/issues/5897","id":399603084,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYwMzA4NA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T22:45:46Z","updated_at":"2018-06-22T22:45:46Z","author_association":"CONTRIBUTOR","body":"I would advocate for 3 also. I think 4 would bring the a lot annoying baggage later on in the future.\r\nFWIW 3 is how we do it in Plywood, but Plywood also supports both `[]` and `[null]` and those are both valid and two different things.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399603084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399613026","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-399613026","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":399613026,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYxMzAyNg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T00:01:39Z","updated_at":"2018-06-23T00:01:39Z","author_association":"MEMBER","body":"@leventov : handled comments, do you have any more comments ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399613026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399635214","html_url":"https://github.com/apache/druid/issues/4575#issuecomment-399635214","issue_url":"https://api.github.com/repos/apache/druid/issues/4575","id":399635214,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTYzNTIxNA==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T05:44:23Z","updated_at":"2018-06-23T05:44:23Z","author_association":"NONE","body":"Yesï¼Œthats what i am doing now","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399635214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399927927","html_url":"https://github.com/apache/druid/issues/5473#issuecomment-399927927","issue_url":"https://api.github.com/repos/apache/druid/issues/5473","id":399927927,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTkyNzkyNw==","user":{"login":"jigar1101","id":3745587,"node_id":"MDQ6VXNlcjM3NDU1ODc=","avatar_url":"https://avatars.githubusercontent.com/u/3745587?v=4","gravatar_id":"","url":"https://api.github.com/users/jigar1101","html_url":"https://github.com/jigar1101","followers_url":"https://api.github.com/users/jigar1101/followers","following_url":"https://api.github.com/users/jigar1101/following{/other_user}","gists_url":"https://api.github.com/users/jigar1101/gists{/gist_id}","starred_url":"https://api.github.com/users/jigar1101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jigar1101/subscriptions","organizations_url":"https://api.github.com/users/jigar1101/orgs","repos_url":"https://api.github.com/users/jigar1101/repos","events_url":"https://api.github.com/users/jigar1101/events{/privacy}","received_events_url":"https://api.github.com/users/jigar1101/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T12:04:20Z","updated_at":"2018-06-25T12:04:20Z","author_association":"NONE","body":"Hey @TwojaWina Did you find a solution to this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399927927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399954570","html_url":"https://github.com/apache/druid/pull/5711#issuecomment-399954570","issue_url":"https://api.github.com/repos/apache/druid/issues/5711","id":399954570,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk1NDU3MA==","user":{"login":"scrawfor","id":7061689,"node_id":"MDQ6VXNlcjcwNjE2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7061689?v=4","gravatar_id":"","url":"https://api.github.com/users/scrawfor","html_url":"https://github.com/scrawfor","followers_url":"https://api.github.com/users/scrawfor/followers","following_url":"https://api.github.com/users/scrawfor/following{/other_user}","gists_url":"https://api.github.com/users/scrawfor/gists{/gist_id}","starred_url":"https://api.github.com/users/scrawfor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scrawfor/subscriptions","organizations_url":"https://api.github.com/users/scrawfor/orgs","repos_url":"https://api.github.com/users/scrawfor/repos","events_url":"https://api.github.com/users/scrawfor/events{/privacy}","received_events_url":"https://api.github.com/users/scrawfor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T13:37:50Z","updated_at":"2018-06-25T13:37:50Z","author_association":"CONTRIBUTOR","body":"@jon-wei No-Op removed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399954570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/399972929","html_url":"https://github.com/apache/druid/issues/4826#issuecomment-399972929","issue_url":"https://api.github.com/repos/apache/druid/issues/4826","id":399972929,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk3MjkyOQ==","user":{"login":"denisvlah","id":12544479,"node_id":"MDQ6VXNlcjEyNTQ0NDc5","avatar_url":"https://avatars.githubusercontent.com/u/12544479?v=4","gravatar_id":"","url":"https://api.github.com/users/denisvlah","html_url":"https://github.com/denisvlah","followers_url":"https://api.github.com/users/denisvlah/followers","following_url":"https://api.github.com/users/denisvlah/following{/other_user}","gists_url":"https://api.github.com/users/denisvlah/gists{/gist_id}","starred_url":"https://api.github.com/users/denisvlah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denisvlah/subscriptions","organizations_url":"https://api.github.com/users/denisvlah/orgs","repos_url":"https://api.github.com/users/denisvlah/repos","events_url":"https://api.github.com/users/denisvlah/events{/privacy}","received_events_url":"https://api.github.com/users/denisvlah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T14:31:46Z","updated_at":"2018-06-25T14:31:46Z","author_association":"NONE","body":"I had the same error even with aggregation queries and changing fetch size to 100\r\n\"SELECT ACCOUNT_PRG, SUM(RowsCount) FROM MASTER GROUP BY ACCOUNT_PRG\"\r\nGot error \r\nSuppressed: java.lang.IllegalStateException: DefaultQueryMetrics must not be modified from multiple threads. If it is needed to gather dimension or metric information from multiple threads or from an async thread, this information should explicitly be passed between threads (e. g. using Futures), or this DefaultQueryMetrics's ownerThread should be reassigned explicitly\r\n\t\tat io.druid.query.DefaultQueryMetrics.checkModifiedFromOwnerThread(DefaultQueryMetrics.java:59)\r\n\t\tat io.druid.query.DefaultQueryMetrics.reportMetric(DefaultQueryMetrics.java:253)\r\n\t\tat io.druid.query.DefaultQueryMetrics.reportCpuTime(DefaultQueryMetrics.java:231)\r\n\t\tat io.druid.query.CPUTimeMetricQueryRunner$1.after(CPUTimeMetricQueryRunner.java:86)\r\n\t\tat io.druid.java.util.common.guava.WrappingYielder.next(WrappingYielder.java:60)\r\n\t\t... 23 more\r\n\r\nAlso setting fetch size in Avatica JDBC driver took no effect. I have tried to fix it and got the error described above.\r\n\r\nDruid version used: 0.10.1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/399972929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400018538","html_url":"https://github.com/apache/druid/issues/4826#issuecomment-400018538","issue_url":"https://api.github.com/repos/apache/druid/issues/4826","id":400018538,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxODUzOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:45:15Z","updated_at":"2018-06-25T16:45:15Z","author_association":"CONTRIBUTOR","body":"@ssainz You would need to update the historicals and MMs before the broker, since they'll need the code to support scan queries before the broker is able to generate them (see the ordering on http://druid.io/docs/latest/operations/rolling-updates.html).\r\n\r\n@denisvlah Do you have any more of the stack trace you saw? Also, do you still see this on the latest Druid version?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400018538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400094719","html_url":"https://github.com/apache/druid/pull/5899#issuecomment-400094719","issue_url":"https://api.github.com/repos/apache/druid/issues/5899","id":400094719,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDA5NDcxOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T21:03:19Z","updated_at":"2018-06-25T21:03:19Z","author_association":"CONTRIBUTOR","body":"@surekhasaharan The test failure seems legit:\r\n\r\n```\r\ntestIncrementalHandOff[isIncrementalHandoffSupported = true](io.druid.indexing.kafka.KafkaIndexTaskTest)  Time elapsed: 2.147 sec  <<< FAILURE!\r\njava.lang.AssertionError: expected:<SUCCESS> but was:<FAILED>\r\n\tat org.junit.Assert.fail(Assert.java:88)\r\n\tat org.junit.Assert.failNotEquals(Assert.java:743)\r\n\tat org.junit.Assert.assertEquals(Assert.java:118)\r\n\tat org.junit.Assert.assertEquals(Assert.java:144)\r\n\tat io.druid.indexing.kafka.KafkaIndexTaskTest.testIncrementalHandOff(KafkaIndexTaskTest.java:517)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400094719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400115465","html_url":"https://github.com/apache/druid/issues/5473#issuecomment-400115465","issue_url":"https://api.github.com/repos/apache/druid/issues/5473","id":400115465,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDExNTQ2NQ==","user":{"login":"TwojaWina","id":9752231,"node_id":"MDQ6VXNlcjk3NTIyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/9752231?v=4","gravatar_id":"","url":"https://api.github.com/users/TwojaWina","html_url":"https://github.com/TwojaWina","followers_url":"https://api.github.com/users/TwojaWina/followers","following_url":"https://api.github.com/users/TwojaWina/following{/other_user}","gists_url":"https://api.github.com/users/TwojaWina/gists{/gist_id}","starred_url":"https://api.github.com/users/TwojaWina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TwojaWina/subscriptions","organizations_url":"https://api.github.com/users/TwojaWina/orgs","repos_url":"https://api.github.com/users/TwojaWina/repos","events_url":"https://api.github.com/users/TwojaWina/events{/privacy}","received_events_url":"https://api.github.com/users/TwojaWina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T22:25:49Z","updated_at":"2018-06-25T22:25:49Z","author_association":"NONE","body":"Unfortunately `UNION` multiple dataSources only works in Druid native query. There is no ETA for Pivot support yet. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400115465/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400129058","html_url":"https://github.com/apache/druid/pull/5899#issuecomment-400129058","issue_url":"https://api.github.com/repos/apache/druid/issues/5899","id":400129058,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDEyOTA1OA==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T23:40:01Z","updated_at":"2018-06-25T23:40:01Z","author_association":"NONE","body":"All tests in `KafkaIndexTaskTest` seem to pass locally.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400129058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400157393","html_url":"https://github.com/apache/druid/pull/5899#issuecomment-400157393","issue_url":"https://api.github.com/repos/apache/druid/issues/5899","id":400157393,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDE1NzM5Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T02:29:14Z","updated_at":"2018-06-26T02:29:14Z","author_association":"CONTRIBUTOR","body":"@surekhasaharan Ah okay cool - I restarted it and it passed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400157393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400262421","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-400262421","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":400262421,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDI2MjQyMQ==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T10:38:41Z","updated_at":"2018-06-26T10:38:41Z","author_association":"NONE","body":"Using Druid 0.12.0 and the problem still persists. \r\n\r\n`2018-06-18T12:56:37,107 ERROR [qtp1954133542-83] \r\nio.druid.indexing.common.actions.SegmentAllocateAction - Could not allocate pending segment for rowInterval[2018-06-13T08:13:30.000Z/2018-06-13T08:13:30.001Z], segmentInterval[2018-06-13T08:00:00.000Z/2018-06-13T09:00:00.000Z].\r\n2018-06-18T12:56:37,646 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Task FAILED: KafkaIndexTask{id=index_kafka_sessions_dc85485a4576518_eckhgpcl, type=index_kafka, dataSource=sessions} (38028 run duration)\r\n2018-06-18T12:56:37,646 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] status changed to [FAILED].\r\n2018-06-18T12:57:14,137 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.RemoteTaskRunner - Sent shutdown message to worker: 0.0.0.0:8091, status 200 OK, response: {\"task\":\"index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\"}\r\n2018-06-18T12:57:14,137 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.TaskLockbox - Removing task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] from activeTasks`\r\n\r\n\r\nThe Middle Manager logs is just strikingly similar:\r\n\r\n\r\n`2018-06-18T12:57:14,098 INFO [qtp2011636843-19] io.druid.indexing.overlord.ForkingTaskRunner - Killing process for task: index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:14,099 INFO [forking-task-runner-1] io.druid.indexing.common.tasklogs.FileTaskLogs - Wrote task log to: var/druid/indexing-logs/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg.log\r\n2018-06-18T12:57:14,099 INFO [forking-task-runner-1] io.druid.indexing.overlord.ForkingTaskRunner - Exception caught during execution\r\njava.io.IOException: Stream closed\r\n\tat java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170) ~[?:1.8.0_161]\r\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:291) ~[?:1.8.0_161]\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:345) ~[?:1.8.0_161]\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:107) ~[?:1.8.0_161]\r\n\tat com.google.common.io.ByteStreams.copy(ByteStreams.java:175) ~[guava-16.0.1.jar:?]\r\n\tat io.druid.indexing.overlord.ForkingTaskRunner$1.call(ForkingTaskRunner.java:452) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.overlord.ForkingTaskRunner$1.call(ForkingTaskRunner.java:224) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\n2018-06-18T12:57:14,109 INFO [forking-task-runner-1] io.druid.indexing.overlord.ForkingTaskRunner - Removing task directory: var/druid/task/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:14,116 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Job's finished. Completed [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] with status [FAILED]`\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400262421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400321768","html_url":"https://github.com/apache/druid/issues/5903#issuecomment-400321768","issue_url":"https://api.github.com/repos/apache/druid/issues/5903","id":400321768,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDMyMTc2OA==","user":{"login":"debdutto","id":4058848,"node_id":"MDQ6VXNlcjQwNTg4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4058848?v=4","gravatar_id":"","url":"https://api.github.com/users/debdutto","html_url":"https://github.com/debdutto","followers_url":"https://api.github.com/users/debdutto/followers","following_url":"https://api.github.com/users/debdutto/following{/other_user}","gists_url":"https://api.github.com/users/debdutto/gists{/gist_id}","starred_url":"https://api.github.com/users/debdutto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debdutto/subscriptions","organizations_url":"https://api.github.com/users/debdutto/orgs","repos_url":"https://api.github.com/users/debdutto/repos","events_url":"https://api.github.com/users/debdutto/events{/privacy}","received_events_url":"https://api.github.com/users/debdutto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T14:06:58Z","updated_at":"2018-06-26T14:06:58Z","author_association":"NONE","body":"Hi @vogievetsky @gianm\r\n\r\nI'm pretty new to druid. Would love to take a swing at this.\r\n\r\nLet me see if I can whip up a PR by tonight, if it's okay with you?\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400321768/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400458670","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-400458670","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":400458670,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQ1ODY3MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T20:53:48Z","updated_at":"2018-06-26T20:53:48Z","author_association":"CONTRIBUTOR","body":"I was using `java-util/src/main/java/io/druid/java/util/http/client/response/ToStringResponseHandler.java` in an extension :-/","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400458670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400463306","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-400463306","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":400463306,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQ2MzMwNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T21:09:55Z","updated_at":"2018-06-26T21:09:55Z","author_association":"CONTRIBUTOR","body":"was also using some of the methods in `Event`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400463306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400466014","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-400466014","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":400466014,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQ2NjAxNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T21:19:26Z","updated_at":"2018-06-26T21:25:06Z","author_association":"CONTRIBUTOR","body":"And MapUtils. getLong","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400466014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400467964","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-400467964","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":400467964,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQ2Nzk2NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T21:26:38Z","updated_at":"2018-06-26T21:26:38Z","author_association":"CONTRIBUTOR","body":"This PR will need a special callout in the release notes that a lot of java-util functions were removed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400467964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400475132","html_url":"https://github.com/apache/druid/pull/5901#issuecomment-400475132","issue_url":"https://api.github.com/repos/apache/druid/issues/5901","id":400475132,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQ3NTEzMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T21:53:21Z","updated_at":"2018-06-26T21:53:21Z","author_association":"CONTRIBUTOR","body":"@mhshimul thank you for contribution! Would you fill out our CLA http://druid.io/community/cla.html?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400475132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400478175","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-400478175","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":400478175,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQ3ODE3NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T22:05:46Z","updated_at":"2018-06-26T22:05:46Z","author_association":"CONTRIBUTOR","body":"Hi guys, \r\n\r\nif the Kafka indexing tasks failed with 'Stream closed', it means that those tasks were killed by overlords. So, we need to figure out why overlords killed those tasks. Would you post your overlord logs as well as the failed kafka task logs? The overlord logs should contain the logs written at the time when the kafka tasks failed. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400478175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400503380","html_url":"https://github.com/apache/druid/issues/5903#issuecomment-400503380","issue_url":"https://api.github.com/repos/apache/druid/issues/5903","id":400503380,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDUwMzM4MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T00:20:35Z","updated_at":"2018-06-27T00:20:35Z","author_association":"CONTRIBUTOR","body":"@vogievetsky your bug reports are always the best","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400503380/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400512443","html_url":"https://github.com/apache/druid/pull/5711#issuecomment-400512443","issue_url":"https://api.github.com/repos/apache/druid/issues/5711","id":400512443,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDUxMjQ0Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T01:19:38Z","updated_at":"2018-06-27T01:19:38Z","author_association":"CONTRIBUTOR","body":"@leventov Did you have any more comments on this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400512443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400530893","html_url":"https://github.com/apache/druid/pull/5901#issuecomment-400530893","issue_url":"https://api.github.com/repos/apache/druid/issues/5901","id":400530893,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDUzMDg5Mw==","user":{"login":"mhshimul","id":5604510,"node_id":"MDQ6VXNlcjU2MDQ1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/5604510?v=4","gravatar_id":"","url":"https://api.github.com/users/mhshimul","html_url":"https://github.com/mhshimul","followers_url":"https://api.github.com/users/mhshimul/followers","following_url":"https://api.github.com/users/mhshimul/following{/other_user}","gists_url":"https://api.github.com/users/mhshimul/gists{/gist_id}","starred_url":"https://api.github.com/users/mhshimul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhshimul/subscriptions","organizations_url":"https://api.github.com/users/mhshimul/orgs","repos_url":"https://api.github.com/users/mhshimul/repos","events_url":"https://api.github.com/users/mhshimul/events{/privacy}","received_events_url":"https://api.github.com/users/mhshimul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T03:23:37Z","updated_at":"2018-06-27T03:23:37Z","author_association":"CONTRIBUTOR","body":"I have already filled it out during a previous contribution. Should I need to do it again?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400530893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400610497","html_url":"https://github.com/apache/druid/issues/5903#issuecomment-400610497","issue_url":"https://api.github.com/repos/apache/druid/issues/5903","id":400610497,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDYxMDQ5Nw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T09:43:19Z","updated_at":"2018-06-27T09:43:19Z","author_association":"MEMBER","body":"For indexing tasks at least, I am unable to replicate this issue in latest master, I believe due to this patch https://github.com/druid-io/druid/pull/5785 which fixed this very issue, causing an indexing task with a missing datasource to return an error message like this \r\n```\r\n{\"error\":\"Instantiation of [simple type, class io.druid.segment.indexing.DataSchema] value failed: dataSource cannot be null or empty. Please provide a dataSource. ...\r\n```\r\n\r\nHowever, I think it highlights a larger underlying issue that there are very likely a lot of places where we are unintentionally using `Preconditions.checkNotNull` for json sourced strings instead of `Preconditions.checkArgument` in combination with `Strings.isNullOrEmpty`,  in places where an empty string would be just as invalid as null, which might be worth investigating (along with json input validation in general). A quick search of tasks scored a handful of other task types which take a datasource that is not part of a `DataSchema`, that are only using `Preconditions.checkNotNull` check in `AbstractTask`, which should probably be modified to use the same `Strings.isNullOrEmpty` check. I am unsure offhand if any of these tasks can side-effect an emtpy string named datasource into existence however.\r\n\r\n@Debdutto I was looking into this issue after @vogievetsky encountered it, and to offer some pointers to help you get started, but since I believe it is already fixed maybe you would instead be interested in looking into as much or as little as you prefer of the deeper issue I speculate exists?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400610497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400618214","html_url":"https://github.com/apache/druid/issues/5903#issuecomment-400618214","issue_url":"https://api.github.com/repos/apache/druid/issues/5903","id":400618214,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDYxODIxNA==","user":{"login":"debdutto","id":4058848,"node_id":"MDQ6VXNlcjQwNTg4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4058848?v=4","gravatar_id":"","url":"https://api.github.com/users/debdutto","html_url":"https://github.com/debdutto","followers_url":"https://api.github.com/users/debdutto/followers","following_url":"https://api.github.com/users/debdutto/following{/other_user}","gists_url":"https://api.github.com/users/debdutto/gists{/gist_id}","starred_url":"https://api.github.com/users/debdutto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debdutto/subscriptions","organizations_url":"https://api.github.com/users/debdutto/orgs","repos_url":"https://api.github.com/users/debdutto/repos","events_url":"https://api.github.com/users/debdutto/events{/privacy}","received_events_url":"https://api.github.com/users/debdutto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T10:11:31Z","updated_at":"2018-06-27T10:11:31Z","author_association":"NONE","body":"@clintropolis I was just in the process of setting everything up last night. I'm willing to take it up, if you think there's something larger going on. But I will need some direction / guidance.\r\n\r\nWhat I'll do is, I'll take a look at @vogievetsky's issue and the underlying `Preconditions.checkNotNull` issue that you suggested. I'll come back with observations and a probable solution . Then you can let me know if I'm going off the rails somewhere.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400618214/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400633460","html_url":"https://github.com/apache/druid/pull/5908#issuecomment-400633460","issue_url":"https://api.github.com/repos/apache/druid/issues/5908","id":400633460,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDYzMzQ2MA==","user":{"login":"DiegoEliasCosta","id":466193,"node_id":"MDQ6VXNlcjQ2NjE5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/466193?v=4","gravatar_id":"","url":"https://api.github.com/users/DiegoEliasCosta","html_url":"https://github.com/DiegoEliasCosta","followers_url":"https://api.github.com/users/DiegoEliasCosta/followers","following_url":"https://api.github.com/users/DiegoEliasCosta/following{/other_user}","gists_url":"https://api.github.com/users/DiegoEliasCosta/gists{/gist_id}","starred_url":"https://api.github.com/users/DiegoEliasCosta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DiegoEliasCosta/subscriptions","organizations_url":"https://api.github.com/users/DiegoEliasCosta/orgs","repos_url":"https://api.github.com/users/DiegoEliasCosta/repos","events_url":"https://api.github.com/users/DiegoEliasCosta/events{/privacy}","received_events_url":"https://api.github.com/users/DiegoEliasCosta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T11:01:46Z","updated_at":"2018-06-27T11:01:46Z","author_association":"CONTRIBUTOR","body":"Just signed the CLA!\r\n\r\nWe are also analyzing other kinds of anti-patterns on JMH bench creation, if we find some more on Druid I will let you guys know. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400633460/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400640946","html_url":"https://github.com/apache/druid/pull/5789#issuecomment-400640946","issue_url":"https://api.github.com/repos/apache/druid/issues/5789","id":400640946,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDY0MDk0Ng==","user":{"login":"andresgomezfrr","id":4025771,"node_id":"MDQ6VXNlcjQwMjU3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4025771?v=4","gravatar_id":"","url":"https://api.github.com/users/andresgomezfrr","html_url":"https://github.com/andresgomezfrr","followers_url":"https://api.github.com/users/andresgomezfrr/followers","following_url":"https://api.github.com/users/andresgomezfrr/following{/other_user}","gists_url":"https://api.github.com/users/andresgomezfrr/gists{/gist_id}","starred_url":"https://api.github.com/users/andresgomezfrr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andresgomezfrr/subscriptions","organizations_url":"https://api.github.com/users/andresgomezfrr/orgs","repos_url":"https://api.github.com/users/andresgomezfrr/repos","events_url":"https://api.github.com/users/andresgomezfrr/events{/privacy}","received_events_url":"https://api.github.com/users/andresgomezfrr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T11:34:51Z","updated_at":"2018-06-27T11:34:51Z","author_association":"CONTRIBUTOR","body":"@jihoonson Did you have time to check the last changes?\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400640946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400771026","html_url":"https://github.com/apache/druid/pull/5901#issuecomment-400771026","issue_url":"https://api.github.com/repos/apache/druid/issues/5901","id":400771026,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDc3MTAyNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T17:45:17Z","updated_at":"2018-06-27T17:45:17Z","author_association":"CONTRIBUTOR","body":"@mhshimul thanks. I didn't noticed that. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400771026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400780894","html_url":"https://github.com/apache/druid/issues/5910#issuecomment-400780894","issue_url":"https://api.github.com/repos/apache/druid/issues/5910","id":400780894,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDc4MDg5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T18:18:21Z","updated_at":"2018-06-27T18:18:21Z","author_association":"CONTRIBUTOR","body":"@TwojaWina was there an exception stack trace in the coordinator log?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400780894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400783268","html_url":"https://github.com/apache/druid/issues/5910#issuecomment-400783268","issue_url":"https://api.github.com/repos/apache/druid/issues/5910","id":400783268,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDc4MzI2OA==","user":{"login":"TwojaWina","id":9752231,"node_id":"MDQ6VXNlcjk3NTIyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/9752231?v=4","gravatar_id":"","url":"https://api.github.com/users/TwojaWina","html_url":"https://github.com/TwojaWina","followers_url":"https://api.github.com/users/TwojaWina/followers","following_url":"https://api.github.com/users/TwojaWina/following{/other_user}","gists_url":"https://api.github.com/users/TwojaWina/gists{/gist_id}","starred_url":"https://api.github.com/users/TwojaWina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TwojaWina/subscriptions","organizations_url":"https://api.github.com/users/TwojaWina/orgs","repos_url":"https://api.github.com/users/TwojaWina/repos","events_url":"https://api.github.com/users/TwojaWina/events{/privacy}","received_events_url":"https://api.github.com/users/TwojaWina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T18:26:12Z","updated_at":"2018-06-27T18:26:12Z","author_association":"NONE","body":"@gianm , no there is no error found in coordinator log. Full log attached. \r\n[coordinator_combo.log](https://github.com/druid-io/druid/files/2142445/coordinator_combo.log)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400783268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400861280","html_url":"https://github.com/apache/druid/issues/5903#issuecomment-400861280","issue_url":"https://api.github.com/repos/apache/druid/issues/5903","id":400861280,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDg2MTI4MA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T23:26:43Z","updated_at":"2018-06-27T23:26:43Z","author_association":"CONTRIBUTOR","body":"Oh indeed it appears the #5785 already fixed it, please feel free to close this issue for tidiness sake.\r\n@Debdutto I hope you do look into the suggestions for stricter checks outlined by @clintropolis even if this issue is closed - who knows what other weirdness there is where `\"\"` is allowed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400861280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400929882","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-400929882","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":400929882,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDkyOTg4Mg==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T06:44:51Z","updated_at":"2018-06-28T06:48:30Z","author_association":"NONE","body":"@jihoonson \r\nHey,\r\nThis issue happens sporadically. Thus, difficult to reproduce. Also, I don't possess the entire logs when this occurred. Below, I've added Middle Manager and Overlord logs.\r\n\r\nOverlord:\r\n```\r\n2018-06-18T12:55:59,426 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Number of tasks [0] does not match configured numReplicas [1] in task group [0], creating more tasks\r\n2018-06-18T12:55:59,441 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.MetadataTaskStorage - Inserting task index_kafka_sessions_dc85485a4576518_eckhgpcl with status: TaskStatus{id=index_kafka_sessions_dc85485a4576518_eckhgpcl, status=RUNNING, duration=-1}\r\n2018-06-18T12:55:59,484 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.TaskLockbox - Adding task[index_kafka_sessions_dc85485a4576518_eckhgpcl] to activeTasks\r\n2018-06-18T12:55:59,485 INFO [TaskQueue-Manager] io.druid.indexing.overlord.TaskQueue - Asking taskRunner to run: index_kafka_sessions_dc85485a4576518_eckhgpcl\r\n2018-06-18T12:55:59,485 INFO [TaskQueue-Manager] io.druid.indexing.overlord.RemoteTaskRunner - Added pending task index_kafka_sessions_dc85485a4576518_eckhgpcl\r\n2018-06-18T12:55:59,503 INFO [rtr-pending-tasks-runner-0] io.druid.indexing.overlord.RemoteTaskRunner - Coordinator asking Worker[0.0.0.0:8091] to add task[index_kafka_sessions_dc85485a4576518_eckhgpcl]\r\n2018-06-18T12:55:59,509 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - {id='sessions', generationTime=2018-06-18T12:55:59.507Z, payload={dataSource='sessions', topic='sessionstopic', partitions=1, replicas=1, durationSeconds=3600, active=[], publishing=[]}}\r\n2018-06-18T12:55:59,522 INFO [rtr-pending-tasks-runner-0] io.druid.indexing.overlord.RemoteTaskRunner - Task index_kafka_sessions_dc85485a4576518_eckhgpcl switched from pending to running (on [0.0.0.0:8091])\r\n2018-06-18T12:55:59,523 INFO [rtr-pending-tasks-runner-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] status changed to [RUNNING].\r\n2018-06-18T12:55:59,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.indexing.kafka.KafkaIndexTaskClient - No TaskLocation available for task [index_kafka_sessions_dc85485a4576518_eckhgpcl], this task may not have been assigned to a worker yet or may have already completed\r\n2018-06-18T12:55:59,544 INFO [KafkaIndexTaskClient-sessions-0] io.druid.indexing.kafka.KafkaIndexTaskClient - No TaskLocation available for task [index_kafka_sessions_dc85485a4576518_eckhgpcl], this task may not have been assigned to a worker yet or may have already completed\r\n2018-06-18T12:55:59,545 WARN [KafkaIndexTaskClient-sessions-0] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Ignoring task [index_kafka_sessions_dc85485a4576518_eckhgpcl], as probably it is not started running yet\r\n2018-06-18T12:55:59,559 INFO [KafkaIndexTaskClient-sessions-0] io.druid.indexing.kafka.KafkaIndexTaskClient - No TaskLocation available for task [index_kafka_sessions_dc85485a4576518_eckhgpcl], this task may not have been assigned to a worker yet or may have already completed\r\n2018-06-18T12:55:59,565 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - {id='sessions', generationTime=2018-06-18T12:55:59.564Z, payload={dataSource='sessions', topic='sessionstopic', partitions=1, replicas=1, durationSeconds=3600, active=[{id='index_kafka_sessions_dc85485a4576518_eckhgpcl', startTime=null, remainingSeconds=null}], publishing=[]}}\r\n2018-06-18T12:55:59,571 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] wrote RUNNING status for task [index_kafka_sessions_dc85485a4576518_eckhgpcl] on [TaskLocation{host='null', port=-1, tlsPort=-1}]\r\n2018-06-18T12:55:59,695 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] wrote RUNNING status for task [index_kafka_sessions_dc85485a4576518_eckhgpcl] on [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}]\r\n2018-06-18T12:55:59,695 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] location changed to [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}].\r\n2018-06-18T12:56:06,498 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,531 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,531 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,531 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,532 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,535 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,535 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,535 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,536 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,536 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,536 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,536 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,537 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,537 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:56:06,693 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - {id='sessions', generationTime=2018-06-18T12:56:06.693Z, payload={dataSource='sessions', topic='sessionstopic', partitions=1, replicas=1, durationSeconds=3600, active=[{id='index_kafka_sessions_dc85485a4576518_eckhgpcl', startTime=2018-06-18T12:56:05.118Z, remainingSeconds=3598}], publishing=[]}}\r\n2018-06-18T12:56:06,785 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - {id='sessions', generationTime=2018-06-18T12:56:06.785Z, payload={dataSource='sessions', topic='sessionstopic', partitions=1, replicas=1, durationSeconds=3600, active=[{id='index_kafka_sessions_dc85485a4576518_eckhgpcl', startTime=2018-06-18T12:56:05.118Z, remainingSeconds=3598}], publishing=[]}}\r\n2018-06-18T12:56:31,778 WARN [KafkaSupervisor-sessions-Reporting-0] io.druid.java.util.emitter.core.LoggingEmitter - Event [{\"feed\":\"metrics\",\"timestamp\":\"2018-06-18T12:56:31.778Z\",\"service\":\"druid/overlord\",\"host\":\"0.0.0.0:8090\",\"version\":\"0.12.0\",\"metric\":\"ingest/kafka/lag\",\"value\":0,\"dataSource\":\"sessions\"}]\r\n2018-06-18T12:56:36,785 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - {id='sessions', generationTime=2018-06-18T12:56:36.785Z, payload={dataSource='sessions', topic='sessionstopic', partitions=1, replicas=1, durationSeconds=3600, active=[{id='index_kafka_sessions_dc85485a4576518_eckhgpcl', startTime=2018-06-18T12:56:05.118Z, remainingSeconds=3568}], publishing=[]}}\r\n2018-06-18T12:56:37,046 INFO [qtp1954133542-83] io.druid.indexing.common.actions.LocalTaskActionClient - Performing action for task[index_kafka_sessions_dc85485a4576518_eckhgpcl]: SegmentAllocateAction{dataSource='sessions', timestamp=2018-06-13T08:13:30.000Z, queryGranularity=NoneGranularity, preferredSegmentGranularity={type=period, period=PT1H, timeZone=UTC, origin=null}, sequenceName='index_kafka_sessions_dc85485a4576518_0', previousSegmentId='null', skipSegmentLineageCheck='true'}\r\n2018-06-18T12:56:37,093 INFO [qtp1954133542-83] io.druid.indexing.overlord.TaskLockbox - Added task[index_kafka_sessions_dc85485a4576518_eckhgpcl] to TaskLock[index_kafka_sessions]\r\n2018-06-18T12:56:37,093 INFO [qtp1954133542-83] io.druid.indexing.overlord.MetadataTaskStorage - Adding lock on interval[2018-06-13T08:00:00.000Z/2018-06-13T09:00:00.000Z] version[2018-06-18T12:56:37.092Z] for task: index_kafka_sessions_dc85485a4576518_eckhgpcl\r\n2018-06-18T12:56:37,105 WARN [qtp1954133542-83] io.druid.metadata.IndexerSQLMetadataStorageCoordinator - Cannot allocate new segment for dataSource[sessions], interval[2018-06-13T08:00:00.000Z/2018-06-13T09:00:00.000Z], maxVersion[2018-06-18T12:56:37.092Z]: ShardSpec class[class io.druid.timeline.partition.NoneShardSpec] used by [sessions_2018-06-13T08:00:00.000Z_2018-06-13T09:00:00.000Z_2018-06-18T08:06:21.708Z].\r\n2018-06-18T12:56:37,107 ERROR [qtp1954133542-83] io.druid.indexing.common.actions.SegmentAllocateAction - Could not allocate pending segment for rowInterval[2018-06-13T08:13:30.000Z/2018-06-13T08:13:30.001Z], segmentInterval[2018-06-13T08:00:00.000Z/2018-06-13T09:00:00.000Z].\r\n2018-06-18T12:56:37,622 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] wrote FAILED status for task [index_kafka_sessions_dc85485a4576518_eckhgpcl] on [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}]\r\n2018-06-18T12:56:37,622 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] completed task[index_kafka_sessions_dc85485a4576518_eckhgpcl] with status[FAILED]\r\n2018-06-18T12:56:37,623 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Received FAILED status for task: index_kafka_sessions_dc85485a4576518_eckhgpcl\r\n2018-06-18T12:56:37,623 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Cleaning up task[index_kafka_sessions_dc85485a4576518_eckhgpcl] on worker[0.0.0.0:8091]\r\n2018-06-18T12:56:37,626 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskLockbox - Removing task[index_kafka_sessions_dc85485a4576518_eckhgpcl] from activeTasks\r\n2018-06-18T12:56:37,628 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskLockbox - Removing task[index_kafka_sessions_dc85485a4576518_eckhgpcl] from TaskLock[index_kafka_sessions]\r\n2018-06-18T12:56:37,628 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskLockbox - TaskLock is now empty: TaskLock{type=EXCLUSIVE, groupId=index_kafka_sessions, dataSource=sessions, interval=2018-06-13T08:00:00.000Z/2018-06-13T09:00:00.000Z, version=2018-06-18T12:56:37.092Z, priority=75, revoked=false}\r\n2018-06-18T12:56:37,639 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.MetadataTaskStorage - Deleting TaskLock with id[7492]: TaskLock{type=EXCLUSIVE, groupId=index_kafka_sessions, dataSource=sessions, interval=2018-06-13T08:00:00.000Z/2018-06-13T09:00:00.000Z, version=2018-06-18T12:56:37.092Z, priority=75, revoked=false}\r\n2018-06-18T12:56:37,643 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.MetadataTaskStorage - Updating task index_kafka_sessions_dc85485a4576518_eckhgpcl to status: TaskStatus{id=index_kafka_sessions_dc85485a4576518_eckhgpcl, status=FAILED, duration=38028}\r\n2018-06-18T12:56:37,645 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Task done: KafkaIndexTask{id=index_kafka_sessions_dc85485a4576518_eckhgpcl, type=index_kafka, dataSource=sessions}\r\n2018-06-18T12:56:37,646 WARN [Curator-PathChildrenCache-1] io.druid.java.util.emitter.core.LoggingEmitter - Event [{\"feed\":\"metrics\",\"timestamp\":\"2018-06-18T12:56:37.645Z\",\"service\":\"druid/overlord\",\"host\":\"0.0.0.0:8090\",\"version\":\"0.12.0\",\"metric\":\"task/run/time\",\"value\":38028,\"dataSource\":\"sessions\",\"taskStatus\":\"FAILED\",\"taskType\":\"index_kafka\"}]\r\n2018-06-18T12:56:37,646 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Task FAILED: KafkaIndexTask{id=index_kafka_sessions_dc85485a4576518_eckhgpcl, type=index_kafka, dataSource=sessions} (38028 run duration)\r\n2018-06-18T12:56:37,646 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] status changed to [FAILED].\r\n2018-06-18T12:56:37,646 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Task[index_kafka_sessions_dc85485a4576518_eckhgpcl] went bye bye.\r\n...\r\nA few metrics /jvm/gc/mem/init\r\n...\r\n2018-06-18T12:56:44,364 WARN [MonitorScheduler-0] io.druid.java.util.emitter.core.LoggingEmitter - Event [{\"feed\":\"metrics\",\"timestamp\":\"2018-06-18T12:56:44.364Z\",\"service\":\"druid/overlord\",\"host\":\"0.0.0.0:8090\",\"version\":\"0.12.0\",\"metric\":\"jvm/gc/mem/init\",\"value\":252706824,\"gcGen\":[\"old\"],\"gcGenSpaceName\":\"sun.gc.generation.1.space.0.name: space\\^@ string [internal]\",\"gcName\":[\"g1\"]}]\r\n2018-06-18T12:56:45,740 INFO [TaskQueue-StorageSync] io.druid.indexing.overlord.TaskQueue - Synced 0 tasks from storage (0 tasks added, 0 tasks removed).\r\n2018-06-18T12:57:06,787 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Clearing task group [0] information as no valid tasks left the group\r\n2018-06-18T12:57:06,788 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Creating new task group [0] for partitions [0]\r\n2018-06-18T12:57:06,789 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Topic in metadata storage [topic_sessions] doesn't match spec topic [sessionstopic], ignoring stored offsets\r\n2018-06-18T12:57:06,790 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Number of tasks [0] does not match configured numReplicas [1] in task group [0], creating more tasks\r\n2018-06-18T12:57:06,791 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.MetadataTaskStorage - Inserting task index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg with status: TaskStatus{id=index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg, status=RUNNING, duration=-1}\r\n2018-06-18T12:57:06,794 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.TaskLockbox - Adding task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] to activeTasks\r\n2018-06-18T12:57:06,794 INFO [TaskQueue-Manager] io.druid.indexing.overlord.TaskQueue - Asking taskRunner to run: index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:06,794 INFO [TaskQueue-Manager] io.druid.indexing.overlord.RemoteTaskRunner - Added pending task index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:06,795 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - {id='sessions', generationTime=2018-06-18T12:57:06.794Z, payload={dataSource='sessions', topic='sessionstopic', partitions=1, replicas=1, durationSeconds=3600, active=[], publishing=[]}}\r\n2018-06-18T12:57:06,795 INFO [rtr-pending-tasks-runner-0] io.druid.indexing.overlord.RemoteTaskRunner - Coordinator asking Worker[0.0.0.0:8091] to add task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg]\r\n2018-06-18T12:57:06,807 INFO [rtr-pending-tasks-runner-0] io.druid.indexing.overlord.RemoteTaskRunner - Task index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg switched from pending to running (on [0.0.0.0:8091])\r\n2018-06-18T12:57:06,807 INFO [rtr-pending-tasks-runner-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] status changed to [RUNNING].\r\n2018-06-18T12:57:06,816 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] wrote RUNNING status for task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] on [TaskLocation{host='null', port=-1, tlsPort=-1}]\r\n2018-06-18T12:57:06,829 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] wrote RUNNING status for task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] on [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}]\r\n2018-06-18T12:57:06,829 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] location changed to [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}].\r\n2018-06-18T12:57:13,802 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:57:13,935 INFO [KafkaIndexTaskClient-sessions-0] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8100\r\n2018-06-18T12:57:13,950 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Clearing task group [0] information as no valid tasks left the group\r\n2018-06-18T12:57:13,950 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Killing task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg], as its checkpoints [{0={0=48}}] are not consistent with group checkpoints[{0={0=48}}] or latest persisted offsets in metadata store [{0=1436430}]\r\n2018-06-18T12:57:13,950 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,961 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,963 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,964 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,964 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,966 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,967 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,967 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,967 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,968 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,968 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,968 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,970 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,971 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,971 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,971 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,971 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,971 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,972 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:13,972 INFO [KafkaSupervisor-sessions] io.druid.java.util.http.client.pool.ChannelResourceFactory - Generating: http://0.0.0.0:8091\r\n2018-06-18T12:57:14,117 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] wrote FAILED status for task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] on [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}]\r\n2018-06-18T12:57:14,117 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Worker[0.0.0.0:8091] completed task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] with status[FAILED]\r\n2018-06-18T12:57:14,118 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Received FAILED status for task: index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:14,137 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.RemoteTaskRunner - Sent shutdown message to worker: 0.0.0.0:8091, status 200 OK, response: {\"task\":\"index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\"}\r\n2018-06-18T12:57:14,137 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.TaskLockbox - Removing task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] from activeTasks\r\n2018-06-18T12:57:14,139 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.MetadataTaskStorage - Updating task index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg to status: TaskStatus{id=index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg, status=FAILED, duration=-1}\r\n2018-06-18T12:57:14,141 INFO [KafkaSupervisor-sessions] io.druid.indexing.overlord.TaskQueue - Task done: KafkaIndexTask{id=index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg, type=index_kafka, dataSource=sessions}\r\n2018-06-18T12:57:14,141 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Creating new task group [0] for partitions [0]\r\n2018-06-18T12:57:14,141 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Cleaning up task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] on worker[0.0.0.0:8091]\r\n2018-06-18T12:57:14,142 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Topic in metadata storage [topic_sessions] doesn't match spec topic [sessionstopic], ignoring stored offsets\r\n2018-06-18T12:57:14,143 WARN [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Unknown task completed: index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:14,143 WARN [Curator-PathChildrenCache-1] io.druid.java.util.emitter.core.LoggingEmitter - Event [{\"feed\":\"metrics\",\"timestamp\":\"2018-06-18T12:57:14.143Z\",\"service\":\"druid/overlord\",\"host\":\"0.0.0.0:8090\",\"version\":\"0.12.0\",\"metric\":\"task/run/time\",\"value\":7295,\"dataSource\":\"sessions\",\"taskStatus\":\"FAILED\",\"taskType\":\"index_kafka\"}]\r\n2018-06-18T12:57:14,143 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskQueue - Task FAILED: KafkaIndexTask{id=index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg, type=index_kafka, dataSource=sessions} (7295 run duration)\r\n2018-06-18T12:57:14,143 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] status changed to [FAILED].\r\n2018-06-18T12:57:14,143 INFO [Curator-PathChildrenCache-1] io.druid.indexing.overlord.RemoteTaskRunner - Task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] went bye bye.\r\n2018-06-18T12:57:14,144 INFO [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Number of tasks [0] does not match configured numReplicas [1] in task group [0], creating more tasks\r\n```\r\n\r\n\r\nMiddle Manager:\r\n```\r\n2018-06-18T12:55:59,541 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Submitting runnable for task[index_kafka_sessions_dc85485a4576518_eckhgpcl]\r\n2018-06-18T12:55:59,563 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Affirmative. Running task [index_kafka_sessions_dc85485a4576518_eckhgpcl]\r\n2018-06-18T12:55:59,650 INFO [forking-task-runner-0] io.druid.indexing.overlord.ForkingTaskRunner - Running command: java -cp conf-quickstart/druid/_common:conf-quickstart/druid/middleManager:lib/protobuf-java-3.1.0.jar:lib/commons-codec-1.7.jar:lib/jackson-core-asl-1.9.13.jar:lib/jersey-servlet-1.19.3.jar:lib/classmate-1.0.0.jar:lib/jdbi-2.63.1.jar:lib/guice-servlet-4.1.0.jar:lib/log4j-api-2.5.jar:lib/spymemcached-2.12.3.jar:lib/icu4j-54.1.1.jar:lib/druid-api-0.12.0.jar:lib/RoaringBitmap-0.5.18.jar:lib/jetty-io-9.3.19.v20170502.jar:lib/jets3t-0.9.4.jar:lib/jersey-guice-1.19.3.jar:lib/netty-3.10.6.Final.jar:lib/aether-api-0.9.0.M2.jar:lib/jackson-jq-0.0.7.jar:lib/aggdesigner-algorithm-6.0.jar:lib/jackson-jaxrs-smile-provider-2.4.6.jar:lib/netty-handler-4.0.52.Final.jar:lib/aopalliance-1.0.jar:lib/calcite-linq4j-1.15.0.jar:lib/activation-1.1.1.jar:lib/netty-transport-4.0.52.Final.jar:lib/jackson-dataformat-smile-2.4.6.jar:lib/curator-recipes-4.0.0.jar:lib/asm-5.2.jar:lib/netty-reactive-streams-1.0.8.jar:lib/asm-tree-5.2.jar:lib/zookeeper-3.4.10.jar:lib/commons-lang3-3.2.jar:lib/jersey-server-1.19.3.jar:lib/jackson-annotations-2.4.6.jar:lib/jackson-datatype-joda-2.4.6.jar:lib/jetty-security-9.3.19.v20170502.jar:lib/netty-codec-4.0.52.Final.jar:lib/jboss-logging-3.1.3.GA.jar:lib/druid-sql-0.12.0.jar:lib/maven-settings-builder-3.1.1.jar:lib/slf4j-api-1.6.4.jar:lib/validation-api-1.1.0.Final.jar:lib/lz4-1.3.0.jar:lib/guice-multibindings-4.1.0.jar:lib/guice-4.1.0.jar:lib/avatica-core-1.10.0.jar:lib/commons-pool2-2.2.jar:lib/commons-dbcp-1.4.jar:lib/bcprov-jdk15on-1.52.jar:lib/aws-java-sdk-core-1.10.77.jar:lib/curator-framework-4.0.0.jar:lib/jetty-server-9.3.19.v20170502.jar:lib/commons-math3-3.6.1.jar:lib/druid-console-0.0.2.jar:lib/log4j-core-2.5.jar:lib/aether-connector-file-0.9.0.M2.jar:lib/jackson-mapper-asl-1.9.13.jar:lib/javax.servlet-api-3.1.0.jar:lib/extendedset-0.12.0.jar:lib/hibernate-validator-5.1.3.Final.jar:lib/guava-16.0.1.jar:lib/jackson-databind-2.4.6.jar:lib/jetty-servlet-9.3.19.v20170502.jar:lib/commons-dbcp2-2.0.1.jar:lib/curator-client-4.0.0.jar:lib/asm-commons-5.2.jar:lib/reactive-streams-1.0.0.jar:lib/netty-resolver-2.0.37.jar:lib/maven-settings-3.1.1.jar:lib/jetty-client-9.3.19.v20170502.jar:lib/plexus-utils-3.0.15.jar:lib/druid-services-0.12.0.jar:lib/derbynet-10.11.1.1.jar:lib/log4j-jul-2.5.jar:lib/curator-x-discovery-4.0.0.jar:lib/netty-codec-http-4.0.52.Final.jar:lib/jsr305-2.0.1.jar:lib/tesla-aether-0.0.5.jar:lib/netty-common-4.0.52.Final.jar:lib/jackson-module-jaxb-annotations-2.4.6.jar:lib/commons-compiler-2.7.6.jar:lib/rhino-1.7R5.jar:lib/aether-impl-0.9.0.M2.jar:lib/json-path-2.1.0.jar:lib/druid-indexing-service-0.12.0.jar:lib/commons-logging-1.1.1.jar:lib/janino-2.7.6.jar:lib/jsr311-api-1.1.1.jar:lib/fastutil-8.1.0.jar:lib/maven-model-3.1.1.jar:lib/httpcore-4.4.3.jar:lib/geoip2-0.4.0.jar:lib/jackson-dataformat-cbor-2.5.3.jar:lib/okhttp-1.0.2.jar:lib/avatica-metrics-1.10.0.jar:lib/jetty-util-9.3.19.v20170502.jar:lib/jetty-servlets-9.3.19.v20170502.jar:lib/avatica-server-1.10.0.jar:lib/log4j-slf4j-impl-2.5.jar:lib/maxminddb-0.2.0.jar:lib/calcite-core-1.15.0.jar:lib/jetty-continuation-9.3.19.v20170502.jar:lib/netty-all-4.0.52.Final.jar:lib/javax.el-api-3.0.0.jar:lib/jcodings-1.0.13.jar:lib/java-util-0.12.0.jar:lib/httpclient-4.5.1.jar:lib/async-http-client-2.0.37.jar:lib/mapdb-1.0.8.jar:lib/disruptor-3.3.6.jar:lib/java-xmlbuilder-1.1.jar:lib/plexus-interpolation-1.19.jar:lib/druid-indexing-hadoop-0.12.0.jar:lib/jvm-attach-api-1.2.jar:lib/druid-processing-0.12.0.jar:lib/druid-hll-0.12.0.jar:lib/base64-2.3.8.jar:lib/maven-model-builder-3.1.1.jar:lib/derbyclient-10.11.1.1.jar:lib/antlr4-runtime-4.5.1.jar:lib/airline-0.7.jar:lib/netty-transport-native-epoll-4.0.52.Final-linux-x86_64.jar:lib/druid-common-0.12.0.jar:lib/commons-lang-2.6.jar:lib/jetty-proxy-9.3.19.v20170502.jar:lib/aether-util-0.9.0.M2.jar:lib/javax.el-3.0.0.jar:lib/joni-2.1.11.jar:lib/jackson-jaxrs-base-2.4.6.jar:lib/javax.inject-1.jar:lib/wagon-provider-api-2.4.jar:lib/jcl-over-slf4j-1.7.12.jar:lib/jetty-http-9.3.19.v20170502.jar:lib/config-magic-0.9.jar:lib/maven-aether-provider-3.1.1.jar:lib/aws-java-sdk-ec2-1.10.77.jar:lib/maven-repository-metadata-3.1.1.jar:lib/caffeine-2.5.5.jar:lib/esri-geometry-api-2.0.0.jar:lib/commons-cli-1.2.jar:lib/druid-aws-common-0.12.0.jar:lib/log4j-1.2-api-2.5.jar:lib/derby-10.11.1.1.jar:lib/aether-connector-okhttp-0.0.9.jar:lib/jline-0.9.94.jar:lib/jackson-core-2.4.6.jar:lib/druid-server-0.12.0.jar:lib/commons-pool-1.6.jar:lib/irc-api-1.0-0014.jar:lib/jackson-jaxrs-json-provider-2.4.6.jar:lib/jackson-datatype-guava-2.4.6.jar:lib/async-http-client-netty-utils-2.0.37.jar:lib/netty-buffer-4.0.52.Final.jar:lib/joda-time-2.9.9.jar:lib/commons-io-2.5.jar:lib/aether-spi-0.9.0.M2.jar:lib/compress-lzf-1.0.4.jar:lib/netty-codec-dns-2.0.37.jar:lib/opencsv-2.3.jar:lib/jersey-core-1.19.3.jar:lib/netty-resolver-dns-2.0.37.jar -server -Xmx2g -Duser.timezone=UTC -Dfile.encoding=UTF-8 -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager -Ddruid.indexer.task.baseTaskDir=var/druid/task -Ddruid.host=0.0.0.0 -Ddruid.metadata.storage.connector.password=diurd -Ddruid.indexer.fork.property.druid.processing.numThreads=3 -Ddruid.emitter.logging.logLevel=warn -Ddruid.emitter=logging -Ddruid.indexer.fork.property.druid.processing.buffer.sizeBytes=256000000 -Duser.timezone=UTC -Dfile.encoding.pkg=sun.io -Ddruid.storage.storageDirectory=var/druid/segments -Ddruid.selectors.coordinator.serviceName=druid/coordinator -Ddruid.selectors.indexing.serviceName=druid/overlord -Ddruid.indexer.task.baseDir=/DB/tmp -Ddruid.indexing.doubleStorage=double -Ddruid.port=8091 -Ddruid.server.http.numThreads=9 -Ddruid.worker.capacity=3 -Ddruid.service=druid/middleManager -Ddruid.metadata.storage.connector.user=druid -Ddruid.metadata.storage.type=postgresql -Ddruid.metadata.storage.connector.connectURI=jdbc:postgresql://localhost:5432/druid -Djava.io.tmpdir=var/tmp -Ddruid.extensions.loadList=[\"postgresql-metadata-storage\", \"druid-kafka-indexing-service\"] -Ddruid.startup.logging.logProperties=true -Ddruid.javascript.enabled=true -Ddruid.zk.service.host=localhost -Dhadoop.hadoop.tmp.dir=var/hadoop-tmp -Ddruid.monitoring.monitors=[\"io.druid.java.util.metrics.JvmMonitor\"] -Ddruid.indexer.logs.directory=var/druid/indexing-logs -Ddruid.zk.paths.base=/druid -Dfile.encoding=UTF-8 -Ddruid.indexer.task.defaultHadoopCoordinates=[\"org.apache.hadoop:hadoop-client:2.7.3\"] -Ddruid.storage.type=local -Ddruid.indexer.task.hadoopWorkingPath=var/druid/hadoop-tmp -Ddruid.indexer.logs.type=file -Ddruid.processing.numThreads=3 -Ddruid.processing.buffer.sizeBytes=256000000 -Ddruid.metrics.emitter.dimension.dataSource=sessions -Ddruid.metrics.emitter.dimension.taskId=index_kafka_sessions_dc85485a4576518_eckhgpcl -Ddruid.host=0.0.0.0 -Ddruid.port=8100 -Ddruid.tlsPort=-1 io.druid.cli.Main internal peon var/druid/task/index_kafka_sessions_dc85485a4576518_eckhgpcl/task.json var/druid/task/index_kafka_sessions_dc85485a4576518_eckhgpcl/753ef934-251b-4952-a006-a36b88eeee13/status.json\r\n2018-06-18T12:55:59,668 INFO [forking-task-runner-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] location changed to [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}].\r\n2018-06-18T12:55:59,669 INFO [forking-task-runner-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] status changed to [RUNNING].\r\n2018-06-18T12:55:59,669 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Updating task [index_kafka_sessions_dc85485a4576518_eckhgpcl] announcement with location [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}]\r\n2018-06-18T12:55:59,669 INFO [forking-task-runner-0] io.druid.indexing.overlord.ForkingTaskRunner - Logging task index_kafka_sessions_dc85485a4576518_eckhgpcl output to: var/druid/task/index_kafka_sessions_dc85485a4576518_eckhgpcl/log\r\n2018-06-18T12:56:37,603 INFO [forking-task-runner-0-[index_kafka_sessions_dc85485a4576518_eckhgpcl]] io.druid.indexing.overlord.ForkingTaskRunner - Process exited with status[0] for task: index_kafka_sessions_dc85485a4576518_eckhgpcl\r\n2018-06-18T12:56:37,608 INFO [forking-task-runner-0] io.druid.indexing.common.tasklogs.FileTaskLogs - Wrote task log to: var/druid/indexing-logs/index_kafka_sessions_dc85485a4576518_eckhgpcl.log\r\n2018-06-18T12:56:37,609 INFO [forking-task-runner-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_dc85485a4576518_eckhgpcl] status changed to [FAILED].\r\n2018-06-18T12:56:37,611 INFO [forking-task-runner-0] io.druid.indexing.overlord.ForkingTaskRunner - Removing task directory: var/druid/task/index_kafka_sessions_dc85485a4576518_eckhgpcl\r\n2018-06-18T12:56:37,621 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Job's finished. Completed [index_kafka_sessions_dc85485a4576518_eckhgpcl] with status [FAILED]\r\n...\r\nmany /jvm/pool & /jvm/bufferpool metrics\r\n...\r\n2018-06-18T12:57:06,811 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Submitting runnable for task[index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg]\r\n2018-06-18T12:57:06,813 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Affirmative. Running task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg]\r\n2018-06-18T12:57:06,824 INFO [forking-task-runner-1] io.druid.indexing.overlord.ForkingTaskRunner - Running command: java -cp conf-quickstart/druid/_common:conf-quickstart/druid/middleManager:lib/protobuf-java-3.1.0.jar:lib/commons-codec-1.7.jar:lib/jackson-core-asl-1.9.13.jar:lib/jersey-servlet-1.19.3.jar:lib/classmate-1.0.0.jar:lib/jdbi-2.63.1.jar:lib/guice-servlet-4.1.0.jar:lib/log4j-api-2.5.jar:lib/spymemcached-2.12.3.jar:lib/icu4j-54.1.1.jar:lib/druid-api-0.12.0.jar:lib/RoaringBitmap-0.5.18.jar:lib/jetty-io-9.3.19.v20170502.jar:lib/jets3t-0.9.4.jar:lib/jersey-guice-1.19.3.jar:lib/netty-3.10.6.Final.jar:lib/aether-api-0.9.0.M2.jar:lib/jackson-jq-0.0.7.jar:lib/aggdesigner-algorithm-6.0.jar:lib/jackson-jaxrs-smile-provider-2.4.6.jar:lib/netty-handler-4.0.52.Final.jar:lib/aopalliance-1.0.jar:lib/calcite-linq4j-1.15.0.jar:lib/activation-1.1.1.jar:lib/netty-transport-4.0.52.Final.jar:lib/jackson-dataformat-smile-2.4.6.jar:lib/curator-recipes-4.0.0.jar:lib/asm-5.2.jar:lib/netty-reactive-streams-1.0.8.jar:lib/asm-tree-5.2.jar:lib/zookeeper-3.4.10.jar:lib/commons-lang3-3.2.jar:lib/jersey-server-1.19.3.jar:lib/jackson-annotations-2.4.6.jar:lib/jackson-datatype-joda-2.4.6.jar:lib/jetty-security-9.3.19.v20170502.jar:lib/netty-codec-4.0.52.Final.jar:lib/jboss-logging-3.1.3.GA.jar:lib/druid-sql-0.12.0.jar:lib/maven-settings-builder-3.1.1.jar:lib/slf4j-api-1.6.4.jar:lib/validation-api-1.1.0.Final.jar:lib/lz4-1.3.0.jar:lib/guice-multibindings-4.1.0.jar:lib/guice-4.1.0.jar:lib/avatica-core-1.10.0.jar:lib/commons-pool2-2.2.jar:lib/commons-dbcp-1.4.jar:lib/bcprov-jdk15on-1.52.jar:lib/aws-java-sdk-core-1.10.77.jar:lib/curator-framework-4.0.0.jar:lib/jetty-server-9.3.19.v20170502.jar:lib/commons-math3-3.6.1.jar:lib/druid-console-0.0.2.jar:lib/log4j-core-2.5.jar:lib/aether-connector-file-0.9.0.M2.jar:lib/jackson-mapper-asl-1.9.13.jar:lib/javax.servlet-api-3.1.0.jar:lib/extendedset-0.12.0.jar:lib/hibernate-validator-5.1.3.Final.jar:lib/guava-16.0.1.jar:lib/jackson-databind-2.4.6.jar:lib/jetty-servlet-9.3.19.v20170502.jar:lib/commons-dbcp2-2.0.1.jar:lib/curator-client-4.0.0.jar:lib/asm-commons-5.2.jar:lib/reactive-streams-1.0.0.jar:lib/netty-resolver-2.0.37.jar:lib/maven-settings-3.1.1.jar:lib/jetty-client-9.3.19.v20170502.jar:lib/plexus-utils-3.0.15.jar:lib/druid-services-0.12.0.jar:lib/derbynet-10.11.1.1.jar:lib/log4j-jul-2.5.jar:lib/curator-x-discovery-4.0.0.jar:lib/netty-codec-http-4.0.52.Final.jar:lib/jsr305-2.0.1.jar:lib/tesla-aether-0.0.5.jar:lib/netty-common-4.0.52.Final.jar:lib/jackson-module-jaxb-annotations-2.4.6.jar:lib/commons-compiler-2.7.6.jar:lib/rhino-1.7R5.jar:lib/aether-impl-0.9.0.M2.jar:lib/json-path-2.1.0.jar:lib/druid-indexing-service-0.12.0.jar:lib/commons-logging-1.1.1.jar:lib/janino-2.7.6.jar:lib/jsr311-api-1.1.1.jar:lib/fastutil-8.1.0.jar:lib/maven-model-3.1.1.jar:lib/httpcore-4.4.3.jar:lib/geoip2-0.4.0.jar:lib/jackson-dataformat-cbor-2.5.3.jar:lib/okhttp-1.0.2.jar:lib/avatica-metrics-1.10.0.jar:lib/jetty-util-9.3.19.v20170502.jar:lib/jetty-servlets-9.3.19.v20170502.jar:lib/avatica-server-1.10.0.jar:lib/log4j-slf4j-impl-2.5.jar:lib/maxminddb-0.2.0.jar:lib/calcite-core-1.15.0.jar:lib/jetty-continuation-9.3.19.v20170502.jar:lib/netty-all-4.0.52.Final.jar:lib/javax.el-api-3.0.0.jar:lib/jcodings-1.0.13.jar:lib/java-util-0.12.0.jar:lib/httpclient-4.5.1.jar:lib/async-http-client-2.0.37.jar:lib/mapdb-1.0.8.jar:lib/disruptor-3.3.6.jar:lib/java-xmlbuilder-1.1.jar:lib/plexus-interpolation-1.19.jar:lib/druid-indexing-hadoop-0.12.0.jar:lib/jvm-attach-api-1.2.jar:lib/druid-processing-0.12.0.jar:lib/druid-hll-0.12.0.jar:lib/base64-2.3.8.jar:lib/maven-model-builder-3.1.1.jar:lib/derbyclient-10.11.1.1.jar:lib/antlr4-runtime-4.5.1.jar:lib/airline-0.7.jar:lib/netty-transport-native-epoll-4.0.52.Final-linux-x86_64.jar:lib/druid-common-0.12.0.jar:lib/commons-lang-2.6.jar:lib/jetty-proxy-9.3.19.v20170502.jar:lib/aether-util-0.9.0.M2.jar:lib/javax.el-3.0.0.jar:lib/joni-2.1.11.jar:lib/jackson-jaxrs-base-2.4.6.jar:lib/javax.inject-1.jar:lib/wagon-provider-api-2.4.jar:lib/jcl-over-slf4j-1.7.12.jar:lib/jetty-http-9.3.19.v20170502.jar:lib/config-magic-0.9.jar:lib/maven-aether-provider-3.1.1.jar:lib/aws-java-sdk-ec2-1.10.77.jar:lib/maven-repository-metadata-3.1.1.jar:lib/caffeine-2.5.5.jar:lib/esri-geometry-api-2.0.0.jar:lib/commons-cli-1.2.jar:lib/druid-aws-common-0.12.0.jar:lib/log4j-1.2-api-2.5.jar:lib/derby-10.11.1.1.jar:lib/aether-connector-okhttp-0.0.9.jar:lib/jline-0.9.94.jar:lib/jackson-core-2.4.6.jar:lib/druid-server-0.12.0.jar:lib/commons-pool-1.6.jar:lib/irc-api-1.0-0014.jar:lib/jackson-jaxrs-json-provider-2.4.6.jar:lib/jackson-datatype-guava-2.4.6.jar:lib/async-http-client-netty-utils-2.0.37.jar:lib/netty-buffer-4.0.52.Final.jar:lib/joda-time-2.9.9.jar:lib/commons-io-2.5.jar:lib/aether-spi-0.9.0.M2.jar:lib/compress-lzf-1.0.4.jar:lib/netty-codec-dns-2.0.37.jar:lib/opencsv-2.3.jar:lib/jersey-core-1.19.3.jar:lib/netty-resolver-dns-2.0.37.jar -server -Xmx2g -Duser.timezone=UTC -Dfile.encoding=UTF-8 -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager -Ddruid.indexer.task.baseTaskDir=var/druid/task -Ddruid.host=0.0.0.0 -Ddruid.metadata.storage.connector.password=diurd -Ddruid.indexer.fork.property.druid.processing.numThreads=3 -Ddruid.emitter.logging.logLevel=warn -Ddruid.emitter=logging -Ddruid.indexer.fork.property.druid.processing.buffer.sizeBytes=256000000 -Duser.timezone=UTC -Dfile.encoding.pkg=sun.io -Ddruid.storage.storageDirectory=var/druid/segments -Ddruid.selectors.coordinator.serviceName=druid/coordinator -Ddruid.selectors.indexing.serviceName=druid/overlord -Ddruid.indexer.task.baseDir=/DB/tmp -Ddruid.indexing.doubleStorage=double -Ddruid.port=8091 -Ddruid.server.http.numThreads=9 -Ddruid.worker.capacity=3 -Ddruid.service=druid/middleManager -Ddruid.metadata.storage.connector.user=druid -Ddruid.metadata.storage.type=postgresql -Ddruid.metadata.storage.connector.connectURI=jdbc:postgresql://localhost:5432/druid -Djava.io.tmpdir=var/tmp -Ddruid.extensions.loadList=[\"postgresql-metadata-storage\", \"druid-kafka-indexing-service\"] -Ddruid.startup.logging.logProperties=true -Ddruid.javascript.enabled=true -Ddruid.zk.service.host=localhost -Dhadoop.hadoop.tmp.dir=var/hadoop-tmp -Ddruid.monitoring.monitors=[\"io.druid.java.util.metrics.JvmMonitor\"] -Ddruid.indexer.logs.directory=var/druid/indexing-logs -Ddruid.zk.paths.base=/druid -Dfile.encoding=UTF-8 -Ddruid.indexer.task.defaultHadoopCoordinates=[\"org.apache.hadoop:hadoop-client:2.7.3\"] -Ddruid.storage.type=local -Ddruid.indexer.task.hadoopWorkingPath=var/druid/hadoop-tmp -Ddruid.indexer.logs.type=file -Ddruid.processing.numThreads=3 -Ddruid.processing.buffer.sizeBytes=256000000 -Ddruid.metrics.emitter.dimension.dataSource=sessions -Ddruid.metrics.emitter.dimension.taskId=index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg -Ddruid.host=0.0.0.0 -Ddruid.port=8100 -Ddruid.tlsPort=-1 io.druid.cli.Main internal peon var/druid/task/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg/task.json var/druid/task/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg/ef39ca9a-50b6-46d3-b783-948947d92051/status.json\r\n2018-06-18T12:57:06,825 INFO [forking-task-runner-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] location changed to [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}].\r\n2018-06-18T12:57:06,825 INFO [forking-task-runner-1] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] status changed to [RUNNING].\r\n2018-06-18T12:57:06,825 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Updating task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] announcement with location [TaskLocation{host='0.0.0.0', port=8100, tlsPort=-1}]\r\n2018-06-18T12:57:06,825 INFO [forking-task-runner-1] io.druid.indexing.overlord.ForkingTaskRunner - Logging task index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg output to: var/druid/task/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg/log\r\n2018-06-18T12:57:14,098 INFO [qtp2011636843-19] io.druid.indexing.overlord.ForkingTaskRunner - Killing process for task: index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:14,099 INFO [forking-task-runner-1] io.druid.indexing.common.tasklogs.FileTaskLogs - Wrote task log to: var/druid/indexing-logs/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg.log\r\n2018-06-18T12:57:14,099 INFO [forking-task-runner-1] io.druid.indexing.overlord.ForkingTaskRunner - Exception caught during execution\r\njava.io.IOException: Stream closed\r\n\tat java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:170) ~[?:1.8.0_161]\r\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:291) ~[?:1.8.0_161]\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:345) ~[?:1.8.0_161]\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:107) ~[?:1.8.0_161]\r\n\tat com.google.common.io.ByteStreams.copy(ByteStreams.java:175) ~[guava-16.0.1.jar:?]\r\n\tat io.druid.indexing.overlord.ForkingTaskRunner$1.call(ForkingTaskRunner.java:452) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.overlord.ForkingTaskRunner$1.call(ForkingTaskRunner.java:224) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_161]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_161]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]\r\n2018-06-18T12:57:14,109 INFO [forking-task-runner-1] io.druid.indexing.overlord.ForkingTaskRunner - Removing task directory: var/druid/task/index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg\r\n2018-06-18T12:57:14,116 INFO [WorkerTaskMonitor] io.druid.indexing.worker.WorkerTaskMonitor - Job's finished. Completed [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg] with status [FAILED]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400929882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/400996476","html_url":"https://github.com/apache/druid/pull/5711#issuecomment-400996476","issue_url":"https://api.github.com/repos/apache/druid/issues/5711","id":400996476,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDk5NjQ3Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T10:57:25Z","updated_at":"2018-06-28T10:57:25Z","author_association":"MEMBER","body":"@jon-wei I didn't intend to review this PR fully. My one comment is addressed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/400996476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401012959","html_url":"https://github.com/apache/druid/issues/5859#issuecomment-401012959","issue_url":"https://api.github.com/repos/apache/druid/issues/5859","id":401012959,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTAxMjk1OQ==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T12:09:32Z","updated_at":"2018-06-28T12:09:32Z","author_association":"CONTRIBUTOR","body":"The only usage of the audit table in our company is recording the information about who and when change the rules of datasource.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401012959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401016450","html_url":"https://github.com/apache/druid/issues/5775#issuecomment-401016450","issue_url":"https://api.github.com/repos/apache/druid/issues/5775","id":401016450,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTAxNjQ1MA==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T12:24:00Z","updated_at":"2018-06-28T12:24:00Z","author_association":"CONTRIBUTOR","body":"Hi @gianm, \r\nI want to merge the method `getUsedSegmentsForInterval()` and `getUsedSegmentAndCreatedDateForInterval()` of `IndexerMetadataStorageCoordinator.java` into one method. There is only one difference between them: The former does not include information of created_date, but the latter does.  I don't know why created_date is not a part of DataSchema. Could we make DataSchema include created_date?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401016450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401080704","html_url":"https://github.com/apache/druid/pull/5492#issuecomment-401080704","issue_url":"https://api.github.com/repos/apache/druid/issues/5492","id":401080704,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTA4MDcwNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T15:45:36Z","updated_at":"2018-06-28T15:45:36Z","author_association":"CONTRIBUTOR","body":"Sorry for the delay, this is finally at the top of my list. Reviewing, but it will take me a bit to work through","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401080704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401082416","html_url":"https://github.com/apache/druid/pull/5492#issuecomment-401082416","issue_url":"https://api.github.com/repos/apache/druid/issues/5492","id":401082416,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTA4MjQxNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T15:50:48Z","updated_at":"2018-06-28T15:50:48Z","author_association":"CONTRIBUTOR","body":"@drcrallen thank you!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401082416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401124787","html_url":"https://github.com/apache/druid/pull/5912#issuecomment-401124787","issue_url":"https://api.github.com/repos/apache/druid/issues/5912","id":401124787,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTEyNDc4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T18:10:59Z","updated_at":"2018-06-28T18:10:59Z","author_association":"CONTRIBUTOR","body":"@jihoonson the failure looks legitâ€¦Â probably related to \"second\" query granularity being too much for the test box to handle?\r\n\r\n```\r\ntestPostAggWithTimeseries(io.druid.sql.calcite.CalciteQueryTest)  Time elapsed: 88.982 sec  <<< ERROR!\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\tat io.druid.java.util.common.granularity.PeriodGranularity.increment(PeriodGranularity.java:115)\r\n\tat io.druid.java.util.common.granularity.Granularity$IntervalIterator.next(Granularity.java:235)\r\n\tat io.druid.java.util.common.granularity.Granularity$IntervalIterator.next(Granularity.java:205)\r\n\tat com.google.common.collect.ImmutableCollection$Builder.addAll(ImmutableCollection.java:301)\r\n\tat com.google.common.collect.ImmutableList$Builder.addAll(ImmutableList.java:691)\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:275)\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:226)\r\n\tat io.druid.segment.QueryableIndexStorageAdapter$CursorSequenceBuilder.build(QueryableIndexStorageAdapter.java:381)\r\n\tat io.druid.segment.QueryableIndexStorageAdapter.makeCursors(QueryableIndexStorageAdapter.java:313)\r\n\tat io.druid.query.QueryRunnerHelper.makeCursorBasedQuery(QueryRunnerHelper.java:59)\r\n\tat io.druid.query.timeseries.TimeseriesQueryEngine.process(TimeseriesQueryEngine.java:50)\r\n\tat io.druid.query.timeseries.TimeseriesQueryRunnerFactory$TimeseriesQueryRunner.run(TimeseriesQueryRunnerFactory.java:104)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401124787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401158145","html_url":"https://github.com/apache/druid/issues/5859#issuecomment-401158145","issue_url":"https://api.github.com/repos/apache/druid/issues/5859","id":401158145,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTE1ODE0NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T20:11:01Z","updated_at":"2018-06-28T20:11:01Z","author_association":"CONTRIBUTOR","body":"@zhangxinyu1 thanks for the comment. The audit logs for changing load/drop rules are stored in another table, named `druid_audit` by default. The table issued here is `druid_tasklogs` table which stores audit logs for changing segments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401158145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401170256","html_url":"https://github.com/apache/druid/pull/5912#issuecomment-401170256","issue_url":"https://api.github.com/repos/apache/druid/issues/5912","id":401170256,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTE3MDI1Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T20:54:47Z","updated_at":"2018-06-28T20:54:47Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. I've fixed the test.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401170256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401182843","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-401182843","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":401182843,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTE4Mjg0Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T21:44:22Z","updated_at":"2018-06-28T21:44:22Z","author_association":"CONTRIBUTOR","body":"@suhassumukhv thanks for the logs! I could see the below logs from the overlord logs.\r\n\r\n```\r\n2018-06-18T12:57:13,950 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Clearing task group [0] information as no valid tasks left the group\r\n2018-06-18T12:57:13,950 WARN [KafkaSupervisor-sessions] io.druid.indexing.kafka.supervisor.KafkaSupervisor - Killing task [index_kafka_sessions_f7a2b2b5692bf6c_bjaacahg], as its checkpoints [{0={0=48}}] are not consistent with group checkpoints[{0={0=48}}] or latest persisted offsets in metadata store [{0=1436430}]\r\n```\r\n\r\nSo, in your case, the supervisor killed the kafka index task because its offset (`[{0={0=48}}]`) was much behind the one stored in your metastore (`[{0=1436430}]`). Would you try resetting the supervisor (http://druid.io/docs/latest/development/extensions-core/kafka-ingestion.html#reset-supervisor)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401182843/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401187697","html_url":"https://github.com/apache/druid/issues/5919#issuecomment-401187697","issue_url":"https://api.github.com/repos/apache/druid/issues/5919","id":401187697,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTE4NzY5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T22:06:03Z","updated_at":"2018-06-28T22:06:03Z","author_association":"CONTRIBUTOR","body":"I would add some more details. Here is a snippet of `KafkaSupervisor.checkpointTaskGroup()`.\r\n\r\n```java\r\n  private ListenableFuture<Map<Integer, Long>> checkpointTaskGroup(final int groupId, final boolean finalize)\r\n  {\r\n    final TaskGroup taskGroup = taskGroups.get(groupId);\r\n...\r\n    return Futures.transform(\r\n        Futures.successfulAsList(pauseFutures), new Function<List<Map<Integer, Long>>, Map<Integer, Long>>()\r\n        {\r\n          @Nullable\r\n          @Override\r\n          public Map<Integer, Long> apply(List<Map<Integer, Long>> input)\r\n          {\r\n            // 3) Build a map of the highest offset read by any task in the group for each partition\r\n            final Map<Integer, Long> endOffsets = new HashMap<>();\r\n            for (int i = 0; i < input.size(); i++) {\r\n              Map<Integer, Long> result = input.get(i);\r\n\r\n              if (result == null || result.isEmpty()) { // kill tasks that didn't return a value\r\n                String taskId = pauseTaskIds.get(i);\r\n                log.warn(\"Task [%s] failed to respond to [pause] in a timely manner, killing task\", taskId);\r\n                killTask(taskId);\r\n                taskGroup.tasks.remove(taskId);\r\n\r\n              } else { // otherwise build a map of the highest offsets seen\r\n...\r\n```\r\n\r\nSo, `taskGroup` is gotten at the first line, and is being used in the future executed by `workerExec`. The potential race condition is, `taskGroup` might not be in `taskGroups` when the future is executed. This matters because actually `taskGroups` has some state context as well. (taskGroup instances are moved from `taskGroups` to `pendingCompletionTaskGroups` if they finish reading). Not sure this is intentional or not.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401187697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401190780","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-401190780","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":401190780,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTE5MDc4MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T22:21:05Z","updated_at":"2018-06-28T22:21:05Z","author_association":"CONTRIBUTOR","body":"Hi @zhangxinyu1. Druid randomly chooses one of the replicas by default, and there is no way to handle this issue currently. The assumption behind the current implementation is that a slight out of sync can be allowed. However, it seems that it's not in the case of your users. Would you elaborate more on details for your application? We can add something for those applications if it's reasonable.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401190780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401197338","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-401197338","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":401197338,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTE5NzMzOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T22:55:57Z","updated_at":"2018-06-28T22:55:57Z","author_association":"CONTRIBUTOR","body":"One idea might be to have a concept of a \"primary\" replica that has a higher priority than the non-primary one. So, brokers could prefer it. I think you wouldn't want this by default (it would hurt the ability to load balance between replicas) but it could be a nice option for people that care more about consistency than load balancing.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401197338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401214636","html_url":"https://github.com/apache/druid/issues/5848#issuecomment-401214636","issue_url":"https://api.github.com/repos/apache/druid/issues/5848","id":401214636,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTIxNDYzNg==","user":{"login":"jaynblue","id":424485,"node_id":"MDQ6VXNlcjQyNDQ4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/424485?v=4","gravatar_id":"","url":"https://api.github.com/users/jaynblue","html_url":"https://github.com/jaynblue","followers_url":"https://api.github.com/users/jaynblue/followers","following_url":"https://api.github.com/users/jaynblue/following{/other_user}","gists_url":"https://api.github.com/users/jaynblue/gists{/gist_id}","starred_url":"https://api.github.com/users/jaynblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaynblue/subscriptions","organizations_url":"https://api.github.com/users/jaynblue/orgs","repos_url":"https://api.github.com/users/jaynblue/repos","events_url":"https://api.github.com/users/jaynblue/events{/privacy}","received_events_url":"https://api.github.com/users/jaynblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T00:45:21Z","updated_at":"2018-06-29T00:45:21Z","author_association":"NONE","body":"@jihoonson @gianm \r\n\r\nIs it possible to fix in version 0.13?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401214636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401328229","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-401328229","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":401328229,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTMyODIyOQ==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T11:33:59Z","updated_at":"2018-06-29T12:40:11Z","author_association":"NONE","body":"Thanks, @jihoonson. That really worked. And thanks for providing the literature too. \r\nBut I didn't understand the use of earliest/latest offsets while resetting. The way I understand it,\r\nlet's say server offset is 20-48, and that of the consumer is 15, then it's more prudent to reset it to 20 (earliest) than 48 (latest). \r\nAlso, if in the same scenario, the offset of the consumer is 100 and that on the server is 0-10 (say, the data on the server was reset), then again, it's better to reset it to 0 (earliest) than 10 (latest).\r\nMy concern is that I can't discern the use for resetting it to earliest offset. Can you help me here, @jihoonson?    ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401328229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401332534","html_url":"https://github.com/apache/druid/issues/4714#issuecomment-401332534","issue_url":"https://api.github.com/repos/apache/druid/issues/4714","id":401332534,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTMzMjUzNA==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T11:56:08Z","updated_at":"2018-06-29T11:56:08Z","author_association":"NONE","body":"Exactly, the reset is an excellent way to change the offsets. \r\nBut, @sderosiaux, is there a way to completely remove the supervisor metadata from Druid?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401332534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401423029","html_url":"https://github.com/apache/druid/pull/5921#issuecomment-401423029","issue_url":"https://api.github.com/repos/apache/druid/issues/5921","id":401423029,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTQyMzAyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T17:35:00Z","updated_at":"2018-06-29T17:35:00Z","author_association":"CONTRIBUTOR","body":"I don't think this is a problem. We already have some `BindingAnnotation`s like `Processing` or `IndexingService` annotations. What was the error message exactly?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401423029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401423541","html_url":"https://github.com/apache/druid/pull/5912#issuecomment-401423541","issue_url":"https://api.github.com/repos/apache/druid/issues/5912","id":401423541,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTQyMzU0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T17:37:01Z","updated_at":"2018-06-29T17:37:01Z","author_association":"CONTRIBUTOR","body":"thanks @jihoonson!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401423541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401515023","html_url":"https://github.com/apache/druid/issues/5922#issuecomment-401515023","issue_url":"https://api.github.com/repos/apache/druid/issues/5922","id":401515023,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTUxNTAyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-30T03:51:37Z","updated_at":"2018-06-30T03:51:37Z","author_association":"CONTRIBUTOR","body":"Hi @QubitPi, io.druid.java.util.common.logger.Logger is the right one to use. If it's not printing anything maybe doublecheck your log4j2 config?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401515023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401575480","html_url":"https://github.com/apache/druid/issues/5869#issuecomment-401575480","issue_url":"https://api.github.com/repos/apache/druid/issues/5869","id":401575480,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTU3NTQ4MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-01T00:38:59Z","updated_at":"2018-07-01T00:38:59Z","author_association":"CONTRIBUTOR","body":"Even though this isn't directly related to Kafka indexing, I gave it a Kafka tag since that's the kind of indexing most likely to be affected.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401575480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401575482","html_url":"https://github.com/apache/druid/issues/5868#issuecomment-401575482","issue_url":"https://api.github.com/repos/apache/druid/issues/5868","id":401575482,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTU3NTQ4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-01T00:39:01Z","updated_at":"2018-07-01T00:39:01Z","author_association":"CONTRIBUTOR","body":"Even though this isn't directly related to Kafka indexing, I gave it a Kafka tag since that's the kind of indexing most likely to be affected.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401575482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401575532","html_url":"https://github.com/apache/druid/issues/4137#issuecomment-401575532","issue_url":"https://api.github.com/repos/apache/druid/issues/4137","id":401575532,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTU3NTUzMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-01T00:40:33Z","updated_at":"2018-07-01T00:40:33Z","author_association":"CONTRIBUTOR","body":"I think this problem would be addressed by #5868 and #5869. Is anyone affected by this interested in working on one or both of those?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401575532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401580646","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-401580646","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":401580646,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTU4MDY0Ng==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-01T03:31:11Z","updated_at":"2018-07-01T03:31:11Z","author_association":"MEMBER","body":"@leventov : have you finished your review ? can this be merged ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401580646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401631910","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-401631910","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":401631910,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTYzMTkxMA==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-01T20:43:23Z","updated_at":"2018-07-01T20:43:23Z","author_association":"NONE","body":"@pdeva @gianm Happens on `0.12.0` as well. `rollup` always returns `null` and `size` always returns `0`. After explicitly using `\"analysisTypes\": [\"rollup\", \"size\"]`, do I get them right.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401631910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401847316","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-401847316","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":401847316,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTg0NzMxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T15:41:59Z","updated_at":"2018-07-02T15:41:59Z","author_association":"CONTRIBUTOR","body":"Hi @suhassumukhv, this sounds like it's working as it's supposed to. Rollup isn't included in segmentMetadata analysis by default, but it will be if you include the \"rollup\" analysisType.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401847316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401864276","html_url":"https://github.com/apache/druid/issues/5906#issuecomment-401864276","issue_url":"https://api.github.com/repos/apache/druid/issues/5906","id":401864276,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTg2NDI3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T16:41:17Z","updated_at":"2018-07-02T16:41:17Z","author_association":"CONTRIBUTOR","body":"Definitely in favor of a rethink. You can see layers of older designs cluttering the landscape of the kafka task and supervisor, and it'd be good to clear those out.\r\n\r\nWhat were you thinking in terms of a sketch of a design for a newer, clearer architecture?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401864276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401900602","html_url":"https://github.com/apache/druid/issues/5343#issuecomment-401900602","issue_url":"https://api.github.com/repos/apache/druid/issues/5343","id":401900602,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTkwMDYwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T18:55:16Z","updated_at":"2018-07-02T18:55:16Z","author_association":"CONTRIBUTOR","body":"@suhassumukhv it depends on your application and its ingestion state. You might want to start ingestion from the latest offset if you don't want to bother with reading all historical data in Kafka. On the other hand, you might want to start from the earliest offset if you want to add data from beginning. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401900602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/401956641","html_url":"https://github.com/apache/druid/issues/5848#issuecomment-401956641","issue_url":"https://api.github.com/repos/apache/druid/issues/5848","id":401956641,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTk1NjY0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T22:27:32Z","updated_at":"2018-07-02T22:27:32Z","author_association":"CONTRIBUTOR","body":"Hi @jaynblue, I think we should fix this in 0.13.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/401956641/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402014297","html_url":"https://github.com/apache/druid/pull/5905#issuecomment-402014297","issue_url":"https://api.github.com/repos/apache/druid/issues/5905","id":402014297,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjAxNDI5Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T05:05:56Z","updated_at":"2018-07-03T05:05:56Z","author_association":"CONTRIBUTOR","body":"The threading changes look OK to me, can you describe more in the PR why the things removed from the pause/resume handling were unnecessary? I don't think I understood that part","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402014297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402023957","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-402023957","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":402023957,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjAyMzk1Nw==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T06:09:34Z","updated_at":"2018-07-03T06:09:51Z","author_association":"CONTRIBUTOR","body":"@jihoonson For examples, some users want to get the ad clicks, the clicks number is expected increasing. However, they may get a smaller number than before for the query is posted to another peon. They will doubt there is a problem with our statistics.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402023957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402025156","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-402025156","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":402025156,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjAyNTE1Ng==","user":{"login":"zhangxinyu1","id":12528894,"node_id":"MDQ6VXNlcjEyNTI4ODk0","avatar_url":"https://avatars.githubusercontent.com/u/12528894?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangxinyu1","html_url":"https://github.com/zhangxinyu1","followers_url":"https://api.github.com/users/zhangxinyu1/followers","following_url":"https://api.github.com/users/zhangxinyu1/following{/other_user}","gists_url":"https://api.github.com/users/zhangxinyu1/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangxinyu1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangxinyu1/subscriptions","organizations_url":"https://api.github.com/users/zhangxinyu1/orgs","repos_url":"https://api.github.com/users/zhangxinyu1/repos","events_url":"https://api.github.com/users/zhangxinyu1/events{/privacy}","received_events_url":"https://api.github.com/users/zhangxinyu1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T06:16:37Z","updated_at":"2018-07-03T06:16:37Z","author_association":"CONTRIBUTOR","body":"@gianm It's a good idea! We also should record the replicas' offset. Once the primary is shutdown, we should choose another primary replica., and we should ensure the new primary replica's offset is larger.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402025156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402039712","html_url":"https://github.com/apache/druid/issues/2320#issuecomment-402039712","issue_url":"https://api.github.com/repos/apache/druid/issues/2320","id":402039712,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjAzOTcxMg==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T07:26:44Z","updated_at":"2018-07-03T07:26:44Z","author_association":"NONE","body":"@nishantmonu51 Is this documented already? I was once advised to set up different nodes and use affinity config in the task. My use case would be to use different options for different incoming density for datasources (like, one datasource gets about 5k rows per hour, another about 100k per hour).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402039712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402050935","html_url":"https://github.com/apache/druid/issues/4385#issuecomment-402050935","issue_url":"https://api.github.com/repos/apache/druid/issues/4385","id":402050935,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjA1MDkzNQ==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T08:09:38Z","updated_at":"2018-07-03T08:09:38Z","author_association":"NONE","body":"@b-slim Can you help me configure my indexing task? I wanted to understand how the peon task uses the heap, the off-heap and the processing buffer? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402050935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402128295","html_url":"https://github.com/apache/druid/issues/2320#issuecomment-402128295","issue_url":"https://api.github.com/repos/apache/druid/issues/2320","id":402128295,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjEyODI5NQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T11:51:44Z","updated_at":"2018-07-03T11:51:44Z","author_association":"MEMBER","body":"@suhassumukhv: It still seems undocumented, A PR against the docs to add this info would be welcome. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402128295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402235147","html_url":"https://github.com/apache/druid/issues/5926#issuecomment-402235147","issue_url":"https://api.github.com/repos/apache/druid/issues/5926","id":402235147,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjIzNTE0Nw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T17:31:45Z","updated_at":"2018-07-03T17:31:45Z","author_association":"MEMBER","body":"After a MM is unreachable, the overlord waits for taskCleanupTimeout before removing the tasks associated with that MM. Default taskCleanupTimeout is 15 mins. \r\nIf you wait for the taskCleanupTimeout and tasks are cleaned up after that from overlord, KIS should be able to spin up new tasks. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402235147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402244795","html_url":"https://github.com/apache/druid/pull/4066#issuecomment-402244795","issue_url":"https://api.github.com/repos/apache/druid/issues/4066","id":402244795,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI0NDc5NQ==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T18:04:31Z","updated_at":"2018-07-03T18:04:31Z","author_association":"CONTRIBUTOR","body":"It seems to me that this request is not needed anymore since an alternative implementation was merged into master. See https://github.com/druid-io/druid/pull/5148","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402244795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402245320","html_url":"https://github.com/apache/druid/pull/5712#issuecomment-402245320","issue_url":"https://api.github.com/repos/apache/druid/issues/5712","id":402245320,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI0NTMyMA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T18:06:29Z","updated_at":"2018-07-03T18:06:29Z","author_association":"CONTRIBUTOR","body":"Could someone review this please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402245320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402252297","html_url":"https://github.com/apache/druid/pull/5905#issuecomment-402252297","issue_url":"https://api.github.com/repos/apache/druid/issues/5905","id":402252297,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI1MjI5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T18:31:09Z","updated_at":"2018-07-03T18:31:09Z","author_association":"CONTRIBUTOR","body":"@jon-wei thank you for the review. I've updated the PR description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402252297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402253378","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-402253378","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":402253378,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI1MzM3OA==","user":{"login":"peferron","id":7009852,"node_id":"MDQ6VXNlcjcwMDk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/7009852?v=4","gravatar_id":"","url":"https://api.github.com/users/peferron","html_url":"https://github.com/peferron","followers_url":"https://api.github.com/users/peferron/followers","following_url":"https://api.github.com/users/peferron/following{/other_user}","gists_url":"https://api.github.com/users/peferron/gists{/gist_id}","starred_url":"https://api.github.com/users/peferron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peferron/subscriptions","organizations_url":"https://api.github.com/users/peferron/orgs","repos_url":"https://api.github.com/users/peferron/repos","events_url":"https://api.github.com/users/peferron/events{/privacy}","received_events_url":"https://api.github.com/users/peferron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T18:34:38Z","updated_at":"2018-07-03T18:34:38Z","author_association":"CONTRIBUTOR","body":"@jihoonson The assumption that a slight out of sync is acceptable does not cover task failures, right? For example, if a host experiences a hardware failure, tasks on this host will fail, and new tasks will start on another host from the last committed offsets. Until they catch up, these new tasks may serve data that is out of sync by dozens of minutes or even hours, depending on how old the last committed offsets were (which depends on taskDuration and intermediateHandoffPeriod, but setting these too low will create small segments during normal operation).\r\n\r\nIdeally there would be a way to define some threshold over which replicas are considered out-of-sync, and have brokers route queries to in-sync replicas only. This would make replicas help with resiliency and data availability, in addition to helping with performance (which seems to be their primary use right now).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402253378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402281363","html_url":"https://github.com/apache/druid/pull/5850#issuecomment-402281363","issue_url":"https://api.github.com/repos/apache/druid/issues/5850","id":402281363,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI4MTM2Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T20:22:52Z","updated_at":"2018-07-03T20:22:52Z","author_association":"CONTRIBUTOR","body":"Can we include this in 0.12.2?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402281363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402281941","html_url":"https://github.com/apache/druid/pull/5790#issuecomment-402281941","issue_url":"https://api.github.com/repos/apache/druid/issues/5790","id":402281941,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI4MTk0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T20:25:01Z","updated_at":"2018-07-03T20:25:01Z","author_association":"CONTRIBUTOR","body":"Can we include this in 0.12.2?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402281941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402283294","html_url":"https://github.com/apache/druid/pull/5850#issuecomment-402283294","issue_url":"https://api.github.com/repos/apache/druid/issues/5850","id":402283294,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI4MzI5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T20:30:16Z","updated_at":"2018-07-03T20:30:16Z","author_association":"CONTRIBUTOR","body":"Sounds good to me. We should include #5879 too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402283294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402326051","html_url":"https://github.com/apache/druid/pull/5929#issuecomment-402326051","issue_url":"https://api.github.com/repos/apache/druid/issues/5929","id":402326051,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjMyNjA1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T00:12:14Z","updated_at":"2018-07-04T00:12:14Z","author_association":"CONTRIBUTOR","body":"Warning logs look good, but I'm a little bit concerned with the info logs. +1 for changing them to debug.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402326051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402327905","html_url":"https://github.com/apache/druid/pull/5929#issuecomment-402327905","issue_url":"https://api.github.com/repos/apache/druid/issues/5929","id":402327905,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjMyNzkwNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T00:25:47Z","updated_at":"2018-07-04T01:37:40Z","author_association":"MEMBER","body":"In exchange for these new messages, I've moved some load queue peon log messages to debug level.\r\n\r\nI've also removed a check from the curator based load queue peon that _should_ no longer be necessary since #3736","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402327905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402343798","html_url":"https://github.com/apache/druid/issues/5291#issuecomment-402343798","issue_url":"https://api.github.com/repos/apache/druid/issues/5291","id":402343798,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjM0Mzc5OA==","user":{"login":"haixuan8192","id":35486661,"node_id":"MDQ6VXNlcjM1NDg2NjYx","avatar_url":"https://avatars.githubusercontent.com/u/35486661?v=4","gravatar_id":"","url":"https://api.github.com/users/haixuan8192","html_url":"https://github.com/haixuan8192","followers_url":"https://api.github.com/users/haixuan8192/followers","following_url":"https://api.github.com/users/haixuan8192/following{/other_user}","gists_url":"https://api.github.com/users/haixuan8192/gists{/gist_id}","starred_url":"https://api.github.com/users/haixuan8192/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haixuan8192/subscriptions","organizations_url":"https://api.github.com/users/haixuan8192/orgs","repos_url":"https://api.github.com/users/haixuan8192/repos","events_url":"https://api.github.com/users/haixuan8192/events{/privacy}","received_events_url":"https://api.github.com/users/haixuan8192/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T02:21:20Z","updated_at":"2018-07-04T02:21:20Z","author_association":"NONE","body":"How did you solve this problem?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402343798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402361108","html_url":"https://github.com/apache/druid/pull/5902#issuecomment-402361108","issue_url":"https://api.github.com/repos/apache/druid/issues/5902","id":402361108,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjM2MTEwOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T04:40:34Z","updated_at":"2018-07-04T04:40:34Z","author_association":"CONTRIBUTOR","body":"The latest change looks good to me. Probably the title should be changed to be more appropriate like 'Prevent KafkaSupervisor NPE in generateSequenceName()'?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402361108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402419195","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-402419195","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":402419195,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjQxOTE5NQ==","user":{"login":"suhassumukh","id":18638430,"node_id":"MDQ6VXNlcjE4NjM4NDMw","avatar_url":"https://avatars.githubusercontent.com/u/18638430?v=4","gravatar_id":"","url":"https://api.github.com/users/suhassumukh","html_url":"https://github.com/suhassumukh","followers_url":"https://api.github.com/users/suhassumukh/followers","following_url":"https://api.github.com/users/suhassumukh/following{/other_user}","gists_url":"https://api.github.com/users/suhassumukh/gists{/gist_id}","starred_url":"https://api.github.com/users/suhassumukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suhassumukh/subscriptions","organizations_url":"https://api.github.com/users/suhassumukh/orgs","repos_url":"https://api.github.com/users/suhassumukh/repos","events_url":"https://api.github.com/users/suhassumukh/events{/privacy}","received_events_url":"https://api.github.com/users/suhassumukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T09:19:21Z","updated_at":"2018-07-04T09:19:21Z","author_association":"NONE","body":"@gianm True thing. But if it isn't included by default, it shouldn't display in the result either. So should it be for `size` and other analysis types. This kind of functionality is very confusing. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402419195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402511034","html_url":"https://github.com/apache/druid/issues/5620#issuecomment-402511034","issue_url":"https://api.github.com/repos/apache/druid/issues/5620","id":402511034,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjUxMTAzNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T15:33:45Z","updated_at":"2018-07-04T15:33:45Z","author_association":"CONTRIBUTOR","body":"@suhassumukhv that sounds good to me. Are you interested in making a patch for this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402511034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402545271","html_url":"https://github.com/apache/druid/issues/5935#issuecomment-402545271","issue_url":"https://api.github.com/repos/apache/druid/issues/5935","id":402545271,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU0NTI3MQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T19:12:44Z","updated_at":"2018-07-04T19:12:44Z","author_association":"CONTRIBUTOR","body":"ahh i notice, that the post agg requires a `field` type of fieldaccess, not a string.\r\nusing this works:\r\n```\r\n \"field\": {\r\n        \"type\": \"fieldAccess\",\r\n         \"fieldName\": \"value\"\r\n      }\r\n```\r\n\r\nThat said, I do think the error message can be improved a lot, so i am keeping this open for now","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402545271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402548666","html_url":"https://github.com/apache/druid/issues/5933#issuecomment-402548666","issue_url":"https://api.github.com/repos/apache/druid/issues/5933","id":402548666,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU0ODY2Ng==","user":{"login":"teeram","id":14909240,"node_id":"MDQ6VXNlcjE0OTA5MjQw","avatar_url":"https://avatars.githubusercontent.com/u/14909240?v=4","gravatar_id":"","url":"https://api.github.com/users/teeram","html_url":"https://github.com/teeram","followers_url":"https://api.github.com/users/teeram/followers","following_url":"https://api.github.com/users/teeram/following{/other_user}","gists_url":"https://api.github.com/users/teeram/gists{/gist_id}","starred_url":"https://api.github.com/users/teeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teeram/subscriptions","organizations_url":"https://api.github.com/users/teeram/orgs","repos_url":"https://api.github.com/users/teeram/repos","events_url":"https://api.github.com/users/teeram/events{/privacy}","received_events_url":"https://api.github.com/users/teeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T19:40:25Z","updated_at":"2018-07-04T19:40:25Z","author_association":"NONE","body":"I think this might have already been fixed here: #5656 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402548666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402555767","html_url":"https://github.com/apache/druid/issues/5869#issuecomment-402555767","issue_url":"https://api.github.com/repos/apache/druid/issues/5869","id":402555767,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjU1NTc2Nw==","user":{"login":"teeram","id":14909240,"node_id":"MDQ6VXNlcjE0OTA5MjQw","avatar_url":"https://avatars.githubusercontent.com/u/14909240?v=4","gravatar_id":"","url":"https://api.github.com/users/teeram","html_url":"https://github.com/teeram","followers_url":"https://api.github.com/users/teeram/followers","following_url":"https://api.github.com/users/teeram/following{/other_user}","gists_url":"https://api.github.com/users/teeram/gists{/gist_id}","starred_url":"https://api.github.com/users/teeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teeram/subscriptions","organizations_url":"https://api.github.com/users/teeram/orgs","repos_url":"https://api.github.com/users/teeram/repos","events_url":"https://api.github.com/users/teeram/events{/privacy}","received_events_url":"https://api.github.com/users/teeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T20:37:19Z","updated_at":"2018-07-04T20:37:19Z","author_association":"NONE","body":"Nice idea @gianm.  Just wanted to mention that perhaps the `lateMessageRejectionPeriod` and `earlyMessageRejectionPeriod` found in the `KafkaSupervisorIOConfig` could go away in favor of new load rules.  Up to you guys of course, I just thought it might end up being a little confusing to have these configurable supervisor fields separate from load rules.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402555767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402622003","html_url":"https://github.com/apache/druid/issues/5900#issuecomment-402622003","issue_url":"https://api.github.com/repos/apache/druid/issues/5900","id":402622003,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjYyMjAwMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T06:46:15Z","updated_at":"2018-07-05T06:46:15Z","author_association":"CONTRIBUTOR","body":"Fixed by #5902.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402622003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402622961","html_url":"https://github.com/apache/druid/issues/5656#issuecomment-402622961","issue_url":"https://api.github.com/repos/apache/druid/issues/5656","id":402622961,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjYyMjk2MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T06:51:39Z","updated_at":"2018-07-05T06:51:39Z","author_association":"CONTRIBUTOR","body":"I believe this is fixed by #5899 and #5902. If anyone notices this issue reoccurring after having deployed a build with both of those two, please let us know.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402622961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402623913","html_url":"https://github.com/apache/druid/issues/5869#issuecomment-402623913","issue_url":"https://api.github.com/repos/apache/druid/issues/5869","id":402623913,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjYyMzkxMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T06:56:33Z","updated_at":"2018-07-05T06:56:33Z","author_association":"CONTRIBUTOR","body":"Hmm, I think there is still a use case for lateMessageRejectionPeriod / earlyMessageRejectionPeriod even if load / drop rule usage becomes more intelligent. Imagine having a 90 day load rule, but only wanting to load stream data if it's received within 24 hours. It could be useful if you need to do batch reprocessing on older data and don't want to worry about locks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402623913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402623992","html_url":"https://github.com/apache/druid/issues/5934#issuecomment-402623992","issue_url":"https://api.github.com/repos/apache/druid/issues/5934","id":402623992,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjYyMzk5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T06:56:58Z","updated_at":"2018-07-05T06:56:58Z","author_association":"CONTRIBUTOR","body":"I dunno, what _is_ eccn? Where did you see it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402623992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402626032","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-402626032","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":402626032,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjYyNjAzMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T07:07:23Z","updated_at":"2018-07-05T07:07:23Z","author_association":"CONTRIBUTOR","body":"@peferron That's true, if you have two replicas and one fails, then the replacement for the failed replica will take some time to catch up. During that time it'll be more out of sync than normal.\r\n\r\nI think you could get most of the way there, consistency wise, with the \"primary\" replica concept. The idea would be that whenever you create a new replica, it should announce itself at a lower server priority than any existing replica (maybe just subtract 1 every time you make a replica). The assumption is that older replicas will generally have more data, and so you would prefer the primary to be the oldest one at any given point. See io.druid.client.DruidServer for what I'm referring to by \"priority\".\r\n\r\nYour idea of an \"in-sync\" set would be fancier, presumably taking into account the actual offsets that the tasks are at, and doing something that directs queries to the entire in-sync set rather than to a single primary replica. I can't think of a way that it could piggy back off something we already have so it may end up being more of a new system. It should probably be mediated by the supervisor somehow, which is the thing that is in charge of keeping track of task offsets. I'm not sure what the best way would be to get that info to the broker.\r\n\r\nAnyone interested in working on one of those ideas? :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402626032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402626959","html_url":"https://github.com/apache/druid/issues/5936#issuecomment-402626959","issue_url":"https://api.github.com/repos/apache/druid/issues/5936","id":402626959,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjYyNjk1OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T07:11:59Z","updated_at":"2018-07-05T07:11:59Z","author_association":"CONTRIBUTOR","body":"The compact task is meant to be a nicer interface to the \"index\" task. It basically creates an index task with the proper config to repartition a chunk of segments (by reading them in and then re-writing them). It may repartition N input segments to M output segments.\r\n\r\nThe merge task makes _one_ output segment and is coded specifically to read segments itself, rather than to generate an index task that does the same. I'm not sure if its performance is any different from the compact task. Its restriction that it must generate one single output segment means that it's somewhat less flexible.\r\n\r\nFwiw the compact task is part of us trying to achieve a vision of flexible, scalable automatic compaction in Druid. So hopefully that becomes the way of the future.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402626959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402713286","html_url":"https://github.com/apache/druid/issues/2319#issuecomment-402713286","issue_url":"https://api.github.com/repos/apache/druid/issues/2319","id":402713286,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjcxMzI4Ng==","user":{"login":"zhaojiandong","id":5977839,"node_id":"MDQ6VXNlcjU5Nzc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5977839?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojiandong","html_url":"https://github.com/zhaojiandong","followers_url":"https://api.github.com/users/zhaojiandong/followers","following_url":"https://api.github.com/users/zhaojiandong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojiandong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojiandong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojiandong/subscriptions","organizations_url":"https://api.github.com/users/zhaojiandong/orgs","repos_url":"https://api.github.com/users/zhaojiandong/repos","events_url":"https://api.github.com/users/zhaojiandong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojiandong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T12:58:26Z","updated_at":"2018-07-05T12:58:26Z","author_association":"CONTRIBUTOR","body":"change mysql conf add default-storage-engine=INNOD to [mysqld], then restart mysql","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402713286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402714217","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-402714217","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":402714217,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjcxNDIxNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T13:01:45Z","updated_at":"2018-07-05T13:01:45Z","author_association":"MEMBER","body":"@nishantmonu51 after addressing latest comments please squash all commits and create a new PR, it's impossible to work with this one anymore.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402714217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402786314","html_url":"https://github.com/apache/druid/pull/5712#issuecomment-402786314","issue_url":"https://api.github.com/repos/apache/druid/issues/5712","id":402786314,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjc4NjMxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T16:52:53Z","updated_at":"2018-07-05T16:52:53Z","author_association":"CONTRIBUTOR","body":"@jihoonson @jon-wei  can you guys take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402786314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402792683","html_url":"https://github.com/apache/druid/pull/5875#issuecomment-402792683","issue_url":"https://api.github.com/repos/apache/druid/issues/5875","id":402792683,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjc5MjY4Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T17:15:32Z","updated_at":"2018-07-05T17:15:32Z","author_association":"CONTRIBUTOR","body":"@stevenchen3 thanks. Are you interested in making a PR for that?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402792683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402892231","html_url":"https://github.com/apache/druid/issues/5936#issuecomment-402892231","issue_url":"https://api.github.com/repos/apache/druid/issues/5936","id":402892231,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjg5MjIzMQ==","user":{"login":"teeram","id":14909240,"node_id":"MDQ6VXNlcjE0OTA5MjQw","avatar_url":"https://avatars.githubusercontent.com/u/14909240?v=4","gravatar_id":"","url":"https://api.github.com/users/teeram","html_url":"https://github.com/teeram","followers_url":"https://api.github.com/users/teeram/followers","following_url":"https://api.github.com/users/teeram/following{/other_user}","gists_url":"https://api.github.com/users/teeram/gists{/gist_id}","starred_url":"https://api.github.com/users/teeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teeram/subscriptions","organizations_url":"https://api.github.com/users/teeram/orgs","repos_url":"https://api.github.com/users/teeram/repos","events_url":"https://api.github.com/users/teeram/events{/privacy}","received_events_url":"https://api.github.com/users/teeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T00:46:51Z","updated_at":"2018-07-06T00:46:51Z","author_association":"NONE","body":"Gotcha, thanks @gianm, very much appreciate the info.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402892231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402893124","html_url":"https://github.com/apache/druid/issues/5869#issuecomment-402893124","issue_url":"https://api.github.com/repos/apache/druid/issues/5869","id":402893124,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjg5MzEyNA==","user":{"login":"teeram","id":14909240,"node_id":"MDQ6VXNlcjE0OTA5MjQw","avatar_url":"https://avatars.githubusercontent.com/u/14909240?v=4","gravatar_id":"","url":"https://api.github.com/users/teeram","html_url":"https://github.com/teeram","followers_url":"https://api.github.com/users/teeram/followers","following_url":"https://api.github.com/users/teeram/following{/other_user}","gists_url":"https://api.github.com/users/teeram/gists{/gist_id}","starred_url":"https://api.github.com/users/teeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teeram/subscriptions","organizations_url":"https://api.github.com/users/teeram/orgs","repos_url":"https://api.github.com/users/teeram/repos","events_url":"https://api.github.com/users/teeram/events{/privacy}","received_events_url":"https://api.github.com/users/teeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T00:53:04Z","updated_at":"2018-07-06T00:53:04Z","author_association":"NONE","body":"Ah true, that's a good point.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402893124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/402971046","html_url":"https://github.com/apache/druid/issues/5116#issuecomment-402971046","issue_url":"https://api.github.com/repos/apache/druid/issues/5116","id":402971046,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjk3MTA0Ng==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T08:49:35Z","updated_at":"2018-07-06T08:49:35Z","author_association":"MEMBER","body":"Hi, @leventov . The status icon of Teamcity is also broken. Maybe the administrator should follow \r\n some steps in http://www.mikeobrien.net/blog/setting-up-teamcity-status-badges-with-shields-io to make it correct.\r\n\r\n![image](https://user-images.githubusercontent.com/8108788/42369364-4e130394-813c-11e8-8893-1bcdb806356b.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/402971046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/403010289","html_url":"https://github.com/apache/druid/issues/5498#issuecomment-403010289","issue_url":"https://api.github.com/repos/apache/druid/issues/5498","id":403010289,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzAxMDI4OQ==","user":{"login":"wjjpt","id":36731891,"node_id":"MDQ6VXNlcjM2NzMxODkx","avatar_url":"https://avatars.githubusercontent.com/u/36731891?v=4","gravatar_id":"","url":"https://api.github.com/users/wjjpt","html_url":"https://github.com/wjjpt","followers_url":"https://api.github.com/users/wjjpt/followers","following_url":"https://api.github.com/users/wjjpt/following{/other_user}","gists_url":"https://api.github.com/users/wjjpt/gists{/gist_id}","starred_url":"https://api.github.com/users/wjjpt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wjjpt/subscriptions","organizations_url":"https://api.github.com/users/wjjpt/orgs","repos_url":"https://api.github.com/users/wjjpt/repos","events_url":"https://api.github.com/users/wjjpt/events{/privacy}","received_events_url":"https://api.github.com/users/wjjpt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T11:44:05Z","updated_at":"2018-07-06T12:04:11Z","author_association":"NONE","body":"Also happens to me (0.12.0):\r\n\r\n````\r\n2018-07-06T11:27:19,886 WARN [qtp392760852-95] io.druid.java.util.common.RetryUtils - Failed on try 9, retrying in 61,215ms.\r\norg.skife.jdbi.v2.exceptions.CallbackFailedException: org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"druid_pendingsegments_sequence_name_prev_id_sha1_key\"\r\n  Detail: Key (sequence_name_prev_id_sha1)=(B2A971D6F73FC014EE800A94626148BF1098E255) already exists. [statement:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, \\\"end\\\", sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (:id, :dataSource, :created_date, :start, :end, :sequence_name, :sequence_prev_id, :sequence_name_prev_id_sha1, :payload)\", located:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, \\\"end\\\", sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (:id, :dataSource, :created_date, :start, :end, :sequence_name, :sequence_prev_id, :sequence_name_prev_id_sha1, :payload)\", rewritten:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, \"end\", sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\", arguments:{ positional:{}, named:{sequence_prev_id:'',payload:[123, 34, 100, 97, 116, 97, 83, 111, 117, 114, 99, 101, 34, 58, 34, 51, 54, 98, 54, 99, 51, 54, 48, 45, 51, 57, 99, 53, 45, 52, 53, 57, 53, 45, 56, 55, 98, 55, 45, 48, 97, 55, 101, 97, 53, 100, 57, 99, 97, 102, 55, 95, 115, 111, 108, 97, 114, 105, 115, 34, 44, 34, 105, 110, 116, 101, 114, 118, 97, 108, 34, 58, 34, 50, 48, 49, 56, 45, 48, 55, 45, 48, 53, 84, 50, 51, 58, 48, 48, 58, 48, 48, 46, 48, 48, 48, 90, 47, 50, 48, 49, 56, 45, 48, 55, 45, 48, 54, 84, 48, 48, 58, 48, 48, 58, 48, 48, 46, 48, 48, 48, 90, 34, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 50, 48, 49, 56, 45, 48, 55, 45, 48, 53, 84, 50, 51, 58, 48, 49, 58, 50, 57, 46, 56, 49, 52, 90, 34, 44, 34, 115, 104, 97, 114, 100, 83, 112, 101, 99, 34, 58, 123, 34, 116, 121, 112, 101, 34, 58, 34, 110, 117, 109, 98, 101, 114, 101, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 78, 117, 109, 34, 58, 49, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 115, 34, 58, 48, 125, 125],start:'2018-07-05T23:00:00.000Z',end:'2018-07-06T00:00:00.000Z',id:'36b6c360-39c5-4595-87b7-0a7ea5d9caf7_solaris_2018-07-05T23:00:00.000Z_2018-07-06T00:00:00.000Z_2018-07-05T23:01:29.814Z_1',created_date:'2018-07-06T11:27:19.885Z',dataSource:'36b6c360-39c5-4595-87b7-0a7ea5d9caf7_solaris',sequence_name:'index_kafka_36b6c360-39c5-4595-87b7-0a7ea5d9caf7_solaris_e392310599318f9_0',sequence_name_prev_id_sha1:'B2A971D6F73FC014EE800A94626148BF1098E255'}, finder:[]}]\r\n\tat org.skife.jdbi.v2.DBI.withHandle(DBI.java:284) ~[jdbi-2.63.1.jar:2.63.1]\r\n\tat org.skife.jdbi.v2.DBI.inTransaction(DBI.java:329) ~[jdbi-2.63.1.jar:2.63.1]\r\n\tat io.druid.metadata.SQLMetadataConnector$3.call(SQLMetadataConnector.java:158) ~[druid-server-0.12.0.jar:0.12.0]\r\n\tat io.druid.java.util.common.RetryUtils.retry(RetryUtils.java:63) [java-util-0.12.0.jar:0.12.0]\r\n\tat io.druid.metadata.SQLMetadataConnector.retryTransaction(SQLMetadataConnector.java:162) [druid-server-0.12.0.jar:0.12.0]\r\n\tat io.druid.metadata.IndexerSQLMetadataStorageCoordinator.allocatePendingSegment(IndexerSQLMetadataStorageCoordinator.java:399) [druid-server-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.common.actions.SegmentAllocateAction.tryAllocate(SegmentAllocateAction.java:272) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.common.actions.SegmentAllocateAction.tryAllocateSubsequentSegment(SegmentAllocateAction.java:248) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.common.actions.SegmentAllocateAction.perform(SegmentAllocateAction.java:170) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.common.actions.SegmentAllocateAction.perform(SegmentAllocateAction.java:56) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.common.actions.LocalTaskActionClient.submit(LocalTaskActionClient.java:64) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.overlord.http.OverlordResource$3.apply(OverlordResource.java:345) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.overlord.http.OverlordResource$3.apply(OverlordResource.java:334) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.overlord.http.OverlordResource.asLeaderWith(OverlordResource.java:672) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat io.druid.indexing.overlord.http.OverlordResource.doAction(OverlordResource.java:331) [druid-indexing-service-0.12.0.jar:0.12.0]\r\n\tat sun.reflect.GeneratedMethodAccessor111.invoke(Unknown Source) ~[?:?]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_151]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_151]\r\n\tat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1542) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1473) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1419) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1409) [jersey-server-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:409) [jersey-servlet-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:558) [jersey-servlet-1.19.3.jar:1.19.3]\r\n\tat com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:733) [jersey-servlet-1.19.3.jar:1.19.3]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n\tat com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:286) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:276) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:181) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-4.1.0.jar:?]\r\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:135) [guice-servlet-4.1.0.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.http.RedirectFilter.doFilter(RedirectFilter.java:72) [druid-server-0.12.0.jar:0.12.0]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.security.PreResponseAuthorizationCheckFilter.doFilter(PreResponseAuthorizationCheckFilter.java:84) [druid-server-0.12.0.jar:0.12.0]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.security.AllowAllAuthenticator$1.doFilter(AllowAllAuthenticator.java:85) [druid-server-0.12.0.jar:0.12.0]\r\n\tat io.druid.server.security.AuthenticationWrappingFilter.doFilter(AuthenticationWrappingFilter.java:60) [druid-server-0.12.0.jar:0.12.0]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat io.druid.server.security.SecuritySanityCheckFilter.doFilter(SecuritySanityCheckFilter.java:86) [druid-server-0.12.0.jar:0.12.0]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512) [jetty-servlet-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:493) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:534) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251) [jetty-server-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93) [jetty-io-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589) [jetty-util-9.3.19.v20170502.jar:9.3.19.v20170502]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_151]\r\nCaused by: org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"druid_pendingsegments_sequence_name_prev_id_sha1_key\"\r\n  Detail: Key (sequence_name_prev_id_sha1)=(B2A971D6F73FC014EE800A94626148BF1098E255) already exists. [statement:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, \\\"end\\\", sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (:id, :dataSource, :created_date, :start, :end, :sequence_name, :sequence_prev_id, :sequence_name_prev_id_sha1, :payload)\", located:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, \\\"end\\\", sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (:id, :dataSource, :created_date, :start, :end, :sequence_name, :sequence_prev_id, :sequence_name_prev_id_sha1, :payload)\", rewritten:\"INSERT INTO druid_pendingSegments (id, dataSource, created_date, start, \"end\", sequence_name, sequence_prev_id, sequence_name_prev_id_sha1, payload) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\", arguments:{ positional:{}, named:{sequence_prev_id:'',payload:[123, 34, 100, 97, 116, 97, 83, 111, 117, 114, 99, 101, 34, 58, 34, 51, 54, 98, 54, 99, 51, 54, 48, 45, 51, 57, 99, 53, 45, 52, 53, 57, 53, 45, 56, 55, 98, 55, 45, 48, 97, 55, 101, 97, 53, 100, 57, 99, 97, 102, 55, 95, 115, 111, 108, 97, 114, 105, 115, 34, 44, 34, 105, 110, 116, 101, 114, 118, 97, 108, 34, 58, 34, 50, 48, 49, 56, 45, 48, 55, 45, 48, 53, 84, 50, 51, 58, 48, 48, 58, 48, 48, 46, 48, 48, 48, 90, 47, 50, 48, 49, 56, 45, 48, 55, 45, 48, 54, 84, 48, 48, 58, 48, 48, 58, 48, 48, 46, 48, 48, 48, 90, 34, 44, 34, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 50, 48, 49, 56, 45, 48, 55, 45, 48, 53, 84, 50, 51, 58, 48, 49, 58, 50, 57, 46, 56, 49, 52, 90, 34, 44, 34, 115, 104, 97, 114, 100, 83, 112, 101, 99, 34, 58, 123, 34, 116, 121, 112, 101, 34, 58, 34, 110, 117, 109, 98, 101, 114, 101, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 78, 117, 109, 34, 58, 49, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 115, 34, 58, 48, 125, 125],start:'2018-07-05T23:00:00.000Z',end:'2018-07-06T00:00:00.000Z',id:'36b6c360-39c5-4595-87b7-0a7ea5d9caf7_solaris_2018-07-05T23:00:00.000Z_2018-07-06T00:00:00.000Z_2018-07-05T23:01:29.814Z_1',created_date:'2018-07-06T11:27:19.885Z',dataSource:'36b6c360-39c5-4595-87b7-0a7ea5d9caf7_solaris',sequence_name:'index_kafka_36b6c360-39c5-4595-87b7-0a7ea5d9caf7_solaris_e392310599318f9_0',sequence_name_prev_id_sha1:'B2A971D6F73FC014EE800A94626148BF1098E255'}, finder:[]}]\r\n\r\n````\r\n\r\nNo middlemanager restart.\r\n\r\nAs a workaround I have reset supervisor task, but with data loss.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/403010289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/403041938","html_url":"https://github.com/apache/druid/pull/5954#issuecomment-403041938","issue_url":"https://api.github.com/repos/apache/druid/issues/5954","id":403041938,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA0MTkzOA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T13:56:55Z","updated_at":"2018-07-06T13:56:55Z","author_association":"MEMBER","body":"Hi, @leventov . Thanks for your approval.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/403041938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/403057014","html_url":"https://github.com/apache/druid/issues/5955#issuecomment-403057014","issue_url":"https://api.github.com/repos/apache/druid/issues/5955","id":403057014,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA1NzAxNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T14:51:01Z","updated_at":"2018-07-06T14:51:01Z","author_association":"MEMBER","body":"@asdf2014 make sure to read the discussion at https://github.com/druid-io/druid/issues/5849","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/403057014/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/403099742","html_url":"https://github.com/apache/druid/issues/2788#issuecomment-403099742","issue_url":"https://api.github.com/repos/apache/druid/issues/2788","id":403099742,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA5OTc0Mg==","user":{"login":"MTShannon","id":33733173,"node_id":"MDQ6VXNlcjMzNzMzMTcz","avatar_url":"https://avatars.githubusercontent.com/u/33733173?v=4","gravatar_id":"","url":"https://api.github.com/users/MTShannon","html_url":"https://github.com/MTShannon","followers_url":"https://api.github.com/users/MTShannon/followers","following_url":"https://api.github.com/users/MTShannon/following{/other_user}","gists_url":"https://api.github.com/users/MTShannon/gists{/gist_id}","starred_url":"https://api.github.com/users/MTShannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MTShannon/subscriptions","organizations_url":"https://api.github.com/users/MTShannon/orgs","repos_url":"https://api.github.com/users/MTShannon/repos","events_url":"https://api.github.com/users/MTShannon/events{/privacy}","received_events_url":"https://api.github.com/users/MTShannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T17:33:35Z","updated_at":"2018-07-06T17:33:35Z","author_association":"NONE","body":"@santhoshtangudu How did you stop passing multiple versions?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/403099742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]