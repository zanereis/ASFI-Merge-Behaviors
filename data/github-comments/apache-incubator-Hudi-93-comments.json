[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742942069","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742942069","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742942069,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk0MjA2OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T03:26:42Z","updated_at":"2020-12-11T03:26:42Z","author_association":"MEMBER","body":"Thanks for doing this! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742942069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742942326","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742942326","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742942326,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk0MjMyNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T03:27:33Z","updated_at":"2020-12-11T03:27:33Z","author_association":"MEMBER","body":"@garyli1019 we should also add impala, athena, redshift also in the query engine  box? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742942326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742942424","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742942424","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742942424,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk0MjQyNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T03:27:54Z","updated_at":"2020-12-11T03:27:54Z","author_association":"MEMBER","body":"If it's easy let's please do that too?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742942424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742944656","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742944656","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742944656,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk0NDY1Ng==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T03:34:14Z","updated_at":"2020-12-11T03:34:14Z","author_association":"CONTRIBUTOR","body":"> If it's easy let's please do that too?\r\n\r\nYes, it is easy. I will add them together cc @garyli1019 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742944656/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742947411","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742947411","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742947411,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk0NzQxMQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T03:42:10Z","updated_at":"2020-12-11T03:42:10Z","author_association":"CONTRIBUTOR","body":"> @garyli1019 we should also add impala, athena, redshift also in the query engine box?\r\n\r\n@vinothchandar  can we add zeppelin and kylin as well?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742947411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742954078","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742954078","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742954078,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk1NDA3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T04:04:09Z","updated_at":"2020-12-11T04:04:09Z","author_association":"MEMBER","body":"Yes good point. \n\nWe can add a visualization box above? And put zeppelin there? \n\nFor kylin, whats the nature of today's integration? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742954078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742982185","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742982185","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742982185,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk4MjE4NQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T05:38:34Z","updated_at":"2020-12-11T05:38:34Z","author_association":"CONTRIBUTOR","body":"> Yes good point.\r\n> \r\n> We can add a visualization box above? And put zeppelin there?\r\n> \r\n> For kylin, whats the nature of today's integration?\r\n\r\nKylin can read from hive","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742982185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742994929","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-742994929","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":742994929,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk5NDkyOQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:12:03Z","updated_at":"2020-12-11T06:12:03Z","author_association":"CONTRIBUTOR","body":"> If it's easy let's please do that too?\r\n\r\nHi @vinothchandar do you have suitable logos for athena and redshift? I can't find any","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/742994929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743002138","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743002138","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743002138,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAwMjEzOA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:29:54Z","updated_at":"2020-12-11T06:30:39Z","author_association":"MEMBER","body":"> > If it's easy let's please do that too?\r\n> \r\n> Hi @vinothchandar do you have suitable logos for athena and redshift? I can't find any\r\n\r\nathena: https://aws.amazon.com/cn/blogs/big-data/easily-query-aws-service-logs-using-amazon-athena/\r\nredshift: https://blog.openbridge.com/ultimate-offer-get-powerful-amazon-redshift-for-free-19de97829707","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743002138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743008032","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743008032","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743008032,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAwODAzMg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:44:10Z","updated_at":"2020-12-11T06:44:10Z","author_association":"CONTRIBUTOR","body":"> > > If it's easy let's please do that too?\r\n> > \r\n> > \r\n> > Hi @vinothchandar do you have suitable logos for athena and redshift? I can't find any\r\n> \r\n> athena: https://aws.amazon.com/cn/blogs/big-data/easily-query-aws-service-logs-using-amazon-athena/\r\n> redshift: https://blog.openbridge.com/ultimate-offer-get-powerful-amazon-redshift-for-free-19de97829707\r\n\r\nThanks Gary, I found these too, I am not sure if they are the newest.\r\nhttps://amazonaws-china.com/cn/big-data/datalakes-and-analytics/?nc2=h_ql_prod_an\r\nthey are not the same as here","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743008032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743010579","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743010579","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743010579,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAxMDU3OQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:49:56Z","updated_at":"2020-12-11T06:49:56Z","author_association":"MEMBER","body":"> > > > If it's easy let's please do that too?\r\n> > > \r\n> > > \r\n> > > Hi @vinothchandar do you have suitable logos for athena and redshift? I can't find any\r\n> > \r\n> > \r\n> > athena: https://aws.amazon.com/cn/blogs/big-data/easily-query-aws-service-logs-using-amazon-athena/\r\n> > redshift: https://blog.openbridge.com/ultimate-offer-get-powerful-amazon-redshift-for-free-19de97829707\r\n> \r\n> Thanks Gary, I found these too, I am not sure if they are the newest.\r\n> https://amazonaws-china.com/cn/big-data/datalakes-and-analytics/?nc2=h_ql_prod_an\r\n> they are not the same as here\r\n\r\n@wangxianghu I guess it should be fine. As long as the viewer knows what it is then it should be ok. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743010579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743010868","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743010868","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743010868,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAxMDg2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:50:43Z","updated_at":"2020-12-11T06:50:43Z","author_association":"MEMBER","body":"Best to take them from aws material \r\nhttps://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/05/02/QueryServiceLogsAthena1.png \r\nhttps://aws.amazon.com/blogs/big-data/amazon-quicksight-adds-support-for-amazon-redshift-spectrum/\r\nseems to match up to https://miro.medium.com/max/700/1*5i1_LPEiMqqEuAmYhcmcIw.png ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743010868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743012498","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743012498","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743012498,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAxMjQ5OA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:54:43Z","updated_at":"2020-12-11T06:54:43Z","author_association":"CONTRIBUTOR","body":"> > > > > If it's easy let's please do that too?\r\n> > > > \r\n> > > > \r\n> > > > Hi @vinothchandar do you have suitable logos for athena and redshift? I can't find any\r\n> > > \r\n> > > \r\n> > > athena: https://aws.amazon.com/cn/blogs/big-data/easily-query-aws-service-logs-using-amazon-athena/\r\n> > > redshift: https://blog.openbridge.com/ultimate-offer-get-powerful-amazon-redshift-for-free-19de97829707\r\n> > \r\n> > \r\n> > Thanks Gary, I found these too, I am not sure if they are the newest.\r\n> > https://amazonaws-china.com/cn/big-data/datalakes-and-analytics/?nc2=h_ql_prod_an\r\n> > they are not the same as here\r\n> \r\n> @wangxianghu I guess it should be fine. As long as the viewer knows what it is then it should be ok.\r\n\r\nok thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743012498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743012562","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743012562","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743012562,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAxMjU2Mg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T06:54:52Z","updated_at":"2020-12-11T06:54:52Z","author_association":"CONTRIBUTOR","body":"> Best to take them from aws material\r\n> https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/05/02/QueryServiceLogsAthena1.png\r\n> https://aws.amazon.com/blogs/big-data/amazon-quicksight-adds-support-for-amazon-redshift-spectrum/\r\n> seems to match up to https://miro.medium.com/max/700/1*5i1_LPEiMqqEuAmYhcmcIw.png\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743012562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743020392","html_url":"https://github.com/apache/hudi/pull/2326#issuecomment-743020392","issue_url":"https://api.github.com/repos/apache/hudi/issues/2326","id":743020392,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyMDM5Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:13:51Z","updated_at":"2020-12-17T03:15:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2326?src=pr&el=h1) Report\n> Merging [#2326](https://codecov.io/gh/apache/hudi/pull/2326?src=pr&el=desc) (a3701aa) into [rfc-15](https://codecov.io/gh/apache/hudi/commit/2e09aeca47a7f14cd83f644a5132d4dfd0f27813?el=desc) (2e09aec) will **decrease** coverage by `0.16%`.\n> The diff coverage is `21.87%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2326/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2326?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             rfc-15    #2326      +/-   ##\n============================================\n- Coverage     59.44%   59.27%   -0.17%     \n+ Complexity     4592     4591       -1     \n============================================\n  Files           573      573              \n  Lines         24353    24365      +12     \n  Branches       2440     2441       +1     \n============================================\n- Hits          14476    14443      -33     \n- Misses         8825     8872      +47     \n+ Partials       1052     1050       -2     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `66.63% <100.00%> (-0.05%)` | `0.00 <0.00> (ø)` | |\n| hudiclient | `75.36% <100.00%> (-0.01%)` | `0.00 <0.00> (ø)` | |\n| hudicommon | `52.44% <0.00%> (-0.34%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.19% <100.00%> (+0.13%)` | `0.00 <0.00> (ø)` | |\n| hudispark | `67.19% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.43% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.38% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2326?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/cli/commands/MetadataCommand.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL01ldGFkYXRhQ29tbWFuZC5qYXZh) | `1.12% <ø> (ø)` | `1.00 <0.00> (ø)` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29uZmlnL0hvb2RpZVdyaXRlQ29uZmlnLmphdmE=) | `80.66% <ø> (ø)` | `114.00 <0.00> (ø)` | |\n| [...hudi/metadata/HoodieBackedTableMetadataWriter.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YVdyaXRlci5qYXZh) | `70.91% <ø> (ø)` | `50.00 <0.00> (ø)` | |\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [.../hudi/common/table/view/FileSystemViewManager.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvRmlsZVN5c3RlbVZpZXdNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...ommon/table/view/HoodieMetadataFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvSG9vZGllTWV0YWRhdGFGaWxlU3lzdGVtVmlldy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...c/main/java/org/apache/hudi/table/HoodieTable.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllVGFibGUuamF2YQ==) | `88.11% <100.00%> (+0.08%)` | `58.00 <0.00> (ø)` | |\n| [...rg/apache/hudi/hadoop/HoodieROTablePathFilter.java](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZVJPVGFibGVQYXRoRmlsdGVyLmphdmE=) | `63.15% <100.00%> (+2.34%)` | `12.00 <0.00> (+1.00)` | |\n| ... and [4 more](https://codecov.io/gh/apache/hudi/pull/2326/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743020392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743025013","html_url":"https://github.com/apache/hudi/pull/2309#issuecomment-743025013","issue_url":"https://api.github.com/repos/apache/hudi/issues/2309","id":743025013,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyNTAxMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:25:43Z","updated_at":"2020-12-11T07:25:43Z","author_association":"MEMBER","body":"@danny0405 awesome! thanks for jumping in :) . ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743025013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743026237","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-743026237","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":743026237,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyNjIzNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:29:18Z","updated_at":"2020-12-11T07:29:18Z","author_association":"MEMBER","body":">option 1: check GLOBAL_BLOOM incompatible with BLOOM strict. It will be concise\r\n\r\nyes. but that takes the flexibilty away. I have seen users start with global bloom and then move to bloom, for perf reasons for eg.\r\n\r\nactually. option 2, seems like the right thing to me. but I can see that it's heavy weight. Ideally, hoodie.properties is a hudi file group, that can take updates or is versioned as well. that's also a large change. \r\n\r\nSo, I am actually bit puzzled. :|  Let me think more. \r\nif you have any other way out of this, please let me know as well .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743026237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743026661","html_url":"https://github.com/apache/hudi/pull/2225#issuecomment-743026661","issue_url":"https://api.github.com/repos/apache/hudi/issues/2225","id":743026661,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyNjY2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:30:29Z","updated_at":"2020-12-11T07:30:29Z","author_association":"MEMBER","body":"@lw309637554 sounds good. so do we still need this PR? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743026661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743027236","html_url":"https://github.com/apache/hudi/issues/2321#issuecomment-743027236","issue_url":"https://api.github.com/repos/apache/hudi/issues/2321","id":743027236,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyNzIzNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:31:58Z","updated_at":"2020-12-11T07:31:58Z","author_association":"CONTRIBUTOR","body":"Hi @PavelPetukhov : This looks like a bug and I have filed a jira for this : https://issues.apache.org/jira/browse/HUDI-1452\r\n\r\nRegarding workaround, things should work if you enable embedded timeline server : --hoodie-conf hoodie.embed.timeline.server=true. Any reason why this was turned off ? Also, unless you are stretched very thin on memory, you can use the default  filesystemview storage type which is in-memory (don't set --hoodie-conf hoodie.filesystem.view.type)\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743027236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743028556","html_url":"https://github.com/apache/hudi/issues/2239#issuecomment-743028556","issue_url":"https://api.github.com/repos/apache/hudi/issues/2239","id":743028556,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyODU1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:35:26Z","updated_at":"2020-12-11T07:35:26Z","author_association":"MEMBER","body":">org.apache.hudi.org.apache.commons.codec.binary.Base64 and not org.apache.commons.codec.binary.Base64?\r\n\r\n@sbernauer  this is because it's getting shaded in the bundles I suppose. Let me review your PR more closely. We try to rely as much as possible on the underlying engine's jars. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743028556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743029221","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-743029221","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":743029221,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAyOTIyMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:37:20Z","updated_at":"2020-12-11T07:37:20Z","author_association":"MEMBER","body":"@sbernauer so we don't shade commons-codec in these bundles, with the intention of using it from the spark installation. \r\n\r\nI am going to try and trace why it's looking for the shaded class name","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743029221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743030117","html_url":"https://github.com/apache/hudi/issues/1957#issuecomment-743030117","issue_url":"https://api.github.com/repos/apache/hudi/issues/1957","id":743030117,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAzMDExNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:39:52Z","updated_at":"2020-12-11T07:39:52Z","author_association":"CONTRIBUTOR","body":"@jiangok2006 : Can you enable INFO log and paste the logs here. Also, can you attach spark UI screen shots at job, stage and task levels.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743030117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743034538","html_url":"https://github.com/apache/hudi/issues/2103#issuecomment-743034538","issue_url":"https://api.github.com/repos/apache/hudi/issues/2103","id":743034538,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAzNDUzOA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:50:49Z","updated_at":"2020-12-11T07:50:49Z","author_association":"CONTRIBUTOR","body":"@evgeny-bondarenko : I think using  ComplexKeyGenerator directly would work for your case.\r\n\r\nUse\r\nhoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.ComplexKeyGenerator \r\n\r\ninstead of \r\n\r\nhoodie.datasource.write.keygenerator.class=org.apache.hudi.keygen.CustomKeyGenerator\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743034538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743034840","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-743034840","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":743034840,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzAzNDg0MA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T07:51:39Z","updated_at":"2020-12-11T07:51:39Z","author_association":"CONTRIBUTOR","body":"> Thanks for the PR @danny0405 !\r\n> \r\n> This leaves the code easier to read. but unsure of the intended effects. I have actually thought more about how to avoid this. and it seems hard. we do need some evaluation of how much pruning is going to happen for us to size the parallelism and since that is very workload specific, it does need an evaluation.\r\n> \r\n> best idea I could come up with, was to see if we can do some sampling say 10% of the records to estimate.\r\n> \r\n> Something like below.\r\n> \r\n> ```\r\n> / we will just try exploding the input and then count to determine comparisons\r\n>       // FIX(vc): Only do sampling here and extrapolate?\r\n>       fileToComparisons = explodeRecordRDDWithFileComparisons(partitionToFileInfo, partitionRecordKeyPairRDD.sample(0.1))\r\n>           .mapToPair(t -> t).countByKey();\r\n> ```\r\n\r\nThanks so much for the review @vinothchandar  ~ Can we really do a sampling here ? Then how can we ensure the `FileId -> HoodieKey` candidates are complete so that the final built Index is accurate. (e.g. No `UPDATE` records are tagged as `INSERT`).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743034840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743041298","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-743041298","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":743041298,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA0MTI5OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:06:52Z","updated_at":"2020-12-11T11:17:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2319?src=pr&el=h1) Report\n> Merging [#2319](https://codecov.io/gh/apache/hudi/pull/2319?src=pr&el=desc) (622c3c7) into [master](https://codecov.io/gh/apache/hudi/commit/bd9cceccb582ede88b989824241498e8c32d4f13?el=desc) (bd9ccec) will **decrease** coverage by `41.88%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2319/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2319?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2319       +/-   ##\n=============================================\n- Coverage     52.29%   10.40%   -41.89%     \n+ Complexity     2630       48     -2582     \n=============================================\n  Files           329       51      -278     \n  Lines         14743     1787    -12956     \n  Branches       1484      213     -1271     \n=============================================\n- Hits           7710      186     -7524     \n+ Misses         6419     1588     -4831     \n+ Partials        614       13      -601     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.40% <ø> (-59.71%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2319?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [306 more](https://codecov.io/gh/apache/hudi/pull/2319/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743041298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743048327","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-743048327","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":743048327,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA0ODMyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:22:00Z","updated_at":"2020-12-11T08:22:00Z","author_association":"MEMBER","body":">Can we really do a sampling here ?\r\n\r\nyes, there is a trade-off here. We have to rely on the fact that the previous stage does a `reduceByKey` so the data would be distributed evenly across the RDD partitions :). So, extrapolation could be okay, for purposes of `computeComparisonsPerFileGroup()`. The other usage, where we actually do the range pruning, we cannot do sampling. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743048327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743049165","html_url":"https://github.com/apache/hudi/pull/2326#issuecomment-743049165","issue_url":"https://api.github.com/repos/apache/hudi/issues/2326","id":743049165,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA0OTE2NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:23:46Z","updated_at":"2020-12-11T08:23:46Z","author_association":"MEMBER","body":"@prashantwason for some reason I still cant assign you PRs. cc @n3nash  \r\n\r\ncould you review this PR as well. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743049165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743052461","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743052461","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743052461,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA1MjQ2MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:30:45Z","updated_at":"2020-12-11T08:30:45Z","author_association":"MEMBER","body":"LGTM!  thanks @wangxianghu , as always. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743052461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743055071","html_url":"https://github.com/apache/hudi/pull/2306#issuecomment-743055071","issue_url":"https://api.github.com/repos/apache/hudi/issues/2306","id":743055071,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA1NTA3MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:36:28Z","updated_at":"2020-12-11T08:36:28Z","author_association":"MEMBER","body":"Thanks @shenh062326 ! Keep em coming. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743055071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743056915","html_url":"https://github.com/apache/hudi/pull/2286#issuecomment-743056915","issue_url":"https://api.github.com/repos/apache/hudi/issues/2286","id":743056915,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA1NjkxNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:40:24Z","updated_at":"2020-12-11T08:40:24Z","author_association":"MEMBER","body":"@shenh062326 just merged the other PR ! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743056915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743059430","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743059430","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743059430,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA1OTQzMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:46:02Z","updated_at":"2020-12-11T08:46:36Z","author_association":"MEMBER","body":"@borislitvak I don't think the s3 consistency announcement changes this. Can't speak for Delta. but IMO no system can provide these guarantees above, without any atomic guarantees from the underlying storage. \r\n\r\nApproach we have taken in Hudi, is to build common cases needing concurrent writing \r\n- removing older files (Hudi cleaning)\r\n- merging updates with a base file (Hudi Compaction)\r\n- coalescing a bunch of small files into a large ones (Hudi Clustering, upcoming in 0.7.0 release) \r\n\r\nhave been built into the concurrency model. These things can happen concurrently with a single writer that is writing new data into the table and is supported on top of s3 or other storages. \r\n\r\nif you truly need the support for writing \"data\" concurrently, then @n3nash is looking into a different design for concurrent writing in Hudi, that is aimed at making it work on storage like S3 as well. So understanding your use-case would be very valuable here. \r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743059430/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743065390","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-743065390","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":743065390,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA2NTM5MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T08:59:01Z","updated_at":"2020-12-11T08:59:01Z","author_association":"MEMBER","body":"@n3nash could you please review this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743065390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743067983","html_url":"https://github.com/apache/hudi/pull/2292#issuecomment-743067983","issue_url":"https://api.github.com/repos/apache/hudi/issues/2292","id":743067983,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA2Nzk4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:04:11Z","updated_at":"2020-12-11T09:04:11Z","author_association":"MEMBER","body":"@yui2010 yes this is a legit bug. I ran into this myself recently. Could you please add a test case to `TestHoodieCleaner` and we can merge this \r\n\r\n@n3nash as FYI","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743067983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743084273","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-743084273","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":743084273,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzA4NDI3Mw==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T09:32:26Z","updated_at":"2020-12-11T09:32:26Z","author_association":"CONTRIBUTOR","body":"> The other usage, where we actually do the range pruning, we cannot do sampling\r\n\r\nThanks, got your idea ~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743084273/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743105824","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-743105824","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":743105824,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzEwNTgyNA==","user":{"login":"kirqz23","id":22114492,"node_id":"MDQ6VXNlcjIyMTE0NDky","avatar_url":"https://avatars.githubusercontent.com/u/22114492?v=4","gravatar_id":"","url":"https://api.github.com/users/kirqz23","html_url":"https://github.com/kirqz23","followers_url":"https://api.github.com/users/kirqz23/followers","following_url":"https://api.github.com/users/kirqz23/following{/other_user}","gists_url":"https://api.github.com/users/kirqz23/gists{/gist_id}","starred_url":"https://api.github.com/users/kirqz23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirqz23/subscriptions","organizations_url":"https://api.github.com/users/kirqz23/orgs","repos_url":"https://api.github.com/users/kirqz23/repos","events_url":"https://api.github.com/users/kirqz23/events{/privacy}","received_events_url":"https://api.github.com/users/kirqz23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T10:14:23Z","updated_at":"2020-12-11T10:14:23Z","author_association":"NONE","body":"@n3nash, sure\r\n\r\n![image](https://user-images.githubusercontent.com/22114492/101891064-d8eb3a00-3ba1-11eb-9d2b-ff374507879c.png)\r\n\r\n![image](https://user-images.githubusercontent.com/22114492/101891153-f0c2be00-3ba1-11eb-853c-f1544da10fcf.png)\r\n\r\n![image](https://user-images.githubusercontent.com/22114492/101891205-020bca80-3ba2-11eb-83d2-dc22a97e38aa.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743105824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743110390","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-743110390","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":743110390,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzExMDM5MA==","user":{"login":"kirqz23","id":22114492,"node_id":"MDQ6VXNlcjIyMTE0NDky","avatar_url":"https://avatars.githubusercontent.com/u/22114492?v=4","gravatar_id":"","url":"https://api.github.com/users/kirqz23","html_url":"https://github.com/kirqz23","followers_url":"https://api.github.com/users/kirqz23/followers","following_url":"https://api.github.com/users/kirqz23/following{/other_user}","gists_url":"https://api.github.com/users/kirqz23/gists{/gist_id}","starred_url":"https://api.github.com/users/kirqz23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirqz23/subscriptions","organizations_url":"https://api.github.com/users/kirqz23/orgs","repos_url":"https://api.github.com/users/kirqz23/repos","events_url":"https://api.github.com/users/kirqz23/events{/privacy}","received_events_url":"https://api.github.com/users/kirqz23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T10:23:43Z","updated_at":"2020-12-11T10:23:43Z","author_association":"NONE","body":"@n3nash I believe that those are defaults for hardware configuration taken from spark.dynamicAllocation.enabled = true. I was running that on a cluster of 1 master and 6 cores AWS EMR r5d.4xlarge with 16vCores and 128GB ram per each. This is why:\r\n\r\nspark.executor.instances is 6\r\nspark.executor.cores is 16\r\n\r\nCan you advice me how should I try to parametrize it?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743110390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743126854","html_url":"https://github.com/apache/hudi/pull/2328#issuecomment-743126854","issue_url":"https://api.github.com/repos/apache/hudi/issues/2328","id":743126854,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzEyNjg1NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T10:58:28Z","updated_at":"2020-12-25T13:22:51Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2328?src=pr&el=h1) Report\n> Merging [#2328](https://codecov.io/gh/apache/hudi/pull/2328?src=pr&el=desc) (a7b5d80) into [master](https://codecov.io/gh/apache/hudi/commit/6cf25d5c8a4c0ee7e8cd09a7a2884806b0fee1b7?el=desc) (6cf25d5) will **decrease** coverage by `42.30%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2328/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2328?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2328       +/-   ##\n=============================================\n- Coverage     52.35%   10.04%   -42.31%     \n+ Complexity     2631       48     -2583     \n=============================================\n  Files           329       52      -277     \n  Lines         14808     1852    -12956     \n  Branches       1484      223     -1261     \n=============================================\n- Hits           7752      186     -7566     \n+ Misses         6441     1653     -4788     \n+ Partials        615       13      -602     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `10.04% <ø> (-60.08%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2328?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [307 more](https://codecov.io/gh/apache/hudi/pull/2328/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743126854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743152766","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743152766","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743152766,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE1Mjc2Ng==","user":{"login":"borislitvak","id":9713845,"node_id":"MDQ6VXNlcjk3MTM4NDU=","avatar_url":"https://avatars.githubusercontent.com/u/9713845?v=4","gravatar_id":"","url":"https://api.github.com/users/borislitvak","html_url":"https://github.com/borislitvak","followers_url":"https://api.github.com/users/borislitvak/followers","following_url":"https://api.github.com/users/borislitvak/following{/other_user}","gists_url":"https://api.github.com/users/borislitvak/gists{/gist_id}","starred_url":"https://api.github.com/users/borislitvak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borislitvak/subscriptions","organizations_url":"https://api.github.com/users/borislitvak/orgs","repos_url":"https://api.github.com/users/borislitvak/repos","events_url":"https://api.github.com/users/borislitvak/events{/privacy}","received_events_url":"https://api.github.com/users/borislitvak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T11:58:24Z","updated_at":"2020-12-11T11:59:23Z","author_association":"NONE","body":"Well, perhaps Hudi & Delta should consider doing things [the way Iceberg does it](https://github.com/apache/iceberg/issues/1912).\r\n\r\nI do not have a deep insight into any of these 3 projects, but this seems to be one of the differentiators.\r\n\r\n@vinothchandar Have I missed anything here? Some performance hits?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743152766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743188122","html_url":"https://github.com/apache/hudi/pull/2225#issuecomment-743188122","issue_url":"https://api.github.com/repos/apache/hudi/issues/2225","id":743188122,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzE4ODEyMg==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T13:19:03Z","updated_at":"2020-12-11T13:19:17Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 sounds good. so do we still need this PR?\r\n\r\n\r\n\r\n> @lw309637554 sounds good. so do we still need this PR?\r\n@vinothchandar \r\ncan close it now, when I think more better  method  such as filter the partition column when read ,  can add a new pr","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743188122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743213309","html_url":"https://github.com/apache/hudi/pull/2324#issuecomment-743213309","issue_url":"https://api.github.com/repos/apache/hudi/issues/2324","id":743213309,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzIxMzMwOQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T14:10:32Z","updated_at":"2020-12-11T14:10:32Z","author_association":"CONTRIBUTOR","body":"@lw309637554 Left some minor comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743213309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743214992","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-743214992","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":743214992,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzIxNDk5Mg==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T14:13:07Z","updated_at":"2020-12-11T14:13:07Z","author_association":"CONTRIBUTOR","body":"H @vinothchandar are you looking for the relocation here https://github.com/apache/hudi/blob/master/packaging/hudi-utilities-bundle/pom.xml#L170?\r\n```\r\n<relocation>\r\n  <pattern>org.apache.commons.codec.</pattern>\r\n  <shadedPattern>org.apache.hudi.org.apache.commons.codec.</shadedPattern>\r\n</relocation>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743214992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743246106","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743246106","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743246106,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI0NjEwNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T15:06:50Z","updated_at":"2020-12-11T15:06:50Z","author_association":"NONE","body":"Hey @borislitvak we have been working on a project that you may be interested in. [Project Nessie](https://projectnessie.org) is primarily designed to support cross table transactions and git-like branching on Data Lakes. A side effect of that is that it supports multiple Delta writers on S3 and Iceberg (w/o requiring Hive as mentioned in apache/iceberg#1912). Would love your feedback! \r\n\r\nWe haven't looked much into Hudi yet but would love to support it w/ help from the Hudi community.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743246106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743250522","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743250522","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743250522,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI1MDUyMg==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T15:13:38Z","updated_at":"2020-12-11T15:34:43Z","author_association":"CONTRIBUTOR","body":"@wangxianghu would we also add Aliyun DLA and Aliyun OSS logo to the image?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743250522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743266257","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743266257","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743266257,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI2NjI1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T15:38:44Z","updated_at":"2020-12-11T15:38:44Z","author_association":"MEMBER","body":"@borislitvak I actually think the comparison with what they suggest as a solution in iceberg is apples-oranges. \n\nLet me try and explain. The answer above pertains to writing data over s3 *without* any external catalog like Hive Metastore. Of course, if you use some kind of external server, you can grab some kind of lock. What about writes/reads that don't go thru Hive catalog and directly hit s3. Like I mentioned, without any atomic renames supported by s3 itself, its hard to do this. Finally you are comparing systems that support updates/deletes with one that does not.\n\nHudi keeps the latest instant time tracked in Hive metastore as well. It will be easy for us to support a conflict check + conditional update, which will get us same semantics. But we have been mulling if we can do better and support a CRDT style model.\n\nI would appreciate it if you can at-least cross link the caveats in your iceberg post, since it can be misleading without this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743266257/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":3,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743267089","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743267089","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743267089,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI2NzA4OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T15:40:19Z","updated_at":"2020-12-11T15:40:19Z","author_association":"MEMBER","body":"@rymurr happy to spin out a JIRA for the nessie integration and work thru it with you. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743267089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743275541","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743275541","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743275541,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI3NTU0MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T15:56:30Z","updated_at":"2020-12-11T15:56:30Z","author_association":"MEMBER","body":"Actually I am curious how nessie builds this on top of s3. @rymurr any docs @borislitvak and I can read? Do you have your own server? (Have not looked much into nessie myself)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743275541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743277688","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743277688","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743277688,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI3NzY4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T16:00:20Z","updated_at":"2020-12-11T16:11:51Z","author_association":"MEMBER","body":"@borislitvak https://twitter.com/byte_array/status/1337319056433528832?s=21 good discussion. Thanks for starting it\n\nOn performance hit, no i don't think iceberg incurs any additional performance hit due to this in the normal path. The trade off is coarser, table level locking (in contrast e.g rdbms-es do row level page level locking). So even if writes don't conflict with each other, you end up locking and failing one of the writes. Imagine that one of them is a large backfill job, then it wastes a lot of compute. \n\n\nWith conflict checks and relying on hdfs atomic renames for the update, at-least offers some mechanism to let all non-conflicting writes commit. Best approach IMO for such systems that deal with large amounts of data is to try to embrace a more log based design \n\nI know this is a lot more info than what you were probably looking for. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743277688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743286022","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-743286022","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":743286022,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI4NjAyMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T16:16:06Z","updated_at":"2020-12-11T16:16:06Z","author_association":"MEMBER","body":"@danny0405 I ll take another pass and merge this PR. This should not have any side effects so should qualify for a MINOR label. \n\nIIRC there are some JIRAs with the index/performance component around some followup ideas we discussed here","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743286022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743289804","html_url":"https://github.com/apache/hudi/pull/2319#issuecomment-743289804","issue_url":"https://api.github.com/repos/apache/hudi/issues/2319","id":743289804,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzI4OTgwNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T16:23:10Z","updated_at":"2020-12-11T16:23:10Z","author_association":"CONTRIBUTOR","body":"yeah, [same](https://github.com/apache/hudi/pull/1721) was already brought up before and we didn't proceed since it needed some perf analysis. \r\nthis was the rational:\r\neven though explodeRecordRDDWithFileComparisons(...) is called in two places, in the first place we just do count by key which may not shuffle any actual data, where as the 2nd call could incur shuffling. Hence the pattern of usage differs. More info can be found in the attached PR. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743289804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743371048","html_url":"https://github.com/apache/hudi/pull/2309#issuecomment-743371048","issue_url":"https://api.github.com/repos/apache/hudi/issues/2309","id":743371048,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM3MTA0OA==","user":{"login":"nbalajee","id":47542891,"node_id":"MDQ6VXNlcjQ3NTQyODkx","avatar_url":"https://avatars.githubusercontent.com/u/47542891?v=4","gravatar_id":"","url":"https://api.github.com/users/nbalajee","html_url":"https://github.com/nbalajee","followers_url":"https://api.github.com/users/nbalajee/followers","following_url":"https://api.github.com/users/nbalajee/following{/other_user}","gists_url":"https://api.github.com/users/nbalajee/gists{/gist_id}","starred_url":"https://api.github.com/users/nbalajee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbalajee/subscriptions","organizations_url":"https://api.github.com/users/nbalajee/orgs","repos_url":"https://api.github.com/users/nbalajee/repos","events_url":"https://api.github.com/users/nbalajee/events{/privacy}","received_events_url":"https://api.github.com/users/nbalajee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T19:07:17Z","updated_at":"2020-12-11T19:07:17Z","author_association":"CONTRIBUTOR","body":"> @nbalajee Can you please explain why do we need this ? If the latest schema is passed (which is the case for Hudi now) is this still a problem ?\r\n> @bvaradar can you please take a look at this one ?\r\n\r\n@n3nash  - Correct. When reading the parquet files, Hudi uses the writer schema (evolved schema with added fields) so that optional fields are automatically populated with null (native schema evolution).   For the rewrite(), Hudi use-cases always pass the writerSchema, so we don't run into this issue.\r\n\r\nAdded advantage of fixing this the correct way is that Hudi will be able to support  \"external schema evolution\".  (Read parquet using the reader schema, then rewrite the records using the evolved schema). ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743371048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743375285","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743375285","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743375285,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzM3NTI4NQ==","user":{"login":"borislitvak","id":9713845,"node_id":"MDQ6VXNlcjk3MTM4NDU=","avatar_url":"https://avatars.githubusercontent.com/u/9713845?v=4","gravatar_id":"","url":"https://api.github.com/users/borislitvak","html_url":"https://github.com/borislitvak","followers_url":"https://api.github.com/users/borislitvak/followers","following_url":"https://api.github.com/users/borislitvak/following{/other_user}","gists_url":"https://api.github.com/users/borislitvak/gists{/gist_id}","starred_url":"https://api.github.com/users/borislitvak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/borislitvak/subscriptions","organizations_url":"https://api.github.com/users/borislitvak/orgs","repos_url":"https://api.github.com/users/borislitvak/repos","events_url":"https://api.github.com/users/borislitvak/events{/privacy}","received_events_url":"https://api.github.com/users/borislitvak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T19:15:30Z","updated_at":"2020-12-11T19:15:30Z","author_association":"NONE","body":"@vinothchandar I have never worked with Hive, but: \r\n- It seems that the Hive (Metastore?) locking is done in Zookeeper. Thus I am not sure Iceberg is taking the logs there.\r\n- This locking can be [per partition](https://cwiki.apache.org/confluence/display/Hive/Locking)\r\n\r\nNote that I have not encountered any locking API for [AWS Glue Catalog](https://docs.aws.amazon.com/glue/latest/dg/aws-glue-api-catalog-tables.html#aws-glue-api-catalog-tables-actions), which further supports the Zookeeper hypothesis.\r\n\r\n_Suggestion 1_: \r\nIf only a partition can be locked, it can allow for table designs that mitigate the global lock issue you've described above. \r\nThis should take much less time than implementing CRDT, which bringing benefit. The downside will be partition based consistency ala [delta](https://docs.delta.io/0.7.0/presto-integration.html). \r\n\r\n_Suggestion 2_\r\nWhile on this topic, with read-after-write S3 guarantees, you can just keep this \"lock\" in S3, IMO. \r\n\r\nIf this does not take any sense, that's OK, please state so. Again, I have no experience with Hive. \r\nI don't have the time to dive any deeper.\r\n\r\nHope this helps, Boris.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743375285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743423398","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743423398","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743423398,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQyMzM5OA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T20:57:16Z","updated_at":"2020-12-11T20:57:16Z","author_association":"NONE","body":"> Actually I am curious how nessie builds this on top of s3. @rymurr any docs @borislitvak and I can read? Do you have your own server? (Have not looked much into nessie myself)\r\n\r\nHey @vinothchandar the Nessie server is a docker image or lambda image that you can run. The artifacts are [here] or on [docker hub]. It uses DynamoDB (or git if you are adventurous) as a backing store. Currently all the docs are on hte [Project Nessie](https://projectnessie.org/) webiste. Happy to answer any questions that are missing in the docs tho!\r\n\r\n> @rymurr happy to spin out a JIRA for the nessie integration and work thru it with you.\r\n\r\nWould love to. can chat on the jira ticket or ping me on the Apache Slack if you want to chat thorugh some ideas!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743423398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743488557","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743488557","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743488557,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQ4ODU1Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T00:01:48Z","updated_at":"2020-12-12T00:01:48Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu would we also add Aliyun DLA and Aliyun OSS logo to the image?\r\n\r\nmake sense. since we added the production of was. so let's also add more productions from other cloud service providers? e.g. aliyun dla, aliyun dlf, tencent emr and google cloud?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743488557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743509217","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743509217","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743509217,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzUwOTIxNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T00:29:30Z","updated_at":"2020-12-12T00:29:30Z","author_association":"MEMBER","body":"yes. we are completely neutral w.r.t cloud providers. lets do it :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743509217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743690952","html_url":"https://github.com/apache/hudi/issues/2238#issuecomment-743690952","issue_url":"https://api.github.com/repos/apache/hudi/issues/2238","id":743690952,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzY5MDk1Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T03:02:36Z","updated_at":"2020-12-12T03:02:36Z","author_association":"CONTRIBUTOR","body":"@RajasekarSribalan : can we close this issue if you don't have anything else. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743690952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743691372","html_url":"https://github.com/apache/hudi/pull/2327#issuecomment-743691372","issue_url":"https://api.github.com/repos/apache/hudi/issues/2327","id":743691372,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzY5MTM3Mg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T03:06:06Z","updated_at":"2020-12-12T03:06:06Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu would we also add Aliyun DLA and Aliyun OSS logo to the image?\r\n\r\nyes, I will add them","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743691372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743721660","html_url":"https://github.com/apache/hudi/issues/1977#issuecomment-743721660","issue_url":"https://api.github.com/repos/apache/hudi/issues/1977","id":743721660,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzcyMTY2MA==","user":{"login":"ashok-workouts","id":69157030,"node_id":"MDQ6VXNlcjY5MTU3MDMw","avatar_url":"https://avatars.githubusercontent.com/u/69157030?v=4","gravatar_id":"","url":"https://api.github.com/users/ashok-workouts","html_url":"https://github.com/ashok-workouts","followers_url":"https://api.github.com/users/ashok-workouts/followers","following_url":"https://api.github.com/users/ashok-workouts/following{/other_user}","gists_url":"https://api.github.com/users/ashok-workouts/gists{/gist_id}","starred_url":"https://api.github.com/users/ashok-workouts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashok-workouts/subscriptions","organizations_url":"https://api.github.com/users/ashok-workouts/orgs","repos_url":"https://api.github.com/users/ashok-workouts/repos","events_url":"https://api.github.com/users/ashok-workouts/events{/privacy}","received_events_url":"https://api.github.com/users/ashok-workouts/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T08:08:55Z","updated_at":"2020-12-12T08:08:55Z","author_association":"NONE","body":"Hi Friends,\n\nI have added jars and others job is working fine for less number of records\nto convert JSON to hudi format files, but in our requirement JSON files\ncontain around 6000 records so it is failing with the following error.\nCould you please help me on this issue?\nThanks in advance.\n\n\nTraceback (most recent call last): File \"/tmp/gxp-campaign-hudi.py\", line\n75, in write_json_to_hudi\ndelivered_df.write.format('hudi').options(**commonConfig).mode('append').save(target2_path)\nFile \"/opt/amazon/spark/python/lib/pyspark.zip/pyspark/sql/readwriter.py\",\nline 734, in save self._jwrite.save(path) File\n\"/opt/amazon/spark/python/lib/py4j-0.10.7-src.zip/py4j/java_gateway.py\",\nline 1257, in __call__ answer, self.gateway_client, self.target_id,\nself.name) File\n\"/opt/amazon/spark/python/lib/pyspark.zip/pyspark/sql/utils.py\", line 63,\nin deco return f(*a, **kw) File\n\"/opt/amazon/spark/python/lib/py4j-0.10.7-src.zip/py4j/protocol.py\", line\n328, in get_return_value format(target_id, \".\", name), value)\npy4j.protocol.Py4JJavaError: An error occurred while calling o160.save. :\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 0\nin stage 115.0 failed 4 times, most recent failure: Lost task 0.3 in stage\n115.0 (TID 55802, 172.34.40.188, executor 1):\norg.apache.hudi.exception.HoodieUpsertException: Error upserting bucketType\nUPDATE for partition :0 at\norg.apache.hudi.table.action.commit.BaseCommitActionExecutor.handleUpsertPartition(BaseCommitActionExecutor.java:264)\nat\norg.apache.hudi.table.action.commit.BaseCommitActionExecutor.lambda$execute$caffe4c4$1(BaseCommitActionExecutor.java:97)\nat\norg.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\nat\norg.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\nat\norg.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$25.apply(RDD.scala:853)\nat\norg.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$25.apply(RDD.scala:853)\nat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324) at\norg.apache.spark.rdd.RDD.iterator(RDD.scala:288) at\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) at\norg.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324) at\norg.apache.spark.rdd.RDD$$anonfun$7.apply(RDD.scala:337) at\norg.apache.spark.rdd.RDD$$anonfun$7.apply(RDD.scala:335) at\norg.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1182)\nat\norg.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1156)\nat org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:1091) at\norg.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:1156)\nat\norg.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:882)\nat org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:335) at\norg.apache.spark.rdd.RDD.iterator(RDD.scala:286) at\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) at\norg.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324) at\norg.apache.spark.rdd.RDD.iterator(RDD.scala:288) at\norg.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) at\norg.apache.spark.scheduler.Task.run(Task.scala:121) at\norg.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360) at\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414) at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748) Caused by:\norg.apache.hudi.exception.HoodieException:\norg.apache.hudi.exception.HoodieException:\njava.util.concurrent.ExecutionException:\norg.apache.hudi.exception.HoodieException: operation has failed at\norg.apache.hudi.table.action.commit.MergeHelper.runMerge(MergeHelper.java:100)\nat\norg.apache.hudi.table.action.commit.CommitActionExecutor.handleUpdateInternal(CommitActionExecutor.java:89)\nat\norg.apache.hudi.table.action.commit.CommitActionExecutor.handleUpdate(CommitActionExecutor.java:73)\nat\norg.apache.hudi.table.action.commit.BaseCommitActionExecutor.handleUpsertPartition(BaseCommitActionExecutor.java:257)\n... 30 more Caused by: org.apache.hudi.exception.HoodieException:\njava.util.concurrent.ExecutionException:\norg.apache.hudi.exception.HoodieException: operation has failed at\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.execute(BoundedInMemoryExecutor.java:143)\nat\norg.apache.hudi.table.action.commit.MergeHelper.runMerge(MergeHelper.java:98)\n... 33 more Caused by: java.util.concurrent.ExecutionException:\norg.apache.hudi.exception.HoodieException: operation has failed at\njava.util.concurrent.FutureTask.report(FutureTask.java:122) at\njava.util.concurrent.FutureTask.get(FutureTask.java:192) at\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.execute(BoundedInMemoryExecutor.java:141)\n... 34 more Caused by: org.apache.hudi.exception.HoodieException: operation\nhas failed at\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue.throwExceptionIfFailed(BoundedInMemoryQueue.java:227)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue.readNextRecord(BoundedInMemoryQueue.java:206)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue.access$100(BoundedInMemoryQueue.java:52)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue$QueueIterator.hasNext(BoundedInMemoryQueue.java:257)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueueConsumer.consume(BoundedInMemoryQueueConsumer.java:36)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$2(BoundedInMemoryExecutor.java:121)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ... 3 more\nCaused by: org.apache.parquet.io.InvalidRecordException: Parquet/Avro\nschema mismatch: Avro field 'date' not found at\norg.apache.parquet.avro.AvroRecordConverter.getAvroField(AvroRecordConverter.java:225)\nat\norg.apache.parquet.avro.AvroRecordConverter.<init>(AvroRecordConverter.java:130)\nat\norg.apache.parquet.avro.AvroRecordConverter.<init>(AvroRecordConverter.java:95)\nat\norg.apache.parquet.avro.AvroRecordMaterializer.<init>(AvroRecordMaterializer.java:33)\nat\norg.apache.parquet.avro.AvroReadSupport.prepareForRead(AvroReadSupport.java:138)\nat\norg.apache.parquet.hadoop.InternalParquetRecordReader.initialize(InternalParquetRecordReader.java:183)\nat\norg.apache.parquet.hadoop.ParquetReader.initReader(ParquetReader.java:156)\nat org.apache.parquet.hadoop.ParquetReader.read(ParquetReader.java:135) at\norg.apache.hudi.common.util.ParquetReaderIterator.hasNext(ParquetReaderIterator.java:49)\nat\norg.apache.hudi.common.util.queue.IteratorBasedQueueProducer.produce(IteratorBasedQueueProducer.java:45)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$0(BoundedInMemoryExecutor.java:92)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) at\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ...\n4 more Driver stacktrace: at org.apache.spark.scheduler.DAGScheduler.org\n<http://org.apache.spark.scheduler.dagscheduler.org/>$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1889)\nat\norg.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1877)\nat\norg.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1876)\nat\nscala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\nat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48) at\norg.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1876)\nat\norg.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:926)\nat\norg.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:926)\nat scala.Option.foreach(Option.scala:257) at\norg.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:926)\nat\norg.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2110)\nat\norg.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2059)\nat\norg.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2048)\nat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49) at\norg.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:737) at\norg.apache.spark.SparkContext.runJob(SparkContext.scala:2061) at\norg.apache.spark.SparkContext.runJob(SparkContext.scala:2082) at\norg.apache.spark.SparkContext.runJob(SparkContext.scala:2101) at\norg.apache.spark.SparkContext.runJob(SparkContext.scala:2126) at\norg.apache.spark.rdd.RDD.count(RDD.scala:1168) at\norg.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:389)\nat\norg.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:205)\nat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:125) at\norg.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\nat\norg.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\nat\norg.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\nat\norg.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\nat\norg.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\nat\norg.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\nat\norg.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\nat\norg.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\nat\norg.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\nat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127) at\norg.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\nat\norg.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\nat\norg.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\nat\norg.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\nat\norg.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:78)\nat\norg.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\nat\norg.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\nat\norg.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\nat\norg.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:285)\nat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:271) at\norg.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229) at\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498) at\npy4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244) at\npy4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357) at\npy4j.Gateway.invoke(Gateway.java:282) at\npy4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132) at\npy4j.commands.CallCommand.execute(CallCommand.java:79) at\npy4j.GatewayConnection.run(GatewayConnection.java:238) at\njava.lang.Thread.run(Thread.java:748) Caused by:\norg.apache.hudi.exception.HoodieUpsertException: Error upserting bucketType\nUPDATE for partition :0 at\norg.apache.hudi.table.action.commit.BaseCommitActionExecutor.handleUpsertPartition(BaseCommitActionExecutor.java:264)\nat\norg.apache.hudi.table.action.commit.BaseCommitActionExecutor.lambda$execute$caffe4c4$1(BaseCommitActionExecutor.java:97)\nat\norg.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\nat\norg.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\nat\norg.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$25.apply(RDD.scala:853)\nat\norg.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$25.apply(RDD.scala:853)\nat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324) at\norg.apache.spark.rdd.RDD.iterator(RDD.scala:288) at\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) at\norg.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324) at\norg.apache.spark.rdd.RDD$$anonfun$7.apply(RDD.scala:337) at\norg.apache.spark.rdd.RDD$$anonfun$7.apply(RDD.scala:335) at\norg.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1182)\nat\norg.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:1156)\nat org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:1091) at\norg.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:1156)\nat\norg.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:882)\nat org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:335) at\norg.apache.spark.rdd.RDD.iterator(RDD.scala:286) at\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) at\norg.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324) at\norg.apache.spark.rdd.RDD.iterator(RDD.scala:288) at\norg.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) at\norg.apache.spark.scheduler.Task.run(Task.scala:121) at\norg.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360) at\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414) at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n... 1 more Caused by: org.apache.hudi.exception.HoodieException:\norg.apache.hudi.exception.HoodieException:\njava.util.concurrent.ExecutionException:\norg.apache.hudi.exception.HoodieException: operation has failed at\norg.apache.hudi.table.action.commit.MergeHelper.runMerge(MergeHelper.java:100)\nat\norg.apache.hudi.table.action.commit.CommitActionExecutor.handleUpdateInternal(CommitActionExecutor.java:89)\nat\norg.apache.hudi.table.action.commit.CommitActionExecutor.handleUpdate(CommitActionExecutor.java:73)\nat\norg.apache.hudi.table.action.commit.BaseCommitActionExecutor.handleUpsertPartition(BaseCommitActionExecutor.java:257)\n... 30 more Caused by: org.apache.hudi.exception.HoodieException:\njava.util.concurrent.ExecutionException:\norg.apache.hudi.exception.HoodieException: operation has failed at\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.execute(BoundedInMemoryExecutor.java:143)\nat\norg.apache.hudi.table.action.commit.MergeHelper.runMerge(MergeHelper.java:98)\n... 33 more Caused by: java.util.concurrent.ExecutionException:\norg.apache.hudi.exception.HoodieException: operation has failed at\njava.util.concurrent.FutureTask.report(FutureTask.java:122) at\njava.util.concurrent.FutureTask.get(FutureTask.java:192) at\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.execute(BoundedInMemoryExecutor.java:141)\n... 34 more Caused by: org.apache.hudi.exception.HoodieException: operation\nhas failed at\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue.throwExceptionIfFailed(BoundedInMemoryQueue.java:227)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue.readNextRecord(BoundedInMemoryQueue.java:206)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue.access$100(BoundedInMemoryQueue.java:52)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueue$QueueIterator.hasNext(BoundedInMemoryQueue.java:257)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryQueueConsumer.consume(BoundedInMemoryQueueConsumer.java:36)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$2(BoundedInMemoryExecutor.java:121)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ... 3 more\nCaused by: org.apache.parquet.io.InvalidRecordException: Parquet/Avro\nschema mismatch: Avro field 'date' not found at\norg.apache.parquet.avro.AvroRecordConverter.getAvroField(AvroRecordConverter.java:225)\nat\norg.apache.parquet.avro.AvroRecordConverter.<init>(AvroRecordConverter.java:130)\nat\norg.apache.parquet.avro.AvroRecordConverter.<init>(AvroRecordConverter.java:95)\nat\norg.apache.parquet.avro.AvroRecordMaterializer.<init>(AvroRecordMaterializer.java:33)\nat\norg.apache.parquet.avro.AvroReadSupport.prepareForRead(AvroReadSupport.java:138)\nat\norg.apache.parquet.hadoop.InternalParquetRecordReader.initialize(InternalParquetRecordReader.java:183)\nat\norg.apache.parquet.hadoop.ParquetReader.initReader(ParquetReader.java:156)\nat org.apache.parquet.hadoop.ParquetReader.read(ParquetReader.java:135) at\norg.apache.hudi.common.util.ParquetReaderIterator.hasNext(ParquetReaderIterator.java:49)\nat\norg.apache.hudi.common.util.queue.IteratorBasedQueueProducer.produce(IteratorBasedQueueProducer.java:45)\nat\norg.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$0(BoundedInMemoryExecutor.java:92)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) at\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ...\n4 more During handling of the above exception, another exception occurred:\nTraceback (most recent call last): File \"/tmp/gxp-campaign-hudi.py\", line\n44, in read_json_rename_columns write_json_to_hudi(target_bucket, df) File\n\"/tmp/gxp-campaign-hudi.py\", line 78, in write_json_to_hudi\nlogging.exception(\"GXP: The function 'write_json_to_hudi()' failed to write\nas hudi format. Error Detected:{1}\".format(str(e))) IndexError: tuple index\nout of range During handling of the above exception, another exception\noccurred: Traceback (most recent call last): File\n\"/tmp/gxp-campaign-hudi.py\", line 99, in get_json_prefix\nread_json_rename_columns(source_bucket, prefix_set) File\n\"/tmp/gxp-campaign-hudi.py\", line 46, in read_json_rename_columns\nlogging.exception(\"GXP: The function 'read_json_rename_columns()' failed to\nread json file. Error Detected:{1}\".format(str(e))) IndexError: tuple index\nout of range During handling of the above exception, another exception\noccurred: Traceback (most recent call last): File\n\"/tmp/gxp-campaign-hudi.py\", line 116, in <module>\nget_json_prefix(s3_client, source_bucket, s3_prefix) File\n\"/tmp/gxp-campaign-hudi.py\", line 101, in get_json_prefix\nlogging.exception(\"GXP: The function 'get_json_prefix()' failed to get json\nfile prefix. Error Detected:{1}\".format(str(e))) IndexError: tuple index\nout of range\n\n\nBest Regards,\nAshok,\n+91 9600078919\n\n\n\nOn Mon, Dec 7, 2020, 11:24 AM Karthick Natarajan <notifications@github.com>\nwrote:\n\n> @ashok-workouts <https://github.com/ashok-workouts> Verify if you're\n> using the same version of spark-avro dependency as your spark version and\n> also the scala build versions between spark-avro and hudi-spark-bundle.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/hudi/issues/1977#issuecomment-739684444>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AQPUBJVG2MNHOYCORXOZDT3STRUY7ANCNFSM4QDKBVPQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743721660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743731205","html_url":"https://github.com/apache/hudi/pull/2262#issuecomment-743731205","issue_url":"https://api.github.com/repos/apache/hudi/issues/2262","id":743731205,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczMTIwNQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T09:44:24Z","updated_at":"2020-12-12T09:44:24Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 Can you help to review this PR. @linshan-ma It would be better to make the title of the issue more descriable.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743731205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743731390","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-743731390","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":743731390,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczMTM5MA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T09:46:09Z","updated_at":"2020-12-12T09:46:09Z","author_association":"CONTRIBUTOR","body":"What's the status of this PR? @liujinhui1994 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743731390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743731733","html_url":"https://github.com/apache/hudi/pull/2286#issuecomment-743731733","issue_url":"https://api.github.com/repos/apache/hudi/issues/2286","id":743731733,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzczMTczMw==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T09:49:46Z","updated_at":"2020-12-12T09:49:46Z","author_association":"CONTRIBUTOR","body":"@garyli1019 Can you take a look at this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743731733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743766537","html_url":"https://github.com/apache/hudi/pull/2324#issuecomment-743766537","issue_url":"https://api.github.com/repos/apache/hudi/issues/2324","id":743766537,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc2NjUzNw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T14:47:13Z","updated_at":"2020-12-12T14:47:13Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 Left some minor comments.\r\n\r\n@leesf  thanks , have resolved","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743766537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743766577","html_url":"https://github.com/apache/hudi/pull/2322#issuecomment-743766577","issue_url":"https://api.github.com/repos/apache/hudi/issues/2322","id":743766577,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc2NjU3Nw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T14:47:33Z","updated_at":"2020-12-12T14:47:33Z","author_association":"CONTRIBUTOR","body":"@leesf  thanks , have resolved","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743766577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743769396","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-743769396","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":743769396,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzc2OTM5Ng==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T15:08:54Z","updated_at":"2020-12-12T15:08:54Z","author_association":"CONTRIBUTOR","body":"> > option 1: check GLOBAL_BLOOM incompatible with BLOOM strict. It will be concise\r\n> \r\n> yes. but that takes the flexibilty away. I have seen users start with global bloom and then move to bloom, for perf reasons for eg.\r\n> \r\n> actually. option 2, seems like the right thing to me. but I can see that it's heavy weight. Ideally, hoodie.properties is a hudi file group, that can take updates or is versioned as well. that's also a large change.\r\n> \r\n> So, I am actually bit puzzled. :| Let me think more.\r\n> if you have any other way out of this, please let me know as well .\r\n\r\n@vinothchandar thanks , i think we can do as option2.\r\njust like AbstractUpgradeDowngrade update the properties. but at index persist scenario, we can retain the old properties endwith the version of timestamp","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743769396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743855911","html_url":"https://github.com/apache/hudi/pull/2311#issuecomment-743855911","issue_url":"https://api.github.com/repos/apache/hudi/issues/2311","id":743855911,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzg1NTkxMQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T20:51:48Z","updated_at":"2020-12-12T20:51:48Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @garyli1019 : I did some revamp based on feedback. Patch is ready to be reviewed again. \r\nOpen to naming the new class differently. Also, will fix java docs for new class based on it. As of now, it says default payload class used in deltastreamer. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743855911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743932118","html_url":"https://github.com/apache/hudi/issues/2330#issuecomment-743932118","issue_url":"https://api.github.com/repos/apache/hudi/issues/2330","id":743932118,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzkzMjExOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T01:32:55Z","updated_at":"2020-12-13T01:32:55Z","author_association":"MEMBER","body":"@rymurr Sg. we can discuss more here. https://issues.apache.org/jira/browse/HUDI-1455 if that works. \r\n\r\n@borislitvak This is definitely helpful. For Hudi, we would like to build \"file\" level granularity of locking ideally. That's how the rest of the bookkeeping operations are designed today. We will take these into consideration for the upcoming RFC-22 on concurrent parallel writing design. Thanks again! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743932118/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743943123","html_url":"https://github.com/apache/hudi/pull/2292#issuecomment-743943123","issue_url":"https://api.github.com/repos/apache/hudi/issues/2292","id":743943123,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzk0MzEyMw==","user":{"login":"yui2010","id":3294003,"node_id":"MDQ6VXNlcjMyOTQwMDM=","avatar_url":"https://avatars.githubusercontent.com/u/3294003?v=4","gravatar_id":"","url":"https://api.github.com/users/yui2010","html_url":"https://github.com/yui2010","followers_url":"https://api.github.com/users/yui2010/followers","following_url":"https://api.github.com/users/yui2010/following{/other_user}","gists_url":"https://api.github.com/users/yui2010/gists{/gist_id}","starred_url":"https://api.github.com/users/yui2010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yui2010/subscriptions","organizations_url":"https://api.github.com/users/yui2010/orgs","repos_url":"https://api.github.com/users/yui2010/repos","events_url":"https://api.github.com/users/yui2010/events{/privacy}","received_events_url":"https://api.github.com/users/yui2010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T03:37:37Z","updated_at":"2020-12-13T03:37:37Z","author_association":"CONTRIBUTOR","body":"Hi @vinothchandar @garyli1019  .  I have added testKeepLatestCommitsMOR for cover this situation","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743943123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743946251","html_url":"https://github.com/apache/hudi/pull/2292#issuecomment-743946251","issue_url":"https://api.github.com/repos/apache/hudi/issues/2292","id":743946251,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mzk0NjI1MQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T04:16:29Z","updated_at":"2020-12-13T04:16:29Z","author_association":"MEMBER","body":"LGTM! Will merge once CI pass","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/743946251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744015909","html_url":"https://github.com/apache/hudi/pull/2292#issuecomment-744015909","issue_url":"https://api.github.com/repos/apache/hudi/issues/2292","id":744015909,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDAxNTkwOQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T14:29:37Z","updated_at":"2020-12-13T14:29:37Z","author_association":"MEMBER","body":"@yui2010 merged. Thanks for your contribution! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744015909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744018999","html_url":"https://github.com/apache/hudi/pull/2263#issuecomment-744018999","issue_url":"https://api.github.com/repos/apache/hudi/issues/2263","id":744018999,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDAxODk5OQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T14:54:52Z","updated_at":"2020-12-13T14:54:52Z","author_association":"CONTRIBUTOR","body":"> > @satishkotha high level 2 outstanding questions\r\n> > a) Moving sortKey into HoodieRecord is needed only if we see performance degradation in conversion, if not we can keep it that way\r\n> > b) Keep the old way of reading file slice with and without log files as long as no memory overhead for without log files\r\n> \r\n> @n3nash Both of these are performance related. My guess is this takes 3-4 weeks to test out with proper setup at scale (there are some issues because of separate branches etc). I think I addressed all of your other comments and fixed few issues I found with small scale.\r\n> \r\n> Let me know if you have any other feedback.\r\n\r\n@satishkotha i also plan to do some performance test, such as kafka message large-scale  insert and then clustering period.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744018999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744023251","html_url":"https://github.com/apache/hudi/pull/1650#issuecomment-744023251","issue_url":"https://api.github.com/repos/apache/hudi/issues/1650","id":744023251,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDAyMzI1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T15:24:35Z","updated_at":"2021-01-28T05:09:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/1650?src=pr&el=h1) Report\n> Merging [#1650](https://codecov.io/gh/apache/hudi/pull/1650?src=pr&el=desc) (a61fab3) into [master](https://codecov.io/gh/apache/hudi/commit/c8ee40f8ae34607072a27d4e7ccb21fc4df13ca1?el=desc) (c8ee40f) will **not change** coverage.\n> The diff coverage is `45.55%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/1650/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/1650?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #1650   +/-   ##\n=========================================\n  Coverage     50.18%   50.18%           \n  Complexity     3051     3051           \n=========================================\n  Files           419      419           \n  Lines         18931    18931           \n  Branches       1948     1948           \n=========================================\n  Hits           9501     9501           \n  Misses         8656     8656           \n  Partials        774      774           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.21% <25.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.49% <34.84%> (ø)` | `0.00 <11.00> (ø)` | |\n| hudiflink | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `65.85% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <88.23%> (ø)` | `0.00 <7.00> (ø)` | |\n| hudiutilities | `69.48% <100.00%> (ø)` | `0.00 <1.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/1650?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rg/apache/hudi/cli/commands/CompactionCommand.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0NvbXBhY3Rpb25Db21tYW5kLmphdmE=) | `0.80% <0.00%> (ø)` | `2.00 <0.00> (ø)` | |\n| [...udi/common/table/timeline/dto/CompactionOpDTO.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9Db21wYWN0aW9uT3BEVE8uamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...on/table/view/RemoteHoodieTableFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvUmVtb3RlSG9vZGllVGFibGVGaWxlU3lzdGVtVmlldy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [.../apache/hudi/operator/InstantGenerateOperator.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9vcGVyYXRvci9JbnN0YW50R2VuZXJhdGVPcGVyYXRvci5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...udi/timeline/service/handlers/BaseFileHandler.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvaGFuZGxlcnMvQmFzZUZpbGVIYW5kbGVyLmphdmE=) | `66.66% <ø> (ø)` | `6.00 <0.00> (ø)` | |\n| [.../apache/hudi/common/model/CompactionOperation.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0NvbXBhY3Rpb25PcGVyYXRpb24uamF2YQ==) | `34.42% <17.64%> (ø)` | `16.00 <2.00> (ø)` | |\n| [...pache/hudi/cli/commands/FileSystemViewCommand.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0ZpbGVTeXN0ZW1WaWV3Q29tbWFuZC5qYXZh) | `82.60% <33.33%> (ø)` | `19.00 <0.00> (ø)` | |\n| [.../org/apache/hudi/common/model/HoodieFileGroup.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUZpbGVHcm91cC5qYXZh) | `84.48% <66.66%> (ø)` | `28.00 <1.00> (ø)` | |\n| [...g/apache/hudi/common/util/RocksDBSchemaHelper.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUm9ja3NEQlNjaGVtYUhlbHBlci5qYXZh) | `96.87% <66.66%> (ø)` | `21.00 <2.00> (ø)` | |\n| [.../common/table/view/RocksDbBasedFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvUm9ja3NEYkJhc2VkRmlsZVN5c3RlbVZpZXcuamF2YQ==) | `80.40% <87.50%> (ø)` | `72.00 <2.00> (ø)` | |\n| ... and [5 more](https://codecov.io/gh/apache/hudi/pull/1650/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744023251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744026130","html_url":"https://github.com/apache/hudi/issues/2303#issuecomment-744026130","issue_url":"https://api.github.com/repos/apache/hudi/issues/2303","id":744026130,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDAyNjEzMA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T15:45:06Z","updated_at":"2020-12-13T15:45:06Z","author_association":"MEMBER","body":"Hi, would you share more info about your spark job? like executor memory, cores per executor, numbers of executors e.t.c. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744026130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744026291","html_url":"https://github.com/apache/hudi/issues/2303#issuecomment-744026291","issue_url":"https://api.github.com/repos/apache/hudi/issues/2303","id":744026291,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDAyNjI5MQ==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T15:46:22Z","updated_at":"2020-12-13T15:46:22Z","author_association":"MEMBER","body":"tuning guide: https://cwiki.apache.org/confluence/display/HUDI/Tuning+Guide","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744026291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744079803","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-744079803","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":744079803,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDA3OTgwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T22:32:47Z","updated_at":"2020-12-13T22:32:47Z","author_association":"MEMBER","body":"@prashantwason this is an issue that will hit metadata table as well when rollovers happen. We did not see this thus far in tests since it was using hdfs which supports appends. Once I switched to local FS, I can see this issue actually \r\n\r\ncc @n3nash  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744079803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744081502","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-744081502","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":744081502,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDA4MTUwMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T22:45:41Z","updated_at":"2020-12-13T22:45:41Z","author_association":"MEMBER","body":"@garyli1019 I think we should return a List<WriteStat> from the append handle to be safe, given we can rollover the logs multiple times even for the same write ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744081502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744086924","html_url":"https://github.com/apache/hudi/pull/2332#issuecomment-744086924","issue_url":"https://api.github.com/repos/apache/hudi/issues/2332","id":744086924,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDA4NjkyNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T23:24:48Z","updated_at":"2020-12-13T23:24:48Z","author_association":"MEMBER","body":"@prashantwason @umehrot2 @rmpifer Reworked the sync algorithm. #2300 needs to fixed before MOR can fully work, but should work nonetheless. \r\n\r\n@prashantwason Please take a careful pass at the code I have removed at various places. Merging this in the next day or so, would be great ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744086924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744087706","html_url":"https://github.com/apache/hudi/pull/2332#issuecomment-744087706","issue_url":"https://api.github.com/repos/apache/hudi/issues/2332","id":744087706,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDA4NzcwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-13T23:30:12Z","updated_at":"2020-12-13T23:58:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2332?src=pr&el=h1) Report\n> Merging [#2332](https://codecov.io/gh/apache/hudi/pull/2332?src=pr&el=desc) (862d501) into [rfc-15](https://codecov.io/gh/apache/hudi/commit/7d31f0ab1aff1eed56fcb5c473c32fc7ed83847e?el=desc) (7d31f0a) will **decrease** coverage by `0.00%`.\n> The diff coverage is `38.09%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2332/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2332?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             rfc-15    #2332      +/-   ##\n============================================\n- Coverage     59.45%   59.45%   -0.01%     \n+ Complexity     4604     4594      -10     \n============================================\n  Files           573      573              \n  Lines         24400    24353      -47     \n  Branches       2445     2440       -5     \n============================================\n- Hits          14506    14478      -28     \n+ Misses         8848     8825      -23     \n- Partials       1046     1050       +4     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `66.70% <66.66%> (-0.18%)` | `0.00 <1.00> (ø)` | |\n| hudiclient | `75.39% <76.19%> (-0.20%)` | `0.00 <1.00> (ø)` | |\n| hudicommon | `52.78% <0.00%> (+0.19%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.05% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudispark | `67.19% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.43% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.38% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2332?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/cli/commands/MetadataCommand.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL01ldGFkYXRhQ29tbWFuZC5qYXZh) | `1.12% <0.00%> (+0.01%)` | `1.00 <0.00> (ø)` | |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `77.01% <ø> (-0.27%)` | `21.00 <0.00> (ø)` | |\n| [...c/main/java/org/apache/hudi/table/HoodieTable.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllVGFibGUuamF2YQ==) | `88.02% <ø> (-0.25%)` | `58.00 <0.00> (-2.00)` | |\n| [...e/hudi/table/action/clean/CleanActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NsZWFuL0NsZWFuQWN0aW9uRXhlY3V0b3IuamF2YQ==) | `89.28% <ø> (-0.08%)` | `30.00 <0.00> (ø)` | |\n| [.../table/action/commit/BaseCommitActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9CYXNlQ29tbWl0QWN0aW9uRXhlY3V0b3IuamF2YQ==) | `87.60% <ø> (-0.11%)` | `27.00 <0.00> (ø)` | |\n| [...able/action/restore/BaseRestoreActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3Jlc3RvcmUvQmFzZVJlc3RvcmVBY3Rpb25FeGVjdXRvci5qYXZh) | `93.54% <ø> (-0.21%)` | `7.00 <0.00> (ø)` | |\n| [...le/action/rollback/BaseRollbackActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL3JvbGxiYWNrL0Jhc2VSb2xsYmFja0FjdGlvbkV4ZWN1dG9yLmphdmE=) | `75.00% <ø> (-0.29%)` | `25.00 <0.00> (ø)` | |\n| [...di/common/table/timeline/HoodieActiveTimeline.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFjdGl2ZVRpbWVsaW5lLmphdmE=) | `73.73% <ø> (ø)` | `40.00 <0.00> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/hudi/metadata/HoodieMetadataMetrics.java](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXRyaWNzLmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| ... and [11 more](https://codecov.io/gh/apache/hudi/pull/2332/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744087706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744113761","html_url":"https://github.com/apache/hudi/pull/2286#issuecomment-744113761","issue_url":"https://api.github.com/repos/apache/hudi/issues/2286","id":744113761,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDExMzc2MQ==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T01:33:16Z","updated_at":"2020-12-14T01:33:16Z","author_association":"CONTRIBUTOR","body":"@wangxianghu  @vinothchandar Can you take a look at this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744113761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744141158","html_url":"https://github.com/apache/hudi/pull/2300#issuecomment-744141158","issue_url":"https://api.github.com/repos/apache/hudi/issues/2300","id":744141158,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDE0MTE1OA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T03:23:01Z","updated_at":"2020-12-14T03:23:01Z","author_association":"MEMBER","body":"> @garyli1019 I think we should return a List from the append handle to be safe, given we can rollover the logs multiple times even for the same write ?\r\n\r\n@vinothchandar maybe save the base file path as well? This could be useful for incremental pulling.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744141158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744187246","html_url":"https://github.com/apache/hudi/issues/2321#issuecomment-744187246","issue_url":"https://api.github.com/repos/apache/hudi/issues/2321","id":744187246,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDE4NzI0Ng==","user":{"login":"PavelPetukhov","id":2112085,"node_id":"MDQ6VXNlcjIxMTIwODU=","avatar_url":"https://avatars.githubusercontent.com/u/2112085?v=4","gravatar_id":"","url":"https://api.github.com/users/PavelPetukhov","html_url":"https://github.com/PavelPetukhov","followers_url":"https://api.github.com/users/PavelPetukhov/followers","following_url":"https://api.github.com/users/PavelPetukhov/following{/other_user}","gists_url":"https://api.github.com/users/PavelPetukhov/gists{/gist_id}","starred_url":"https://api.github.com/users/PavelPetukhov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PavelPetukhov/subscriptions","organizations_url":"https://api.github.com/users/PavelPetukhov/orgs","repos_url":"https://api.github.com/users/PavelPetukhov/repos","events_url":"https://api.github.com/users/PavelPetukhov/events{/privacy}","received_events_url":"https://api.github.com/users/PavelPetukhov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T05:52:21Z","updated_at":"2020-12-14T05:52:21Z","author_association":"NONE","body":"Thanks a lot for the quick response! \r\n\r\nNice, didn't know about hoodie-conf hoodie.embed.timeline.server option\r\n\r\nFor now, I removed old tables, created new ones and jobs are not crashing","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744187246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744510303","html_url":"https://github.com/apache/hudi/pull/2320#issuecomment-744510303","issue_url":"https://api.github.com/repos/apache/hudi/issues/2320","id":744510303,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDUxMDMwMw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T15:18:56Z","updated_at":"2020-12-14T15:18:56Z","author_association":"MEMBER","body":"Hi @manijndl7 , thanks for your contribution. Excited to see this feature coming! \r\nWould you write some test cases to verify this will work? Also, the end to end test is easy to write as well. Please check the test cases in `hudi-spark` module.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744510303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744511122","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-744511122","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":744511122,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDUxMTEyMg==","user":{"login":"kirqz23","id":22114492,"node_id":"MDQ6VXNlcjIyMTE0NDky","avatar_url":"https://avatars.githubusercontent.com/u/22114492?v=4","gravatar_id":"","url":"https://api.github.com/users/kirqz23","html_url":"https://github.com/kirqz23","followers_url":"https://api.github.com/users/kirqz23/followers","following_url":"https://api.github.com/users/kirqz23/following{/other_user}","gists_url":"https://api.github.com/users/kirqz23/gists{/gist_id}","starred_url":"https://api.github.com/users/kirqz23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirqz23/subscriptions","organizations_url":"https://api.github.com/users/kirqz23/orgs","repos_url":"https://api.github.com/users/kirqz23/repos","events_url":"https://api.github.com/users/kirqz23/events{/privacy}","received_events_url":"https://api.github.com/users/kirqz23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T15:20:15Z","updated_at":"2020-12-14T15:20:15Z","author_association":"NONE","body":"Hi guys, do you have any update here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744511122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744582334","html_url":"https://github.com/apache/hudi/pull/2333#issuecomment-744582334","issue_url":"https://api.github.com/repos/apache/hudi/issues/2333","id":744582334,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDU4MjMzNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T17:12:16Z","updated_at":"2020-12-15T21:20:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2333?src=pr&el=h1) Report\n> Merging [#2333](https://codecov.io/gh/apache/hudi/pull/2333?src=pr&el=desc) (366f985) into [master](https://codecov.io/gh/apache/hudi/commit/11bc1fe6f498850d2c496151741813001d3850a3?el=desc) (11bc1fe) will **decrease** coverage by `0.06%`.\n> The diff coverage is `4.76%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2333/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2333?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2333      +/-   ##\n============================================\n- Coverage     52.35%   52.28%   -0.07%     \n  Complexity     2631     2631              \n============================================\n  Files           329      330       +1     \n  Lines         14808    14829      +21     \n  Branches       1484     1487       +3     \n============================================\n+ Hits           7752     7753       +1     \n- Misses         6441     6460      +19     \n- Partials        615      616       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `38.83% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `54.95% <4.76%> (-0.12%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.29% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `65.30% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `70.11% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2333?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/common/model/PartialUpdatePayload.java](https://codecov.io/gh/apache/hudi/pull/2333/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL1BhcnRpYWxVcGRhdGVQYXlsb2FkLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [.../java/org/apache/hudi/common/util/CommitUtils.java](https://codecov.io/gh/apache/hudi/pull/2333/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ29tbWl0VXRpbHMuamF2YQ==) | `61.29% <16.66%> (-10.71%)` | `6.00 <0.00> (ø)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744582334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744642087","html_url":"https://github.com/apache/hudi/pull/2168#issuecomment-744642087","issue_url":"https://api.github.com/repos/apache/hudi/issues/2168","id":744642087,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY0MjA4Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:58:19Z","updated_at":"2020-12-14T18:58:19Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Yes, please go ahead and change the DAG to the new format. If there is any easy way to make sure the DagUtils ensure the new dag and old are backwards compatible (by providing defaults) would be great. \r\n\r\nFor the following code, see my comment\r\n\r\nif (!numFiles.isPresent() || numFiles.get() == 0) {\r\n      numFilesToUpdate = (int) Math.ceil((double) numRecordsToUpdate.get() / recordsInSingleFile); // Nishith - This line ensures we are updating only the number of files that we should based on this math. I think the bug will happen when there is only 1 file to update (numRecordsToUpdate < recordsInSingleFile). We should add a check if that's the case and update numRecordsToUpdatePerFile to numRecordsToUpdate in that case. \r\n\r\n      int totalExistingFilesCount = partitionToFileIdCountMap.values().stream().reduce((a, b) -> a + b).get();\r\n      numFilesToUpdate = Math.min(numFilesToUpdate, totalExistingFilesCount);\r\n      numRecordsToUpdatePerFile = recordsInSingleFile; // this line ignores the numRecordsToUpdate passed in and sets to total records in one single file slice. \r\n    }","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744642087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744642399","html_url":"https://github.com/apache/hudi/pull/2301#issuecomment-744642399","issue_url":"https://api.github.com/repos/apache/hudi/issues/2301","id":744642399,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY0MjM5OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T18:58:55Z","updated_at":"2020-12-14T18:58:55Z","author_association":"CONTRIBUTOR","body":"@bvaradar Could you please take a look at this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744642399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744696403","html_url":"https://github.com/apache/hudi/issues/2329#issuecomment-744696403","issue_url":"https://api.github.com/repos/apache/hudi/issues/2329","id":744696403,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY5NjQwMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:38:40Z","updated_at":"2020-12-14T20:38:40Z","author_association":"CONTRIBUTOR","body":"@sumihehe : Can you provide access to the google docs you shared.\r\n@n3nash : This is regarding time-travel ability.  Can you review the doc when it is available ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744696403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744697275","html_url":"https://github.com/apache/hudi/issues/2053#issuecomment-744697275","issue_url":"https://api.github.com/repos/apache/hudi/issues/2053","id":744697275,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY5NzI3NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:40:20Z","updated_at":"2020-12-14T20:40:20Z","author_association":"CONTRIBUTOR","body":"@vinothsiva1989 : If you are still having issues, please reopen this GH issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744697275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744698613","html_url":"https://github.com/apache/hudi/issues/2212#issuecomment-744698613","issue_url":"https://api.github.com/repos/apache/hudi/issues/2212","id":744698613,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY5ODYxMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:42:58Z","updated_at":"2020-12-14T20:42:58Z","author_association":"CONTRIBUTOR","body":"@sathyaprakashg : Closing this as it is not a Hudi issue. Please reopen if you think otherwise.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744698613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702100","html_url":"https://github.com/apache/hudi/issues/2229#issuecomment-744702100","issue_url":"https://api.github.com/repos/apache/hudi/issues/2229","id":744702100,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwMjEwMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:49:42Z","updated_at":"2020-12-14T20:49:42Z","author_association":"CONTRIBUTOR","body":"Closing this as we have a jira and PR for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702342","html_url":"https://github.com/apache/hudi/issues/2234#issuecomment-744702342","issue_url":"https://api.github.com/repos/apache/hudi/issues/2234","id":744702342,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwMjM0Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:50:09Z","updated_at":"2020-12-14T20:50:09Z","author_association":"CONTRIBUTOR","body":"Closing this as we have a jira and PR for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702620","html_url":"https://github.com/apache/hudi/issues/2237#issuecomment-744702620","issue_url":"https://api.github.com/repos/apache/hudi/issues/2237","id":744702620,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwMjYyMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:50:42Z","updated_at":"2020-12-14T20:50:42Z","author_association":"CONTRIBUTOR","body":"@zuyanton : Any update on this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702995","html_url":"https://github.com/apache/hudi/issues/2238#issuecomment-744702995","issue_url":"https://api.github.com/repos/apache/hudi/issues/2238","id":744702995,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwMjk5NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:51:33Z","updated_at":"2020-12-14T20:51:33Z","author_association":"CONTRIBUTOR","body":"@RajasekarSribalan . Please open a new issue if you need any clarifications in this regard.\r\n\r\nThanks,\r\nBalaji.V","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744702995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744703315","html_url":"https://github.com/apache/hudi/issues/2239#issuecomment-744703315","issue_url":"https://api.github.com/repos/apache/hudi/issues/2239","id":744703315,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwMzMxNQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:52:08Z","updated_at":"2020-12-14T20:52:08Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of PR which was opened. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744703315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744704151","html_url":"https://github.com/apache/hudi/issues/2244#issuecomment-744704151","issue_url":"https://api.github.com/repos/apache/hudi/issues/2244","id":744704151,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwNDE1MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:53:44Z","updated_at":"2020-12-14T20:53:44Z","author_association":"CONTRIBUTOR","body":"The fix was merged. Closing this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744704151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744704364","html_url":"https://github.com/apache/hudi/issues/2251#issuecomment-744704364","issue_url":"https://api.github.com/repos/apache/hudi/issues/2251","id":744704364,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwNDM2NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:54:11Z","updated_at":"2020-12-14T20:54:11Z","author_association":"CONTRIBUTOR","body":"@BalaMahesh : Any updates on this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744704364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744705920","html_url":"https://github.com/apache/hudi/issues/2282#issuecomment-744705920","issue_url":"https://api.github.com/repos/apache/hudi/issues/2282","id":744705920,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwNTkyMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:57:22Z","updated_at":"2020-12-14T20:57:22Z","author_association":"CONTRIBUTOR","body":"@wosow :  Please reopen if you are still stuck.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744705920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744706795","html_url":"https://github.com/apache/hudi/issues/2294#issuecomment-744706795","issue_url":"https://api.github.com/repos/apache/hudi/issues/2294","id":744706795,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwNjc5NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:59:07Z","updated_at":"2020-12-14T20:59:07Z","author_association":"CONTRIBUTOR","body":"Closing this as we have a PR. @bhushanamk : Kindly reopen if you are still seeing issues after you tried the patch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744706795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744707459","html_url":"https://github.com/apache/hudi/issues/2321#issuecomment-744707459","issue_url":"https://api.github.com/repos/apache/hudi/issues/2321","id":744707459,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcwNzQ1OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:00:26Z","updated_at":"2020-12-14T21:00:26Z","author_association":"CONTRIBUTOR","body":"Thanks. As we have a jira, I am closing this issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744707459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744867989","html_url":"https://github.com/apache/hudi/issues/2323#issuecomment-744867989","issue_url":"https://api.github.com/repos/apache/hudi/issues/2323","id":744867989,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg2Nzk4OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:17:49Z","updated_at":"2020-12-15T00:17:49Z","author_association":"MEMBER","body":"@kirkuz did you try out simply `BLOOM` instead of `GLOBAL_BLOOM`. If we could compare either GLOBAL_SIMPLE vs GLOBAL_BLOOM (or their non global counterparts), that would help understand. You can see that the amount of data shuffled is very different for both cases,  the expensive [stage](https://github.com/apache/hudi/blob/release-0.6.0/hudi-client/src/main/java/org/apache/hudi/index/bloom/HoodieGlobalBloomIndex.java#L115) you see ends up triggering the actual check with bloom filters/records.\r\n\r\nFrom the screen shots above, I suspect the bloom filter is not as effective i.e lots of false positives leading to reading the entire set of data back for comparison (which is what the Simple index ends up doing, but without any overhead of checking filters, ranges etc). \r\n\r\nTo improve the bloom filter fpp, you could use the dynamic bloom filter which will adjust size automatically based on number of entries. \r\n\r\n```\r\nhoodie.bloom.index.filter.type=DYNAMIC_V0\r\n```\r\n\r\nI initially suspected that reading all the file ranges etc are taking time, but that's not it. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744867989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744878328","html_url":"https://github.com/apache/hudi/issues/2130#issuecomment-744878328","issue_url":"https://api.github.com/repos/apache/hudi/issues/2130","id":744878328,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg3ODMyOA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:25:46Z","updated_at":"2020-12-15T00:25:46Z","author_association":"CONTRIBUTOR","body":"@Trevor-zhang : Were you able to resolve this issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744878328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744880929","html_url":"https://github.com/apache/hudi/issues/2162#issuecomment-744880929","issue_url":"https://api.github.com/repos/apache/hudi/issues/2162","id":744880929,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg4MDkyOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:27:40Z","updated_at":"2020-12-15T00:27:40Z","author_association":"CONTRIBUTOR","body":"Closing this as the PR was landed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/744880929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]