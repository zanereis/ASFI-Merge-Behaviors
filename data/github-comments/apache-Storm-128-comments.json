[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623609","html_url":"https://github.com/apache/storm/issues/4995#issuecomment-2612623609","issue_url":"https://api.github.com/repos/apache/storm/issues/4995","id":2612623609,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM2MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:09:20Z","updated_at":"2025-01-24T14:10:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/842#issuecomment-153794637\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/842#issuecomment-153794637</a></p>\n\n<p>    Looks good +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625804","html_url":"https://github.com/apache/storm/issues/5006#issuecomment-2612625804","issue_url":"https://api.github.com/repos/apache/storm/issues/5006","id":2612625804,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU4MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:12:05Z","updated_at":"2025-01-24T14:11:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user d2r opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/858\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/858</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1168\" title=\"worker-launcher logs noisy messages when visiting files\" class=\"issue-link\" data-issue-key=\"STORM-1168\"><del>STORM-1168</del></a> removes noisy log message & a TODO</p>\n\n<p>    Created <a href=\"https://issues.apache.org/jira/browse/STORM-1169\" title=\"Validate file ownership before setting up stormdist dir\" class=\"issue-link\" data-issue-key=\"STORM-1169\"><del>STORM-1169</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-1169\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1169</a>) for the TODO comment that was removed.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/d2r/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/d2r/storm</a> storm-1168-worker-launcher-msgs</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/858.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/858.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #858</p>\n\n<hr />\n<p>commit 2b859fb02db965ea7a68bd69c667526913cf6711<br/>\nAuthor: Derek Dagit <derekd@zorchclean-lm.champ.corp.yahoo.com><br/>\nDate:   2015-11-04T17:08:54Z</p>\n\n<p>    removes noisy log message & a TODO</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797173","html_url":"https://github.com/apache/storm/pull/856#issuecomment-153797173","issue_url":"https://api.github.com/repos/apache/storm/issues/856","id":153797173,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzc5NzE3Mw==","user":{"login":"zhuoliu","id":11683054,"node_id":"MDQ6VXNlcjExNjgzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/11683054?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoliu","html_url":"https://github.com/zhuoliu","followers_url":"https://api.github.com/users/zhuoliu/followers","following_url":"https://api.github.com/users/zhuoliu/following{/other_user}","gists_url":"https://api.github.com/users/zhuoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoliu/subscriptions","organizations_url":"https://api.github.com/users/zhuoliu/orgs","repos_url":"https://api.github.com/users/zhuoliu/repos","events_url":"https://api.github.com/users/zhuoliu/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:18:56Z","updated_at":"2015-11-04T17:18:56Z","author_association":"NONE","body":"Looks good. +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625013","html_url":"https://github.com/apache/storm/issues/5003#issuecomment-2612625013","issue_url":"https://api.github.com/repos/apache/storm/issues/5003","id":2612625013,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUwMTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:18:57Z","updated_at":"2025-01-24T14:11:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/856#issuecomment-153797173\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/856#issuecomment-153797173</a></p>\n\n<p>    Looks good. +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623615","html_url":"https://github.com/apache/storm/issues/4995#issuecomment-2612623615","issue_url":"https://api.github.com/repos/apache/storm/issues/4995","id":2612623615,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM2MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:19:09Z","updated_at":"2025-01-24T14:10:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/842\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/842</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623621","html_url":"https://github.com/apache/storm/issues/4995#issuecomment-2612623621","issue_url":"https://api.github.com/repos/apache/storm/issues/4995","id":2612623621,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM2MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:19:23Z","updated_at":"2025-01-24T14:10:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kishorvpatil\" class=\"user-hover\" rel=\"kishorvpatil\">Kishor Patil</a>,</p>\n\n<p>I merged this into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797453","html_url":"https://github.com/apache/storm/pull/856#issuecomment-153797453","issue_url":"https://api.github.com/repos/apache/storm/issues/856","id":153797453,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzc5NzQ1Mw==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:20:02Z","updated_at":"2015-11-04T17:20:02Z","author_association":"CONTRIBUTOR","body":"@zhuoliu thanks for your thorough review!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625017","html_url":"https://github.com/apache/storm/issues/5003#issuecomment-2612625017","issue_url":"https://api.github.com/repos/apache/storm/issues/5003","id":2612625017,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUwMTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:20:03Z","updated_at":"2025-01-24T14:11:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/856#issuecomment-153797453\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/856#issuecomment-153797453</a></p>\n\n<p>    @zhuoliu thanks for your thorough review!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797738","html_url":"https://github.com/apache/storm/pull/858#issuecomment-153797738","issue_url":"https://api.github.com/repos/apache/storm/issues/858","id":153797738,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzc5NzczOA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:21:02Z","updated_at":"2015-11-04T17:21:02Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625808","html_url":"https://github.com/apache/storm/issues/5006#issuecomment-2612625808","issue_url":"https://api.github.com/repos/apache/storm/issues/5006","id":2612625808,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU4MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:21:03Z","updated_at":"2025-01-24T14:11:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/858#issuecomment-153797738\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/858#issuecomment-153797738</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797921","html_url":"https://github.com/apache/storm/pull/857#issuecomment-153797921","issue_url":"https://api.github.com/repos/apache/storm/issues/857","id":153797921,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzc5NzkyMQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:21:49Z","updated_at":"2015-11-04T17:21:49Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153797921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624739","html_url":"https://github.com/apache/storm/issues/5001#issuecomment-2612624739","issue_url":"https://api.github.com/repos/apache/storm/issues/5001","id":2612624739,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQ3Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:21:51Z","updated_at":"2025-01-24T14:11:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/857#issuecomment-153797921\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/857#issuecomment-153797921</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153798058","html_url":"https://github.com/apache/storm/pull/858#issuecomment-153798058","issue_url":"https://api.github.com/repos/apache/storm/issues/858","id":153798058,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzc5ODA1OA==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:22:16Z","updated_at":"2015-11-04T17:22:16Z","author_association":"CONTRIBUTOR","body":"LGTM +1 thanks for doing this!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153798058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625814","html_url":"https://github.com/apache/storm/issues/5006#issuecomment-2612625814","issue_url":"https://api.github.com/repos/apache/storm/issues/5006","id":2612625814,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU4MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:22:18Z","updated_at":"2025-01-24T14:11:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/858#issuecomment-153798058\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/858#issuecomment-153798058</a></p>\n\n<p>    LGTM +1 thanks for doing this!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153798617","html_url":"https://github.com/apache/storm/pull/846#issuecomment-153798617","issue_url":"https://api.github.com/repos/apache/storm/issues/846","id":153798617,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzc5ODYxNw==","user":{"login":"dossett","id":7207582,"node_id":"MDQ6VXNlcjcyMDc1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/7207582?v=4","gravatar_id":"","url":"https://api.github.com/users/dossett","html_url":"https://github.com/dossett","followers_url":"https://api.github.com/users/dossett/followers","following_url":"https://api.github.com/users/dossett/following{/other_user}","gists_url":"https://api.github.com/users/dossett/gists{/gist_id}","starred_url":"https://api.github.com/users/dossett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dossett/subscriptions","organizations_url":"https://api.github.com/users/dossett/orgs","repos_url":"https://api.github.com/users/dossett/repos","events_url":"https://api.github.com/users/dossett/events{/privacy}","received_events_url":"https://api.github.com/users/dossett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:24:01Z","updated_at":"2015-11-04T17:24:01Z","author_association":"CONTRIBUTOR","body":"@revans2 @ptgoetz @redsanket Are you still +1 on this change?  I added the small travis step of printing file names with failed licenses since your vote.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153798617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624356","html_url":"https://github.com/apache/storm/issues/4999#issuecomment-2612624356","issue_url":"https://api.github.com/repos/apache/storm/issues/4999","id":2612624356,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQzNTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:24:02Z","updated_at":"2025-01-24T14:11:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dossett commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/846#issuecomment-153798617\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/846#issuecomment-153798617</a></p>\n\n<p>    @revans2 @ptgoetz @redsanket Are you still +1 on this change?  I added the small travis step of printing file names with failed licenses since your vote.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153800087","html_url":"https://github.com/apache/storm/pull/857#issuecomment-153800087","issue_url":"https://api.github.com/repos/apache/storm/issues/857","id":153800087,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgwMDA4Nw==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:27:12Z","updated_at":"2015-11-04T17:27:12Z","author_association":"CONTRIBUTOR","body":"+1 nice fix!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153800087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624747","html_url":"https://github.com/apache/storm/issues/5001#issuecomment-2612624747","issue_url":"https://api.github.com/repos/apache/storm/issues/5001","id":2612624747,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQ3NDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:27:13Z","updated_at":"2025-01-24T14:11:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/857#issuecomment-153800087\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/857#issuecomment-153800087</a></p>\n\n<p>    +1 nice fix!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153802271","html_url":"https://github.com/apache/storm/pull/848#issuecomment-153802271","issue_url":"https://api.github.com/repos/apache/storm/issues/848","id":153802271,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgwMjI3MQ==","user":{"login":"zhuoliu","id":11683054,"node_id":"MDQ6VXNlcjExNjgzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/11683054?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoliu","html_url":"https://github.com/zhuoliu","followers_url":"https://api.github.com/users/zhuoliu/followers","following_url":"https://api.github.com/users/zhuoliu/following{/other_user}","gists_url":"https://api.github.com/users/zhuoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoliu/subscriptions","organizations_url":"https://api.github.com/users/zhuoliu/orgs","repos_url":"https://api.github.com/users/zhuoliu/repos","events_url":"https://api.github.com/users/zhuoliu/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:34:42Z","updated_at":"2015-11-04T17:34:42Z","author_association":"NONE","body":"Upmerged and rebased since the profiling stuff has been merged in.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153802271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612573952","html_url":"https://github.com/apache/storm/issues/4740#issuecomment-2612573952","issue_url":"https://api.github.com/repos/apache/storm/issues/4740","id":2612573952,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzM5NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T17:34:44Z","updated_at":"2025-01-24T13:48:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/848#issuecomment-153802271\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/848#issuecomment-153802271</a></p>\n\n<p>    Upmerged and rebased since the profiling stuff has been merged in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612573952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153816194","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153816194","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153816194,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgxNjE5NA==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:17:21Z","updated_at":"2015-11-04T18:17:21Z","author_association":"CONTRIBUTOR","body":"Topology names are not unique.  Users can submit topologies with the same name, but the their auto generated topology ids will be unique.  I am not sure this is the right way to go about this\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153816194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613947","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613947","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613947,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5NDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:17:23Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153816194\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153816194</a></p>\n\n<p>    Topology names are not unique.  Users can submit topologies with the same name, but the their auto generated topology ids will be unique.  I am not sure this is the right way to go about this</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153816456","html_url":"https://github.com/apache/storm/pull/848#issuecomment-153816456","issue_url":"https://api.github.com/repos/apache/storm/issues/848","id":153816456,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgxNjQ1Ng==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:18:14Z","updated_at":"2015-11-04T18:18:14Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153816456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612573956","html_url":"https://github.com/apache/storm/issues/4740#issuecomment-2612573956","issue_url":"https://api.github.com/repos/apache/storm/issues/4740","id":2612573956,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzM5NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:18:16Z","updated_at":"2025-01-24T13:48:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/848#issuecomment-153816456\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/848#issuecomment-153816456</a></p>\n\n<p>    +1 looks good to me.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612573956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153818109","html_url":"https://github.com/apache/storm/pull/846#issuecomment-153818109","issue_url":"https://api.github.com/repos/apache/storm/issues/846","id":153818109,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgxODEwOQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:21:39Z","updated_at":"2015-11-04T18:21:39Z","author_association":"CONTRIBUTOR","body":"Yes I am +1.  It looks great.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153818109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624361","html_url":"https://github.com/apache/storm/issues/4999#issuecomment-2612624361","issue_url":"https://api.github.com/repos/apache/storm/issues/4999","id":2612624361,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQzNjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:21:40Z","updated_at":"2025-01-24T14:11:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/846#issuecomment-153818109\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/846#issuecomment-153818109</a></p>\n\n<p>    Yes I am +1.  It looks great.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153818643","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153818643","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153818643,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgxODY0Mw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:22:46Z","updated_at":"2015-11-04T18:22:46Z","author_association":"CONTRIBUTOR","body":"@jerrypeng they can submit topologies with the same name, but not at the same time.  You can only have one \"foo\" topology running at any point in time.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153818643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613952","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613952","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613952,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:22:47Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153818643\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153818643</a></p>\n\n<p>    @jerrypeng they can submit topologies with the same name, but not at the same time.  You can only have one \"foo\" topology running at any point in time.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153819160","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153819160","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153819160,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgxOTE2MA==","user":{"login":"priyank5485","id":5192436,"node_id":"MDQ6VXNlcjUxOTI0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5192436?v=4","gravatar_id":"","url":"https://api.github.com/users/priyank5485","html_url":"https://github.com/priyank5485","followers_url":"https://api.github.com/users/priyank5485/followers","following_url":"https://api.github.com/users/priyank5485/following{/other_user}","gists_url":"https://api.github.com/users/priyank5485/gists{/gist_id}","starred_url":"https://api.github.com/users/priyank5485/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyank5485/subscriptions","organizations_url":"https://api.github.com/users/priyank5485/orgs","repos_url":"https://api.github.com/users/priyank5485/repos","events_url":"https://api.github.com/users/priyank5485/events{/privacy}","received_events_url":"https://api.github.com/users/priyank5485/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:23:53Z","updated_at":"2015-11-04T18:23:53Z","author_association":"CONTRIBUTOR","body":"@jerrypeng We have a check and it throws the following exception.\n\nException in thread \"main\" java.lang.RuntimeException: Topology with name `wordcount` already exists on cluster\n    at backtype.storm.StormSubmitter.submitTopologyAs(StormSubmitter.java:231)\n    at backtype.storm.StormSubmitter.submitTopology(StormSubmitter.java:275)\n    at backtype.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:311)\n    at backtype.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:292)\n    at storm.starter.WordCountTopology.main(WordCountTopology.java:94)\n\n@revans2 Thanks for chiming in.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153819160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613955","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613955","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613955,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:23:55Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user priyank5485 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153819160\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153819160</a></p>\n\n<p>    @jerrypeng We have a check and it throws the following exception.</p>\n\n<p>    Exception in thread \"main\" java.lang.RuntimeException: Topology with name `wordcount` already exists on cluster<br/>\n    \tat backtype.storm.StormSubmitter.submitTopologyAs(StormSubmitter.java:231)<br/>\n    \tat backtype.storm.StormSubmitter.submitTopology(StormSubmitter.java:275)<br/>\n    \tat backtype.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:311)<br/>\n    \tat backtype.storm.StormSubmitter.submitTopologyWithProgressBar(StormSubmitter.java:292)<br/>\n    \tat storm.starter.WordCountTopology.main(WordCountTopology.java:94)</p>\n\n<p>    @revans2 Thanks for chiming in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153819804","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153819804","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153819804,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgxOTgwNA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:25:09Z","updated_at":"2015-11-04T18:25:09Z","author_association":"CONTRIBUTOR","body":"@jerrypeng topology names are unique\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153819804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613958","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613958","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613958,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:25:10Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153819804\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153819804</a></p>\n\n<p>    @jerrypeng topology names are unique</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153820936","html_url":"https://github.com/apache/storm/pull/855#issuecomment-153820936","issue_url":"https://api.github.com/repos/apache/storm/issues/855","id":153820936,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgyMDkzNg==","user":{"login":"haohui","id":1192828,"node_id":"MDQ6VXNlcjExOTI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1192828?v=4","gravatar_id":"","url":"https://api.github.com/users/haohui","html_url":"https://github.com/haohui","followers_url":"https://api.github.com/users/haohui/followers","following_url":"https://api.github.com/users/haohui/following{/other_user}","gists_url":"https://api.github.com/users/haohui/gists{/gist_id}","starred_url":"https://api.github.com/users/haohui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haohui/subscriptions","organizations_url":"https://api.github.com/users/haohui/orgs","repos_url":"https://api.github.com/users/haohui/repos","events_url":"https://api.github.com/users/haohui/events{/privacy}","received_events_url":"https://api.github.com/users/haohui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:28:03Z","updated_at":"2015-11-04T18:28:03Z","author_association":"NONE","body":"The high level API looks good to me overall. It maintains a view of all the events in the window which is a powerful concept.\n\nI have several questions on how this PR can help implement two common use cases.\n\n(1) Aggregation (e.g., min / max) over a sliding window\n(2) Stream joins over a large amount of data\n\nThe abstractions of views in memory are insufficient because for an efficient algorithm for (1) does not need every single events in the window, and (2) the events in the window need to be spilled to secondary storage. To me it seems that it still requires writing a lot of custom code. The issue might be mitigated to add flexibility on whether and where to keep the events in the window in the API.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153820936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625363","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625363","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625363,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUzNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:28:04Z","updated_at":"2025-01-24T14:11:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#issuecomment-153820936\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#issuecomment-153820936</a></p>\n\n<p>    The high level API looks good to me overall. It maintains a view of all the events in the window which is a powerful concept.</p>\n\n<p>    I have several questions on how this PR can help implement two common use cases.</p>\n\n<p>    (1) Aggregation (e.g., min / max) over a sliding window<br/>\n    (2) Stream joins over a large amount of data</p>\n\n<p>    The abstractions of views in memory are insufficient because for an efficient algorithm for (1) does not need every single events in the window, and (2) the events in the window need to be spilled to secondary storage. To me it seems that it still requires writing a lot of custom code. The issue might be mitigated to add flexibility on whether and where to keep the events in the window in the API.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625367","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625367","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625367,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUzNjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:28:50Z","updated_at":"2025-01-24T14:11:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43918453\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43918453</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/topology/WindowedBoltExecutor.java &#8212;<br/>\n    @@ -0,0 +1,200 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.topology;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.task.IOutputCollector;<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import backtype.storm.windowing.TupleWindowImpl;<br/>\n    +import backtype.storm.windowing.WindowLifecycleListener;<br/>\n    +import backtype.storm.windowing.WindowManager;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Count;<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Duration;<br/>\n    +<br/>\n    +/**<br/>\n    + * An </p>\n{@link IWindowedBolt}\n<p> wrapper that does the windowing of tuples.<br/>\n    + */<br/>\n    +public class WindowedBoltExecutor implements IRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(WindowedBoltExecutor.class);<br/>\n    +<br/>\n    +    private IWindowedBolt bolt;<br/>\n    +    private transient WindowedOutputCollector windowedOutputCollector;<br/>\n    +    private transient WindowLifecycleListener<Tuple> listener;<br/>\n    +    private transient WindowManager<Tuple> windowManager;<br/>\n    +<br/>\n    +    public WindowedBoltExecutor(IWindowedBolt bolt) </p>\n{\n    +this.bolt = bolt;\n    +    }\n<p>    +<br/>\n    +    private int getTopologyTimeoutMillis(Map stormConf) {<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS)) {<br/>\n    +    boolean timeOutsEnabled = (boolean) stormConf.get(Config.TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS);<br/>\n    +    if (!timeOutsEnabled) </p>\n{\n    +return Integer.MAX_VALUE;\n    +    }\n<p>    +}<br/>\n    +int timeout = 0;<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS)) </p>\n{\n    +    timeout = ((Number) stormConf.get(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS)).intValue();\n    +}\n<p>    +return timeout * 1000;<br/>\n    +    }<br/>\n    +<br/>\n    +    private void ensureDurationLessThanTimeout(int duration, int timeout) {<br/>\n    +if (duration > timeout) </p>\n{\n    +    throw new IllegalArgumentException(\"Window duration (length + sliding interval) value \" + duration +\n    +       \" is more than \" + Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS +\n    +       \" value \" + timeout);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    // TODO: add more validation<br/>\n    +    private void validate(Map stormConf, Count windowLengthCount, Duration windowLengthDuration,<br/>\n    +  Count slidingIntervalCount, Duration slidingIntervalDuration) {<br/>\n    +<br/>\n    +int topologyTimeout = getTopologyTimeoutMillis(stormConf);<br/>\n    +if (windowLengthDuration != null && slidingIntervalDuration != null) </p>\n{\n    +    ensureDurationLessThanTimeout(windowLengthDuration.value + slidingIntervalDuration.value, topologyTimeout);\n    +}\n<p> else if (windowLengthDuration != null) </p>\n{\n    +    ensureDurationLessThanTimeout(windowLengthDuration.value, topologyTimeout);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private WindowManager<Tuple> initWindowManager(WindowLifecycleListener<Tuple> lifecycleListener, Map stormConf) {<br/>\n    +WindowManager<Tuple> manager = new WindowManager<>(lifecycleListener);<br/>\n    +Duration windowLengthDuration = null;<br/>\n    +Count windowLengthCount = null;<br/>\n    +Duration slidingIntervalDuration = null;<br/>\n    +Count slidingIntervalCount = null;<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_COUNT)) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Given we are getting these from storm config, does this mean a user can not have 2 bolts with different windowing intervals?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625371","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625371","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625371,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUzNzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:29:17Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43918519\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43918519</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/topology/WindowedBoltExecutor.java &#8212;<br/>\n    @@ -0,0 +1,200 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.topology;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.task.IOutputCollector;<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import backtype.storm.windowing.TupleWindowImpl;<br/>\n    +import backtype.storm.windowing.WindowLifecycleListener;<br/>\n    +import backtype.storm.windowing.WindowManager;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Count;<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Duration;<br/>\n    +<br/>\n    +/**<br/>\n    + * An </p>\n{@link IWindowedBolt}\n<p> wrapper that does the windowing of tuples.<br/>\n    + */<br/>\n    +public class WindowedBoltExecutor implements IRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(WindowedBoltExecutor.class);<br/>\n    +<br/>\n    +    private IWindowedBolt bolt;<br/>\n    +    private transient WindowedOutputCollector windowedOutputCollector;<br/>\n    +    private transient WindowLifecycleListener<Tuple> listener;<br/>\n    +    private transient WindowManager<Tuple> windowManager;<br/>\n    +<br/>\n    +    public WindowedBoltExecutor(IWindowedBolt bolt) </p>\n{\n    +this.bolt = bolt;\n    +    }\n<p>    +<br/>\n    +    private int getTopologyTimeoutMillis(Map stormConf) {<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS)) {<br/>\n    +    boolean timeOutsEnabled = (boolean) stormConf.get(Config.TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS);<br/>\n    +    if (!timeOutsEnabled) </p>\n{\n    +return Integer.MAX_VALUE;\n    +    }\n<p>    +}<br/>\n    +int timeout = 0;<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS)) </p>\n{\n    +    timeout = ((Number) stormConf.get(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS)).intValue();\n    +}\n<p>    +return timeout * 1000;<br/>\n    +    }<br/>\n    +<br/>\n    +    private void ensureDurationLessThanTimeout(int duration, int timeout) {<br/>\n    +if (duration > timeout) </p>\n{\n    +    throw new IllegalArgumentException(\"Window duration (length + sliding interval) value \" + duration +\n    +       \" is more than \" + Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS +\n    +       \" value \" + timeout);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    // TODO: add more validation<br/>\n    +    private void validate(Map stormConf, Count windowLengthCount, Duration windowLengthDuration,<br/>\n    +  Count slidingIntervalCount, Duration slidingIntervalDuration) {<br/>\n    +<br/>\n    +int topologyTimeout = getTopologyTimeoutMillis(stormConf);<br/>\n    +if (windowLengthDuration != null && slidingIntervalDuration != null) </p>\n{\n    +    ensureDurationLessThanTimeout(windowLengthDuration.value + slidingIntervalDuration.value, topologyTimeout);\n    +}\n<p> else if (windowLengthDuration != null) </p>\n{\n    +    ensureDurationLessThanTimeout(windowLengthDuration.value, topologyTimeout);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private WindowManager<Tuple> initWindowManager(WindowLifecycleListener<Tuple> lifecycleListener, Map stormConf) {<br/>\n    +WindowManager<Tuple> manager = new WindowManager<>(lifecycleListener);<br/>\n    +Duration windowLengthDuration = null;<br/>\n    +Count windowLengthCount = null;<br/>\n    +Duration slidingIntervalDuration = null;<br/>\n    +Count slidingIntervalCount = null;<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_COUNT)) </p>\n{\n    +    windowLengthCount = new Count(((Number) stormConf.get(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_COUNT)).intValue());\n    +}\n<p> else if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_DURATION_MS)) </p>\n{\n    +    windowLengthDuration = new Duration(\n    +    ((Number) stormConf.get(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_DURATION_MS)).intValue(),\n    +    TimeUnit.MILLISECONDS);\n    +}\n<p>    +<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_COUNT)) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Same as above?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625378","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625378","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625378,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUzNzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:33:21Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43918998\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43918998</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/topology/base/BaseWindowedBolt.java &#8212;<br/>\n    @@ -0,0 +1,184 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.topology.base;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.IWindowedBolt;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.windowing.TupleWindow;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +public class BaseWindowedBolt implements IWindowedBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(BaseWindowedBolt.class);<br/>\n    +<br/>\n    +    private transient Map<String, Object> windowConfiguration;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Holds a count value for count based windows and sliding intervals.<br/>\n    +     */<br/>\n    +    public static class Count {<br/>\n    +public final int value;<br/>\n    +<br/>\n    +public Count(int value) </p>\n{\n    +    this.value = value;\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Holds a Time duration for time based windows and sliding intervals.<br/>\n    +     */<br/>\n    +    public static class Duration {<br/>\n    +public final int value;<br/>\n    +<br/>\n    +public Duration(int value, TimeUnit timeUnit) </p>\n{\n    +    this.value = (int) timeUnit.toMillis(value);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    protected BaseWindowedBolt() </p>\n{\n    +windowConfiguration = new HashMap<>();\n    +    }\n<p>    +<br/>\n    +    private BaseWindowedBolt withWindowLength(Count count) </p>\n{\n    +windowConfiguration.put(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_COUNT, count.value);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    private BaseWindowedBolt withWindowLength(Duration duration) </p>\n{\n    +windowConfiguration.put(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_DURATION_MS, duration.value);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    private BaseWindowedBolt withSlidingInterval(Count count) </p>\n{\n    +windowConfiguration.put(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_COUNT, count.value);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    private BaseWindowedBolt withSlidingInterval(Duration duration) </p>\n{\n    +windowConfiguration.put(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_DURATION_MS, duration.value);\n    +return this;\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Tuple count based sliding window configuration.<br/>\n    +     *<br/>\n    +     * @param windowLength    the number of tuples in the window<br/>\n    +     * @param slidingInterval the number of tuples after which the window slides<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withWindow(Count windowLength, Count slidingInterval) </p>\n{\n    +return withWindowLength(windowLength).withSlidingInterval(slidingInterval);\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Tuple count and time duration based sliding window configuration.<br/>\n    +     *<br/>\n    +     * @param windowLength    the number of tuples in the window<br/>\n    +     * @param slidingInterval the time duration after which the window slides<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withWindow(Count windowLength, Duration slidingInterval) {    +return withWindowLength(windowLength).withSlidingInterval(slidingInterval);    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Time duration and count based sliding window configuration.<br/>\n    +     *<br/>\n    +     * @param windowLength    the time duration of the window<br/>\n    +     * @param slidingInterval the number of tuples after which the window slides<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withWindow(Duration windowLength, Count slidingInterval) </p>\n{\n    +return withWindowLength(windowLength).withSlidingInterval(slidingInterval);\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Time duration based sliding window configuration.<br/>\n    +     *<br/>\n    +     * @param windowLength    the time duration of the window<br/>\n    +     * @param slidingInterval the time duration after which the window slides<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withWindow(Duration windowLength, Duration slidingInterval) {    +return withWindowLength(windowLength).withSlidingInterval(slidingInterval);    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * A tuple count based window that slides with every incoming tuple.<br/>\n    +     *<br/>\n    +     * @param windowLength the number of tuples in the window<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withWindow(Count windowLength) </p>\n{\n    +return withWindowLength(windowLength).withSlidingInterval(new Count(1));\n    +    }<br/>\n    +<br/>\n    +<br/>\n    +    /**<br/>\n    +     * A time duration based window that slides with every incoming tuple.<br/>\n    +     *<br/>\n    +     * @param windowLength the time duration of the window<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withWindow(Duration windowLength) {    +return withWindowLength(windowLength).withSlidingInterval(new Count(1));    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * A count based tumbling window.<br/>\n    +     *<br/>\n    +     * @param count the number of tuples after which the window tumbles<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withTumblingWindow(Count count) </p>\n{\n    +return withWindowLength(count).withSlidingInterval(count);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * A time duration based tumbling window.<br/>\n    +     *<br/>\n    +     * @param duration the time duration after which the window tumbles<br/>\n    +     */<br/>\n    +    public BaseWindowedBolt withTumblingWindow(Duration duration) </p>\n{\n    +return withWindowLength(duration).withSlidingInterval(duration);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(TupleWindow inputWindow) {<br/>\n    +<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153824526","html_url":"https://github.com/apache/storm/pull/858#issuecomment-153824526","issue_url":"https://api.github.com/repos/apache/storm/issues/858","id":153824526,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgyNDUyNg==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:42:14Z","updated_at":"2015-11-04T18:42:14Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153824526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625819","html_url":"https://github.com/apache/storm/issues/5006#issuecomment-2612625819","issue_url":"https://api.github.com/repos/apache/storm/issues/5006","id":2612625819,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU4MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:42:15Z","updated_at":"2025-01-24T14:11:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/858#issuecomment-153824526\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/858#issuecomment-153824526</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153824669","html_url":"https://github.com/apache/storm/pull/857#issuecomment-153824669","issue_url":"https://api.github.com/repos/apache/storm/issues/857","id":153824669,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgyNDY2OQ==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:42:40Z","updated_at":"2015-11-04T18:42:40Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153824669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624756","html_url":"https://github.com/apache/storm/issues/5001#issuecomment-2612624756","issue_url":"https://api.github.com/repos/apache/storm/issues/5001","id":2612624756,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQ3NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:42:42Z","updated_at":"2025-01-24T14:11:18Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/857#issuecomment-153824669\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/857#issuecomment-153824669</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625020","html_url":"https://github.com/apache/storm/issues/5003#issuecomment-2612625020","issue_url":"https://api.github.com/repos/apache/storm/issues/5003","id":2612625020,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUwMjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:49:05Z","updated_at":"2025-01-24T14:11:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/856#discussion_r43921033\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/856#discussion_r43921033</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/scheduler/resource/strategies/ResourceAwareStrategy.java &#8212;<br/>\n    @@ -209,18 +209,18 @@ private WorkerSlot getBestWorker(ExecutorDetails exec, TopologyDetails td, Strin<br/>\n     for (RAS_Node n : nodes) {<br/>\n if(n.getFreeSlots().size()>0) {<br/>\n     if (n.getAvailableMemoryResources() >= taskMem</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>&& n.getAvailableCpuResources() >= taskCPU) {</li>\n\t<li>double a = Math.pow((taskCPU - n.getAvailableCpuResources())</li>\n\t<li>* this.CPU_WEIGHT, 2);</li>\n\t<li>double b = Math.pow((taskMem - n.getAvailableMemoryResources())</li>\n\t<li>* this.MEM_WEIGHT, 2);</li>\n\t<li>double c = 0.0;</li>\n\t<li>if(this.refNode != null) \n{\n    -      c = Math.pow(this.distToNode(this.refNode, n)\n    -      * this.NETWORK_WEIGHT, 2);\n    -  }</li>\n\t<li>double distance = Math.sqrt(a + b + c);</li>\n\t<li>nodeRankMap.put(distance, n);<br/>\n    +&& n.getAvailableCpuResources() >= taskCPU) {<br/>\n    +    double a = Math.pow(((taskCPU - n.getAvailableCpuResources())/(n.getAvailableCpuResources() + 1))<br/>\n    +    * this.CPU_WEIGHT, 2);<br/>\n    +    double b = Math.pow(((taskMem - n.getAvailableMemoryResources())/(n.getAvailableMemoryResources() + 1))<br/>\n    +    * this.MEM_WEIGHT, 2);<br/>\n    +    double c = 0.0;<br/>\n    +    if(this.refNode != null) \n{\n    +c = Math.pow(this.distToNode(this.refNode, n)\n    +* this.NETWORK_WEIGHT, 2);\n    +    }\n<p>    +    double distance = Math.sqrt(a + b + c);<br/>\n    +    nodeRankMap.put(distance, n);</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    indentation?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612619929","html_url":"https://github.com/apache/storm/issues/4974#issuecomment-2612619929","issue_url":"https://api.github.com/repos/apache/storm/issues/4974","id":2612619929,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTk5Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:50:01Z","updated_at":"2025-01-24T14:09:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arpitgupta\">arpitgupta</a>:</i>\n<p>We should make sure this information is available on the storm UI for the given topology.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612619929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625026","html_url":"https://github.com/apache/storm/issues/5003#issuecomment-2612625026","issue_url":"https://api.github.com/repos/apache/storm/issues/5003","id":2612625026,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUwMjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:50:47Z","updated_at":"2025-01-24T14:11:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/856#discussion_r43921298\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/856#discussion_r43921298</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/scheduler/resource/strategies/ResourceAwareStrategy.java &#8212;<br/>\n    @@ -209,18 +209,18 @@ private WorkerSlot getBestWorker(ExecutorDetails exec, TopologyDetails td, Strin<br/>\n     for (RAS_Node n : nodes) {<br/>\n if(n.getFreeSlots().size()>0) {<br/>\n     if (n.getAvailableMemoryResources() >= taskMem</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>&& n.getAvailableCpuResources() >= taskCPU) {</li>\n\t<li>double a = Math.pow((taskCPU - n.getAvailableCpuResources())</li>\n\t<li>* this.CPU_WEIGHT, 2);</li>\n\t<li>double b = Math.pow((taskMem - n.getAvailableMemoryResources())</li>\n\t<li>* this.MEM_WEIGHT, 2);</li>\n\t<li>double c = 0.0;</li>\n\t<li>if(this.refNode != null) \n{\n    -      c = Math.pow(this.distToNode(this.refNode, n)\n    -      * this.NETWORK_WEIGHT, 2);\n    -  }</li>\n\t<li>double distance = Math.sqrt(a + b + c);</li>\n\t<li>nodeRankMap.put(distance, n);<br/>\n    +&& n.getAvailableCpuResources() >= taskCPU) {<br/>\n    +    double a = Math.pow(((taskCPU - n.getAvailableCpuResources())/(n.getAvailableCpuResources() + 1))<br/>\n    +    * this.CPU_WEIGHT, 2);<br/>\n    +    double b = Math.pow(((taskMem - n.getAvailableMemoryResources())/(n.getAvailableMemoryResources() + 1))<br/>\n    +    * this.MEM_WEIGHT, 2);<br/>\n    +    double c = 0.0;<br/>\n    +    if(this.refNode != null) \n{\n    +c = Math.pow(this.distToNode(this.refNode, n)\n    +* this.NETWORK_WEIGHT, 2);\n    +    }\n<p>    +    double distance = Math.sqrt(a + b + c);<br/>\n    +    nodeRankMap.put(distance, n);</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    sorry never mind +1 NB</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623770","html_url":"https://github.com/apache/storm/issues/4996#issuecomment-2612623770","issue_url":"https://api.github.com/repos/apache/storm/issues/4996","id":2612623770,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM3NzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:56:40Z","updated_at":"2025-01-24T14:10:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/850#discussion_r43922172\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/850#discussion_r43922172</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/nimbus.clj &#8212;<br/>\n    @@ -50,9 +50,39 @@<br/>\n       (:import <span class=\"error\">&#91;backtype.storm.utils VersionInfo&#93;</span>)<br/>\n       (:require <span class=\"error\">&#91;clj-time.core :as time&#93;</span>)<br/>\n       (:require <span class=\"error\">&#91;clj-time.coerce :as coerce&#93;</span>)<br/>\n    +  (:require [metrics.meters :refer <span class=\"error\">&#91;defmeter mark!&#93;</span>])<br/>\n    +  (:require [metrics.gauges :refer <span class=\"error\">&#91;defgauge&#93;</span>])<br/>\n       (:gen-class<br/>\n :methods [^{:static true} [launch <span class=\"error\">&#91;backtype.storm.scheduler.INimbus&#93;</span> void]]))</p>\n\n<p>    +<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    blank line?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623773","html_url":"https://github.com/apache/storm/issues/4996#issuecomment-2612623773","issue_url":"https://api.github.com/repos/apache/storm/issues/4996","id":2612623773,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM3NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T18:59:09Z","updated_at":"2025-01-24T14:10:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/850#discussion_r43922551\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/850#discussion_r43922551</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/logviewer.clj &#8212;<br/>\n    @@ -39,10 +39,18 @@<br/>\n <span class=\"error\">&#91;ring.util.codec :as codec&#93;</span><br/>\n <span class=\"error\">&#91;ring.util.response :as resp&#93;</span><br/>\n <span class=\"error\">&#91;clojure.string :as string&#93;</span>)<br/>\n    +  (:require [metrics.meters :refer <span class=\"error\">&#91;defmeter mark!&#93;</span>])<br/>\n    +  (:use [backtype.storm.daemon.common :only <span class=\"error\">&#91;start-metrics-reporters&#93;</span>])<br/>\n       (:gen-class))</p>\n\n<p>     (def ^:dynamic <b>STORM-CONF</b> (read-storm-config))</p>\n\n<p>    +(defmeter num:logviewer-log-page-httpRequests)<br/>\n    +(defmeter num:logviewer-daemonlog-page-httpRequests)<br/>\n    +(defmeter num:logviewer-download-log-file-httpRequests)<br/>\n    +(defmeter num:logviewer-download-log-daemon-file-httpRequests)<br/>\n    +(defmeter num:logviewer-list-logs-httpRequests)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    camel case and clojure naming convention in the same line? httpRequests</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625384","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625384","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625384,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUzODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:02:15Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43922969\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43922969</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/windowing/WindowManager.java &#8212;<br/>\n    @@ -0,0 +1,210 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.windowing;<br/>\n    +<br/>\n    +<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Set;<br/>\n    +import java.util.concurrent.ConcurrentLinkedQueue;<br/>\n    +import java.util.concurrent.atomic.AtomicInteger;<br/>\n    +import java.util.concurrent.locks.ReentrantLock;<br/>\n    +<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Count;<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Duration;<br/>\n    +<br/>\n    +/**<br/>\n    + * Tracks a window of events and fires </p>\n{@link WindowLifecycleListener}\n<p> callbacks<br/>\n    + * on expiry of events or activation of the window due to </p>\n{@link TriggerPolicy}\n<p>.<br/>\n    + *<br/>\n    + * @param <T> the type of event in the window.<br/>\n    + */<br/>\n    +public class WindowManager<T> implements TriggerHandler {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(WindowManager.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Expire old events every EXPIRE_EVENTS_THRESHOLD to<br/>\n    +     * keep the window size in check.<br/>\n    +     */<br/>\n    +    public static final int EXPIRE_EVENTS_THRESHOLD = 100;<br/>\n    +<br/>\n    +    private WindowLifecycleListener<T> windowLifecycleListener;<br/>\n    +    private ConcurrentLinkedQueue<Event<T>> window;<br/>\n    +    private EvictionPolicy<T> evictionPolicy;<br/>\n    +    private TriggerPolicy<T> triggerPolicy;<br/>\n    +    private List<T> expiredEvents;<br/>\n    +    private Set<Event<T>> prevWindowEvents;<br/>\n    +    private AtomicInteger eventsSinceLastExpiry;<br/>\n    +    private ReentrantLock lock;<br/>\n    +<br/>\n    +    public WindowManager(WindowLifecycleListener<T> lifecycleListener) </p>\n{\n    +windowLifecycleListener = lifecycleListener;\n    +window = new ConcurrentLinkedQueue<>();\n    +expiredEvents = new ArrayList<>();\n    +prevWindowEvents = new HashSet<>();\n    +eventsSinceLastExpiry = new AtomicInteger();\n    +lock = new ReentrantLock(true);\n    +    }\n<p>    +<br/>\n    +    public void setWindowLength(Count count) </p>\n{\n    +this.evictionPolicy = new CountEvictionPolicy<>(count.value);\n    +    }\n<p>    +<br/>\n    +    public void setWindowLength(Duration duration) </p>\n{\n    +this.evictionPolicy = new TimeEvictionPolicy<>(duration.value);\n    +    }\n<p>    +<br/>\n    +    public void setSlidingInterval(Count count) </p>\n{\n    +this.triggerPolicy = new CountTriggerPolicy<>(count.value, this);\n    +    }\n<p>    +<br/>\n    +    public void setSlidingInterval(Duration duration) </p>\n{\n    +this.triggerPolicy = new TimeTriggerPolicy<>(duration.value, this);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Add an event into the window, with </p>\n{@link System#currentTimeMillis()}\n<p> as<br/>\n    +     * the tracking ts.<br/>\n    +     *<br/>\n    +     * @param event the event to add<br/>\n    +     */<br/>\n    +    public void add(T event) </p>\n{\n    +add(event, System.currentTimeMillis());\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Add an event into the window, with the given ts as the tracking ts.<br/>\n    +     *<br/>\n    +     * @param event the event to track<br/>\n    +     * @param ts    the timestamp<br/>\n    +     */<br/>\n    +    public void add(T event, long ts) </p>\n{\n    +Event<T> windowEvent = new EventImpl<T>(event, ts);\n    +window.add(windowEvent);\n    +track(windowEvent);\n    +compactWindow();\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * The callback invoked by the trigger policy.<br/>\n    +     */<br/>\n    +    @Override<br/>\n    +    public void onTrigger() {<br/>\n    +List<Event<T>> windowEvents = new ArrayList<>();<br/>\n    +List<T> expired = null;<br/>\n    +try </p>\n{\n    +    lock.lock();\n    +    /*\n    +     * scan the entire window to handle out of order events in\n    +     * the case of time based windows.\n    +     */\n    +    expireEvents(true, windowEvents);\n    +    expired = new ArrayList<>(expiredEvents);\n    +    expiredEvents.clear();\n    +}\n<p> finally </p>\n{\n    +    lock.unlock();\n    +}\n<p>    +List<T> events = new ArrayList<>();<br/>\n    +List<T> newEvents = new ArrayList<>();<br/>\n    +for (Event<T> event : windowEvents) {<br/>\n    +    events.add(event.get());<br/>\n    +    if (!prevWindowEvents.contains(event)) </p>\n{\n    +newEvents.add(event.get());\n    +    }\n<p>    +}<br/>\n    +prevWindowEvents.clear();<br/>\n    +prevWindowEvents.addAll(windowEvents);<br/>\n    +LOG.debug(\"invoking windowLifecycleListener onActivation, <span class=\"error\">&#91;{}&#93;</span> events in window.\", windowEvents.size());<br/>\n    +windowLifecycleListener.onActivation(events, newEvents, expired);<br/>\n    +triggerPolicy.reset();<br/>\n    +    }<br/>\n    +<br/>\n    +    public void shutdown() {<br/>\n    +LOG.debug(\"Shutting down WindowManager\");<br/>\n    +if (triggerPolicy != null) </p>\n{\n    +    triggerPolicy.shutdown();\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * expires events that fall out of the window every<br/>\n    +     * EXPIRE_EVENTS_THRESHOLD so that the window does not grow<br/>\n    +     * too big.<br/>\n    +     */<br/>\n    +    private void compactWindow() {<br/>\n    +if (eventsSinceLastExpiry.incrementAndGet() >= EXPIRE_EVENTS_THRESHOLD) </p>\n{\n    +    expireEvents(false, null);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * feed the event to the eviction and trigger policies<br/>\n    +     * for bookkeeping and optionally firing the trigger.<br/>\n    +     */<br/>\n    +    private void track(Event<T> windowEvent) </p>\n{\n    +evictionPolicy.track(windowEvent);\n    +triggerPolicy.track(windowEvent);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Expire events from the window, using the expiration policy to check<br/>\n    +     * if the event should be evicted or not.<br/>\n    +     *<br/>\n    +     * @param fullScan  if set, will scan the entire window. if not set, will stop<br/>\n    +     *  as soon as an event not satisfying the expiration policy is found.<br/>\n    +     * @param remaining the list of remaining events in the window after expiry.<br/>\n    +     */<br/>\n    +    private void expireEvents(boolean fullScan, List<Event<T>> remaining) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    why do we take a remaining list as input and mutate it? Why not just return the remaining list? same thing with expired events? Any reason for mutating instead of just returning?  </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153836316","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153836316","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153836316,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgzNjMxNg==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:20:47Z","updated_at":"2015-11-04T19:20:47Z","author_association":"CONTRIBUTOR","body":"+1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153836316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613967","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613967","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613967,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:20:48Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153836316\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153836316</a></p>\n\n<p>    +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153838740","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153838740","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153838740,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzgzODc0MA==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:29:12Z","updated_at":"2015-11-04T19:29:12Z","author_association":"CONTRIBUTOR","body":"thanks for the explanation and clarification everybody\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153838740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613974","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613974","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613974,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:29:13Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153838740\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153838740</a></p>\n\n<p>    thanks for the explanation and clarification everybody</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153841906","html_url":"https://github.com/apache/storm/pull/855#issuecomment-153841906","issue_url":"https://api.github.com/repos/apache/storm/issues/855","id":153841906,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg0MTkwNg==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:41:25Z","updated_at":"2015-11-04T19:41:25Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan also if the window size a bigger  lets say its 1hr how are we going to handle this. I am hoping to see a state management and a pluggable storage by default we can keep this in memory and allow user to store data in other persistent storages \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153841906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625394","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625394","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625394,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjUzOTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:41:26Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#issuecomment-153841906\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#issuecomment-153841906</a></p>\n\n<p>    @arunmahadevan also if the window size a bigger  lets say its 1hr how are we going to handle this. I am hoping to see a state management and a pluggable storage by default we can keep this in memory and allow user to store data in other persistent storages </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153842760","html_url":"https://github.com/apache/storm/pull/848#issuecomment-153842760","issue_url":"https://api.github.com/repos/apache/storm/issues/848","id":153842760,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg0Mjc2MA==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:44:58Z","updated_at":"2015-11-04T19:44:58Z","author_association":"CONTRIBUTOR","body":"+1 OK\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153842760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612573963","html_url":"https://github.com/apache/storm/issues/4740#issuecomment-2612573963","issue_url":"https://api.github.com/repos/apache/storm/issues/4740","id":2612573963,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzM5NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:44:59Z","updated_at":"2025-01-24T13:48:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/848#issuecomment-153842760\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/848#issuecomment-153842760</a></p>\n\n<p>    +1 OK</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612573963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153843440","html_url":"https://github.com/apache/storm/pull/858#issuecomment-153843440","issue_url":"https://api.github.com/repos/apache/storm/issues/858","id":153843440,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg0MzQ0MA==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:47:54Z","updated_at":"2015-11-04T19:47:54Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153843440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625823","html_url":"https://github.com/apache/storm/issues/5006#issuecomment-2612625823","issue_url":"https://api.github.com/repos/apache/storm/issues/5006","id":2612625823,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU4MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T19:47:57Z","updated_at":"2025-01-24T14:11:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/858#issuecomment-153843440\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/858#issuecomment-153843440</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625401","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625401","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625401,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU0MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:08:27Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43932253\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43932253</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/topology/base/BaseWindowedBolt.java &#8212;<br/>\n    @@ -0,0 +1,184 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.topology.base;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.IWindowedBolt;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.windowing.TupleWindow;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +public class BaseWindowedBolt implements IWindowedBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(BaseWindowedBolt.class);<br/>\n    +<br/>\n    +    private transient Map<String, Object> windowConfiguration;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I am not sure why we can't just have instance variable for all the configs? Why does it need to go to a transient map?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626049","html_url":"https://github.com/apache/storm/issues/5008#issuecomment-2612626049","issue_url":"https://api.github.com/repos/apache/storm/issues/5008","id":2612626049,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjYwNDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:17:43Z","updated_at":"2025-01-24T14:11:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuoliu\">zhuoliu</a>:</i>\n<p>I also met the same problem in CI. I think that is because the producer sometimes cannot finish publishing 1M tuples before TIMEOUT(1000ms). The root cause is that the producer.interrupt() can set the interrupted flag to be true but not really terminate the producer thread. As there is no blocking functions (sleep, wait, join) inside producer's run function, so no InterruptedException will be thrown.</p>\n\n<p>We can solve the issue by checking the interrupted flag inside producer's run function. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625410","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625410","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625410,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU0MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:18:37Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43933512\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43933512</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/topology/WindowedBoltExecutor.java &#8212;<br/>\n    @@ -0,0 +1,200 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.topology;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.task.IOutputCollector;<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import backtype.storm.windowing.TupleWindowImpl;<br/>\n    +import backtype.storm.windowing.WindowLifecycleListener;<br/>\n    +import backtype.storm.windowing.WindowManager;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Count;<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Duration;<br/>\n    +<br/>\n    +/**<br/>\n    + * An </p>\n{@link IWindowedBolt}\n<p> wrapper that does the windowing of tuples.<br/>\n    + */<br/>\n    +public class WindowedBoltExecutor implements IRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(WindowedBoltExecutor.class);<br/>\n    +<br/>\n    +    private IWindowedBolt bolt;<br/>\n    +    private transient WindowedOutputCollector windowedOutputCollector;<br/>\n    +    private transient WindowLifecycleListener<Tuple> listener;<br/>\n    +    private transient WindowManager<Tuple> windowManager;<br/>\n    +<br/>\n    +    public WindowedBoltExecutor(IWindowedBolt bolt) </p>\n{\n    +this.bolt = bolt;\n    +    }\n<p>    +<br/>\n    +    private int getTopologyTimeoutMillis(Map stormConf) {<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS)) {<br/>\n    +    boolean timeOutsEnabled = (boolean) stormConf.get(Config.TOPOLOGY_ENABLE_MESSAGE_TIMEOUTS);<br/>\n    +    if (!timeOutsEnabled) </p>\n{\n    +return Integer.MAX_VALUE;\n    +    }\n<p>    +}<br/>\n    +int timeout = 0;<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS)) </p>\n{\n    +    timeout = ((Number) stormConf.get(Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS)).intValue();\n    +}\n<p>    +return timeout * 1000;<br/>\n    +    }<br/>\n    +<br/>\n    +    private void ensureDurationLessThanTimeout(int duration, int timeout) {<br/>\n    +if (duration > timeout) </p>\n{\n    +    throw new IllegalArgumentException(\"Window duration (length + sliding interval) value \" + duration +\n    +       \" is more than \" + Config.TOPOLOGY_MESSAGE_TIMEOUT_SECS +\n    +       \" value \" + timeout);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    // TODO: add more validation<br/>\n    +    private void validate(Map stormConf, Count windowLengthCount, Duration windowLengthDuration,<br/>\n    +  Count slidingIntervalCount, Duration slidingIntervalDuration) {<br/>\n    +<br/>\n    +int topologyTimeout = getTopologyTimeoutMillis(stormConf);<br/>\n    +if (windowLengthDuration != null && slidingIntervalDuration != null) </p>\n{\n    +    ensureDurationLessThanTimeout(windowLengthDuration.value + slidingIntervalDuration.value, topologyTimeout);\n    +}\n<p> else if (windowLengthDuration != null) </p>\n{\n    +    ensureDurationLessThanTimeout(windowLengthDuration.value, topologyTimeout);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private WindowManager<Tuple> initWindowManager(WindowLifecycleListener<Tuple> lifecycleListener, Map stormConf) {<br/>\n    +WindowManager<Tuple> manager = new WindowManager<>(lifecycleListener);<br/>\n    +Duration windowLengthDuration = null;<br/>\n    +Count windowLengthCount = null;<br/>\n    +Duration slidingIntervalDuration = null;<br/>\n    +Count slidingIntervalCount = null;<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_COUNT)) </p>\n{\n    +    windowLengthCount = new Count(((Number) stormConf.get(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_COUNT)).intValue());\n    +}\n<p> else if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_DURATION_MS)) </p>\n{\n    +    windowLengthDuration = new Duration(\n    +    ((Number) stormConf.get(Config.TOPOLOGY_BOLTS_WINDOW_LENGTH_DURATION_MS)).intValue(),\n    +    TimeUnit.MILLISECONDS);\n    +}\n<p>    +<br/>\n    +if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_COUNT)) </p>\n{\n    +    slidingIntervalCount = new Count(((Number) stormConf.get(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_COUNT)).intValue());\n    +}\n<p> else if (stormConf.containsKey(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_DURATION_MS)) </p>\n{\n    +    slidingIntervalDuration = new Duration(((Number) stormConf.get(Config.TOPOLOGY_BOLTS_SLIDING_INTERVAL_DURATION_MS)).intValue(), TimeUnit.MILLISECONDS);\n    +}\n<p> else </p>\n{\n    +    // default is a sliding window of count 1\n    +    slidingIntervalCount = new Count(1);\n    +}\n<p>    +// validate<br/>\n    +validate(stormConf, windowLengthCount, windowLengthDuration,<br/>\n    + slidingIntervalCount, slidingIntervalDuration);<br/>\n    +if (windowLengthCount != null) </p>\n{\n    +    manager.setWindowLength(windowLengthCount);\n    +}\n<p> else </p>\n{\n    +    manager.setWindowLength(windowLengthDuration);\n    +}\n<p>    +if (slidingIntervalCount != null) </p>\n{\n    +    manager.setSlidingInterval(slidingIntervalCount);\n    +}\n<p> else </p>\n{\n    +    manager.setSlidingInterval(slidingIntervalDuration);\n    +}\n<p>    +return manager;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) {<br/>\n    +this.windowedOutputCollector = new WindowedOutputCollector(collector);<br/>\n    +bolt.prepare(stormConf, context, windowedOutputCollector);<br/>\n    +this.listener = newWindowLifecycleListener();<br/>\n    +this.windowManager = initWindowManager(listener, stormConf);<br/>\n    +LOG.info(\"Initialized window manager {} \", this.windowManager);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) </p>\n{\n    +windowManager.add(input);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void cleanup() </p>\n{\n    +windowManager.shutdown();\n    +bolt.cleanup();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void declareOutputFields(OutputFieldsDeclarer declarer) </p>\n{\n    +bolt.declareOutputFields(declarer);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public Map<String, Object> getComponentConfiguration() </p>\n{\n    +return bolt.getComponentConfiguration();\n    +    }\n<p>    +<br/>\n    +    private WindowLifecycleListener<Tuple> newWindowLifecycleListener() {<br/>\n    +return new WindowLifecycleListener<Tuple>() {<br/>\n    +    @Override<br/>\n    +    public void onExpiry(List<Tuple> tuples) {<br/>\n    +for (Tuple tuple : tuples) </p>\n{\n    +    windowedOutputCollector.ack(tuple);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void onActivation(List<Tuple> tuples, List<Tuple> newTuples, List<Tuple> expiredTuples) {<br/>\n    +windowedOutputCollector.setContext(tuples);<br/>\n    +bolt.execute(new TupleWindowImpl(tuples, newTuples, expiredTuples));<br/>\n    +newTuples.clear();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Again, any reason why we are relying on mutation here to clear the states, why cant the caller clear the newTuples and expiredTuples which is probably an internal state for it? </p>\n\n<p>    Sorry for being anal about mutation , I am just not seeing a good reasoning to do it and it will be hard for someone else to figure out where exactly the internal state variables are changing. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626055","html_url":"https://github.com/apache/storm/issues/5008#issuecomment-2612626055","issue_url":"https://api.github.com/repos/apache/storm/issues/5008","id":2612626055,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjYwNTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:30:52Z","updated_at":"2025-01-24T14:11:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user zhuoliu opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/859\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/859</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1170\" title=\"Consistent Unit Test failure in Travis in backtype.storm.utils.DisruptorQueueTest\" class=\"issue-link\" data-issue-key=\"STORM-1170\"><del>STORM-1170</del></a> Fix the producer alive issue in DisruptorQueueTest</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/zhuoliu/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/zhuoliu/storm</a> 1170</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/859.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/859.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #859</p>\n\n<hr />\n<p>commit 77aa363ddf9de8a1bd0a11e86ee29c1c283424c2<br/>\nAuthor: zhuol <zhuol@yahoo-inc.com><br/>\nDate:   2015-11-04T20:24:18Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1170\" title=\"Consistent Unit Test failure in Travis in backtype.storm.utils.DisruptorQueueTest\" class=\"issue-link\" data-issue-key=\"STORM-1170\"><del>STORM-1170</del></a> Fix the producer alive issue in DisruptoQueueTest</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153854331","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153854331","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153854331,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg1NDMzMQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:33:46Z","updated_at":"2015-11-04T20:33:46Z","author_association":"CONTRIBUTOR","body":"This is a non-backwards compatible change to the REST API and I really would prefer to maintain compatibility if at all possible.  It seems fairly simple to make the REST API work with the name or the id.  We call get-id-from-name all over the place, it seems fairly simple to check to see if there is a topology with that as the ID, if not check to see if there is a topology with it as the name. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153854331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613978","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613978","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613978,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:33:47Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153854331\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153854331</a></p>\n\n<p>    This is a non-backwards compatible change to the REST API and I really would prefer to maintain compatibility if at all possible.  It seems fairly simple to make the REST API work with the name or the id.  We call get-id-from-name all over the place, it seems fairly simple to check to see if there is a topology with that as the ID, if not check to see if there is a topology with it as the name. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613983","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613983","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613983,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:35:45Z","updated_at":"2025-01-24T14:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#discussion_r43935706\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#discussion_r43935706</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/ui/core.clj &#8212;<br/>\n    @@ -851,141 +859,151 @@<br/>\n (populate-context! servlet-request)<br/>\n (assert-authorized-user \"getClusterInfo\")<br/>\n (json-response (all-topologies-summary) (:callback m)))</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(GET \"/api/v1/topology/:id\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request scheme&#93;</span>} id & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"getTopology\" (topology-config id))</li>\n\t<li>(let <span class=\"error\">&#91;user (get-user-name servlet-request)&#93;</span></li>\n\t<li>(json-response (topology-page id (:window m) (check-include-sys? (:sys m)) user (= scheme :https)) (:callback m))))</li>\n\t<li>(GET \"/api/v1/topology/:id/visualization-init\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request&#93;</span>} id & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"getTopology\" (topology-config id))</li>\n\t<li>(json-response (build-visualization id (:window m) (check-include-sys? (:sys m))) (:callback m)))</li>\n\t<li>(GET \"/api/v1/topology/:id/visualization\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request&#93;</span>} id & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"getTopology\" (topology-config id))</li>\n\t<li>(json-response (mk-visualization-data id (:window m) (check-include-sys? (:sys m))) (:callback m)))</li>\n\t<li>(GET \"/api/v1/topology/:id/component/:component\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request scheme&#93;</span>} id component & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"getTopology\" (topology-config id))</li>\n\t<li>(let <span class=\"error\">&#91;user (get-user-name servlet-request)&#93;</span></li>\n\t<li>(json-response</li>\n\t<li>(component-page id component (:window m) (check-include-sys? (:sys m)) user (= scheme :https))</li>\n\t<li>(:callback m))))</li>\n\t<li>(GET \"/api/v1/topology/:id/logconfig\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request&#93;</span>} id & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"getTopology\" (topology-config id))</li>\n\t<li>(json-response (log-config id) (:callback m)))</li>\n\t<li>(POST \"/api/v1/topology/:id/activate\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request&#93;</span>} id & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"activate\" (topology-config id))</li>\n\t<li>(thrift/with-configured-nimbus-connection nimbus</li>\n\t<li>(let [tplg (->> (doto</li>\n\t<li>(GetInfoOptions.)</li>\n\t<li>(.set_num_err_choice NumErrorsChoice/NONE))</li>\n\t<li>(.getTopologyInfoWithOpts ^Nimbus$Client nimbus id))</li>\n\t<li>name (.get_name tplg)]</li>\n\t<li>(.activate nimbus name)</li>\n\t<li>(log-message \"Activating topology '\" name \"'\")))</li>\n\t<li>(json-response (topology-op-response id \"activate\") (m \"callback\")))</li>\n\t<li>(POST \"/api/v1/topology/:id/deactivate\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request&#93;</span>} id & m]</li>\n\t<li>(populate-context! servlet-request)</li>\n\t<li>(assert-authorized-user \"deactivate\" (topology-config id))</li>\n\t<li>(thrift/with-configured-nimbus-connection nimbus<br/>\n    +  (GET \"/api/v1/topology/:name\" [:as {:keys <span class=\"error\">&#91;cookies servlet-request scheme&#93;</span>} name & m]<br/>\n    +    (let <span class=\"error\">&#91;id (get-id-from-name name)&#93;</span><br/>\n    +      (populate-context! servlet-request)\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    We have to populate the context before ever talking to nimbus.  `get-id-from-name` talks to nimbus and could potentially authenticate with the wrong user to nimbus.  This needs to be fixed everywhere.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613991","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613991","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613991,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5OTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:37:13Z","updated_at":"2025-01-24T14:06:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#discussion_r43935881\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#discussion_r43935881</a></p>\n\n<p>    &#8212; Diff: storm-core/src/ui/public/component.html &#8212;<br/>\n    @@ -116,7 +116,7 @@</p>\n\n<p>     var componentSummary = $(\"#component-summary\");<br/>\n     var componentActions = $(\"#component-actions\");</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>var buttonJsonData = componentActionJson(response<span class=\"error\">&#91;\"encodedTopologyId\"&#93;</span>, response<span class=\"error\">&#91;\"encodedId\"&#93;</span>, response<span class=\"error\">&#91;\"id\"&#93;</span>,<br/>\n    +var buttonJsonData = componentActionJson(response<span class=\"error\">&#91;\"name\"&#93;</span>, response<span class=\"error\">&#91;\"encodedId\"&#93;</span>, response<span class=\"error\">&#91;\"id\"&#93;</span>,\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    We need to encode the name just like we conded the topologyId, or we have the possibility of an incorrect URL for odd characters in a topology name.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153855653","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153855653","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153855653,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg1NTY1Mw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:39:34Z","updated_at":"2015-11-04T20:39:34Z","author_association":"CONTRIBUTOR","body":"@priyank5485 for the most part this change looks good to me, but there are a few serious bugs/incompatibilities that need to be fixed before this can go in.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153855653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613995","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613995","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613995,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:39:35Z","updated_at":"2025-01-24T14:06:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153855653\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153855653</a></p>\n\n<p>    @priyank5485 for the most part this change looks good to me, but there are a few serious bugs/incompatibilities that need to be fixed before this can go in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153856336","html_url":"https://github.com/apache/storm/pull/859#issuecomment-153856336","issue_url":"https://api.github.com/repos/apache/storm/issues/859","id":153856336,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg1NjMzNg==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:41:30Z","updated_at":"2015-11-04T20:41:30Z","author_association":"CONTRIBUTOR","body":"Looks good to me +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153856336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626060","html_url":"https://github.com/apache/storm/issues/5008#issuecomment-2612626060","issue_url":"https://api.github.com/repos/apache/storm/issues/5008","id":2612626060,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjYwNjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:41:31Z","updated_at":"2025-01-24T14:11:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/859#issuecomment-153856336\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/859#issuecomment-153856336</a></p>\n\n<p>    Looks good to me +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623779","html_url":"https://github.com/apache/storm/issues/4996#issuecomment-2612623779","issue_url":"https://api.github.com/repos/apache/storm/issues/4996","id":2612623779,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM3Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:49:23Z","updated_at":"2025-01-24T14:10:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/850#discussion_r43937323\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/850#discussion_r43937323</a></p>\n\n<p>    &#8212; Diff: docs/documentation/storm-metrics-profiling-internal-actions.md &#8212;<br/>\n    @@ -0,0 +1,70 @@<br/>\n    +# Storm Metrics for Profiling Various Storm Internal Actions<br/>\n    +<br/>\n    +With the addition of these metrics, Storm users can collect, view, and analyze the performance of various internal actions.  The actions that are profiled include thrift rpc calls and http quests within the storm daemons. For instance, in the Storm Nimbus daemon, the following thrift calls defined in the Nimbus$Iface are profiled:<br/>\n    +<br/>\n    +- submitTopology<br/>\n    +- submitTopologyWithOpts<br/>\n    +- killTopology<br/>\n    +- killTopologyWithOpts<br/>\n    +- activate<br/>\n    +- deactivate<br/>\n    +- rebalance<br/>\n    +- setLogConfig<br/>\n    +- getLogConfig<br/>\n    +<br/>\n    +Various HTTP GET and POST requests are marked for profiling as well such as the GET and POST requests for the Storm UI daemon (ui/core.cj)<br/>\n    +To implement these metrics the following packages are used: <br/>\n    +- io.dropwizard.metrics<br/>\n    +- metrics-clojure<br/>\n    +<br/>\n    +## How it works<br/>\n    +<br/>\n    +By using packages io.dropwizard.metrics and metrics-clojure (clojure wrapper for the metrics Java API), we can mark functions to profile by declaring (defmeter num-some-func-calls) and then adding the (mark! num-some-func-calls) to where the function is invoked. For example:<br/>\n    +<br/>\n    +    (defmeter num-some-func-calls)<br/>\n    +    (defn some-func <span class=\"error\">&#91;args&#93;</span><br/>\n    +(mark! num-some-func-calls)<br/>\n    +(body))<br/>\n    +<br/>\n    +What essentially the mark! API call does is increment a counter that represents how many times a certain action occured.  For instantanous measurements user can use gauges.  For example: <br/>\n    +<br/>\n    +    (defgauge nimbus:num-supervisors<br/>\n    + (fn [] (.size (.supervisors (:storm-cluster-state nimbus) nil))))<br/>\n    + <br/>\n    +The above example will get the number of supervisors in the cluster.  This metric is not accumlative like one previously discussed.<br/>\n    +<br/>\n    +A metrics reporting server needs to also be activated to collect the metrics. You can do this by calling the following function:<br/>\n    +<br/>\n    +    (defn start-metrics-reporters []<br/>\n    +(jmx/start (jmx/reporter {})))<br/>\n    +<br/>\n    +## How to collect the metrics<br/>\n    +<br/>\n    +Metrics can be reported via JMX or HTTP.  A user can use JConsole or VisualVM to connect to the jvm process and view the stats.<br/>\n    +<br/>\n    +To view the metrics in a GUI use VisualVM or JConsole.  Screenshot of using VisualVm for metrics: <br/>\n    +<br/>\n    +!<span class=\"error\">&#91;alt text&#93;</span>(<a href=\"https://dropwizard.github.io/metrics/3.1.0/_images/metrics-visualvm.png\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://dropwizard.github.io/metrics/3.1.0/_images/metrics-visualvm.png</a>)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can we host our own image instead of relying on an image on some external server?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623785","html_url":"https://github.com/apache/storm/issues/4996#issuecomment-2612623785","issue_url":"https://api.github.com/repos/apache/storm/issues/4996","id":2612623785,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM3ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:55:06Z","updated_at":"2025-01-24T14:10:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/850#discussion_r43938005\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/850#discussion_r43938005</a></p>\n\n<p>    &#8212; Diff: storm-core/pom.xml &#8212;<br/>\n    @@ -602,6 +612,42 @@<br/>\n       <pattern>org.eclipse.jetty</pattern><br/>\n       <shadedPattern>org.apache.storm.shade.org.eclipse.jetty</shadedPattern><br/>\n     </relocation><br/>\n    +<relocation><br/>\n    +    <pattern>com.codahale.metrics</pattern><br/>\n    +    <shadedPattern>org.apache.storm.shade.com.codahale.metrics</shadedPattern><br/>\n    +</relocation><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    If we are shading the codahale API the normal way of installing a custom metrics reporter is not going to work.  We should probably look at either not shading this, or at providing instructions on how to make other Reporters work.  But that can probably be in a follow on JIRA.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153862641","html_url":"https://github.com/apache/storm/pull/850#issuecomment-153862641","issue_url":"https://api.github.com/repos/apache/storm/issues/850","id":153862641,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg2MjY0MQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:55:58Z","updated_at":"2015-11-04T20:55:58Z","author_association":"CONTRIBUTOR","body":"For the most part it all looks great, just a few comments some of which can probably be addressed in a follow on JIRA.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153862641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623791","html_url":"https://github.com/apache/storm/issues/4996#issuecomment-2612623791","issue_url":"https://api.github.com/repos/apache/storm/issues/4996","id":2612623791,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjM3OTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T20:55:59Z","updated_at":"2025-01-24T14:10:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/850#issuecomment-153862641\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/850#issuecomment-153862641</a></p>\n\n<p>    For the most part it all looks great, just a few comments some of which can probably be addressed in a follow on JIRA.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612623791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569463","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569463","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569463,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:00:42Z","updated_at":"2025-01-24T13:46:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43938663\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43938663</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/pacemaker/pacemaker.clj &#8212;<br/>\n    @@ -0,0 +1,248 @@<br/>\n    +;; Licensed to the Apache Software Foundation (ASF) under one<br/>\n    +;; or more contributor license agreements.  See the NOTICE file<br/>\n    +;; distributed with this work for additional information<br/>\n    +;; regarding copyright ownership.  The ASF licenses this file<br/>\n    +;; to you under the Apache License, Version 2.0 (the<br/>\n    +;; \"License\"); you may not use this file except in compliance<br/>\n    +;; with the License.  You may obtain a copy of the License at<br/>\n    +;;<br/>\n    +;; <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    +;;<br/>\n    +;; Unless required by applicable law or agreed to in writing, software<br/>\n    +;; distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    +;; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    +;; See the License for the specific language governing permissions and<br/>\n    +;; limitations under the License.<br/>\n    +<br/>\n    +(ns org.apache.storm.pacemaker.pacemaker<br/>\n    +  (:import <span class=\"error\">&#91;org.apache.storm.pacemaker PacemakerServer IServerMessageHandler&#93;</span><br/>\n    +   <span class=\"error\">&#91;java.util.concurrent ConcurrentHashMap ThreadPoolExecutor TimeUnit LinkedBlockingDeque&#93;</span><br/>\n    +   <span class=\"error\">&#91;java.util.concurrent.atomic AtomicInteger&#93;</span><br/>\n    +   <span class=\"error\">&#91;java.util Date&#93;</span><br/>\n    +   [backtype.storm.generated<br/>\n    +    HBAuthorizationException HBExecutionException HBNodes HBRecords<br/>\n    +    HBServerMessageType HBMessage HBMessageData HBPulse])<br/>\n    +  (:use [clojure.string :only <span class=\"error\">&#91;replace-first split&#93;</span>]<br/>\n    +<span class=\"error\">&#91;backtype.storm log config util&#93;</span>)<br/>\n    +  (:require <span class=\"error\">&#91;clojure.java.jmx :as jmx&#93;</span>)<br/>\n    +  (:gen-class))<br/>\n    +<br/>\n    +;; This is the old Thrift service that this server is emulating.<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Its not really old.  And can you explain why you are emulating a thrift service instead of using thrift?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153864538","html_url":"https://github.com/apache/storm/pull/854#issuecomment-153864538","issue_url":"https://api.github.com/repos/apache/storm/issues/854","id":153864538,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg2NDUzOA==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:03:25Z","updated_at":"2015-11-04T21:03:25Z","author_association":"CONTRIBUTOR","body":"I agree with @revans2 , lets maintain backward compatibility.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153864538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613997","html_url":"https://github.com/apache/storm/issues/4967#issuecomment-2612613997","issue_url":"https://api.github.com/repos/apache/storm/issues/4967","id":2612613997,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MTM5OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:03:27Z","updated_at":"2025-01-24T14:06:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/854#issuecomment-153864538\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/854#issuecomment-153864538</a></p>\n\n<p>    I agree with @revans2 , lets maintain backward compatibility.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612613997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601864","html_url":"https://github.com/apache/storm/issues/4890#issuecomment-2612601864","issue_url":"https://api.github.com/repos/apache/storm/issues/4890","id":2612601864,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MDE4NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:04:29Z","updated_at":"2025-01-24T14:01:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/743#discussion_r43939104\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/743#discussion_r43939104</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/src/test/storm/kafka/TridentKafkaTopology.java &#8212;<br/>\n    @@ -88,11 +88,11 @@ public static void main(String[] args) throws Exception {</p>\n\n<p> private  static Config getConfig(String brokerConnectionString) {<br/>\n     Config conf = new Config();</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>Map config = new HashMap();<br/>\n     Properties props = new Properties();</li>\n\t<li>props.put(\"metadata.broker.list\", brokerConnectionString);</li>\n\t<li>props.put(\"request.required.acks\", \"1\");</li>\n\t<li>props.put(\"serializer.class\", \"kafka.serializer.StringEncoder\");<br/>\n    +props.put(\"bootstrap.servers\", brokerConnectionString);<br/>\n    +props.put(\"acks\", \"1\");<br/>\n    +props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Agreed, since it is a test, making it not configurable should be OK.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569467","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569467","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569467,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:13:39Z","updated_at":"2025-01-24T13:46:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43940262\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43940262</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/Config.java &#8212;<br/>\n    @@ -752,6 +759,54 @@<br/>\n public static final String UI_HTTPS_NEED_CLIENT_AUTH = \"ui.https.need.client.auth\";</p>\n\n<p> /**<br/>\n    +     * The host that Pacemaker is running on.<br/>\n    +     */<br/>\n    +    @isString<br/>\n    +    public static final String PACEMAKER_HOST = \"pacemaker.host\";<br/>\n    +<br/>\n    +    /**<br/>\n    +     * The port Pacemaker should run on. Clients should<br/>\n    +     * connect to this port to submit or read heartbeats.<br/>\n    +     */<br/>\n    +    @isNumber<br/>\n    +    @isPositiveNumber<br/>\n    +    public static final String PACEMAKER_PORT = \"pacemaker.port\";<br/>\n    +<br/>\n    +    /**<br/>\n    +     * The maximum number of threads that should be used by the Pacemaker.<br/>\n    +     * When Pacemaker gets loaded it will spawn new threads, up to <br/>\n    +     * this many total, to handle the load.<br/>\n    +     */<br/>\n    +    @isNumber<br/>\n    +    @isPositiveNumber<br/>\n    +    public static final String PACEMAKER_MAX_THREADS = \"pacemaker.max.threads\";<br/>\n    +<br/>\n    +    /**<br/>\n    +     * This parameter is used by the storm-deploy project to configure the<br/>\n    +     * jvm options for the nimbus daemon.<br/>\n    +     */<br/>\n    +    @isString<br/>\n    +    public static final String PACEMAKER_CHILDOPTS = \"pacemaker.childopts\";<br/>\n    +<br/>\n    +    /**<br/>\n    +     * This should be one of \"DIGEST\", \"KERBEROS\", or \"NONE\"<br/>\n    +     * Determines the mode of authentication the pacemaker server and client use.<br/>\n    +     * The client must either match the server, or be NONE. In the case of NONE,<br/>\n    +     * no authentication is performed for the client, and if the server is running with<br/>\n    +     * DIGEST or KERBEROS, the client can only write to the server (no reads).<br/>\n    +     * This is intended to provide a primitive form of access-control.<br/>\n    +     */<br/>\n    +    @isString<br/>\n    +    public static final String PACEMAKER_AUTH_METHOD = \"pacemaker.auth.method\";<br/>\n    +<br/>\n    +    /**<br/>\n    +     * These are the kerberos users who are authorized to read hearbeats from<br/>\n    +     * Pacemaker.<br/>\n    +     */<br/>\n    +    @isStringList<br/>\n    +    public static final String PACEMAKER_KERBEROS_USERS = \"pacemaker.kerberos.users\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Could we please rename this?  We already have configs that indicate who the supervisors are running as, and who admins are,  I really would prefer to see a config that indicates who nimbus is running as so it can be shared with other things in the future, if we ever need them.</p>\n\n<p>    I would also like to see the authentication code refactored to look more like what the regular thrift auth does with the request context and a pluggable authorization mechanism.  I don't see a reason to do it here, if the code already works, but I would like to see it in a follow on JIRA.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569472","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569472","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569472,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:15:21Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43940458\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43940458</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/cluster/ClusterState.java &#8212;<br/>\n    @@ -0,0 +1,45 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.cluster;<br/>\n    +<br/>\n    +import clojure.lang.APersistentMap;<br/>\n    +import clojure.lang.IFn;<br/>\n    +import java.util.List;<br/>\n    +import org.apache.zookeeper.data.ACL;<br/>\n    +<br/>\n    +public interface ClusterState {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    minor nit. it wold be nice to have a javadoc comment here and on all of the methods.  The clojure code didn't have anything so if you want to push back It is not that critical. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625414","html_url":"https://github.com/apache/storm/issues/5005#issuecomment-2612625414","issue_url":"https://api.github.com/repos/apache/storm/issues/5005","id":2612625414,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjU0MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:16:58Z","updated_at":"2025-01-24T14:11:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/855#discussion_r43940643\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/855#discussion_r43940643</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/windowing/WindowManager.java &#8212;<br/>\n    @@ -0,0 +1,210 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.windowing;<br/>\n    +<br/>\n    +<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Set;<br/>\n    +import java.util.concurrent.ConcurrentLinkedQueue;<br/>\n    +import java.util.concurrent.atomic.AtomicInteger;<br/>\n    +import java.util.concurrent.locks.ReentrantLock;<br/>\n    +<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Count;<br/>\n    +import static backtype.storm.topology.base.BaseWindowedBolt.Duration;<br/>\n    +<br/>\n    +/**<br/>\n    + * Tracks a window of events and fires </p>\n{@link WindowLifecycleListener}\n<p> callbacks<br/>\n    + * on expiry of events or activation of the window due to </p>\n{@link TriggerPolicy}\n<p>.<br/>\n    + *<br/>\n    + * @param <T> the type of event in the window.<br/>\n    + */<br/>\n    +public class WindowManager<T> implements TriggerHandler {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(WindowManager.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Expire old events every EXPIRE_EVENTS_THRESHOLD to<br/>\n    +     * keep the window size in check.<br/>\n    +     */<br/>\n    +    public static final int EXPIRE_EVENTS_THRESHOLD = 100;<br/>\n    +<br/>\n    +    private WindowLifecycleListener<T> windowLifecycleListener;<br/>\n    +    private ConcurrentLinkedQueue<Event<T>> window;<br/>\n    +    private EvictionPolicy<T> evictionPolicy;<br/>\n    +    private TriggerPolicy<T> triggerPolicy;<br/>\n    +    private List<T> expiredEvents;<br/>\n    +    private Set<Event<T>> prevWindowEvents;<br/>\n    +    private AtomicInteger eventsSinceLastExpiry;<br/>\n    +    private ReentrantLock lock;<br/>\n    +<br/>\n    +    public WindowManager(WindowLifecycleListener<T> lifecycleListener) </p>\n{\n    +windowLifecycleListener = lifecycleListener;\n    +window = new ConcurrentLinkedQueue<>();\n    +expiredEvents = new ArrayList<>();\n    +prevWindowEvents = new HashSet<>();\n    +eventsSinceLastExpiry = new AtomicInteger();\n    +lock = new ReentrantLock(true);\n    +    }\n<p>    +<br/>\n    +    public void setWindowLength(Count count) </p>\n{\n    +this.evictionPolicy = new CountEvictionPolicy<>(count.value);\n    +    }\n<p>    +<br/>\n    +    public void setWindowLength(Duration duration) </p>\n{\n    +this.evictionPolicy = new TimeEvictionPolicy<>(duration.value);\n    +    }\n<p>    +<br/>\n    +    public void setSlidingInterval(Count count) </p>\n{\n    +this.triggerPolicy = new CountTriggerPolicy<>(count.value, this);\n    +    }\n<p>    +<br/>\n    +    public void setSlidingInterval(Duration duration) </p>\n{\n    +this.triggerPolicy = new TimeTriggerPolicy<>(duration.value, this);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Add an event into the window, with </p>\n{@link System#currentTimeMillis()}\n<p> as<br/>\n    +     * the tracking ts.<br/>\n    +     *<br/>\n    +     * @param event the event to add<br/>\n    +     */<br/>\n    +    public void add(T event) </p>\n{\n    +add(event, System.currentTimeMillis());\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Add an event into the window, with the given ts as the tracking ts.<br/>\n    +     *<br/>\n    +     * @param event the event to track<br/>\n    +     * @param ts    the timestamp<br/>\n    +     */<br/>\n    +    public void add(T event, long ts) {<br/>\n    +Event<T> windowEvent = new EventImpl<T>(event, ts);<br/>\n    +window.add(windowEvent);<br/>\n    +track(windowEvent);<br/>\n    +compactWindow();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    not sure why we need this? Why not just rely on onTrigger to expire events? </p>\n\n<p>    Also don't we need the locking here as well to ensure that when onTrigger is fired no new events can be added given that will change the events in window? plus i think it will give us undefined behavior as in line 187 we are using an iterator to remove an element from window list while this add method can add an element to it. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612625414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569474","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569474","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569474,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:18:16Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43940795\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43940795</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Context.java &#8212;<br/>\n    @@ -55,6 +54,7 @@ public void prepare(Map storm_conf) {<br/>\n     int maxWorkers = Utils.getInt(storm_conf.get(Config.STORM_MESSAGING_NETTY_CLIENT_WORKER_THREADS));<br/>\n     \t\tThreadFactory bossFactory = new NettyRenameThreadFactory(\"client\" + \"-boss\");<br/>\n     ThreadFactory workerFactory = new NettyRenameThreadFactory(\"client\" + \"-worker\");<br/>\n    +// TODO investigate impact of having one worker<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Do we need to investigate this? If so please either do the investigation.  either way please revert the changes to this file, there are no changes really worth making.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569479","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569479","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569479,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:24:24Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43941560\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43941560</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/KerberosSaslClientHandler.java &#8212;<br/>\n    @@ -0,0 +1,154 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.messaging.netty;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.Map;<br/>\n    +import org.jboss.netty.channel.Channel;<br/>\n    +import org.jboss.netty.channel.ChannelHandlerContext;<br/>\n    +import org.jboss.netty.channel.ChannelStateEvent;<br/>\n    +import org.jboss.netty.channel.Channels;<br/>\n    +import org.jboss.netty.channel.MessageEvent;<br/>\n    +import org.jboss.netty.channel.SimpleChannelUpstreamHandler;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +public class KerberosSaslClientHandler extends SimpleChannelUpstreamHandler {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory<br/>\n    +    .getLogger(KerberosSaslClientHandler.class);<br/>\n    +    private ISaslClient client;<br/>\n    +    long start_time;<br/>\n    +    /** Used for client or server's token to send or receive from each other. */<br/>\n    +    private Map storm_conf;<br/>\n    +    private String jaas_section;<br/>\n    +<br/>\n    +    public KerberosSaslClientHandler(ISaslClient client, Map storm_conf, String jaas_section) throws IOException </p>\n{\n    +this.client = client;\n    +this.storm_conf = storm_conf;\n    +this.jaas_section = jaas_section;\n    +start_time = System.currentTimeMillis();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void channelConnected(ChannelHandlerContext ctx,<br/>\n    +    ChannelStateEvent event) {<br/>\n    +// register the newly established channel<br/>\n    +Channel channel = ctx.getChannel();<br/>\n    +client.channelConnected(channel);<br/>\n    +<br/>\n    +LOG.info(\"Connection established from {} to {}\",<br/>\n    + channel.getLocalAddress(), channel.getRemoteAddress());<br/>\n    +<br/>\n    +try {<br/>\n    +    KerberosSaslNettyClient saslNettyClient = KerberosSaslNettyClientState.getKerberosSaslNettyClient<br/>\n    +    .get(channel);<br/>\n    +<br/>\n    +    if (saslNettyClient == null) {<br/>\n    +LOG.debug(\"Creating saslNettyClient now for channel: {}\",<br/>\n    +  channel);<br/>\n    +saslNettyClient = new KerberosSaslNettyClient(storm_conf, jaas_section);<br/>\n    +KerberosSaslNettyClientState.getKerberosSaslNettyClient.set(channel,<br/>\n    +saslNettyClient);<br/>\n    +    }<br/>\n    +    LOG.debug(\"Going to initiate Kerberos negotiations.\");<br/>\n    +    byte[] initialChallenge = saslNettyClient.saslResponse(new SaslMessageToken(new byte<span class=\"error\">&#91;0&#93;</span>));<br/>\n    +    LOG.debug(\"Sending initial challenge: {}\", initialChallenge);<br/>\n    +    channel.write(new SaslMessageToken(initialChallenge));<br/>\n    +} catch (Exception e) </p>\n{\n    +    LOG.error(\"Failed to authenticate with server due to error: \",\n    +      e);\n    +}\n<p>    +return;<br/>\n    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void messageReceived(ChannelHandlerContext ctx, MessageEvent event)<br/>\n    +    throws Exception {<br/>\n    +LOG.debug(\"send/recv time (ms): {}\",<br/>\n    +(System.currentTimeMillis() - start_time));<br/>\n    +<br/>\n    +Channel channel = ctx.getChannel();<br/>\n    +<br/>\n    +// Generate SASL response to server using Channel-local SASL client.<br/>\n    +KerberosSaslNettyClient saslNettyClient = KerberosSaslNettyClientState.getKerberosSaslNettyClient<br/>\n    +.get(channel);<br/>\n    +if (saslNettyClient == null) </p>\n{\n    +    throw new Exception(\"saslNettyClient was unexpectedly null for channel:\" + channel);\n    +}\n<p>    +<br/>\n    +// examine the response message from server<br/>\n    +if (event.getMessage() instanceof ControlMessage) {<br/>\n    +    ControlMessage msg = (ControlMessage) event.getMessage();<br/>\n    +    if (msg == ControlMessage.SASL_COMPLETE_REQUEST) {<br/>\n    +LOG.debug(\"Server has sent us the SaslComplete message. Allowing normal work to proceed.\");<br/>\n    +<br/>\n    +if (!saslNettyClient.isComplete()) </p>\n{\n    +    String message = \"Server returned a Sasl-complete message, but as far as we can tell, we are not authenticated yet.\";\n    +    LOG.error(message);\n    +    throw new Exception(message);\n    +}\n<p>    +ctx.getPipeline().remove(this);<br/>\n    +this.client.channelReady();<br/>\n    +<br/>\n    +// We call fireMessageReceived since the client is allowed to<br/>\n    +// perform this request. The client's request will now proceed<br/>\n    +// to the next pipeline component namely StormClientHandler.<br/>\n    +Channels.fireMessageReceived(ctx, msg);<br/>\n    +    }<br/>\n    +    else {<br/>\n    +LOG.warn(\"Unexpected control message: {}\", msg);<br/>\n    +    }<br/>\n    +    return;<br/>\n    +}<br/>\n    +else if (event.getMessage() instanceof SaslMessageToken) {<br/>\n    +    SaslMessageToken saslTokenMessage = (SaslMessageToken) event<br/>\n    +.getMessage();<br/>\n    +    LOG.debug(\"Responding to server's token of length: {}\",<br/>\n    +      saslTokenMessage.getSaslToken().length);<br/>\n    +<br/>\n    +    // Generate SASL response (but we only actually send the response if<br/>\n    +    // it's non-null.<br/>\n    +    byte[] responseToServer = saslNettyClient<br/>\n    +.saslResponse(saslTokenMessage);<br/>\n    +    if (responseToServer == null) {<br/>\n    +// If we generate a null response, then authentication has completed<br/>\n    +// (if not, warn), and return without sending a response back to the<br/>\n    +// server.<br/>\n    +LOG.debug(\"Response to server is null: authentication should now be complete.\");<br/>\n    +if (!saslNettyClient.isComplete()) </p>\n{\n    +    LOG.warn(\"Generated a null response, but authentication is not complete.\");\n    +    throw new Exception(\"Our reponse to the server is null, but as far as we can tell, we are not authenticated yet.\");\n    +}\n<p>    +this.client.channelReady();<br/>\n    +return;<br/>\n    +    } else {<br/>\n    +LOG.debug(\"Response to server token has length: {}\",<br/>\n    +  responseToServer.length);<br/>\n    +    }<br/>\n    +    // Construct a message containing the SASL response and send it to the<br/>\n    +    // server.<br/>\n    +    SaslMessageToken saslResponse = new SaslMessageToken(responseToServer);<br/>\n    +    channel.write(saslResponse);<br/>\n    +}<br/>\n    +else </p>\n{\n    --- End diff --\n    \n    minor nit I thought the style guidelines had all of the else and else if clauses on the same line as the previous '}\n<p>'</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569481","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569481","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569481,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:24:55Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43941636\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43941636</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/KerberosSaslNettyClient.java &#8212;<br/>\n    @@ -0,0 +1,212 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.messaging.netty;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.AuthUtils;<br/>\n    +import java.io.IOException;<br/>\n    +import java.security.Principal;<br/>\n    +import java.security.PrivilegedActionException;<br/>\n    +import java.security.PrivilegedExceptionAction;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.TreeMap;<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.security.auth.callback.Callback;<br/>\n    +import javax.security.auth.callback.CallbackHandler;<br/>\n    +import javax.security.auth.callback.UnsupportedCallbackException;<br/>\n    +import javax.security.auth.kerberos.KerberosTicket;<br/>\n    +import javax.security.auth.login.Configuration;<br/>\n    +import javax.security.auth.login.LoginException;<br/>\n    +import javax.security.sasl.Sasl;<br/>\n    +import javax.security.sasl.SaslClient;<br/>\n    +import javax.security.sasl.SaslException;<br/>\n    +import org.apache.zookeeper.Login;<br/>\n    +import org.apache.zookeeper.server.auth.KerberosName;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +/**<br/>\n    + * Implements SASL logic for storm worker client processes.<br/>\n    + */<br/>\n    +public class KerberosSaslNettyClient {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory<br/>\n    +    .getLogger(KerberosSaslNettyClient.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Used to respond to server's counterpart, SaslServer with SASL tokens<br/>\n    +     * represented as byte arrays.<br/>\n    +     */<br/>\n    +    private SaslClient saslClient;<br/>\n    +    private Subject subject;<br/>\n    +    private String jaas_section;<br/>\n    +    <br/>\n    +    /**<br/>\n    +     * Create a KerberosSaslNettyClient for authentication with servers.<br/>\n    +     */<br/>\n    +    public KerberosSaslNettyClient(Map storm_conf, String jaas_section) {<br/>\n    +LOG.debug(\"KerberosSaslNettyClient: Creating SASL {} client to authenticate to server \",<br/>\n    +  SaslUtils.KERBEROS);<br/>\n    +<br/>\n    +LOG.info(\"Creating Kerberos Client.\");<br/>\n    +<br/>\n    +Configuration login_conf;<br/>\n    +try </p>\n{\n    +    login_conf = AuthUtils.GetConfiguration(storm_conf);\n    +}\n<p>    +catch (Throwable t) </p>\n{\n    +    LOG.error(\"Failed to get login_conf: \", t);\n    +    throw t;\n    +}\n<p>    +LOG.debug(\"KerberosSaslNettyClient: authmethod {}\", SaslUtils.KERBEROS);<br/>\n    +<br/>\n    +SaslClientCallbackHandler ch = new SaslClientCallbackHandler();<br/>\n    +<br/>\n    +subject = null;<br/>\n    +try {<br/>\n    +    LOG.debug(\"Setting Configuration to login_config: {}\", login_conf);<br/>\n    +    //specify a configuration object to be used<br/>\n    +    Configuration.setConfiguration(login_conf); <br/>\n    +    //now login<br/>\n    +    LOG.debug(\"Trying to login.\");<br/>\n    +    Login login = new Login(jaas_section, ch);<br/>\n    +    subject = login.getSubject();<br/>\n    +    LOG.debug(\"Got Subject: {}\", subject.toString());<br/>\n    +} catch (LoginException ex) </p>\n{\n    +    LOG.error(\"Client failed to login in principal:\" + ex, ex);\n    +    throw new RuntimeException(ex);\n    +}\n<p>    +<br/>\n    +//check the credential of our principal<br/>\n    +if (subject.getPrivateCredentials(KerberosTicket.class).isEmpty()) </p>\n{ \n    +    LOG.error(\"Failed to verify user principal.\");\n    +    throw new RuntimeException(\"Fail to verify user principal with section \\\"\" +\n    +       jaas_section +\n    +       \"\\\" in login configuration file \" +\n    +       login_conf);\n    +}\n<p>    +<br/>\n    +String serviceName = null;<br/>\n    +try </p>\n{\n    +    serviceName = AuthUtils.get(login_conf, jaas_section, \"serviceName\");\n    +}\n<p>    +catch (IOException e) </p>\n{\n    +    LOG.error(\"Failed to get service name.\", e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +<br/>\n    +try {<br/>\n    +    Principal principal = (Principal)subject.getPrincipals().toArray()<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +    final String fPrincipalName = principal.getName();<br/>\n    +    KerberosName kerbName = new KerberosName(principal.getName());<br/>\n    +    final String fHost = (String)storm_conf.get(Config.PACEMAKER_HOST);<br/>\n    +    final String fServiceName = serviceName;<br/>\n    +    final CallbackHandler fch = ch;<br/>\n    +    LOG.debug(\"Kerberos Client with principal: {}, host: {}\", fPrincipalName, fHost);<br/>\n    +    saslClient = Subject.doAs(subject, new PrivilegedExceptionAction<SaslClient>() {<br/>\n    +    public SaslClient run() {<br/>\n    +try {<br/>\n    +    Map<String, String> props = new TreeMap<String,String>();<br/>\n    +    props.put(Sasl.QOP, \"auth\");<br/>\n    +    props.put(Sasl.SERVER_AUTH, \"false\");<br/>\n    +    return Sasl.createSaslClient(<br/>\n    +new String[] </p>\n{ SaslUtils.KERBEROS }\n<p>,<br/>\n    +fPrincipalName,<br/>\n    +fServiceName,<br/>\n    +fHost,<br/>\n    +props, fch);<br/>\n    +}<br/>\n    +catch (Exception e) </p>\n{\n    +    LOG.error(\"Subject failed to create sasl client.\", e);\n    +    return null;\n    +}\n<p>    +    }<br/>\n    +});<br/>\n    +    LOG.info(\"Got Client: {}\", saslClient);<br/>\n    +    <br/>\n    +} catch (PrivilegedActionException e) </p>\n{\n    +    LOG.error(\"KerberosSaslNettyClient: Could not create Sasl Netty Client.\");\n    +    throw new RuntimeException(e);\n    +}\n<p>    +}<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This indentation appears to be off.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569487","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569487","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569487,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T21:30:20Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43942352\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43942352</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/KerberosSaslNettyClient.java &#8212;<br/>\n    @@ -0,0 +1,212 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.messaging.netty;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.AuthUtils;<br/>\n    +import java.io.IOException;<br/>\n    +import java.security.Principal;<br/>\n    +import java.security.PrivilegedActionException;<br/>\n    +import java.security.PrivilegedExceptionAction;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.TreeMap;<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.security.auth.callback.Callback;<br/>\n    +import javax.security.auth.callback.CallbackHandler;<br/>\n    +import javax.security.auth.callback.UnsupportedCallbackException;<br/>\n    +import javax.security.auth.kerberos.KerberosTicket;<br/>\n    +import javax.security.auth.login.Configuration;<br/>\n    +import javax.security.auth.login.LoginException;<br/>\n    +import javax.security.sasl.Sasl;<br/>\n    +import javax.security.sasl.SaslClient;<br/>\n    +import javax.security.sasl.SaslException;<br/>\n    +import org.apache.zookeeper.Login;<br/>\n    +import org.apache.zookeeper.server.auth.KerberosName;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +/**<br/>\n    + * Implements SASL logic for storm worker client processes.<br/>\n    + */<br/>\n    +public class KerberosSaslNettyClient {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory<br/>\n    +    .getLogger(KerberosSaslNettyClient.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Used to respond to server's counterpart, SaslServer with SASL tokens<br/>\n    +     * represented as byte arrays.<br/>\n    +     */<br/>\n    +    private SaslClient saslClient;<br/>\n    +    private Subject subject;<br/>\n    +    private String jaas_section;<br/>\n    +    <br/>\n    +    /**<br/>\n    +     * Create a KerberosSaslNettyClient for authentication with servers.<br/>\n    +     */<br/>\n    +    public KerberosSaslNettyClient(Map storm_conf, String jaas_section) {<br/>\n    +LOG.debug(\"KerberosSaslNettyClient: Creating SASL {} client to authenticate to server \",<br/>\n    +  SaslUtils.KERBEROS);<br/>\n    +<br/>\n    +LOG.info(\"Creating Kerberos Client.\");<br/>\n    +<br/>\n    +Configuration login_conf;<br/>\n    +try </p>\n{\n    +    login_conf = AuthUtils.GetConfiguration(storm_conf);\n    +}\n<p>    +catch (Throwable t) </p>\n{\n    +    LOG.error(\"Failed to get login_conf: \", t);\n    +    throw t;\n    +}\n<p>    +LOG.debug(\"KerberosSaslNettyClient: authmethod {}\", SaslUtils.KERBEROS);<br/>\n    +<br/>\n    +SaslClientCallbackHandler ch = new SaslClientCallbackHandler();<br/>\n    +<br/>\n    +subject = null;<br/>\n    +try {<br/>\n    +    LOG.debug(\"Setting Configuration to login_config: {}\", login_conf);<br/>\n    +    //specify a configuration object to be used<br/>\n    +    Configuration.setConfiguration(login_conf); <br/>\n    +    //now login<br/>\n    +    LOG.debug(\"Trying to login.\");<br/>\n    +    Login login = new Login(jaas_section, ch);<br/>\n    +    subject = login.getSubject();<br/>\n    +    LOG.debug(\"Got Subject: {}\", subject.toString());<br/>\n    +} catch (LoginException ex) </p>\n{\n    +    LOG.error(\"Client failed to login in principal:\" + ex, ex);\n    +    throw new RuntimeException(ex);\n    +}\n<p>    +<br/>\n    +//check the credential of our principal<br/>\n    +if (subject.getPrivateCredentials(KerberosTicket.class).isEmpty()) </p>\n{ \n    +    LOG.error(\"Failed to verify user principal.\");\n    +    throw new RuntimeException(\"Fail to verify user principal with section \\\"\" +\n    +       jaas_section +\n    +       \"\\\" in login configuration file \" +\n    +       login_conf);\n    +}\n<p>    +<br/>\n    +String serviceName = null;<br/>\n    +try </p>\n{\n    +    serviceName = AuthUtils.get(login_conf, jaas_section, \"serviceName\");\n    +}\n<p>    +catch (IOException e) </p>\n{\n    +    LOG.error(\"Failed to get service name.\", e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +<br/>\n    +try {<br/>\n    +    Principal principal = (Principal)subject.getPrincipals().toArray()<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +    final String fPrincipalName = principal.getName();<br/>\n    +    KerberosName kerbName = new KerberosName(principal.getName());<br/>\n    +    final String fHost = (String)storm_conf.get(Config.PACEMAKER_HOST);<br/>\n    +    final String fServiceName = serviceName;<br/>\n    +    final CallbackHandler fch = ch;<br/>\n    +    LOG.debug(\"Kerberos Client with principal: {}, host: {}\", fPrincipalName, fHost);<br/>\n    +    saslClient = Subject.doAs(subject, new PrivilegedExceptionAction<SaslClient>() {<br/>\n    +    public SaslClient run() {<br/>\n    +try {<br/>\n    +    Map<String, String> props = new TreeMap<String,String>();<br/>\n    +    props.put(Sasl.QOP, \"auth\");<br/>\n    +    props.put(Sasl.SERVER_AUTH, \"false\");<br/>\n    +    return Sasl.createSaslClient(<br/>\n    +new String[] </p>\n{ SaslUtils.KERBEROS }\n<p>,<br/>\n    +fPrincipalName,<br/>\n    +fServiceName,<br/>\n    +fHost,<br/>\n    +props, fch);<br/>\n    +}<br/>\n    +catch (Exception e) </p>\n{\n    +    LOG.error(\"Subject failed to create sasl client.\", e);\n    +    return null;\n    +}\n<p>    +    }<br/>\n    +});<br/>\n    +    LOG.info(\"Got Client: {}\", saslClient);<br/>\n    +    <br/>\n    +} catch (PrivilegedActionException e) </p>\n{\n    +    LOG.error(\"KerberosSaslNettyClient: Could not create Sasl Netty Client.\");\n    +    throw new RuntimeException(e);\n    +}\n<p>    +}<br/>\n    +<br/>\n    +    public boolean isComplete() </p>\n{\n    +return saslClient.isComplete();\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Respond to server's SASL token.<br/>\n    +     * <br/>\n    +     * @param saslTokenMessage<br/>\n    +     *    contains server's SASL token<br/>\n    +     * @return client's response SASL token<br/>\n    +     */<br/>\n    +    public byte[] saslResponse(SaslMessageToken saslTokenMessage) {<br/>\n    +try {<br/>\n    +    final SaslMessageToken fSaslTokenMessage = saslTokenMessage;<br/>\n    +    byte [] retval = Subject.doAs(subject, new PrivilegedExceptionAction<byte[]>() {<br/>\n    +    public byte[] run() {<br/>\n    +try </p>\n{\n    +    byte[] retval = saslClient.evaluateChallenge(fSaslTokenMessage\n    + .getSaslToken());\n    +    return retval;\n    +}\n<p> catch (SaslException e) </p>\n{\n    +    LOG.error(\"saslResponse: Failed to respond to SASL server's token:\",\n    +      e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +});<br/>\n    +    return retval;<br/>\n    +}<br/>\n    +catch (PrivilegedActionException e) </p>\n{\n    +    LOG.error(\"Failed to generate response for token: \", e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Implementation of javax.security.auth.callback.CallbackHandler that works<br/>\n    +     * with Storm topology tokens.<br/>\n    +     */<br/>\n    +    private static class SaslClientCallbackHandler implements CallbackHandler {<br/>\n    +<br/>\n    +/**<br/>\n    + * Set private members using topology token.<br/>\n    + * <br/>\n    + * @param topologyToken<br/>\n    + */<br/>\n    +public SaslClientCallbackHandler() </p>\n{\n    +}\n<p>    &#8212; End diff &#8211;</p>\n\n<p>    Could you put in a //NOOP or something in the empty blocks.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153882896","html_url":"https://github.com/apache/storm/pull/743#issuecomment-153882896","issue_url":"https://api.github.com/repos/apache/storm/issues/743","id":153882896,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg4Mjg5Ng==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:02:37Z","updated_at":"2015-11-04T22:02:37Z","author_association":"CONTRIBUTOR","body":"@zhuoliu for trident we are sending the tuples as a batch and we would like to know if any of those tuples failed or any other errors occurred rather than wait for the callback. I think using get here is fine.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153882896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601868","html_url":"https://github.com/apache/storm/issues/4890#issuecomment-2612601868","issue_url":"https://api.github.com/repos/apache/storm/issues/4890","id":2612601868,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MDE4Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:02:38Z","updated_at":"2025-01-24T14:01:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/743#issuecomment-153882896\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/743#issuecomment-153882896</a></p>\n\n<p>    @zhuoliu for trident we are sending the tuples as a batch and we would like to know if any of those tuples failed or any other errors occurred rather than wait for the callback. I think using get here is fine.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153882993","html_url":"https://github.com/apache/storm/pull/859#issuecomment-153882993","issue_url":"https://api.github.com/repos/apache/storm/issues/859","id":153882993,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg4Mjk5Mw==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:03:00Z","updated_at":"2015-11-04T22:03:00Z","author_association":"CONTRIBUTOR","body":"LGTM. +1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153882993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626073","html_url":"https://github.com/apache/storm/issues/5008#issuecomment-2612626073","issue_url":"https://api.github.com/repos/apache/storm/issues/5008","id":2612626073,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjYwNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:03:02Z","updated_at":"2025-01-24T14:11:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/859#issuecomment-153882993\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/859#issuecomment-153882993</a></p>\n\n<p>    LGTM. +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612626073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601872","html_url":"https://github.com/apache/storm/issues/4890#issuecomment-2612601872","issue_url":"https://api.github.com/repos/apache/storm/issues/4890","id":2612601872,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MDE4NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:03:39Z","updated_at":"2025-01-24T14:01:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/743#discussion_r43946675\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/743#discussion_r43946675</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/src/jvm/storm/kafka/trident/TridentKafkaState.java &#8212;<br/>\n    @@ -83,8 +81,8 @@ public void updateState(List<TridentTuple> tuples, TridentCollector collector) {<br/>\n     topic = topicSelector.getTopic(tuple);</p>\n\n<p>     if(topic != null) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>producer.send(new KeyedMessage(topic, mapper.getKeyFromTuple(tuple),</li>\n\t<li>mapper.getMessageFromTuple(tuple)));<br/>\n    +    producer.send(new ProducerRecord(topic, mapper.getKeyFromTuple(tuple),\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    we should be checking for exceptions in the response returned by the producer</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153884995","html_url":"https://github.com/apache/storm/pull/743#issuecomment-153884995","issue_url":"https://api.github.com/repos/apache/storm/issues/743","id":153884995,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg4NDk5NQ==","user":{"login":"zhuoliu","id":11683054,"node_id":"MDQ6VXNlcjExNjgzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/11683054?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoliu","html_url":"https://github.com/zhuoliu","followers_url":"https://api.github.com/users/zhuoliu/followers","following_url":"https://api.github.com/users/zhuoliu/following{/other_user}","gists_url":"https://api.github.com/users/zhuoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoliu/subscriptions","organizations_url":"https://api.github.com/users/zhuoliu/orgs","repos_url":"https://api.github.com/users/zhuoliu/repos","events_url":"https://api.github.com/users/zhuoliu/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:09:39Z","updated_at":"2015-11-04T22:09:39Z","author_association":"NONE","body":"Thanks @harshach for the explanation! That makes good sense.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153884995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601877","html_url":"https://github.com/apache/storm/issues/4890#issuecomment-2612601877","issue_url":"https://api.github.com/repos/apache/storm/issues/4890","id":2612601877,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MDE4Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:09:40Z","updated_at":"2025-01-24T14:01:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/743#issuecomment-153884995\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/743#issuecomment-153884995</a></p>\n\n<p>    Thanks @harshach for the explanation! That makes good sense.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612601877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153885605","html_url":"https://github.com/apache/storm/pull/827#issuecomment-153885605","issue_url":"https://api.github.com/repos/apache/storm/issues/827","id":153885605,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg4NTYwNQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:12:13Z","updated_at":"2015-11-04T22:12:13Z","author_association":"CONTRIBUTOR","body":"@satishd can you please review this.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153885605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612605582","html_url":"https://github.com/apache/storm/issues/4913#issuecomment-2612605582","issue_url":"https://api.github.com/repos/apache/storm/issues/4913","id":2612605582,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MDU1ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:12:15Z","updated_at":"2025-01-24T14:02:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/827#issuecomment-153885605\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/827#issuecomment-153885605</a></p>\n\n<p>    @satishd can you please review this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612605582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624021","html_url":"https://github.com/apache/storm/issues/4997#issuecomment-2612624021","issue_url":"https://api.github.com/repos/apache/storm/issues/4997","id":2612624021,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQwMjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:14:15Z","updated_at":"2025-01-24T14:10:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user haohui opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/860\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/860</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1159\" title=\"Support nullable operations in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1159\"><del>STORM-1159</del></a>. Support nullable operations in StormSQL</p>\n\n<p>    This PR implements the support of the nullable semantics of the expressions available in StormSQL. <br/>\n    It also implements the `IS_NULL`, `IS_NOT_NULL` operators.</p>\n\n<p>    Currently the `ExprCompiler` directly prints out Java source code with `printf`. A cleaner approach is to introduce the `Expression` class in the Apache Calcite project to avoid the printf statements. It'll be cleaned up in follow-up PRs.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/haohui/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/haohui/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1159\" title=\"Support nullable operations in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1159\"><del>STORM-1159</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/860.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/860.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #860</p>\n\n<hr />\n<p>commit 183b5ac926ad25b1c504c8822ebbdd236ecd0963<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-03T23:06:22Z</p>\n\n<p>    Implement IS operators in StormSQL.</p>\n\n<p>commit 8890de3e098b759d0a2938e06b4841d371066b7e<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-04T17:24:32Z</p>\n\n<p>    Implement nullable semantics for AND, OR and NOT operators.</p>\n\n<p>commit d11dabd25a7e4962a48b7d2682c319dac31acc3c<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-04T21:48:40Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1159\" title=\"Support nullable operations in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1159\"><del>STORM-1159</del></a>. Support nullable operations in StormSQL.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153887348","html_url":"https://github.com/apache/storm/pull/846#issuecomment-153887348","issue_url":"https://api.github.com/repos/apache/storm/issues/846","id":153887348,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg4NzM0OA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:19:30Z","updated_at":"2015-11-04T22:19:30Z","author_association":"MEMBER","body":"@dossett Yes. +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153887348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624371","html_url":"https://github.com/apache/storm/issues/4999#issuecomment-2612624371","issue_url":"https://api.github.com/repos/apache/storm/issues/4999","id":2612624371,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MjQzNzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:19:31Z","updated_at":"2025-01-24T14:11:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/846#issuecomment-153887348\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/846#issuecomment-153887348</a></p>\n\n<p>    @dossett Yes. +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612624371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598903","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612598903","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612598903,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTg5MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:36:14Z","updated_at":"2025-01-24T14:00:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhuoliu\">zhuoliu</a>:</i>\n<p>Sorry for the Error click. <br/>\nReally useful functionalities!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569492","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569492","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:52:26Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43952746\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43952746</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/KerberosSaslNettyClient.java &#8212;<br/>\n    @@ -0,0 +1,212 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.messaging.netty;<br/>\n    +<br/>\n    +import backtype.storm.Config;<br/>\n    +import backtype.storm.security.auth.AuthUtils;<br/>\n    +import java.io.IOException;<br/>\n    +import java.security.Principal;<br/>\n    +import java.security.PrivilegedActionException;<br/>\n    +import java.security.PrivilegedExceptionAction;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.TreeMap;<br/>\n    +import javax.security.auth.Subject;<br/>\n    +import javax.security.auth.callback.Callback;<br/>\n    +import javax.security.auth.callback.CallbackHandler;<br/>\n    +import javax.security.auth.callback.UnsupportedCallbackException;<br/>\n    +import javax.security.auth.kerberos.KerberosTicket;<br/>\n    +import javax.security.auth.login.Configuration;<br/>\n    +import javax.security.auth.login.LoginException;<br/>\n    +import javax.security.sasl.Sasl;<br/>\n    +import javax.security.sasl.SaslClient;<br/>\n    +import javax.security.sasl.SaslException;<br/>\n    +import org.apache.zookeeper.Login;<br/>\n    +import org.apache.zookeeper.server.auth.KerberosName;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +/**<br/>\n    + * Implements SASL logic for storm worker client processes.<br/>\n    + */<br/>\n    +public class KerberosSaslNettyClient {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory<br/>\n    +    .getLogger(KerberosSaslNettyClient.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Used to respond to server's counterpart, SaslServer with SASL tokens<br/>\n    +     * represented as byte arrays.<br/>\n    +     */<br/>\n    +    private SaslClient saslClient;<br/>\n    +    private Subject subject;<br/>\n    +    private String jaas_section;<br/>\n    +    <br/>\n    +    /**<br/>\n    +     * Create a KerberosSaslNettyClient for authentication with servers.<br/>\n    +     */<br/>\n    +    public KerberosSaslNettyClient(Map storm_conf, String jaas_section) {<br/>\n    +LOG.debug(\"KerberosSaslNettyClient: Creating SASL {} client to authenticate to server \",<br/>\n    +  SaslUtils.KERBEROS);<br/>\n    +<br/>\n    +LOG.info(\"Creating Kerberos Client.\");<br/>\n    +<br/>\n    +Configuration login_conf;<br/>\n    +try </p>\n{\n    +    login_conf = AuthUtils.GetConfiguration(storm_conf);\n    +}\n<p>    +catch (Throwable t) </p>\n{\n    +    LOG.error(\"Failed to get login_conf: \", t);\n    +    throw t;\n    +}\n<p>    +LOG.debug(\"KerberosSaslNettyClient: authmethod {}\", SaslUtils.KERBEROS);<br/>\n    +<br/>\n    +SaslClientCallbackHandler ch = new SaslClientCallbackHandler();<br/>\n    +<br/>\n    +subject = null;<br/>\n    +try {<br/>\n    +    LOG.debug(\"Setting Configuration to login_config: {}\", login_conf);<br/>\n    +    //specify a configuration object to be used<br/>\n    +    Configuration.setConfiguration(login_conf); <br/>\n    +    //now login<br/>\n    +    LOG.debug(\"Trying to login.\");<br/>\n    +    Login login = new Login(jaas_section, ch);<br/>\n    +    subject = login.getSubject();<br/>\n    +    LOG.debug(\"Got Subject: {}\", subject.toString());<br/>\n    +} catch (LoginException ex) </p>\n{\n    +    LOG.error(\"Client failed to login in principal:\" + ex, ex);\n    +    throw new RuntimeException(ex);\n    +}\n<p>    +<br/>\n    +//check the credential of our principal<br/>\n    +if (subject.getPrivateCredentials(KerberosTicket.class).isEmpty()) </p>\n{ \n    +    LOG.error(\"Failed to verify user principal.\");\n    +    throw new RuntimeException(\"Fail to verify user principal with section \\\"\" +\n    +       jaas_section +\n    +       \"\\\" in login configuration file \" +\n    +       login_conf);\n    +}\n<p>    +<br/>\n    +String serviceName = null;<br/>\n    +try </p>\n{\n    +    serviceName = AuthUtils.get(login_conf, jaas_section, \"serviceName\");\n    +}\n<p>    +catch (IOException e) </p>\n{\n    +    LOG.error(\"Failed to get service name.\", e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +<br/>\n    +try {<br/>\n    +    Principal principal = (Principal)subject.getPrincipals().toArray()<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +    final String fPrincipalName = principal.getName();<br/>\n    +    KerberosName kerbName = new KerberosName(principal.getName());<br/>\n    +    final String fHost = (String)storm_conf.get(Config.PACEMAKER_HOST);<br/>\n    +    final String fServiceName = serviceName;<br/>\n    +    final CallbackHandler fch = ch;<br/>\n    +    LOG.debug(\"Kerberos Client with principal: {}, host: {}\", fPrincipalName, fHost);<br/>\n    +    saslClient = Subject.doAs(subject, new PrivilegedExceptionAction<SaslClient>() {<br/>\n    +    public SaslClient run() {<br/>\n    +try {<br/>\n    +    Map<String, String> props = new TreeMap<String,String>();<br/>\n    +    props.put(Sasl.QOP, \"auth\");<br/>\n    +    props.put(Sasl.SERVER_AUTH, \"false\");<br/>\n    +    return Sasl.createSaslClient(<br/>\n    +new String[] </p>\n{ SaslUtils.KERBEROS }\n<p>,<br/>\n    +fPrincipalName,<br/>\n    +fServiceName,<br/>\n    +fHost,<br/>\n    +props, fch);<br/>\n    +}<br/>\n    +catch (Exception e) </p>\n{\n    +    LOG.error(\"Subject failed to create sasl client.\", e);\n    +    return null;\n    +}\n<p>    +    }<br/>\n    +});<br/>\n    +    LOG.info(\"Got Client: {}\", saslClient);<br/>\n    +    <br/>\n    +} catch (PrivilegedActionException e) </p>\n{\n    +    LOG.error(\"KerberosSaslNettyClient: Could not create Sasl Netty Client.\");\n    +    throw new RuntimeException(e);\n    +}\n<p>    +}<br/>\n    +<br/>\n    +    public boolean isComplete() </p>\n{\n    +return saslClient.isComplete();\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Respond to server's SASL token.<br/>\n    +     * <br/>\n    +     * @param saslTokenMessage<br/>\n    +     *    contains server's SASL token<br/>\n    +     * @return client's response SASL token<br/>\n    +     */<br/>\n    +    public byte[] saslResponse(SaslMessageToken saslTokenMessage) {<br/>\n    +try {<br/>\n    +    final SaslMessageToken fSaslTokenMessage = saslTokenMessage;<br/>\n    +    byte [] retval = Subject.doAs(subject, new PrivilegedExceptionAction<byte[]>() {<br/>\n    +    public byte[] run() {<br/>\n    +try </p>\n{\n    +    byte[] retval = saslClient.evaluateChallenge(fSaslTokenMessage\n    + .getSaslToken());\n    +    return retval;\n    +}\n<p> catch (SaslException e) </p>\n{\n    +    LOG.error(\"saslResponse: Failed to respond to SASL server's token:\",\n    +      e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +});<br/>\n    +    return retval;<br/>\n    +}<br/>\n    +catch (PrivilegedActionException e) </p>\n{\n    +    LOG.error(\"Failed to generate response for token: \", e);\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Implementation of javax.security.auth.callback.CallbackHandler that works<br/>\n    +     * with Storm topology tokens.<br/>\n    +     */<br/>\n    +    private static class SaslClientCallbackHandler implements CallbackHandler {<br/>\n    +<br/>\n    +/**<br/>\n    + * Set private members using topology token.<br/>\n    + * <br/>\n    + * @param topologyToken<br/>\n    + */<br/>\n    +public SaslClientCallbackHandler() </p>\n{\n    +}\n<p>    &#8212; End diff &#8211;</p>\n\n<p>    I can probably just remove the empty constructor, right?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569499","html_url":"https://github.com/apache/storm/issues/4724#issuecomment-2612569499","issue_url":"https://api.github.com/repos/apache/storm/issues/4724","id":2612569499,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Njk0OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:53:41Z","updated_at":"2025-01-24T13:46:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/838#discussion_r43952914\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/838#discussion_r43952914</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Context.java &#8212;<br/>\n    @@ -55,6 +54,7 @@ public void prepare(Map storm_conf) {<br/>\n     int maxWorkers = Utils.getInt(storm_conf.get(Config.STORM_MESSAGING_NETTY_CLIENT_WORKER_THREADS));<br/>\n     \t\tThreadFactory bossFactory = new NettyRenameThreadFactory(\"client\" + \"-boss\");<br/>\n     ThreadFactory workerFactory = new NettyRenameThreadFactory(\"client\" + \"-worker\");<br/>\n    +// TODO investigate impact of having one worker<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I don't think we need this. I'm pretty sure this is a merge error / regression.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612569499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/153917289","html_url":"https://github.com/apache/storm/pull/849#issuecomment-153917289","issue_url":"https://api.github.com/repos/apache/storm/issues/849","id":153917289,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzkxNzI4OQ==","user":{"login":"longdafeng","id":374091,"node_id":"MDQ6VXNlcjM3NDA5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/374091?v=4","gravatar_id":"","url":"https://api.github.com/users/longdafeng","html_url":"https://github.com/longdafeng","followers_url":"https://api.github.com/users/longdafeng/followers","following_url":"https://api.github.com/users/longdafeng/following{/other_user}","gists_url":"https://api.github.com/users/longdafeng/gists{/gist_id}","starred_url":"https://api.github.com/users/longdafeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/longdafeng/subscriptions","organizations_url":"https://api.github.com/users/longdafeng/orgs","repos_url":"https://api.github.com/users/longdafeng/repos","events_url":"https://api.github.com/users/longdafeng/events{/privacy}","received_events_url":"https://api.github.com/users/longdafeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-05T00:45:23Z","updated_at":"2015-11-05T00:45:23Z","author_association":"CONTRIBUTOR","body":"the code is fine to me, but this is the first step to do health check:\n(1) where put the script, we had better put the script under $STORM_HOME/healthcheck, because when install storm, the script will be also installed in every node.\n(2) the script depends on OS, in Windows, they should be xxx, in Linux, they should be XXX;\nmaybe we need some OS detect action to judge what kind of OS is running. so in the \"STORM_HEALTH_CHECK_DIR\" dir, there are several directory,  windows/linux/mac, different OS use different dir.\n(3) could you please help to implement healthcheck.clj with java. in a short while, the storm will contain two core, one is clojure, the other is java. so could you please help to implement healthcheck.clj. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/153917289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]