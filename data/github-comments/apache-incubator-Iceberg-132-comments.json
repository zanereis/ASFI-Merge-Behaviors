[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985156977","html_url":"https://github.com/apache/iceberg/pull/3638#issuecomment-985156977","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3638","id":985156977,"node_id":"IC_kwDOCW7NX846uE1x","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T02:14:03Z","updated_at":"2021-12-03T02:14:03Z","author_association":"CONTRIBUTOR","body":"I think there is no additional comment unresolved, merge it, thanks for the work Piotr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985156977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985162607","html_url":"https://github.com/apache/iceberg/pull/3611#issuecomment-985162607","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3611","id":985162607,"node_id":"IC_kwDOCW7NX846uGNv","user":{"login":"xingbowu","id":12458911,"node_id":"MDQ6VXNlcjEyNDU4OTEx","avatar_url":"https://avatars.githubusercontent.com/u/12458911?v=4","gravatar_id":"","url":"https://api.github.com/users/xingbowu","html_url":"https://github.com/xingbowu","followers_url":"https://api.github.com/users/xingbowu/followers","following_url":"https://api.github.com/users/xingbowu/following{/other_user}","gists_url":"https://api.github.com/users/xingbowu/gists{/gist_id}","starred_url":"https://api.github.com/users/xingbowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xingbowu/subscriptions","organizations_url":"https://api.github.com/users/xingbowu/orgs","repos_url":"https://api.github.com/users/xingbowu/repos","events_url":"https://api.github.com/users/xingbowu/events{/privacy}","received_events_url":"https://api.github.com/users/xingbowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T02:27:24Z","updated_at":"2021-12-03T02:27:24Z","author_association":"CONTRIBUTOR","body":"@openinx Thanks a lot for your comments.  \r\nIt is necessary to add aliyun oss dependency manually [aliyun-sdk-oss-3.10.2.jar](https://gosspublic.alicdn.com/sdks/java/aliyun_java_sdk_3.10.2.zip?spm=a2c4g.11186623.0.0.4b6b2ceaIvR9Wy&file=aliyun_java_sdk_3.10.2.zip)\r\nSimilar with aws s3 usage either adding jar or packaging it\r\n``\r\nspark-sql --packages org.apache.iceberg:iceberg-spark3-runtime:0.12.1,software.amazon.awssdk:bundle:2.15.40,software.amazon.awssdk:url-connection-client:2.15.40 \r\n``\r\ntest case passed as below:\r\n![image](https://user-images.githubusercontent.com/12458911/144533196-96392f12-fbc8-4ede-b621-c3ad0b5cf1be.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985162607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985238166","html_url":"https://github.com/apache/iceberg/pull/3375#issuecomment-985238166","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3375","id":985238166,"node_id":"IC_kwDOCW7NX846uYqW","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T05:55:57Z","updated_at":"2021-12-03T05:55:57Z","author_association":"MEMBER","body":"@jackye1995 : Thanks for the review. I have pushed the nit changes also.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985238166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985251614","html_url":"https://github.com/apache/iceberg/pull/3658#issuecomment-985251614","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3658","id":985251614,"node_id":"IC_kwDOCW7NX846ub8e","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T06:29:14Z","updated_at":"2021-12-03T06:29:14Z","author_association":"CONTRIBUTOR","body":"tests added, and I've run AWS integration tests to verify all tests pass.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985251614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985695127","html_url":"https://github.com/apache/iceberg/pull/3375#issuecomment-985695127","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3375","id":985695127,"node_id":"IC_kwDOCW7NX846wIOX","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T17:22:27Z","updated_at":"2021-12-03T17:22:27Z","author_association":"MEMBER","body":"@RussellSpitzer : Thanks for the review again. I have addressed the comments (also added a comment reply) and pushed the new changes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985695127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985733196","html_url":"https://github.com/apache/iceberg/pull/3656#issuecomment-985733196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3656","id":985733196,"node_id":"IC_kwDOCW7NX846wRhM","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T18:22:01Z","updated_at":"2021-12-03T18:22:01Z","author_association":"CONTRIBUTOR","body":"Given Ryan approves this and all error messages are fixed, I am merging this. @danielcweeks Let me know if you have any additional concern.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985733196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985735668","html_url":"https://github.com/apache/iceberg/pull/3660#issuecomment-985735668","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3660","id":985735668,"node_id":"IC_kwDOCW7NX846wSH0","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T18:26:01Z","updated_at":"2021-12-03T18:26:01Z","author_association":"CONTRIBUTOR","body":"Thanks, I was just about to create an issue for this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985735668/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985740932","html_url":"https://github.com/apache/iceberg/issues/3393#issuecomment-985740932","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3393","id":985740932,"node_id":"IC_kwDOCW7NX846wTaE","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T18:34:53Z","updated_at":"2021-12-03T18:34:53Z","author_association":"CONTRIBUTOR","body":"Given this is a Hive issue, I am removing this out of the 0.13 milestone. Please let me know if anyone concerns.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985740932/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985746506","html_url":"https://github.com/apache/iceberg/issues/3393#issuecomment-985746506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3393","id":985746506,"node_id":"IC_kwDOCW7NX846wUxK","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T18:44:22Z","updated_at":"2021-12-03T18:44:22Z","author_association":"CONTRIBUTOR","body":"> TBH, this fix is a really interesting story:\r\n> \r\n> * No Iceberg change is needed - this is clearly a Hive issue.\r\n> * In Hive master we are phasing out MR, and only Tez is supported (the issue does not happen with Tez)\r\n> * Even the tests are lame for the fix as we need to insert the data with Tez (MR is not supported with Iceberg), but the query should be run with MR to find the issue.\r\n> * To be correctly backported the change should be rebased to Hive branch-2.3, branch-2, branch-3 and branch 3.1. The issue is that the tests will not work for these branches as Iceberg is not supported there.\r\n> \r\n> I have serious number of other tasks. I have found the issue and put the solution upstream, so if someone faces this they can fix it, but sadly I did not have time to follow up with a solution which could be released. I hope the affected ones will find it here, and if someone has time to backport the fixes, I am happy to review and push.\r\n> \r\n> Thanks, Peter\r\n\r\nThanks for the deep dive @pvary! I think it’s fair to leave as is, and if somebody is really affected they can pick up the issue or apply the necessary patch in their fork.\r\n\r\nThis also begs the question: should we be running MR in the unit tests in this repo? How many users are using MR vs Tez for the limited amount of functionality that is supported?\r\n\r\nIt’s also good to remove from the 0.13.0 milestone, as there’s nothing we can do about it here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985746506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985755453","html_url":"https://github.com/apache/iceberg/pull/3597#issuecomment-985755453","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3597","id":985755453,"node_id":"IC_kwDOCW7NX846wW89","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T18:59:36Z","updated_at":"2021-12-03T18:59:36Z","author_association":"CONTRIBUTOR","body":"Hi @dubeme, we are approaching the release of 0.13, and this is a critical bug that needs to be merged before the branch cut. Would you have time to update this PR? If not I can put up the same fix and mark you as coauthor.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985755453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985757868","html_url":"https://github.com/apache/iceberg/pull/3597#issuecomment-985757868","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3597","id":985757868,"node_id":"IC_kwDOCW7NX846wXis","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:03:05Z","updated_at":"2021-12-03T19:03:05Z","author_association":"CONTRIBUTOR","body":"> Hi @dubeme, we are approaching the release of 0.13, and this is a critical bug that needs to be merged before the branch cut. Would you have time to update this PR? If not I can put up the same fix and mark you as coauthor.\r\n\r\nAgreed. I’d say we give them a few more days and then we mark them as co-author. I’d be happy to do it as well if you’re busy. Let me know!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985757868/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985770155","html_url":"https://github.com/apache/iceberg/pull/3644#issuecomment-985770155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3644","id":985770155,"node_id":"IC_kwDOCW7NX846wair","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:23:39Z","updated_at":"2021-12-03T19:23:39Z","author_association":"CONTRIBUTOR","body":"> > Hi @zpi1223! Thanks for the PR.\r\n> > For your own information, If this is what I think you're talking about (that `MERGE INTO` is resolved by position), this has actually been fixed in Spark 3.2.\r\n> > I have some unit tests here demonstrating that `MERGE INTO` will do by name resolution starting with Spark 3.2: #3440\r\n> > Of course, Spark 3.2 support won't be generally available until Iceberg 0.13.0 is released, but wanted to let you know.\r\n> \r\n> Hi @kbendick , Thank you very much for your prompt reply. I personally think that these two are not conflicting.\r\n> \r\n> First，You are talking about the realization of functions, and what I want to express in this PR is to add certain warning information at the document level, so that the description information on the official website can be more complete, so as not to cause misunderstandings and affect the use in actual production.\r\n> \r\n> Secondly，Because we misunderstood the first time we used it, it took a certain amount of time to use it correctly at the end.\r\n\r\nI don’t disagree. We should probably document it as well as it’s not clearly documented in the Spark docs (and people likely come to our docs for MERGE INTO information given that vanilla spark doesn’t implement merge into, just provide the primitives for us to do it).\r\n\r\nBut maybe the documentation can state that it’s a Spark bug and not an issue in Spark 3.2 and later?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985770155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985771772","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-985771772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":985771772,"node_id":"IC_kwDOCW7NX846wa78","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:26:23Z","updated_at":"2021-12-03T19:26:23Z","author_association":"CONTRIBUTOR","body":"I read the Aliyun documentation, which says:\r\n\r\n```\r\n在Maven工程中使用OSS Java SDK，只需在pom.xml中加入相应依赖即可。以3.10.2版本为例，在<dependencies>中加入如下内容：\r\n\r\n<dependency>\r\n    <groupId>com.aliyun.oss</groupId>\r\n    <artifactId>aliyun-sdk-oss</artifactId>\r\n    <version>3.10.2</version>\r\n</dependency>\r\n\r\n如果使用的是Java 9及以上的版本，则需要添加jaxb相关依赖。添加jaxb相关依赖示例代码如下：\r\n\r\n<dependency>\r\n    <groupId>javax.xml.bind</groupId>\r\n    <artifactId>jaxb-api</artifactId>\r\n    <version>2.3.1</version>\r\n</dependency>\r\n<dependency>\r\n    <groupId>javax.activation</groupId>\r\n    <artifactId>activation</artifactId>\r\n    <version>1.1.1</version>\r\n</dependency>\r\n<!-- no more than 2.3.3-->\r\n<dependency>\r\n    <groupId>org.glassfish.jaxb</groupId>\r\n    <artifactId>jaxb-runtime</artifactId>\r\n    <version>2.3.3</version>\r\n</dependency>\r\n```\r\n\r\nIn Iceberg the `aliyun-sdk-oss` is marked as compile only anyway, so I think this PR is not needed because to use the `aliyun` module users has to add all the related dependencies manually anyway.\r\n\r\nPlease let me know if I missed anything, otherwise I think we can close this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985771772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985776835","html_url":"https://github.com/apache/iceberg/pull/3638#issuecomment-985776835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3638","id":985776835,"node_id":"IC_kwDOCW7NX846wcLD","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:34:55Z","updated_at":"2021-12-03T19:34:55Z","author_association":"CONTRIBUTOR","body":"Will usage of Guava affect Kryo serialization? We may be reconstructing `MetricsConfig` after table deserialization right now but we may have use cases in the future as this class is marked as serializable.\r\n\r\nAny thoughts, @RussellSpitzer @jackye1995 @findepi?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985776835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985782605","html_url":"https://github.com/apache/iceberg/pull/3638#issuecomment-985782605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3638","id":985782605,"node_id":"IC_kwDOCW7NX846wdlN","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:44:59Z","updated_at":"2021-12-03T19:44:59Z","author_association":"CONTRIBUTOR","body":"I think it is fine for Spark right now but I am not sure about other query engines. It is worth checking with @openinx and @pvary.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985782605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985785541","html_url":"https://github.com/apache/iceberg/pull/3623#issuecomment-985785541","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3623","id":985785541,"node_id":"IC_kwDOCW7NX846weTF","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:50:15Z","updated_at":"2021-12-03T19:50:15Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer should we merge this now that the changes for scala versions have landed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985785541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985788318","html_url":"https://github.com/apache/iceberg/pull/3623#issuecomment-985788318","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3623","id":985788318,"node_id":"IC_kwDOCW7NX846we-e","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:55:21Z","updated_at":"2021-12-03T19:55:21Z","author_association":"MEMBER","body":"When the tests pass I can merge this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985788318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985788996","html_url":"https://github.com/apache/iceberg/pull/3623#issuecomment-985788996","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3623","id":985788996,"node_id":"IC_kwDOCW7NX846wfJE","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T19:56:30Z","updated_at":"2021-12-03T19:56:30Z","author_association":"CONTRIBUTOR","body":"> When the tests pass I can merge this\r\n\r\nYeah my bad. Right after I pinged, I rebased it. Should have done it the other way around. Sorry!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985788996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985791073","html_url":"https://github.com/apache/iceberg/pull/3623#issuecomment-985791073","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3623","id":985791073,"node_id":"IC_kwDOCW7NX846wfph","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T20:00:07Z","updated_at":"2021-12-03T20:00:07Z","author_association":"MEMBER","body":"> > When the tests pass I can merge this\r\n> \r\n> Yeah my bad. Right after I pinged, I rebased it. Should have done it the other way around. Sorry!\r\n\r\nI will never forgive you for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985791073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985795190","html_url":"https://github.com/apache/iceberg/pull/3646#issuecomment-985795190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3646","id":985795190,"node_id":"IC_kwDOCW7NX846wgp2","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T20:07:12Z","updated_at":"2021-12-03T20:07:12Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @wulei0302! I'll merge when the tests are passing.\r\n\r\nAnd thank you for updating the tests! Nice work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985795190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985796075","html_url":"https://github.com/apache/iceberg/pull/3661#issuecomment-985796075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3661","id":985796075,"node_id":"IC_kwDOCW7NX846wg3r","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T20:08:43Z","updated_at":"2021-12-03T20:08:43Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @RussellSpitzer @szehon-ho @flyrain @karuppayya @szehon-ho @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985796075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985809526","html_url":"https://github.com/apache/iceberg/pull/3623#issuecomment-985809526","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3623","id":985809526,"node_id":"IC_kwDOCW7NX846wkJ2","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T20:32:44Z","updated_at":"2021-12-03T20:32:44Z","author_association":"MEMBER","body":"Thanks @kbendick , I forgive you now but it was a rough 32 minutes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985809526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985818457","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-985818457","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":985818457,"node_id":"IC_kwDOCW7NX846wmVZ","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T20:49:25Z","updated_at":"2021-12-03T21:00:52Z","author_association":"CONTRIBUTOR","body":"> Just to resonate with what Russell said, I have also heard a few customers got confused about the caching behaviors, and not enabling caching directly would likely be a more straight-forward solution for users, compared to have a 30 seconds expiration that we have to then explain potential behaviors of query based on this expiration time.\r\n> \r\n> Overall I think it's worth adding the feature, Trino and Presto also has something similar like `hive.metastore-refresh-interval`. I would personally just do not set a default for that config, given it is an optional config anyway.\r\n> \r\n> Given the fact that the PR is also getting quite messy with all the changes, I would say let's first add the `cache-enabled` as a catalog property with `true` as default, which is the default behavior today. Then we can add time-based expiration and review it separately in more details.\r\n\r\nSo you think I should open a new PR that just has a flag for `expiration-enabled`, @jackye1995? Or can we keep the current `cache.expiration-interval-ms` but turn it off by default (set to -1 or zero)?\r\n\r\nI would be in favor of adding this (or a subset of it), but keeping it turned off by default for now. As it will need to be added to the other catalogs. This would also give people time to test it out.\r\n\r\nThere is a `cache-enabled` flag already fwiw.\r\n\r\nIt's also worth noting that Spark has added a similar feature flag, `spark.sql.metadataCacheTTLSeconds`, where it expires table relations from the session catalog's cache after write. This was added in Spark 3.1: https://github.com/apache/spark/blob/38115cb907ec93151382260cda327330e78ca340/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/catalog/SessionCatalog.scala#L163-L172\r\n\r\nIt is admittedly disabled by default though (but that's probably more for backwards compatibility purposes): https://github.com/apache/spark/blob/fba61ad68bb12b22055d5d475e95e2681685eed7/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/StaticSQLConf.scala#L242-L252","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985818457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985822820","html_url":"https://github.com/apache/iceberg/pull/3638#issuecomment-985822820","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3638","id":985822820,"node_id":"IC_kwDOCW7NX846wnZk","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T20:57:20Z","updated_at":"2021-12-03T20:57:20Z","author_association":"CONTRIBUTOR","body":"Actually I was just discussing this with Russell offline in the morning. I searched the codebase and did not see any place that this is used for serialization. The data writer always construct the configs from the serialized table.\r\n\r\n@aokolnychyi do you have any context why this was marked as serializable?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985822820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985843589","html_url":"https://github.com/apache/iceberg/pull/2891#issuecomment-985843589","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2891","id":985843589,"node_id":"IC_kwDOCW7NX846wseF","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T21:35:45Z","updated_at":"2021-12-03T21:35:45Z","author_association":"MEMBER","body":"> Doesn't -NaN not actually exist as a defined constant?\r\n\r\nit doesn't exist in Java, yet you can calculate `-NaN` as an expression (produces a NaN value)\r\n\r\n> From what I know of the standard the sign bit doesn't change the state of the NaN so we should treat them all the same.\r\n\r\nWell, arguably you can dissect bits of a NaN value (via `Double.doubleToRawLongBits` and inspecting the various bits).\r\nYet, this is not what reference implementation is doing, right?\r\n\r\nThus, one could argue to treat NaN values with sign bit set differently from NaN values with sign bit not set, but I don't believe this is what is desired, nor implemented.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985843589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985880725","html_url":"https://github.com/apache/iceberg/pull/2062#issuecomment-985880725","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2062","id":985880725,"node_id":"IC_kwDOCW7NX846w1iV","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T22:18:41Z","updated_at":"2021-12-04T00:21:06Z","author_association":"CONTRIBUTOR","body":"> @cccs-eric, this is something we should complete. I didn't realize we hadn't finished it. @kbendick can you update this when you get a chance?\r\n\r\nYeah sure. I'd be happy to. I'll take care of that now and update to use Spark 3.2 and the new path structures. Most everything else should be more or less the same.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985880725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985903535","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-985903535","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":985903535,"node_id":"IC_kwDOCW7NX846w7Gv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T23:14:03Z","updated_at":"2021-12-03T23:14:03Z","author_association":"CONTRIBUTOR","body":"FYI @kbendick, @jackye1995, @nastra, @aokolnychyi, @danielcweeks.\r\n\r\nThis is in support of the REST catalog API.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985903535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985905376","html_url":"https://github.com/apache/iceberg/issues/3662#issuecomment-985905376","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3662","id":985905376,"node_id":"IC_kwDOCW7NX846w7jg","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T23:19:00Z","updated_at":"2021-12-03T23:19:00Z","author_association":"CONTRIBUTOR","body":"Thanks for investigating this Russell, I think this is a pretty important bug we need to fix before 0.13, please let me know if you have time, if not I can publish the fix. If my understanding is correct, do we add the `split_offsets` to `SCAN_COLUMNS` and also add tests related to this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985905376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985905609","html_url":"https://github.com/apache/iceberg/pull/3632#issuecomment-985905609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3632","id":985905609,"node_id":"IC_kwDOCW7NX846w7nJ","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T23:19:37Z","updated_at":"2021-12-03T23:19:37Z","author_association":"CONTRIBUTOR","body":"ping for review? cc @jackye1995 @rdblue @RussellSpitzer @flyrain @karuppayya @szehon-ho @kbendick","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985905609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985915108","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-985915108","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":985915108,"node_id":"IC_kwDOCW7NX846w97k","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-03T23:49:14Z","updated_at":"2021-12-03T23:49:14Z","author_association":"CONTRIBUTOR","body":"Looks like this conflicts with `TableMetadata` changes from the Nessie upgrade. I'll have to go take a look at those.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985915108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985920639","html_url":"https://github.com/apache/iceberg/issues/3662#issuecomment-985920639","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3662","id":985920639,"node_id":"IC_kwDOCW7NX846w_R_","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T00:05:29Z","updated_at":"2021-12-04T00:05:29Z","author_association":"MEMBER","body":"I have the fix and tests, just waiting for internal approval to put it upstream.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985920639/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985921658","html_url":"https://github.com/apache/iceberg/issues/3662#issuecomment-985921658","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3662","id":985921658,"node_id":"IC_kwDOCW7NX846w_h6","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T00:08:24Z","updated_at":"2021-12-04T00:08:24Z","author_association":"MEMBER","body":"Additionally I would like us to fix the other issues in #3292 that I note but i'll leave that for another PR.\r\n\r\n1. We allow arbitrary splitting of formats that are splittable if they are missing split information (A parquet file with a single row group can be turned into infinite tasks)\r\n2. We do not allow combining partial scans into a single scan task. For example, if I have 3 files each with 2 row groups, but my read split size is 3 row groups large, I will still get 3 tasks even if file open cost is 0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985921658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985924184","html_url":"https://github.com/apache/iceberg/pull/3663#issuecomment-985924184","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3663","id":985924184,"node_id":"IC_kwDOCW7NX846xAJY","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T00:16:38Z","updated_at":"2021-12-04T00:16:38Z","author_association":"CONTRIBUTOR","body":"cc: @kbendick, @jackye1995, @nastra, @aokolnychyi, @danielcweeks, @rdblue \r\n\r\nwould you mind giving a review? thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985924184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985925145","html_url":"https://github.com/apache/iceberg/pull/2062#issuecomment-985925145","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2062","id":985925145,"node_id":"IC_kwDOCW7NX846xAYZ","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T00:20:16Z","updated_at":"2021-12-06T04:09:12Z","author_association":"CONTRIBUTOR","body":"@cccs-eric @rdblue this PR is ready for review again and rebased off of master.\r\n\r\nI only implemented tests against Spark 3.2. Let me know if you'd like me to add the tests for the other versions of Spark in this PR as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985925145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985934328","html_url":"https://github.com/apache/iceberg/issues/3662#issuecomment-985934328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3662","id":985934328,"node_id":"IC_kwDOCW7NX846xCn4","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T00:59:01Z","updated_at":"2021-12-04T00:59:01Z","author_association":"MEMBER","body":"@jackye1995 ^ Fix attached","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985934328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985935335","html_url":"https://github.com/apache/iceberg/pull/3666#issuecomment-985935335","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3666","id":985935335,"node_id":"IC_kwDOCW7NX846xC3n","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T01:03:02Z","updated_at":"2021-12-04T01:03:02Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for fixing this, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985935335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985937320","html_url":"https://github.com/apache/iceberg/issues/3662#issuecomment-985937320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3662","id":985937320,"node_id":"IC_kwDOCW7NX846xDWo","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T01:11:52Z","updated_at":"2021-12-04T01:11:52Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, I'm going to review #3292 again this weekend. Thanks for being patient with my reviews on that one!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985937320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985938013","html_url":"https://github.com/apache/iceberg/issues/3662#issuecomment-985938013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3662","id":985938013,"node_id":"IC_kwDOCW7NX846xDhd","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T01:15:34Z","updated_at":"2021-12-04T01:15:34Z","author_association":"MEMBER","body":"No rush, I need to fix this first and rebase\n\nSent from my iPhone\n\n> On Dec 3, 2021, at 7:12 PM, Ryan Blue ***@***.***> wrote:\n> \n> ﻿\n> @RussellSpitzer, I'm going to review #3292 again this weekend. Thanks for being patient with my reviews on that one!\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985938013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985946390","html_url":"https://github.com/apache/iceberg/pull/3666#issuecomment-985946390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3666","id":985946390,"node_id":"IC_kwDOCW7NX846xFkW","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T02:04:18Z","updated_at":"2021-12-04T02:04:18Z","author_association":"MEMBER","body":"@rdblue + @jackye1995 I had to add another commit to fix a few tests that only worked (or reported other expected number of files) because they weren't properly registering offsets in files. \r\n\r\nThe Split test in RewriteDatafiles I just changed the number on\r\nThe Datasource test I switched to AVRO which is always splittable unlike Parquet","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985946390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985949480","html_url":"https://github.com/apache/iceberg/pull/3667#issuecomment-985949480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3667","id":985949480,"node_id":"IC_kwDOCW7NX846xGUo","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T02:17:42Z","updated_at":"2021-12-04T02:17:42Z","author_association":"CONTRIBUTOR","body":"Hmmm it seems like when I rebased, it might have removed the co-authorship from @dubeme.\r\n\r\nBefore we merge this in, can we please ensure that `Co-authored-by: Dubem Enyekwe <dubem@dubemenyekwe.com>` is included so they get credit?\r\n\r\nI can update it on my end somehow if need be.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985949480/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985960246","html_url":"https://github.com/apache/iceberg/pull/3375#issuecomment-985960246","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3375","id":985960246,"node_id":"IC_kwDOCW7NX846xI82","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T03:45:29Z","updated_at":"2021-12-04T03:45:29Z","author_association":"MEMBER","body":"@RussellSpitzer : I have updated the test case with dataframe write instead of sql now. So, I think all comments are handled now. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985960246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985961463","html_url":"https://github.com/apache/iceberg/pull/3668#issuecomment-985961463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3668","id":985961463,"node_id":"IC_kwDOCW7NX846xJP3","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T03:56:05Z","updated_at":"2021-12-04T03:56:05Z","author_association":"CONTRIBUTOR","body":"@jackye1995 @yyanyy Please let me know your thoughts on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985961463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985966213","html_url":"https://github.com/apache/iceberg/issues/3615#issuecomment-985966213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3615","id":985966213,"node_id":"IC_kwDOCW7NX846xKaF","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T04:37:59Z","updated_at":"2021-12-04T04:37:59Z","author_association":"CONTRIBUTOR","body":"thanks Russell replay, I get.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985966213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985966613","html_url":"https://github.com/apache/iceberg/issues/3669#issuecomment-985966613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3669","id":985966613,"node_id":"IC_kwDOCW7NX846xKgV","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T04:41:41Z","updated_at":"2021-12-04T04:41:41Z","author_association":"CONTRIBUTOR","body":"cc @flyrain @szehon-ho @karuppayya @RussellSpitzer @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985966613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985997089","html_url":"https://github.com/apache/iceberg/issues/3558#issuecomment-985997089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3558","id":985997089,"node_id":"IC_kwDOCW7NX846xR8h","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T09:20:21Z","updated_at":"2021-12-04T09:21:45Z","author_association":"CONTRIBUTOR","body":"I try to edit SparkTable implements SupportsPartitionManagement\r\n```\r\n@Override\r\n  public StructType partitionSchema() {\r\n    return (StructType) SparkSchemaUtil.convert(icebergTable.spec().partitionType());\r\n  }\r\n\r\n  @Override\r\n  public void createPartition(InternalRow ident, Map<String, String> properties)\r\n          throws PartitionAlreadyExistsException, UnsupportedOperationException {\r\n    if(partitionExists(ident)){\r\n      throw new PartitionAlreadyExistsException(name(), ident, schema());\r\n    }\r\n    else{\r\n      icebergTable.updateSpec()\r\n              .addField((Term) ident.toSeq(partitionSchema()))\r\n              .commit();\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean dropPartition(InternalRow ident) {\r\n    try{\r\n      if (partitionExists(ident)){\r\n        icebergTable.updateSpec()\r\n                .removeField(ident.toSeq(partitionSchema()).mkString())// term\r\n                .commit();\r\n        return true;\r\n      }\r\n    }catch (IllegalArgumentException e) {\r\n      LOG.info(\"no partition exists for the identifier\");\r\n    }\r\n    return false;\r\n  }\r\n\r\n  @Override\r\n  public void replacePartitionMetadata(InternalRow ident, Map<String, String> properties) throws UnsupportedOperationException {\r\n    throw new UnsupportedOperationException(\"Iceberg partitions do not support metadata\");\r\n  }\r\n\r\n  @Override\r\n  public Map<String, String> loadPartitionMetadata(InternalRow ident) throws UnsupportedOperationException {\r\n    throw new UnsupportedOperationException(\"Iceberg partitions do not support metadata\");\r\n  }\r\n\r\n  @Override\r\n  public InternalRow[] listPartitionIdentifiers(String[] names, InternalRow ident) {\r\n    return new InternalRow[0];\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985997089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985998016","html_url":"https://github.com/apache/iceberg/issues/3558#issuecomment-985998016","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3558","id":985998016,"node_id":"IC_kwDOCW7NX846xSLA","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T09:27:25Z","updated_at":"2021-12-04T09:27:25Z","author_association":"CONTRIBUTOR","body":"unit test don't use IcebergSparkSessionExtensions ：\r\n```\r\nval spark = SparkSession\r\n      .builder()\r\n      .master(\"local[2]\")\r\n      .appName(\"IcebergAPI\")\r\n      .config(\"spark.sql.catalog.hadoop_prod\", \"org.apache.iceberg.spark.SparkCatalog\")\r\n      .config(\"spark.sql.catalog.hadoop_prod.type\", \"hadoop\")\r\n      .config(\"spark.sql.catalog.hadoop_prod.warehouse\", \"file:///D:\\\\lake-icebergv2\\\\warehouse\")\r\n      //.config(\"spark.sql.extensions\", \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\")\r\n      .config(\"spark.sql.sources.partitionOverwriteMode\", \"dynamic\")\r\n      .config(\"spark.rapids.sql.enabled\", true)//GPU\r\n      .getOrCreate()\r\n\r\ndef dropPartitionByTable(spark: SparkSession): Unit = {\r\n    spark.sql(\r\n      s\"\"\"\r\n         |ALTER TABLE hadoop_prod.$schemaName.$tableName DROP PARTITION FIELD days(cre_time)\r\n         |\r\n         |\"\"\".stripMargin)\r\n  }\r\n```\r\n\r\nerror log:\r\n```\r\nException in thread \"main\" org.apache.spark.sql.catalyst.parser.ParseException: \r\nmissing '(' at 'FIELD'(line 2, pos 61)\r\n\r\n== SQL ==\r\n\r\nALTER TABLE hadoop_prod.tenant.t_user_customer ADD PARTITION FIELD bucket(12, id)\r\n-------------------------------------------------------------^^^\r\n\r\n\r\n\tat org.apache.spark.sql.catalyst.parser.ParseException.withCommand(ParseDriver.scala:265)\r\n\tat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parse(ParseDriver.scala:126)\r\n\tat org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:51)\r\n\tat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parsePlan(ParseDriver.scala:77)\r\n\tat org.apache.spark.sql.SparkSession.$anonfun$sql$2(SparkSession.scala:616)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker.measurePhase(QueryPlanningTracker.scala:111)\r\n\tat org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:616)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:613)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985998016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985998541","html_url":"https://github.com/apache/iceberg/issues/3558#issuecomment-985998541","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3558","id":985998541,"node_id":"IC_kwDOCW7NX846xSTN","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T09:31:32Z","updated_at":"2021-12-04T09:31:32Z","author_association":"CONTRIBUTOR","body":"ALTER TABLE support must been usedSQL extensions? I have no good idea, can hou help me. cc @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985998541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985999404","html_url":"https://github.com/apache/iceberg/issues/3558#issuecomment-985999404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3558","id":985999404,"node_id":"IC_kwDOCW7NX846xSgs","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T09:38:46Z","updated_at":"2021-12-04T09:38:46Z","author_association":"CONTRIBUTOR","body":"sorry, I suddenly realized，SparkCatalog shoud extends SupportsPartitionManagement, is right? @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/985999404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986014908","html_url":"https://github.com/apache/iceberg/pull/2932#issuecomment-986014908","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2932","id":986014908,"node_id":"IC_kwDOCW7NX846xWS8","user":{"login":"wg1026688210","id":14267759,"node_id":"MDQ6VXNlcjE0MjY3NzU5","avatar_url":"https://avatars.githubusercontent.com/u/14267759?v=4","gravatar_id":"","url":"https://api.github.com/users/wg1026688210","html_url":"https://github.com/wg1026688210","followers_url":"https://api.github.com/users/wg1026688210/followers","following_url":"https://api.github.com/users/wg1026688210/following{/other_user}","gists_url":"https://api.github.com/users/wg1026688210/gists{/gist_id}","starred_url":"https://api.github.com/users/wg1026688210/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wg1026688210/subscriptions","organizations_url":"https://api.github.com/users/wg1026688210/orgs","repos_url":"https://api.github.com/users/wg1026688210/repos","events_url":"https://api.github.com/users/wg1026688210/events{/privacy}","received_events_url":"https://api.github.com/users/wg1026688210/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T11:50:48Z","updated_at":"2021-12-04T11:50:48Z","author_association":"CONTRIBUTOR","body":"> \r\nOk, I will resolve this conflict today","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986014908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986021692","html_url":"https://github.com/apache/iceberg/pull/2932#issuecomment-986021692","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2932","id":986021692,"node_id":"IC_kwDOCW7NX846xX88","user":{"login":"wg1026688210","id":14267759,"node_id":"MDQ6VXNlcjE0MjY3NzU5","avatar_url":"https://avatars.githubusercontent.com/u/14267759?v=4","gravatar_id":"","url":"https://api.github.com/users/wg1026688210","html_url":"https://github.com/wg1026688210","followers_url":"https://api.github.com/users/wg1026688210/followers","following_url":"https://api.github.com/users/wg1026688210/following{/other_user}","gists_url":"https://api.github.com/users/wg1026688210/gists{/gist_id}","starred_url":"https://api.github.com/users/wg1026688210/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wg1026688210/subscriptions","organizations_url":"https://api.github.com/users/wg1026688210/orgs","repos_url":"https://api.github.com/users/wg1026688210/repos","events_url":"https://api.github.com/users/wg1026688210/events{/privacy}","received_events_url":"https://api.github.com/users/wg1026688210/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T12:45:22Z","updated_at":"2021-12-04T12:45:22Z","author_association":"CONTRIBUTOR","body":"> Sorry for taking so long to get to this, I think this would be worth keeping just because of how difficult it is to deal with this situation. Please update the PR and I will merge it in.\r\n\r\nhi~ @RussellSpitzer the  conflict has been resolved","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986021692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986056721","html_url":"https://github.com/apache/iceberg/pull/3666#issuecomment-986056721","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3666","id":986056721,"node_id":"IC_kwDOCW7NX846xggR","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T16:47:37Z","updated_at":"2021-12-04T16:47:37Z","author_association":"MEMBER","body":"I'm beginning to think based on the number of test failures that split_offsets and offset_aware_split planning was most likely just broken for a long period of time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986056721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986059250","html_url":"https://github.com/apache/iceberg/pull/3666#issuecomment-986059250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3666","id":986059250,"node_id":"IC_kwDOCW7NX846xhHy","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T17:05:19Z","updated_at":"2021-12-04T17:05:56Z","author_association":"MEMBER","body":"Ok I think I just wrapped up the other issues, it seems like we were improperly handling empty files in the OffsetSplit code. The only tests we had that hit this were in the Spark 3.0/3.1 Copy on Write Code","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986059250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986060887","html_url":"https://github.com/apache/iceberg/issues/3558#issuecomment-986060887","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3558","id":986060887,"node_id":"IC_kwDOCW7NX846xhhX","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T17:15:48Z","updated_at":"2021-12-04T17:15:48Z","author_association":"MEMBER","body":"> sorry, I suddenly realized，SparkCatalog shoud extends SupportsPartitionManagement, is right? @RussellSpitzer\r\n\r\nYep! That's what we should be adding to handle this with the new API.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986060887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986078735","html_url":"https://github.com/apache/iceberg/issues/3236#issuecomment-986078735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3236","id":986078735,"node_id":"IC_kwDOCW7NX846xl4P","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T19:13:46Z","updated_at":"2021-12-04T19:13:46Z","author_association":"CONTRIBUTOR","body":"May I have a try ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986078735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986081882","html_url":"https://github.com/apache/iceberg/issues/3236#issuecomment-986081882","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3236","id":986081882,"node_id":"IC_kwDOCW7NX846xmpa","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T19:36:53Z","updated_at":"2021-12-04T19:36:53Z","author_association":"MEMBER","body":"Go for it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986081882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986102657","html_url":"https://github.com/apache/iceberg/pull/3668#issuecomment-986102657","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3668","id":986102657,"node_id":"IC_kwDOCW7NX846xruB","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-04T22:30:44Z","updated_at":"2021-12-04T22:30:44Z","author_association":"CONTRIBUTOR","body":"Glue is just trying to be generic, and the Athena doc requirement is based on Hive specification. I am trying to not remove this validation unless there is an absolute need. Using special characters cause a lot of incompatibility across different compute engines. Given the fact that people are likely going to create new namespaces for Iceberg tables, I think it's better to just advocate people to use normal characters instead of allowing too many variations.\r\n\r\nPlease let me know what you think, or if you have some specific use case to satisfy.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986102657/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986143461","html_url":"https://github.com/apache/iceberg/pull/2957#issuecomment-986143461","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2957","id":986143461,"node_id":"IC_kwDOCW7NX846x1rl","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T00:46:03Z","updated_at":"2021-12-05T00:46:03Z","author_association":"CONTRIBUTOR","body":"close in favor of #3664 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986143461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986156876","html_url":"https://github.com/apache/iceberg/pull/3667#issuecomment-986156876","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3667","id":986156876,"node_id":"IC_kwDOCW7NX846x49M","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T02:56:34Z","updated_at":"2021-12-05T04:20:46Z","author_association":"CONTRIBUTOR","body":"> Given this is a one-line change, could you also fix the other versions?\r\n\r\nSure thing. I almost did but I wasn’t sure where exactly we’re drawing the line. But this is small and if people need it, they need it for all versions (or can edit one or more out).\r\n\r\nEDIT: I have covered and added basic tests for Spark 2.4, 3.0, and 3.1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986156876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986166519","html_url":"https://github.com/apache/iceberg/pull/3645#issuecomment-986166519","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3645","id":986166519,"node_id":"IC_kwDOCW7NX846x7T3","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T04:52:51Z","updated_at":"2021-12-05T04:54:12Z","author_association":"CONTRIBUTOR","body":"> Hi @kbendick! I get this error when I'm trying to rewrite iceberg table in scala spark code with a partition filter like this: `SparkActions.get().rewriteDataFiles(table) .filter(Expressions.startsWith(\"imp_date\",'20211202')) .execute()` \"imp_date\" is a time partition field, it contains null value from some abnormal rows.\r\n\r\nOhhh that would explain why Spark isn't injecting an implicit `IS NOT NULL` check on the filter. We parse the text of the `WHERE` clause from the SQL and then convert from an Iceberg Filter to a Spark filter, and not via the LogicalPlan that would be generated by Spark.\r\n\r\nThis means potentially all inputs that would get an implicit null check (string inputs at the least) would likely have this same issue.\r\n\r\nWhere we parse the `WHERE` clause and convert: https://github.com/apache/iceberg/blob/b6554fccfac7a0c0ba35ebbcbff60d5f7eb0826d/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/procedures/RewriteDataFilesProcedure.java#L120-L131\r\n\r\nI'm not sure if we should individually handle each one, or if we want to try to make that use the parsed LogicalPlan instead via `sqlParser.parsePlan(where)` instead of the current `sqlParser.parseExpression(where)`.\r\n\r\nUsing `parsePlan` would provide ` LogicalPlan`, which has an `expressions` attribute of type `Seq[Exrpession]` which I'm guessing would have the null checks Spark would normally add.\r\n\r\nBut it might just be easier to add the null check ourselves instead of updating that logic.\r\n\r\ncc @RussellSpitzer @karuppayya @flyrain who might have some input on this.\r\n\r\nI believe your approach will work @hbgstc123, but there might be a more robust way so that the normal Spark plans that would put theimp_date IS NOT NULL AND imp_date LIKE '20211202%'` for us.\r\n\r\nIf I'm correct, then probably a number of these things need to be updated to handle `null` input (only for this  particular code path though).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986166519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986173385","html_url":"https://github.com/apache/iceberg/pull/3645#issuecomment-986173385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3645","id":986173385,"node_id":"IC_kwDOCW7NX846x8_J","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T06:11:01Z","updated_at":"2021-12-05T06:11:36Z","author_association":"MEMBER","body":"@kbendick that RewriteProcedure is for the SQL Version only, so the above error is probably something else. I'll check it out on monday.\r\n\r\nThe Action itself just uses standard \"Iceberg\" Expressions in the filter clause.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986173385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986175692","html_url":"https://github.com/apache/iceberg/pull/3645#issuecomment-986175692","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3645","id":986175692,"node_id":"IC_kwDOCW7NX846x9jM","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T06:37:08Z","updated_at":"2021-12-05T07:36:41Z","author_association":"CONTRIBUTOR","body":"> @kbendick that RewriteProcedure is for the SQL Version only, so the above error is probably something else. I'll check it out on monday.\r\n> \r\n> The Action itself just uses standard \"Iceberg\" Expressions in the filter clause.\r\n\r\nOh good point. You’re right.\r\n\r\nI spent some time playing around with it and I actually couldn't get it to error out, though I very much could have been doing something wrong on my end as I edited existing tests and didn't spend much time on it.\r\n\r\nSince we'd have to fix it with Flink as well, and I have a note from Ryan in an old PR that toString might eventually not be the best choice because it's possibly a CharSequence (and possibly null), it might make the most sense to just inline the check ourselves.\r\n\r\nI'll talk to you more on Monday.\r\n\r\nAgain, thank you @hbgstc123 for reporting this and providing a fix, and your PR would likely fix the problem, we just need to be sure we're fixing it in the most appropriate place.\r\n\r\n@hbgstc123 can you provide the exact `partition by` statement for your table (or something like the relevant clause) to make sure I fully understand your situation?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986175692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986177829","html_url":"https://github.com/apache/iceberg/pull/3645#issuecomment-986177829","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3645","id":986177829,"node_id":"IC_kwDOCW7NX846x-El","user":{"login":"hbgstc123","id":8900183,"node_id":"MDQ6VXNlcjg5MDAxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8900183?v=4","gravatar_id":"","url":"https://api.github.com/users/hbgstc123","html_url":"https://github.com/hbgstc123","followers_url":"https://api.github.com/users/hbgstc123/followers","following_url":"https://api.github.com/users/hbgstc123/following{/other_user}","gists_url":"https://api.github.com/users/hbgstc123/gists{/gist_id}","starred_url":"https://api.github.com/users/hbgstc123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbgstc123/subscriptions","organizations_url":"https://api.github.com/users/hbgstc123/orgs","repos_url":"https://api.github.com/users/hbgstc123/repos","events_url":"https://api.github.com/users/hbgstc123/events{/privacy}","received_events_url":"https://api.github.com/users/hbgstc123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T06:59:52Z","updated_at":"2021-12-05T06:59:52Z","author_association":"CONTRIBUTOR","body":"@kbendick The partition by clause in my create table statement is `partitioned by (imp_date)`\r\nIs this what you mean?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986177829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986181517","html_url":"https://github.com/apache/iceberg/pull/3645#issuecomment-986181517","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3645","id":986181517,"node_id":"IC_kwDOCW7NX846x--N","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T07:35:00Z","updated_at":"2021-12-05T07:35:00Z","author_association":"CONTRIBUTOR","body":"> @kbendick The partition by clause in my create table statement is `partitioned by (imp_date)`\r\n> Is this what you mean?\r\n\r\nYep. That's what I'm asking to verify. And imp_date has what type in the table, STRING?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986181517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986182248","html_url":"https://github.com/apache/iceberg/pull/3666#issuecomment-986182248","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3666","id":986182248,"node_id":"IC_kwDOCW7NX846x_Jo","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T07:43:13Z","updated_at":"2021-12-05T07:43:13Z","author_association":"MEMBER","body":"Thanks @kbendick , @rdblue , @jackye1995  for reviews!\r\n\r\nNow I think the solution for the optimize code will also be a lot cleaner.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986182248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986205707","html_url":"https://github.com/apache/iceberg/pull/3645#issuecomment-986205707","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3645","id":986205707,"node_id":"IC_kwDOCW7NX846yE4L","user":{"login":"hbgstc123","id":8900183,"node_id":"MDQ6VXNlcjg5MDAxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8900183?v=4","gravatar_id":"","url":"https://api.github.com/users/hbgstc123","html_url":"https://github.com/hbgstc123","followers_url":"https://api.github.com/users/hbgstc123/followers","following_url":"https://api.github.com/users/hbgstc123/following{/other_user}","gists_url":"https://api.github.com/users/hbgstc123/gists{/gist_id}","starred_url":"https://api.github.com/users/hbgstc123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbgstc123/subscriptions","organizations_url":"https://api.github.com/users/hbgstc123/orgs","repos_url":"https://api.github.com/users/hbgstc123/repos","events_url":"https://api.github.com/users/hbgstc123/events{/privacy}","received_events_url":"https://api.github.com/users/hbgstc123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T10:39:18Z","updated_at":"2021-12-05T10:39:18Z","author_association":"CONTRIBUTOR","body":"@kbendick yes, string","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986205707/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986237320","html_url":"https://github.com/apache/iceberg/pull/3659#issuecomment-986237320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3659","id":986237320,"node_id":"IC_kwDOCW7NX846yMmI","user":{"login":"xingbowu","id":12458911,"node_id":"MDQ6VXNlcjEyNDU4OTEx","avatar_url":"https://avatars.githubusercontent.com/u/12458911?v=4","gravatar_id":"","url":"https://api.github.com/users/xingbowu","html_url":"https://github.com/xingbowu","followers_url":"https://api.github.com/users/xingbowu/followers","following_url":"https://api.github.com/users/xingbowu/following{/other_user}","gists_url":"https://api.github.com/users/xingbowu/gists{/gist_id}","starred_url":"https://api.github.com/users/xingbowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xingbowu/subscriptions","organizations_url":"https://api.github.com/users/xingbowu/orgs","repos_url":"https://api.github.com/users/xingbowu/repos","events_url":"https://api.github.com/users/xingbowu/events{/privacy}","received_events_url":"https://api.github.com/users/xingbowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T14:11:50Z","updated_at":"2021-12-05T14:11:50Z","author_association":"CONTRIBUTOR","body":"Hi Jack, Regarding the name style of access key, I agree with you that the best way is to line up them between aws and aliyun module。however, considering legacy reason for user behavior,  we decided to keep it as it is.\r\ncould you check the discussion comments in PR3553 https://github.com/apache/iceberg/pull/3553#discussion_r752046575\r\nfeel free to let me know your further idea?\r\n\r\nit looks good to me to rename `AliyunClientFactories.load`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986237320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986239789","html_url":"https://github.com/apache/iceberg/pull/3606#issuecomment-986239789","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3606","id":986239789,"node_id":"IC_kwDOCW7NX846yNMt","user":{"login":"smallx","id":16517035,"node_id":"MDQ6VXNlcjE2NTE3MDM1","avatar_url":"https://avatars.githubusercontent.com/u/16517035?v=4","gravatar_id":"","url":"https://api.github.com/users/smallx","html_url":"https://github.com/smallx","followers_url":"https://api.github.com/users/smallx/followers","following_url":"https://api.github.com/users/smallx/following{/other_user}","gists_url":"https://api.github.com/users/smallx/gists{/gist_id}","starred_url":"https://api.github.com/users/smallx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallx/subscriptions","organizations_url":"https://api.github.com/users/smallx/orgs","repos_url":"https://api.github.com/users/smallx/repos","events_url":"https://api.github.com/users/smallx/events{/privacy}","received_events_url":"https://api.github.com/users/smallx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T14:26:46Z","updated_at":"2021-12-05T14:26:46Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary @kbendick \r\n\r\nOur HMS does not enable txn and housekeeper service, which is Hive's default behavior. When our streaming task has a fatal error, it will exit in another thread, which may lead to a small probability of lock non release.\r\n\r\nAt the same time, other users may also use `System.exit(N)` to exit in Spark application, although this is not recommended.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986239789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986268188","html_url":"https://github.com/apache/iceberg/pull/3375#issuecomment-986268188","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3375","id":986268188,"node_id":"IC_kwDOCW7NX846yUIc","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T17:19:20Z","updated_at":"2021-12-05T17:19:20Z","author_association":"MEMBER","body":"@RussellSpitzer : Thanks for merging the PR. Appreciate your guidance and patient reply to my questions. It helped in finally avoiding the custom codes 👍🏻","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986268188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986289702","html_url":"https://github.com/apache/iceberg/pull/3673#issuecomment-986289702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3673","id":986289702,"node_id":"IC_kwDOCW7NX846yZYm","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T19:52:15Z","updated_at":"2021-12-05T19:52:34Z","author_association":"CONTRIBUTOR","body":"The fix is applicable to Spark 3.1 as well (`TableCatalog#alterTable` is supposed to return the updated metadata).\r\n@RussellSpitzer can you please review? You merged #3548.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986289702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986289781","html_url":"https://github.com/apache/iceberg/pull/3674#issuecomment-986289781","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3674","id":986289781,"node_id":"IC_kwDOCW7NX846yZZ1","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T19:52:51Z","updated_at":"2021-12-05T19:52:51Z","author_association":"CONTRIBUTOR","body":"The fix is applicable to Spark 3.0 as well (`TableCatalog#alterTable` is supposed to return the updated metadata).\r\n@RussellSpitzer can you please review? You merged #3548.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986289781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986290259","html_url":"https://github.com/apache/iceberg/pull/3673#issuecomment-986290259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3673","id":986290259,"node_id":"IC_kwDOCW7NX846yZhT","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T19:56:07Z","updated_at":"2021-12-05T19:56:07Z","author_association":"CONTRIBUTOR","body":"cc @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986290259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986290302","html_url":"https://github.com/apache/iceberg/pull/3674#issuecomment-986290302","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3674","id":986290302,"node_id":"IC_kwDOCW7NX846yZh-","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T19:56:19Z","updated_at":"2021-12-05T19:56:19Z","author_association":"CONTRIBUTOR","body":"cc @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986290302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986291372","html_url":"https://github.com/apache/iceberg/pull/3674#issuecomment-986291372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3674","id":986291372,"node_id":"IC_kwDOCW7NX846yZys","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:04:00Z","updated_at":"2021-12-05T20:04:00Z","author_association":"CONTRIBUTOR","body":"Oh and you might consider marking @xinbinhuang as co-author considering they wrote the original PR.\r\n\r\nIt's just part of the PR comment (if you didn't already know): https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/creating-a-commit-with-multiple-authors#creating-co-authored-commits-on-the-command-line\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986291372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986291413","html_url":"https://github.com/apache/iceberg/pull/3663#issuecomment-986291413","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3663","id":986291413,"node_id":"IC_kwDOCW7NX846yZzV","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:04:15Z","updated_at":"2021-12-05T20:04:15Z","author_association":"CONTRIBUTOR","body":"@CodingCat, `HadoopTableOperations` is not safe to use with a file system that doesn't support atomic rename. Even if we were to add a lock as proposed in this PR, concurrent processes could still produce the same version in stores like S3 or even most local file systems.\r\n\r\nIf you want to avoid using a catalog implementation that provides an atomic rename (like JDBC, DynamoDB, or Hive) then you'd need to use a lock that can coordinate across processes.\r\n\r\nFor using Glue as a metastore, @jackye1995 added a DynamoDB based lock, in `DynamoLockManager`. I recommend adding the ability for `HadoopTableOperations` to use the DynamoDB lock instead of adding a JVM lock.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986291413/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986293758","html_url":"https://github.com/apache/iceberg/pull/3667#issuecomment-986293758","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3667","id":986293758,"node_id":"IC_kwDOCW7NX846yaX-","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:21:17Z","updated_at":"2021-12-05T20:21:17Z","author_association":"CONTRIBUTOR","body":"Thanks for getting this finished, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986293758/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986293815","html_url":"https://github.com/apache/iceberg/pull/3597#issuecomment-986293815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3597","id":986293815,"node_id":"IC_kwDOCW7NX846yaY3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:21:39Z","updated_at":"2021-12-05T20:21:39Z","author_association":"CONTRIBUTOR","body":"Thanks, @dubeme! This was fixed by #3667.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986293815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986293857","html_url":"https://github.com/apache/iceberg/issues/3586#issuecomment-986293857","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3586","id":986293857,"node_id":"IC_kwDOCW7NX846yaZh","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:21:59Z","updated_at":"2021-12-05T20:21:59Z","author_association":"CONTRIBUTOR","body":"Fixed by #3667.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986293857/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986294543","html_url":"https://github.com/apache/iceberg/pull/3658#issuecomment-986294543","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3658","id":986294543,"node_id":"IC_kwDOCW7NX846yakP","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:26:36Z","updated_at":"2021-12-05T20:26:36Z","author_association":"CONTRIBUTOR","body":"Looks good to me, but I'm not very familiar with this part. It would be great if @danielcweeks could take a look, too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986294543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986294927","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-986294927","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":986294927,"node_id":"IC_kwDOCW7NX846yaqP","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:29:15Z","updated_at":"2021-12-05T20:29:15Z","author_association":"CONTRIBUTOR","body":"> we will leverage the MetadataUpdate interface to build the table transaction API\r\n\r\nYes, the plan is to use this to accumulate the changes that are made to a table so that we can just send those updates to a REST catalog, rather than either writing the metadata JSON from the client or sending the entire metadata JSON to the server.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986294927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986295262","html_url":"https://github.com/apache/iceberg/pull/3649#issuecomment-986295262","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3649","id":986295262,"node_id":"IC_kwDOCW7NX846yave","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:32:15Z","updated_at":"2021-12-05T20:32:15Z","author_association":"CONTRIBUTOR","body":"CVE-2018-8088 doesn't affect Iceberg because the project doesn't depend on slf4j-ext.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986295262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986295621","html_url":"https://github.com/apache/iceberg/pull/3659#issuecomment-986295621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3659","id":986295621,"node_id":"IC_kwDOCW7NX846ya1F","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:34:36Z","updated_at":"2021-12-05T20:34:36Z","author_association":"CONTRIBUTOR","body":"I would like to see this rename, although I know there is pushback because some people have started using the unreleased feature. I don't like potentially setting a precedent that people using unreleased features can affect code that gets eventually released, but I don't think it matters that much here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986295621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986298996","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-986298996","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":986298996,"node_id":"IC_kwDOCW7NX846ybp0","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T20:57:08Z","updated_at":"2021-12-05T20:57:28Z","author_association":"CONTRIBUTOR","body":"> > Have we checked if this is just with the generated pom for the SNAPSHOT? That is, has anybody checked about doing —packages with 0.12.1 with a clean install (so not in local maven pre-fetched)? I’ll do that tomorrow if no one has (it’s late for me), but if it’s not needed for the normal release process, I’d prefer to see if there’s a way to handle it vs having to version just for the snapshot.\r\n> \r\n> 0.12.1 works fine for me. Maybe this is related to splitting spark support in different versions, which came after 0.12.1\r\n\r\nThinking on it further, 0.12.1 wouldn't be affected as we cherry-picked commits into it, and so 0.12.1 technically predates the repo reorganization. Also, 0.12.1 doesn't have Spark 3.2 on it.\r\n\r\nI took a closer look at the link and it recommends using another nebula dependency tool for generating the POM. Are we already using `nebula.maven-resolved-dependencies`? I took a look and didn't see that specific one anywhere. That might be the better fix for the SNAPSHOT release.\r\n\r\nFrom the link in the PR description: `Gradle requires that version numbers are present in the dependencies block to create a valid POM file that includes version numbers. To fix the issue this causes when using the dependency-recommender plug-in, apply the nebula.maven-resolved-dependencies plug-in from the nebula-publishing-plugin set.`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986298996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986299459","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-986299459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":986299459,"node_id":"IC_kwDOCW7NX846ybxD","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T21:00:23Z","updated_at":"2021-12-05T21:00:23Z","author_association":"CONTRIBUTOR","body":"> Can anyone trigger the CI workflows please? :D\r\n\r\nUnfortunately I don't yet have that privilege.😞\r\n\r\nYou can run `./gradlew clean -DsparkVersions=2.4,3.0,3.1,3.2 -DflinkVersions=1.12,1.13 build` to run a checks for all Spark and Flink versions locally for now though. 😀","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986299459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986306570","html_url":"https://github.com/apache/iceberg/pull/3674#issuecomment-986306570","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3674","id":986306570,"node_id":"IC_kwDOCW7NX846ydgK","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T21:50:24Z","updated_at":"2021-12-05T21:50:24Z","author_association":"CONTRIBUTOR","body":"> This looks good to me. Since it's a small change and a port, can you do 3.1 and 3.0 in this same PR? As well as 2.4 (assuming it applies there, which I'm sure it does).\r\n\r\nI have already created PRs for both 3.1 and 3.0, since I understood that to be the convention.\r\nThere is no `SparkCatalog` in 2.4.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986306570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986308606","html_url":"https://github.com/apache/iceberg/pull/3674#issuecomment-986308606","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3674","id":986308606,"node_id":"IC_kwDOCW7NX846yd_-","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T22:04:32Z","updated_at":"2021-12-05T22:04:32Z","author_association":"CONTRIBUTOR","body":"Added @xinbinhuang as co-author. Thanks for the tip, @kbendick.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986308606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986309073","html_url":"https://github.com/apache/iceberg/pull/3673#issuecomment-986309073","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3673","id":986309073,"node_id":"IC_kwDOCW7NX846yeHR","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T22:07:25Z","updated_at":"2021-12-05T22:07:25Z","author_association":"CONTRIBUTOR","body":"Added @xinbinhuang as co-author.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986309073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986333190","html_url":"https://github.com/apache/iceberg/issues/3586#issuecomment-986333190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3586","id":986333190,"node_id":"IC_kwDOCW7NX846ykAG","user":{"login":"dubeme","id":1667350,"node_id":"MDQ6VXNlcjE2NjczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1667350?v=4","gravatar_id":"","url":"https://api.github.com/users/dubeme","html_url":"https://github.com/dubeme","followers_url":"https://api.github.com/users/dubeme/followers","following_url":"https://api.github.com/users/dubeme/following{/other_user}","gists_url":"https://api.github.com/users/dubeme/gists{/gist_id}","starred_url":"https://api.github.com/users/dubeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubeme/subscriptions","organizations_url":"https://api.github.com/users/dubeme/orgs","repos_url":"https://api.github.com/users/dubeme/repos","events_url":"https://api.github.com/users/dubeme/events{/privacy}","received_events_url":"https://api.github.com/users/dubeme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T00:19:23Z","updated_at":"2021-12-06T00:19:23Z","author_association":"CONTRIBUTOR","body":"Thanks @kbendick for stepping in, and getting this through... Been out of comissions the past few weeks #OSSFTW","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986333190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986333481","html_url":"https://github.com/apache/iceberg/pull/3667#issuecomment-986333481","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3667","id":986333481,"node_id":"IC_kwDOCW7NX846ykEp","user":{"login":"dubeme","id":1667350,"node_id":"MDQ6VXNlcjE2NjczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1667350?v=4","gravatar_id":"","url":"https://api.github.com/users/dubeme","html_url":"https://github.com/dubeme","followers_url":"https://api.github.com/users/dubeme/followers","following_url":"https://api.github.com/users/dubeme/following{/other_user}","gists_url":"https://api.github.com/users/dubeme/gists{/gist_id}","starred_url":"https://api.github.com/users/dubeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubeme/subscriptions","organizations_url":"https://api.github.com/users/dubeme/orgs","repos_url":"https://api.github.com/users/dubeme/repos","events_url":"https://api.github.com/users/dubeme/events{/privacy}","received_events_url":"https://api.github.com/users/dubeme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T00:20:13Z","updated_at":"2021-12-06T00:20:13Z","author_association":"CONTRIBUTOR","body":"Thanks @kbendick  for stepping in in my absence","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986333481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986365646","html_url":"https://github.com/apache/iceberg/pull/3663#issuecomment-986365646","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3663","id":986365646,"node_id":"IC_kwDOCW7NX846yr7O","user":{"login":"CodingCat","id":678008,"node_id":"MDQ6VXNlcjY3ODAwOA==","avatar_url":"https://avatars.githubusercontent.com/u/678008?v=4","gravatar_id":"","url":"https://api.github.com/users/CodingCat","html_url":"https://github.com/CodingCat","followers_url":"https://api.github.com/users/CodingCat/followers","following_url":"https://api.github.com/users/CodingCat/following{/other_user}","gists_url":"https://api.github.com/users/CodingCat/gists{/gist_id}","starred_url":"https://api.github.com/users/CodingCat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodingCat/subscriptions","organizations_url":"https://api.github.com/users/CodingCat/orgs","repos_url":"https://api.github.com/users/CodingCat/repos","events_url":"https://api.github.com/users/CodingCat/events{/privacy}","received_events_url":"https://api.github.com/users/CodingCat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T01:45:33Z","updated_at":"2021-12-06T01:45:33Z","author_association":"CONTRIBUTOR","body":"Hi, @kbendick and @rdblue , thank you very much for the review! IIUC, besides the too-many thread number concern (which I will address with code), your comments are both related to the scope of HadoopTable. let me try to address them here and love to hear if it makes sense to you\r\n\r\n**First, this PR is exactly only for multi threading instead of processes.** The reason we care about multi threading operation is that it is much more implicit than multiple processes. Users may easily realize there are 1+ Spark applications running in the cluster but not necessarily realized there are multiple threads appending to the same table from the same Spark application. Just like our case which is somewhat an event-driven append case and each event is processed by a Spark job triggered from a separate thread. So as @kbendick said, it is a best-effort work and as @rdblue said, the multiple processes limitation is still there. \r\n\r\nSecond, regarding @kbendick 's concern,  **how to prevent it extending to an endless effort to make HadoopTable reaching to the capability of other catalog implementations, i.e. make HadoopTable eventually support distributed commits** . I think it is a valid concern on the resource allocation of community and roadmap of the project . My personal opinion is to try to find some way to explicitly fail the application (in this PR or the other, depends on the workload) when finding multiple processes are committing, not only serving as a hard guard but also prevent users didn't read docs and just to lose some data\r\n\r\nThird, regarding @rdblue's suggestion about **making HadoopTableOperations support distributed committing by leveraging DynamoLockManager** . I am hesitated to go with this path for now , please do let me know if I misunderstood anything: essentially we are going to make iceberg-core depends on iceberg-aws which will bring the circular dependency and also some counter-intuitive architecture with a hardcode component from AWS...\r\n\r\nLastly, as I said in the background info of the PR, companies like us have been operating in some company's env for a while. There was a period that every customer was encouraged to write parquet path instead of registering a table in HMS and it has make 100s of our data applications are talking to file system directly instead of HMS. The effort here is also about making functionality parity with Delta Lake\r\n\r\n\r\n\r\nRegarding the action items:\r\n\r\n1. I will definitely address thread number issue, the retry-limit like 1000 or thread count are more like conservative numbers, easy to lower down. in theory , retry-limit can be <= thread count\r\n2. if you all agree, I will try to find some way to fail applications explicitly when there are distributed commits in HadoopTable...I will share my findings and depends on the complexity, we can decide how to move forward\r\n\r\nLove to hear your feedbacks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986365646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986367673","html_url":"https://github.com/apache/iceberg/pull/3644#issuecomment-986367673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3644","id":986367673,"node_id":"IC_kwDOCW7NX846ysa5","user":{"login":"zpi1223","id":24953071,"node_id":"MDQ6VXNlcjI0OTUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/24953071?v=4","gravatar_id":"","url":"https://api.github.com/users/zpi1223","html_url":"https://github.com/zpi1223","followers_url":"https://api.github.com/users/zpi1223/followers","following_url":"https://api.github.com/users/zpi1223/following{/other_user}","gists_url":"https://api.github.com/users/zpi1223/gists{/gist_id}","starred_url":"https://api.github.com/users/zpi1223/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zpi1223/subscriptions","organizations_url":"https://api.github.com/users/zpi1223/orgs","repos_url":"https://api.github.com/users/zpi1223/repos","events_url":"https://api.github.com/users/zpi1223/events{/privacy}","received_events_url":"https://api.github.com/users/zpi1223/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T01:51:30Z","updated_at":"2021-12-06T01:51:30Z","author_association":"NONE","body":"> > > Hi @zpi1223! Thanks for the PR.\r\n> > > For your own information, If this is what I think you're talking about (that `MERGE INTO` is resolved by position), this has actually been fixed in Spark 3.2.\r\n> > > I have some unit tests here demonstrating that `MERGE INTO` will do by name resolution starting with Spark 3.2: #3440\r\n> > > Of course, Spark 3.2 support won't be generally available until Iceberg 0.13.0 is released, but wanted to let you know.\r\n> > \r\n> > \r\n> > Hi @kbendick , Thank you very much for your prompt reply. I personally think that these two are not conflicting.\r\n> > First，You are talking about the realization of functions, and what I want to express in this PR is to add certain warning information at the document level, so that the description information on the official website can be more complete, so as not to cause misunderstandings and affect the use in actual production.\r\n> > Secondly，Because we misunderstood the first time we used it, it took a certain amount of time to use it correctly at the end.\r\n> \r\n> I don’t disagree. We should probably document it as well as it’s not clearly documented in the Spark docs (and people likely come to our docs for MERGE INTO information given that vanilla spark doesn’t implement merge into, just provide the primitives for us to do it).\r\n> \r\n> But maybe the documentation can state that it’s a Spark bug and not an issue in Spark 3.2 and later?\r\n\r\nI still don't understand.\r\nFirst of all, the original intention of this PR is to improve the document information to avoid unnecessary understanding of the related Merge Into function when users use it, so that users can get a better experience.\r\n\r\nSecondly, I did not understand the Spark 3.2 bug that you explained. This PR is just a document-level information supplement. What does it have to do with Spark bugs?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986367673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986392096","html_url":"https://github.com/apache/iceberg/pull/3674#issuecomment-986392096","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3674","id":986392096,"node_id":"IC_kwDOCW7NX846yyYg","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T02:59:08Z","updated_at":"2021-12-06T02:59:08Z","author_association":"CONTRIBUTOR","body":"> > This looks good to me. Since it's a small change and a port, can you do 3.1 and 3.0 in this same PR? As well as 2.4 (assuming it applies there, which I'm sure it does).\r\n> \r\n> I have already created PRs for both 3.1 and 3.0, since I understood that to be the convention. There is no `SparkCatalog` in 2.4.\r\n\r\nAhh I hadn't noticed at the time that there was ready another PR. I found my way to this review via E-mail.\r\n\r\nThen no worries. That would just be more work. This looks good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986392096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986402769","html_url":"https://github.com/apache/iceberg/pull/3668#issuecomment-986402769","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3668","id":986402769,"node_id":"IC_kwDOCW7NX846y0_R","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T03:22:04Z","updated_at":"2021-12-06T03:26:30Z","author_association":"CONTRIBUTOR","body":"> Glue is just trying to be generic, and the Athena doc requirement is based on Hive specification. I am trying to not remove this validation unless there is an absolute need. Using special characters cause a lot of incompatibility across different compute engines. Given the fact that people are likely going to create new namespaces for Iceberg tables, I think it's better to just advocate people to use normal characters instead of allowing too many variations.\r\n> \r\n> Please let me know what you think, or if you have some specific use case to satisfy.\r\n\r\nI would also go off of the stricter requirement. From my knowledge, Glue is a bit more general purpose from it's earliest days. So I'm not surprised that its possibly more permissive in what it allows to be created via CLI etc. But it's unlikely that its just the Validation that's the only blocking issue.\r\n\r\nWith many catalogs, there are limitations on the namespace / database name (or differences in how they're represented by the catalogs TableOperations).\r\n\r\nThere are also engine-specific considerations, eg Athena (or Trinodb in the general case).\r\n\r\nI'm not at AWS (nor have I ever been affiliated), so I would of course defer to @jackye1995. But wanted to provide further insight as to why the change might not be as simple as removing Precondition checks (especially as the majority of the Trino integration code for Iceberg is hosted in the Trino repo). 🙂","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986402769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986407957","html_url":"https://github.com/apache/iceberg/pull/3641#issuecomment-986407957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3641","id":986407957,"node_id":"IC_kwDOCW7NX846y2QV","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T03:36:33Z","updated_at":"2021-12-06T03:36:33Z","author_association":"CONTRIBUTOR","body":"Can you elaborate more on your use case?\r\n\r\nThis would be a large refactor, and we tend to prefer  making the FileIO composable (see `ResolvingFileIO`).\r\n\r\nIt would help if you could elaborate why such a large proposed change would be beneficial. Possibly there's an existing way to handle what you need - or one that would require significantly less change within Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986407957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986410357","html_url":"https://github.com/apache/iceberg/pull/3543#issuecomment-986410357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3543","id":986410357,"node_id":"IC_kwDOCW7NX846y211","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T03:44:38Z","updated_at":"2021-12-06T03:44:38Z","author_association":"CONTRIBUTOR","body":"> Just to resonate with what Russell said, I have also heard a few customers got confused about the caching behaviors, and not enabling caching directly would likely be a more straight-forward solution for users, compared to have a 30 seconds expiration that we have to then explain potential behaviors of query based on this expiration time.\r\n> \r\n> Overall I think it's worth adding the feature, Trino and Presto also has something similar like `hive.metastore-refresh-interval`. I would personally just do not set a default for that config, given it is an optional config anyway.\r\n> \r\n> Given the fact that the PR is also getting quite messy with all the changes, I would say let's first add the `cache-enabled` as a catalog property with `true` as default, which is the default behavior today. Then we can add time-based expiration and review it separately in more details.\r\n\r\nOh I better understand what you're saying now.\r\n\r\nI'll split this into two PRs, one that makes it an optional opt-in (all current behavior the same), like Spark is. And just add the behavioral change.\r\n\r\nAnd then a follow-up to plumb that through and we can turn it on there (or not).\r\n\r\nWill let you know when the new PR is up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986410357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986413732","html_url":"https://github.com/apache/iceberg/pull/3671#issuecomment-986413732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3671","id":986413732,"node_id":"IC_kwDOCW7NX846y3qk","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T03:56:35Z","updated_at":"2021-12-06T03:57:57Z","author_association":"MEMBER","body":"> The new name of the file is: spark/v3.1/spark/src/main/java/org/apache/spark/sql/catalyst/plans.logical/SetWriteDistributionAndOrdering.scala\r\n> It's odd to me that it would be catalyst/plans.logical/SetWriteDistributionAndOrdering.scala instead of with a slash in the file path name (instead using plans.logical for just part of the path).\r\n\r\n@kbendick: That shows only in the PR. but when merged, github / codebase can understand that it is a sub package.\r\nSee final results here: https://github.com/apache/iceberg/tree/master/spark/v3.2/spark/src/main/java/org/apache/spark/sql/catalyst/plans/logical","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986413732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986424127","html_url":"https://github.com/apache/iceberg/pull/2062#issuecomment-986424127","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2062","id":986424127,"node_id":"IC_kwDOCW7NX846y6M_","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T04:18:06Z","updated_at":"2021-12-06T04:18:06Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews @cccs-eric! I added the test cases and otherwise responded. I agree we should update the exception messages and will either do it in this PR or a follow up PR.\r\n\r\nLet me know if you have any other feedback.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986424127/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986426702","html_url":"https://github.com/apache/iceberg/pull/3561#issuecomment-986426702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3561","id":986426702,"node_id":"IC_kwDOCW7NX846y61O","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T04:23:35Z","updated_at":"2021-12-06T05:21:12Z","author_association":"CONTRIBUTOR","body":"> > 412 feels weird. the fact that some people may have load balancers in front and some load balancers standard config aren't clear about what 404 means isn't a great reason for a non-standard overload of a return code.\r\n> \r\n> I agree with Ryan. I think the general principle of an OpenAPI specification is to express the theoretical behavior of the APIs, without consideration of infrastructure setup. There can be so many layers of infrastructure and redirection in between your service and the client, you can never predict what error could happen in between.\r\n> \r\n> ELB has a well-defined list of error codes, and counters for all of them, users can filter out what errors are from ELB and what are not if they really want to. https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-troubleshooting.html\r\n> \r\n> REST APIs are resources based, here the resources are `namespsace` and `table`. 404 of `/namespaces/ns` clearly indicates namespace `ns` does not exist, I don't think there is ambiguity related to that.\r\n> \r\n> 412 has a very specific meaning that \"the server does not meet one of the preconditions that the requester put on the request header fields\", we should not overload the meaning.\r\n> \r\n> I would suggest looking at some well-known APIs to see how they are defining error codes, such as https://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html. Although S3 is not REST but RPC, but the error code aspect is the same.\r\n\r\nThat's a good point regarding infra complexities in between.\r\n\r\nI always said I'd be fine with reverting to 404s, and I'm very much convinced now. I think there might be some use cases for additional code usage (e.g. a renameTable request where the namespace to rename the table to does not exist), but I'll revert everything to 404 for the foreseeable future. 👍 \r\n\r\nThere are some places where using 404 multiple times is causing issues in generating the markdown, but that's more because a map key in a YAML needs to be unique. Not because we can't use 404 for those cases.\r\n\r\nI've reverted everything to 404 in \"Not Found\" cases.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986426702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986427298","html_url":"https://github.com/apache/iceberg/pull/3675#issuecomment-986427298","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3675","id":986427298,"node_id":"IC_kwDOCW7NX846y6-i","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T04:24:55Z","updated_at":"2021-12-06T04:24:55Z","author_association":"MEMBER","body":"cc: @kbendick , @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986427298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986433960","html_url":"https://github.com/apache/iceberg/pull/3672#issuecomment-986433960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3672","id":986433960,"node_id":"IC_kwDOCW7NX846y8mo","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T04:42:18Z","updated_at":"2021-12-06T04:42:18Z","author_association":"MEMBER","body":"CI failed because of [this](https://github.com/apache/iceberg/issues/1144) problem \r\nI will update my testcase","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986433960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986434110","html_url":"https://github.com/apache/iceberg/pull/3671#issuecomment-986434110","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3671","id":986434110,"node_id":"IC_kwDOCW7NX846y8o-","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T04:42:48Z","updated_at":"2021-12-06T04:42:48Z","author_association":"MEMBER","body":"CI failed because of [this](https://github.com/apache/iceberg/issues/1144) problem\r\nI will update my testcase","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986434110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]