[{"url":"https://api.github.com/repos/apache/samza/issues/comments/553548322","html_url":"https://github.com/apache/samza/pull/1218#issuecomment-553548322","issue_url":"https://api.github.com/repos/apache/samza/issues/1218","id":553548322,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU0ODMyMg==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T18:54:45Z","updated_at":"2019-11-13T18:54:45Z","author_association":"CONTRIBUTOR","body":"Looks like something easily unit testable. Can we add one for this? ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/553548322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/553549716","html_url":"https://github.com/apache/samza/pull/1217#issuecomment-553549716","issue_url":"https://api.github.com/repos/apache/samza/issues/1217","id":553549716,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU0OTcxNg==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T18:58:09Z","updated_at":"2019-11-13T18:58:09Z","author_association":"CONTRIBUTOR","body":"Can you also fix the checkstyle issue\r\n```\r\n> Task :samza-core_2.11:checkstyleMain\r\n[ant:checkstyle] /home/travis/build/apache/samza/samza-core/src/main/java/org/apache/samza/util/DiagnosticsUtil.java:163:12: error: Name 'DIAGNOSTICS_STREAM_ID' must match pattern '^[a-z][a-zA-Z0-9]*$'.\r\n> Task :samza-core_2.11:checkstyleMain FAILED\r\n```","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/553549716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/555169358","html_url":"https://github.com/apache/samza/pull/1220#issuecomment-555169358","issue_url":"https://api.github.com/repos/apache/samza/issues/1220","id":555169358,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTE2OTM1OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T19:23:59Z","updated_at":"2019-11-18T19:23:59Z","author_association":"CONTRIBUTOR","body":"@mynameborat  Thanks for the quick fix. @rmatharu Can you review and merge?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/555169358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/556251275","html_url":"https://github.com/apache/samza/pull/1209#issuecomment-556251275","issue_url":"https://api.github.com/repos/apache/samza/issues/1209","id":556251275,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjI1MTI3NQ==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T19:01:25Z","updated_at":"2019-11-20T19:01:25Z","author_association":"CONTRIBUTOR","body":"@prateekm is there anything else you'd like addressed in this PR / others to take a look?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/556251275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/557638998","html_url":"https://github.com/apache/samza/pull/1223#issuecomment-557638998","issue_url":"https://api.github.com/repos/apache/samza/issues/1223","id":557638998,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzYzODk5OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T18:22:52Z","updated_at":"2019-11-22T18:22:52Z","author_association":"CONTRIBUTOR","body":"@bkonold can you review?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/557638998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/558400816","html_url":"https://github.com/apache/samza/pull/1197#issuecomment-558400816","issue_url":"https://api.github.com/repos/apache/samza/issues/1197","id":558400816,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQwMDgxNg==","user":{"login":"weiqingy","id":8546874,"node_id":"MDQ6VXNlcjg1NDY4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/8546874?v=4","gravatar_id":"","url":"https://api.github.com/users/weiqingy","html_url":"https://github.com/weiqingy","followers_url":"https://api.github.com/users/weiqingy/followers","following_url":"https://api.github.com/users/weiqingy/following{/other_user}","gists_url":"https://api.github.com/users/weiqingy/gists{/gist_id}","starred_url":"https://api.github.com/users/weiqingy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiqingy/subscriptions","organizations_url":"https://api.github.com/users/weiqingy/orgs","repos_url":"https://api.github.com/users/weiqingy/repos","events_url":"https://api.github.com/users/weiqingy/events{/privacy}","received_events_url":"https://api.github.com/users/weiqingy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T00:17:58Z","updated_at":"2019-11-26T00:18:11Z","author_association":"CONTRIBUTOR","body":"@xinyuiscool Thanks for the reviewing. I'll update the PR to fix the comments soon.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/558400816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/559289501","html_url":"https://github.com/apache/samza/pull/1227#issuecomment-559289501","issue_url":"https://api.github.com/repos/apache/samza/issues/1227","id":559289501,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI4OTUwMQ==","user":{"login":"Sanil15","id":16806974,"node_id":"MDQ6VXNlcjE2ODA2OTc0","avatar_url":"https://avatars.githubusercontent.com/u/16806974?v=4","gravatar_id":"","url":"https://api.github.com/users/Sanil15","html_url":"https://github.com/Sanil15","followers_url":"https://api.github.com/users/Sanil15/followers","following_url":"https://api.github.com/users/Sanil15/following{/other_user}","gists_url":"https://api.github.com/users/Sanil15/gists{/gist_id}","starred_url":"https://api.github.com/users/Sanil15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sanil15/subscriptions","organizations_url":"https://api.github.com/users/Sanil15/orgs","repos_url":"https://api.github.com/users/Sanil15/repos","events_url":"https://api.github.com/users/Sanil15/events{/privacy}","received_events_url":"https://api.github.com/users/Sanil15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T23:55:27Z","updated_at":"2019-11-27T23:55:27Z","author_association":"CONTRIBUTOR","body":"@dnishimura @bharathkk @shanthoosh @rmatharu Please have a look","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/559289501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/560672733","html_url":"https://github.com/apache/samza/pull/1228#issuecomment-560672733","issue_url":"https://api.github.com/repos/apache/samza/issues/1228","id":560672733,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDY3MjczMw==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T21:54:04Z","updated_at":"2019-12-02T21:54:04Z","author_association":"CONTRIBUTOR","body":"You should use a gauge, not counter. In inGraphs, a counter is displayed as a rate (v2-v1/t2-t1).\r\n1. That's probably not what you want.\r\n2. Not sure what will happen if v2 < v1.\r\n\r\nA gauge should not reset to 0 if not updated, it should retain its last updated value.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/560672733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/560692560","html_url":"https://github.com/apache/samza/pull/1228#issuecomment-560692560","issue_url":"https://api.github.com/repos/apache/samza/issues/1228","id":560692560,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDY5MjU2MA==","user":{"login":"rmatharu-zz","id":40646191,"node_id":"MDQ6VXNlcjQwNjQ2MTkx","avatar_url":"https://avatars.githubusercontent.com/u/40646191?v=4","gravatar_id":"","url":"https://api.github.com/users/rmatharu-zz","html_url":"https://github.com/rmatharu-zz","followers_url":"https://api.github.com/users/rmatharu-zz/followers","following_url":"https://api.github.com/users/rmatharu-zz/following{/other_user}","gists_url":"https://api.github.com/users/rmatharu-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/rmatharu-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmatharu-zz/subscriptions","organizations_url":"https://api.github.com/users/rmatharu-zz/orgs","repos_url":"https://api.github.com/users/rmatharu-zz/repos","events_url":"https://api.github.com/users/rmatharu-zz/events{/privacy}","received_events_url":"https://api.github.com/users/rmatharu-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T22:00:01Z","updated_at":"2019-12-02T22:00:01Z","author_association":"CONTRIBUTOR","body":"> You should use a gauge, not counter. In inGraphs, a counter is displayed as a rate (v2-v1/t2-t1).\r\n> \r\n> 1. That's probably not what you want.\r\n> 2. Not sure what will happen if v2 < v1.\r\n> \r\n> A gauge should not reset to 0 if not updated, it should retain its last updated value.\r\n\r\nFair enough, I was confused between Timers and Gauges.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/560692560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/561299257","html_url":"https://github.com/apache/samza/pull/1228#issuecomment-561299257","issue_url":"https://api.github.com/repos/apache/samza/issues/1228","id":561299257,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTI5OTI1Nw==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T18:36:25Z","updated_at":"2019-12-03T18:36:25Z","author_association":"CONTRIBUTOR","body":"@rmatharu Let's also add this to the metrics docs.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/561299257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/561327456","html_url":"https://github.com/apache/samza/pull/1226#issuecomment-561327456","issue_url":"https://api.github.com/repos/apache/samza/issues/1226","id":561327456,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTMyNzQ1Ng==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T19:47:59Z","updated_at":"2019-12-03T19:47:59Z","author_association":"CONTRIBUTOR","body":"@bharathkk and @abhishekshivanna offered to look at this.\r\n\r\n@kw2542 Can you update usage/upgrade instructions in the description with changes required for using this new feature? This information will be collected for the release notes and changelog for the next release.\r\n\r\nLet's also fix the commit title (wrapping).","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/561327456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/561445137","html_url":"https://github.com/apache/samza/pull/1226#issuecomment-561445137","issue_url":"https://api.github.com/repos/apache/samza/issues/1226","id":561445137,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTQ0NTEzNw==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T02:19:12Z","updated_at":"2019-12-04T02:19:12Z","author_association":"CONTRIBUTOR","body":"> @bharathkk and @abhishekshivanna offered to look at this.\r\n> \r\n> @kw2542 Can you update usage/upgrade instructions in the description with changes required for using this new feature? This information will be collected for the release notes and changelog for the next release.\r\n> \r\n> Let's also fix the commit title (wrapping).\r\n\r\n@kw2542 Can you also update the API changes in the description and add more details about this API (internal vs external) etc","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/561445137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/562273258","html_url":"https://github.com/apache/samza/pull/1229#issuecomment-562273258","issue_url":"https://api.github.com/repos/apache/samza/issues/1229","id":562273258,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjI3MzI1OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T19:16:13Z","updated_at":"2019-12-05T19:16:13Z","author_association":"CONTRIBUTOR","body":"@rmatharu please use PR description format.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/562273258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/562292098","html_url":"https://github.com/apache/samza/pull/1229#issuecomment-562292098","issue_url":"https://api.github.com/repos/apache/samza/issues/1229","id":562292098,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjI5MjA5OA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T19:58:24Z","updated_at":"2019-12-05T19:58:24Z","author_association":"CONTRIBUTOR","body":"I'd prefer to not introduce force cleaning optional internal config for more combination of our stores properties (we already have one for logged store and now we have one for non-logged store). It makes it hard to follow up all the potential branching. \r\n\r\nIf we still need this, can we consolidate all the flags to one configuration? Also, do we have other use cases for this outside experimental purpose?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/562292098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/562340040","html_url":"https://github.com/apache/samza/pull/1226#issuecomment-562340040","issue_url":"https://api.github.com/repos/apache/samza/issues/1226","id":562340040,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjM0MDA0MA==","user":{"login":"abhishekshivanna","id":1762473,"node_id":"MDQ6VXNlcjE3NjI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1762473?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekshivanna","html_url":"https://github.com/abhishekshivanna","followers_url":"https://api.github.com/users/abhishekshivanna/followers","following_url":"https://api.github.com/users/abhishekshivanna/following{/other_user}","gists_url":"https://api.github.com/users/abhishekshivanna/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekshivanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekshivanna/subscriptions","organizations_url":"https://api.github.com/users/abhishekshivanna/orgs","repos_url":"https://api.github.com/users/abhishekshivanna/repos","events_url":"https://api.github.com/users/abhishekshivanna/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekshivanna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T22:06:17Z","updated_at":"2019-12-05T22:06:17Z","author_association":"CONTRIBUTOR","body":"@kw2542 , could you also clarify as part of this patch the reason we need this new implementation over the existing `config-factory` (eg: PropertiesConfigFactory) and `config-path` implementation ? Is this meant to be a replacement for the way we do config loading today ? If so, should we deprecate the old way ?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/562340040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/564156876","html_url":"https://github.com/apache/samza/pull/1226#issuecomment-564156876","issue_url":"https://api.github.com/repos/apache/samza/issues/1226","id":564156876,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDE1Njg3Ng==","user":{"login":"kw2542","id":7189703,"node_id":"MDQ6VXNlcjcxODk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/7189703?v=4","gravatar_id":"","url":"https://api.github.com/users/kw2542","html_url":"https://github.com/kw2542","followers_url":"https://api.github.com/users/kw2542/followers","following_url":"https://api.github.com/users/kw2542/following{/other_user}","gists_url":"https://api.github.com/users/kw2542/gists{/gist_id}","starred_url":"https://api.github.com/users/kw2542/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kw2542/subscriptions","organizations_url":"https://api.github.com/users/kw2542/orgs","repos_url":"https://api.github.com/users/kw2542/repos","events_url":"https://api.github.com/users/kw2542/events{/privacy}","received_events_url":"https://api.github.com/users/kw2542/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-10T18:01:23Z","updated_at":"2019-12-10T18:01:23Z","author_association":"CONTRIBUTOR","body":"> @kw2542 , could you also clarify as part of this patch the reason we need this new implementation over the existing `config-factory` (eg: PropertiesConfigFactory) and `config-path` implementation ? Is this meant to be a replacement for the way we do config loading today ? If so, should we deprecate the old way ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/564156876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/564157692","html_url":"https://github.com/apache/samza/pull/1226#issuecomment-564157692","issue_url":"https://api.github.com/repos/apache/samza/issues/1226","id":564157692,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDE1NzY5Mg==","user":{"login":"kw2542","id":7189703,"node_id":"MDQ6VXNlcjcxODk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/7189703?v=4","gravatar_id":"","url":"https://api.github.com/users/kw2542","html_url":"https://github.com/kw2542","followers_url":"https://api.github.com/users/kw2542/followers","following_url":"https://api.github.com/users/kw2542/following{/other_user}","gists_url":"https://api.github.com/users/kw2542/gists{/gist_id}","starred_url":"https://api.github.com/users/kw2542/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kw2542/subscriptions","organizations_url":"https://api.github.com/users/kw2542/orgs","repos_url":"https://api.github.com/users/kw2542/repos","events_url":"https://api.github.com/users/kw2542/events{/privacy}","received_events_url":"https://api.github.com/users/kw2542/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-10T18:03:17Z","updated_at":"2019-12-10T18:03:17Z","author_association":"CONTRIBUTOR","body":"> @kw2542 , could you also clarify as part of this patch the reason we need this new implementation over the existing `config-factory` (eg: PropertiesConfigFactory) and `config-path` implementation ? Is this meant to be a replacement for the way we do config loading today ? If so, should we deprecate the old way ?\r\n\r\nUpdated both the PR description as well as SEP itself.\r\n\r\nConfigLoader will replace ConfigFactory interface, which will be deleted in the following PRs. ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/564157692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/564271008","html_url":"https://github.com/apache/samza/pull/1234#issuecomment-564271008","issue_url":"https://api.github.com/repos/apache/samza/issues/1234","id":564271008,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDI3MTAwOA==","user":{"login":"rmatharu-zz","id":40646191,"node_id":"MDQ6VXNlcjQwNjQ2MTkx","avatar_url":"https://avatars.githubusercontent.com/u/40646191?v=4","gravatar_id":"","url":"https://api.github.com/users/rmatharu-zz","html_url":"https://github.com/rmatharu-zz","followers_url":"https://api.github.com/users/rmatharu-zz/followers","following_url":"https://api.github.com/users/rmatharu-zz/following{/other_user}","gists_url":"https://api.github.com/users/rmatharu-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/rmatharu-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmatharu-zz/subscriptions","organizations_url":"https://api.github.com/users/rmatharu-zz/orgs","repos_url":"https://api.github.com/users/rmatharu-zz/repos","events_url":"https://api.github.com/users/rmatharu-zz/events{/privacy}","received_events_url":"https://api.github.com/users/rmatharu-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-10T21:39:54Z","updated_at":"2019-12-10T21:39:54Z","author_association":"CONTRIBUTOR","body":"@bkonold Samza provided serdes dont run into this, user-defined serdes though can map non-null objects to null.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/564271008/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/566801466","html_url":"https://github.com/apache/samza/pull/1226#issuecomment-566801466","issue_url":"https://api.github.com/repos/apache/samza/issues/1226","id":566801466,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjgwMTQ2Ng==","user":{"login":"kw2542","id":7189703,"node_id":"MDQ6VXNlcjcxODk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/7189703?v=4","gravatar_id":"","url":"https://api.github.com/users/kw2542","html_url":"https://github.com/kw2542","followers_url":"https://api.github.com/users/kw2542/followers","following_url":"https://api.github.com/users/kw2542/following{/other_user}","gists_url":"https://api.github.com/users/kw2542/gists{/gist_id}","starred_url":"https://api.github.com/users/kw2542/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kw2542/subscriptions","organizations_url":"https://api.github.com/users/kw2542/orgs","repos_url":"https://api.github.com/users/kw2542/repos","events_url":"https://api.github.com/users/kw2542/events{/privacy}","received_events_url":"https://api.github.com/users/kw2542/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-17T23:51:09Z","updated_at":"2019-12-17T23:51:09Z","author_association":"CONTRIBUTOR","body":"Discard to start a new PR clean.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/566801466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/567800670","html_url":"https://github.com/apache/samza/pull/1240#issuecomment-567800670","issue_url":"https://api.github.com/repos/apache/samza/issues/1240","id":567800670,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzgwMDY3MA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-20T06:00:28Z","updated_at":"2019-12-20T06:00:28Z","author_association":"CONTRIBUTOR","body":"Seems like the bug is we end up overwriting the `containerException` with `listener.getContainerException` without checking if it has already been populated. Due to this, it is possible that container listener doesn't have any exception because it was requested to shut itself down but the request was due to expired heartbeat. \r\n\r\nIs that correct? ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/567800670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/568024607","html_url":"https://github.com/apache/samza/pull/1240#issuecomment-568024607","issue_url":"https://api.github.com/repos/apache/samza/issues/1240","id":568024607,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODAyNDYwNw==","user":{"login":"abhishekshivanna","id":1762473,"node_id":"MDQ6VXNlcjE3NjI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1762473?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekshivanna","html_url":"https://github.com/abhishekshivanna","followers_url":"https://api.github.com/users/abhishekshivanna/followers","following_url":"https://api.github.com/users/abhishekshivanna/following{/other_user}","gists_url":"https://api.github.com/users/abhishekshivanna/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekshivanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekshivanna/subscriptions","organizations_url":"https://api.github.com/users/abhishekshivanna/orgs","repos_url":"https://api.github.com/users/abhishekshivanna/repos","events_url":"https://api.github.com/users/abhishekshivanna/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekshivanna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-20T18:11:18Z","updated_at":"2019-12-20T19:13:56Z","author_association":"CONTRIBUTOR","body":"@mynameborat Correct ! I updated the description to include this.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/568024607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/568078148","html_url":"https://github.com/apache/samza/pull/1240#issuecomment-568078148","issue_url":"https://api.github.com/repos/apache/samza/issues/1240","id":568078148,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODA3ODE0OA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-20T20:33:10Z","updated_at":"2019-12-20T20:33:10Z","author_association":"CONTRIBUTOR","body":"can we add a unit test for this?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/568078148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/568105529","html_url":"https://github.com/apache/samza/pull/1240#issuecomment-568105529","issue_url":"https://api.github.com/repos/apache/samza/issues/1240","id":568105529,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODEwNTUyOQ==","user":{"login":"abhishekshivanna","id":1762473,"node_id":"MDQ6VXNlcjE3NjI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1762473?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekshivanna","html_url":"https://github.com/abhishekshivanna","followers_url":"https://api.github.com/users/abhishekshivanna/followers","following_url":"https://api.github.com/users/abhishekshivanna/following{/other_user}","gists_url":"https://api.github.com/users/abhishekshivanna/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekshivanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekshivanna/subscriptions","organizations_url":"https://api.github.com/users/abhishekshivanna/orgs","repos_url":"https://api.github.com/users/abhishekshivanna/repos","events_url":"https://api.github.com/users/abhishekshivanna/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekshivanna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-20T22:07:18Z","updated_at":"2019-12-20T22:07:18Z","author_association":"CONTRIBUTOR","body":"I agree, looks like there is no way to mock objects that `ContainerLaunchUtil` instantiates in order to test this.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/568105529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/568138070","html_url":"https://github.com/apache/samza/pull/1241#issuecomment-568138070","issue_url":"https://api.github.com/repos/apache/samza/issues/1241","id":568138070,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODEzODA3MA==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-21T01:09:29Z","updated_at":"2019-12-21T01:09:29Z","author_association":"CONTRIBUTOR","body":"\r\nPlease correct me if i'm wrong.\r\n\r\n\r\nJobModel currently contains the container-to-host-locality information, accessible via the high-level field `all-container-locality`.\r\n\r\nIn a typical run of a samza-job, containers could move around different NM hosts due to transient h/w failures (or containers could be explicitly moved around by using our powerful container placement API)\r\n\r\n\r\nSo if we cache the JobModel and after that the container-locality changes, then subsequent AM  HTTP reads of JobModel could potentially be serving inconsistent JobModel. \r\n\r\nSample JobModel taken from a samza job \r\n\r\n```bash\r\n[svenkata@host ~]$ cat ~/job-model  | jq . | head -n 10 \r\n{\r\n  \"all-container-locality\": {\r\n    \"68-0\": \"host-1\",\r\n    \"135-0\": \"host-2\",\r\n    \"173-0\": \"host-3\",\r\n    \"158-0\": \"host-4\",\r\n    \"45-0\": \"host-5\",\r\n    \"112-0\": \"host-6\",\r\n    \"109\": \"host-7\",\r\n    \"108\": \"host-8\",\r\n```\r\n\r\nIn the above sample JobModel, the active container '68-0' runs in host-1. \r\n\r\nCurrently the ApplicationMaster process is used as the source of truth for JobModel. Some of our internal samza-admin monitors uses it to garbage-collect the left-over local RocksDB state-stores from disk(to reclaim disk-space). Just curious, if the above API change would affect our state-store GC-monitor.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/568138070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/570322826","html_url":"https://github.com/apache/samza/pull/1241#issuecomment-570322826","issue_url":"https://api.github.com/repos/apache/samza/issues/1241","id":570322826,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDMyMjgyNg==","user":{"login":"rmatharu-zz","id":40646191,"node_id":"MDQ6VXNlcjQwNjQ2MTkx","avatar_url":"https://avatars.githubusercontent.com/u/40646191?v=4","gravatar_id":"","url":"https://api.github.com/users/rmatharu-zz","html_url":"https://github.com/rmatharu-zz","followers_url":"https://api.github.com/users/rmatharu-zz/followers","following_url":"https://api.github.com/users/rmatharu-zz/following{/other_user}","gists_url":"https://api.github.com/users/rmatharu-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/rmatharu-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmatharu-zz/subscriptions","organizations_url":"https://api.github.com/users/rmatharu-zz/orgs","repos_url":"https://api.github.com/users/rmatharu-zz/repos","events_url":"https://api.github.com/users/rmatharu-zz/events{/privacy}","received_events_url":"https://api.github.com/users/rmatharu-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-02T19:52:39Z","updated_at":"2020-01-02T19:54:27Z","author_association":"CONTRIBUTOR","body":"As @shanthoosh  pointed out, state-store-GC-monitor uses containers' locality mapping to determine the tasks on a given host (if the app is currently running), with this change the monitor could end up using a previous app-attempt's locality mappings.\r\n\r\nOne way out may be to expose separate calls for cached vs. non-cached JobModel?\r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/570322826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/571253034","html_url":"https://github.com/apache/samza/pull/1236#issuecomment-571253034","issue_url":"https://api.github.com/repos/apache/samza/issues/1236","id":571253034,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTI1MzAzNA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T18:26:58Z","updated_at":"2020-01-06T18:26:58Z","author_association":"CONTRIBUTOR","body":"@rmatharu @bharathkk can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/571253034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/571260241","html_url":"https://github.com/apache/samza/pull/1241#issuecomment-571260241","issue_url":"https://api.github.com/repos/apache/samza/issues/1241","id":571260241,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTI2MDI0MQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T18:46:35Z","updated_at":"2020-01-06T18:46:35Z","author_association":"CONTRIBUTOR","body":"@shanthoosh @rmatharu Thanks for the review.\r\n\r\nThis PR does not affect LocalStoreMonitor:\r\n1. This PR updates the only place where jobModelRef is set to store the serialized job model instead of unserialized job model. So this shouldn't affect any usages of jobModelRef. Btw, I don't think this field needs to be an AtomicReference since its only updated once. @shanthoosh do you know if JobModelManager#apply is called more than once in any scenario (YARN or Standalone)? If not, I can change it to a regular field.\r\n\r\n2. LocalStoreMonitor doesn't use the JobModel served from the AM. It reads the coordinator stream and creates the JobModel itself, in a rather roundabout way. The code path is: `LocalStoreMonitor -> JobsClient#getTasks ---HTTP Request---> TasksResource#getTasks -> SamzaTaskProxy#getTasks -> CoordinatorStreamSystemConsumer/LocalityManger read`","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/571260241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/571275976","html_url":"https://github.com/apache/samza/pull/1241#issuecomment-571275976","issue_url":"https://api.github.com/repos/apache/samza/issues/1241","id":571275976,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTI3NTk3Ng==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T19:24:24Z","updated_at":"2020-01-06T19:31:50Z","author_association":"CONTRIBUTOR","body":"@prateekm\r\n\r\n1. LocalStoreMonitor in OSS is not used internally within LI. We'd re-implemented the same logic internally in C for GDPR purposes. The re-implementation queries the AM, AFAIK, to get the JobModel. \r\n2. Last I checked, the samza dashboard also queries the AM endpoint to get the JobModel. Might be better to check if it would break any existing dashboard functionality with this caching change(if we return inconsistent container-to-host mapping).\r\n3. I think you're right in that we do not call the JobModelManager.apply multiple times in YARN/standalone. \r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/571275976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/571280408","html_url":"https://github.com/apache/samza/pull/1241#issuecomment-571280408","issue_url":"https://api.github.com/repos/apache/samza/issues/1241","id":571280408,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTI4MDQwOA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T19:34:48Z","updated_at":"2020-01-06T19:34:48Z","author_association":"CONTRIBUTOR","body":"@shanthoosh See point 1. If those tools are querying the AM for container locality, they're already affected since the job model served by AM is not currently updated with locality information after the initial read. This PR does not change that behavior. \r\n\r\nAlso, I think Samza dashboard uses the Yarn RM APIs for finding container location, not the AM job model.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/571280408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/571285288","html_url":"https://github.com/apache/samza/pull/1241#issuecomment-571285288","issue_url":"https://api.github.com/repos/apache/samza/issues/1241","id":571285288,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTI4NTI4OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T19:46:41Z","updated_at":"2020-01-06T19:46:41Z","author_association":"CONTRIBUTOR","body":"@shanthoosh clarified that the JobModel object isn't immutable, it re-reads the container locality from the metadata store every time getAllContainerLocality() is called (e.g.during serialization). Let me see what we can do to handle that, it might require a bigger change to how the JobModel is created.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/571285288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/572829955","html_url":"https://github.com/apache/samza/pull/1227#issuecomment-572829955","issue_url":"https://api.github.com/repos/apache/samza/issues/1227","id":572829955,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjgyOTk1NQ==","user":{"login":"Sanil15","id":16806974,"node_id":"MDQ6VXNlcjE2ODA2OTc0","avatar_url":"https://avatars.githubusercontent.com/u/16806974?v=4","gravatar_id":"","url":"https://api.github.com/users/Sanil15","html_url":"https://github.com/Sanil15","followers_url":"https://api.github.com/users/Sanil15/followers","following_url":"https://api.github.com/users/Sanil15/following{/other_user}","gists_url":"https://api.github.com/users/Sanil15/gists{/gist_id}","starred_url":"https://api.github.com/users/Sanil15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sanil15/subscriptions","organizations_url":"https://api.github.com/users/Sanil15/orgs","repos_url":"https://api.github.com/users/Sanil15/repos","events_url":"https://api.github.com/users/Sanil15/events{/privacy}","received_events_url":"https://api.github.com/users/Sanil15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-10T01:17:51Z","updated_at":"2020-01-10T01:17:51Z","author_association":"CONTRIBUTOR","body":"Addressing @prateekm feedback & adding the following changes\r\n1. Changed how ContainerPlacementHandler wires in JC, wiring CPH with ClusterBasedJobCoordinator\r\n2. Refactored meta-store read/write utils from ContainerPlacementHandler to a separate entity ContainerPlacementUtil, wired it to ClusterBasedJobCoordinator\r\n3. ContainerPlacementUtil is gonna be wired into ContainerPlacementService in a follow-up PR and can be used by outside clients to request container placement actions.\r\n4. Metastore key for Container placement actions is UUID + Message type (req/res) and both request & response messages now belong to the same Namespace in metastore\r\n5. Documentation & other improvements \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/572829955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/573180139","html_url":"https://github.com/apache/samza/pull/1249#issuecomment-573180139","issue_url":"https://api.github.com/repos/apache/samza/issues/1249","id":573180139,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzE4MDEzOQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-10T19:48:32Z","updated_at":"2020-01-10T19:48:32Z","author_association":"CONTRIBUTOR","body":"@kw2542 Please document any public API changes in the description.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/573180139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/573939144","html_url":"https://github.com/apache/samza/pull/1245#issuecomment-573939144","issue_url":"https://api.github.com/repos/apache/samza/issues/1245","id":573939144,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzkzOTE0NA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T00:24:28Z","updated_at":"2020-01-14T00:24:28Z","author_association":"CONTRIBUTOR","body":"@atoomula FYI","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/573939144/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/573959700","html_url":"https://github.com/apache/samza/pull/1247#issuecomment-573959700","issue_url":"https://api.github.com/repos/apache/samza/issues/1247","id":573959700,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk1OTcwMA==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T01:47:42Z","updated_at":"2020-01-14T01:47:42Z","author_association":"CONTRIBUTOR","body":"Change LGTM. Can you include a unit test for the behavior?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/573959700/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/573978069","html_url":"https://github.com/apache/samza/pull/1251#issuecomment-573978069","issue_url":"https://api.github.com/repos/apache/samza/issues/1251","id":573978069,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk3ODA2OQ==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T03:07:25Z","updated_at":"2020-01-14T03:07:25Z","author_association":"CONTRIBUTOR","body":"@prateekm Can you please take a look at this patch.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/573978069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/573985335","html_url":"https://github.com/apache/samza/pull/1245#issuecomment-573985335","issue_url":"https://api.github.com/repos/apache/samza/issues/1245","id":573985335,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Mzk4NTMzNQ==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T03:40:30Z","updated_at":"2020-01-14T03:40:30Z","author_association":"CONTRIBUTOR","body":"@kw2542 Thanks for the changes. Merged the patch to trunk.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/573985335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/574348437","html_url":"https://github.com/apache/samza/pull/1250#issuecomment-574348437","issue_url":"https://api.github.com/repos/apache/samza/issues/1250","id":574348437,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDM0ODQzNw==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T20:03:39Z","updated_at":"2020-01-14T20:03:39Z","author_association":"CONTRIBUTOR","body":"@kw2542 Thanks for the changes. Merged the patch to trunk.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/574348437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/574441236","html_url":"https://github.com/apache/samza/pull/1252#issuecomment-574441236","issue_url":"https://api.github.com/repos/apache/samza/issues/1252","id":574441236,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDQ0MTIzNg==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-15T00:37:41Z","updated_at":"2020-01-15T00:37:41Z","author_association":"CONTRIBUTOR","body":"@prateekm Can you please take a look at this patch.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/574441236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/575448128","html_url":"https://github.com/apache/samza/pull/1254#issuecomment-575448128","issue_url":"https://api.github.com/repos/apache/samza/issues/1254","id":575448128,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTQ0ODEyOA==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T03:26:52Z","updated_at":"2020-01-17T03:26:52Z","author_association":"CONTRIBUTOR","body":"@prateekm Can you please take a look when you get a chance.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/575448128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578234698","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578234698","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578234698,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODIzNDY5OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-24T17:57:08Z","updated_at":"2020-01-24T17:57:08Z","author_association":"CONTRIBUTOR","body":"@bharathkk and @lakshmi-manasa-g can you take a look?\r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578234698/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578867975","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578867975","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578867975,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODg2Nzk3NQ==","user":{"login":"xinyuiscool","id":24738423,"node_id":"MDQ6VXNlcjI0NzM4NDIz","avatar_url":"https://avatars.githubusercontent.com/u/24738423?v=4","gravatar_id":"","url":"https://api.github.com/users/xinyuiscool","html_url":"https://github.com/xinyuiscool","followers_url":"https://api.github.com/users/xinyuiscool/followers","following_url":"https://api.github.com/users/xinyuiscool/following{/other_user}","gists_url":"https://api.github.com/users/xinyuiscool/gists{/gist_id}","starred_url":"https://api.github.com/users/xinyuiscool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinyuiscool/subscriptions","organizations_url":"https://api.github.com/users/xinyuiscool/orgs","repos_url":"https://api.github.com/users/xinyuiscool/repos","events_url":"https://api.github.com/users/xinyuiscool/events{/privacy}","received_events_url":"https://api.github.com/users/xinyuiscool/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T17:46:34Z","updated_at":"2020-01-27T17:46:34Z","author_association":"CONTRIBUTOR","body":" Now I looked at the coodinator stream impl for metadatstore, it seems we shouldn't couple flush with put/putall/delete/deleteall. It should be done as a separate call at the end of updates. The current impl is hideous and can cause further perf problems down the road.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578867975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578887026","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578887026","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578887026,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODg4NzAyNg==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T18:29:40Z","updated_at":"2020-01-27T18:29:40Z","author_association":"CONTRIBUTOR","body":"> Now I looked at the coodinator stream impl for metadatstore, it seems we shouldn't couple flush with put/putall/delete/deleteall. It should be done as a separate call at the end of updates. The current impl is hideous and can cause further perf problems down the road.\r\n\r\n@xinyuiscool Do you mean we should remove `flush` calls from `put/putall/delete/deleteall`? And let the callers of those functions decide when to do `flush` operation?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578887026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578897415","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578897415","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578897415,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODg5NzQxNQ==","user":{"login":"xinyuiscool","id":24738423,"node_id":"MDQ6VXNlcjI0NzM4NDIz","avatar_url":"https://avatars.githubusercontent.com/u/24738423?v=4","gravatar_id":"","url":"https://api.github.com/users/xinyuiscool","html_url":"https://github.com/xinyuiscool","followers_url":"https://api.github.com/users/xinyuiscool/followers","following_url":"https://api.github.com/users/xinyuiscool/following{/other_user}","gists_url":"https://api.github.com/users/xinyuiscool/gists{/gist_id}","starred_url":"https://api.github.com/users/xinyuiscool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinyuiscool/subscriptions","organizations_url":"https://api.github.com/users/xinyuiscool/orgs","repos_url":"https://api.github.com/users/xinyuiscool/repos","events_url":"https://api.github.com/users/xinyuiscool/events{/privacy}","received_events_url":"https://api.github.com/users/xinyuiscool/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T18:54:55Z","updated_at":"2020-01-27T18:54:55Z","author_association":"CONTRIBUTOR","body":"Yes, I think that's a typical store api. Not sure why it was doing all the flushes before. @bharathkk  might have some context about it, but he is on vacation.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578897415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578910109","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578910109","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578910109,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODkxMDEwOQ==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T19:24:04Z","updated_at":"2020-01-27T19:24:04Z","author_association":"CONTRIBUTOR","body":"@lakshmi-manasa-g Thanks for the review. Had one discussion with @xinyuiscool and @prateekm , we decided to change with another solution which will move the `flush` out of all update methods in `CoordinatorStreamStore`.  So above codes with your comments will be removed. I will let you know when the new changes are done.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578910109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578984523","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578984523","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578984523,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODk4NDUyMw==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T22:24:27Z","updated_at":"2020-01-27T22:24:27Z","author_association":"CONTRIBUTOR","body":"Alan, this PR seems to be solving a similar problem. https://github.com/apache/samza/pull/1125\r\n\r\nCan you check how the problem / solution in that PR relates to this one?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578984523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578985304","html_url":"https://github.com/apache/samza/pull/1219#issuecomment-578985304","issue_url":"https://api.github.com/repos/apache/samza/issues/1219","id":578985304,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODk4NTMwNA==","user":{"login":"Sanil15","id":16806974,"node_id":"MDQ6VXNlcjE2ODA2OTc0","avatar_url":"https://avatars.githubusercontent.com/u/16806974?v=4","gravatar_id":"","url":"https://api.github.com/users/Sanil15","html_url":"https://github.com/Sanil15","followers_url":"https://api.github.com/users/Sanil15/followers","following_url":"https://api.github.com/users/Sanil15/following{/other_user}","gists_url":"https://api.github.com/users/Sanil15/gists{/gist_id}","starred_url":"https://api.github.com/users/Sanil15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sanil15/subscriptions","organizations_url":"https://api.github.com/users/Sanil15/orgs","repos_url":"https://api.github.com/users/Sanil15/repos","events_url":"https://api.github.com/users/Sanil15/events{/privacy}","received_events_url":"https://api.github.com/users/Sanil15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T22:26:46Z","updated_at":"2020-01-27T22:26:46Z","author_association":"CONTRIBUTOR","body":"Completed the manual testing, here is the link to test-spec: https://docs.google.com/spreadsheets/d/1v-fw0pHxKRobGkALDCno4FuPCsBhdepQ86vIGLHWu54/edit#gid=0&range=16:16\r\n\r\n@rmatharu please merge once you have verified testing results","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578985304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/578988159","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-578988159","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":578988159,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODk4ODE1OQ==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-27T22:34:43Z","updated_at":"2020-01-27T22:34:43Z","author_association":"CONTRIBUTOR","body":"> Alan, this PR seems to be solving a similar problem. #1125\r\n> \r\n> Can you check how the problem / solution in that PR relates to this one?\r\n\r\n@prateekm \r\nJust checked the PR: #1125. I believe it is solving exactly the same performance issue with this one.\r\n But it is doing with batch updates way, and current PR is doing the way to decouple `flush` and update methods.\r\n\r\nIf we solve the issue with this PR, later we can close it.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/578988159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/579027911","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-579027911","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":579027911,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTAyNzkxMQ==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-28T00:51:36Z","updated_at":"2020-01-28T00:51:36Z","author_association":"CONTRIBUTOR","body":"The changes are done and updated the details in the PR's description, please help review, thanks!\r\n @xinyuiscool @prateekm @lakshmi-manasa-g ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/579027911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/579034095","html_url":"https://github.com/apache/samza/pull/1260#issuecomment-579034095","issue_url":"https://api.github.com/repos/apache/samza/issues/1260","id":579034095,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTAzNDA5NQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-28T01:17:03Z","updated_at":"2020-01-28T01:17:03Z","author_association":"CONTRIBUTOR","body":"@bkonold Can you check why the travis build failed?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/579034095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/579092863","html_url":"https://github.com/apache/samza/pull/1260#issuecomment-579092863","issue_url":"https://api.github.com/repos/apache/samza/issues/1260","id":579092863,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTA5Mjg2Mw==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-28T05:56:51Z","updated_at":"2020-01-28T05:56:51Z","author_association":"CONTRIBUTOR","body":"> @bkonold Can you check why the travis build failed?\r\n\r\nLooks like it was a transient failure, something azure related.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/579092863/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/579507730","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-579507730","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":579507730,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTUwNzczMA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-28T22:55:05Z","updated_at":"2020-01-28T22:55:05Z","author_association":"CONTRIBUTOR","body":"> Yes, I think that's a typical store api. Not sure why it was doing all the flushes before. @bharathkk might have some context about it, but he is on vacation.\r\n\r\n@alnzng here is the PR for context -  https://github.com/apache/samza/pull/1112\r\n+1 to splitting flush and the API. Refer to the comments in the above PR regarding separating out flush and put APIs","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/579507730/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/579534309","html_url":"https://github.com/apache/samza/pull/1258#issuecomment-579534309","issue_url":"https://api.github.com/repos/apache/samza/issues/1258","id":579534309,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTUzNDMwOQ==","user":{"login":"lakshmi-manasa-g","id":18587732,"node_id":"MDQ6VXNlcjE4NTg3NzMy","avatar_url":"https://avatars.githubusercontent.com/u/18587732?v=4","gravatar_id":"","url":"https://api.github.com/users/lakshmi-manasa-g","html_url":"https://github.com/lakshmi-manasa-g","followers_url":"https://api.github.com/users/lakshmi-manasa-g/followers","following_url":"https://api.github.com/users/lakshmi-manasa-g/following{/other_user}","gists_url":"https://api.github.com/users/lakshmi-manasa-g/gists{/gist_id}","starred_url":"https://api.github.com/users/lakshmi-manasa-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lakshmi-manasa-g/subscriptions","organizations_url":"https://api.github.com/users/lakshmi-manasa-g/orgs","repos_url":"https://api.github.com/users/lakshmi-manasa-g/repos","events_url":"https://api.github.com/users/lakshmi-manasa-g/events{/privacy}","received_events_url":"https://api.github.com/users/lakshmi-manasa-g/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T00:13:50Z","updated_at":"2020-01-29T00:13:50Z","author_association":"CONTRIBUTOR","body":"> How does `getSystemStreamMetadata` get used? Based on your description, it sounds like `getSystemStreamMetadata` gets called, so does that mean something needs to use the results from it? If you return an empty map, could that be misleading to the logic that uses `getSystemStreamMetadata`?\r\n\r\n**The exact stack trace of this method being called for the high-level sample job**\r\n`at org.apache.samza.system.azureblob.AzureBlobSystemAdmin.getSystemStreamMetadata(AzureBlobSystemAdmin.java:44)\r\nat org.apache.samza.execution.StreamManager.getStreamPartitionCounts(StreamManager.java:93)\r\nat org.apache.samza.execution.ExecutionPlanner.setInputAndOutputStreamPartitionCount(ExecutionPlanner.java:197)\r\n at org.apache.samza.execution.ExecutionPlanner.plan(ExecutionPlanner.java:86)\r\nat org.apache.samza.execution.JobPlanner.getExecutionPlan(JobPlanner.java:101)\r\nat org.apache.samza.execution.RemoteJobPlanner.prepareJobs(RemoteJobPlanner.java:57)\r\nat org.apache.samza.runtime.RemoteApplicationRunner.run(RemoteApplicationRunner.java:73)\r\nat org.apache.samza.runtime.ApplicationRunnerUtil.invoke(ApplicationRunnerUtil.java:49)\r\nat org.apache.samza.runtime.ApplicationRunnerMain.main(ApplicationRunnerMain.java:53)`\r\n\r\n**Usage of `getSystemStreamMetadata` in this stack trace:**\r\nIn the stack trace above, this method is used to get the number of partitions (=size of the map) of a stream in the job graph (all input and output streams). The partition counts are added to the job graph and then used to validate joins and calculate partitions for intermediate streams. Hence, returning an empty map for AzureBlobSystem will result in the partition count being 0 which is does not lead to any incorrect behavior.\r\n\r\n**Other usages (directly or transitively) of `getSystemStreamMetadata`:**\r\n\r\n1. Direct uses: CoordinatorStreamStore, CoordinatorStreamSystemConsumer, StreamManager.getPartitionCounts, StreamMetadataCache, KafkaSystemAdmin, KafkaCheckpointManager, TestRunner, SytemConsumerBench - of these only the StreamManager is relevant cause Azure Blob can not be as CoordinatorStream (as it has no consumer).\r\nStreamManager usage is described above.\r\n\r\n2. Transitive uses (via SystemAdmin.getSSPMetadata and SystemAdmin.getSystemStreamPartitionCounts) : NonTransactionalStateTaskStorageManager.getNewestChangelogSSPOffsets, TransactionalStateTaskStorageManager.getNewestChangelogSSPOffsets and SSPMetadataCache. None of these are relevant for Azure Blob.\r\n\r\n**Azure blob Storage as a system in samza:**\r\n1. There is no concept of a partition in Azure Blob Storage - it is mimicked through virtual folders (basically /) in the blob name. \r\n2. Samza's SystemStreamMetadata consists of StreamName and 3 offsets (oldest, newest and upcoming) which are not relevant for an Azure blob.\r\n\r\nFor all the above stated reasons, I believe it is acceptable to return an empty map for this method in AzureBlobSystemAdmin.\r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/579534309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/579542328","html_url":"https://github.com/apache/samza/pull/1258#issuecomment-579542328","issue_url":"https://api.github.com/repos/apache/samza/issues/1258","id":579542328,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTU0MjMyOA==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T00:47:04Z","updated_at":"2020-01-29T00:47:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed explanation. Can you please summarize your response into a comment for `AzureBlobSystemAdmin.getSystemStreamMetadata`?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/579542328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/581585395","html_url":"https://github.com/apache/samza/pull/1266#issuecomment-581585395","issue_url":"https://api.github.com/repos/apache/samza/issues/1266","id":581585395,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTU4NTM5NQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-03T19:46:03Z","updated_at":"2020-02-03T19:46:03Z","author_association":"CONTRIBUTOR","body":"@cameronlee314 @abhishekshivanna can you review?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/581585395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/581692213","html_url":"https://github.com/apache/samza/pull/1259#issuecomment-581692213","issue_url":"https://api.github.com/repos/apache/samza/issues/1259","id":581692213,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTY5MjIxMw==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T00:57:33Z","updated_at":"2020-02-04T00:57:33Z","author_association":"CONTRIBUTOR","body":"@xinyuiscool @prateekm \r\nCan any of you help check and merge the PR if no new comments? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/581692213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/582121603","html_url":"https://github.com/apache/samza/pull/1266#issuecomment-582121603","issue_url":"https://api.github.com/repos/apache/samza/issues/1266","id":582121603,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjEyMTYwMw==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T21:23:09Z","updated_at":"2020-02-04T21:23:09Z","author_association":"CONTRIBUTOR","body":"Can you please add a JIRA ticket to the PR and add an \"API changes\" section to the description (see https://cwiki.apache.org/confluence/display/SAMZA/SEP-25%3A+PR+Title+And+Description+Guidelines)?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/582121603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/582151443","html_url":"https://github.com/apache/samza/pull/1266#issuecomment-582151443","issue_url":"https://api.github.com/repos/apache/samza/issues/1266","id":582151443,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjE1MTQ0Mw==","user":{"login":"rmatharu-zz","id":40646191,"node_id":"MDQ6VXNlcjQwNjQ2MTkx","avatar_url":"https://avatars.githubusercontent.com/u/40646191?v=4","gravatar_id":"","url":"https://api.github.com/users/rmatharu-zz","html_url":"https://github.com/rmatharu-zz","followers_url":"https://api.github.com/users/rmatharu-zz/followers","following_url":"https://api.github.com/users/rmatharu-zz/following{/other_user}","gists_url":"https://api.github.com/users/rmatharu-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/rmatharu-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmatharu-zz/subscriptions","organizations_url":"https://api.github.com/users/rmatharu-zz/orgs","repos_url":"https://api.github.com/users/rmatharu-zz/repos","events_url":"https://api.github.com/users/rmatharu-zz/events{/privacy}","received_events_url":"https://api.github.com/users/rmatharu-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T22:41:32Z","updated_at":"2020-02-04T22:41:32Z","author_association":"CONTRIBUTOR","body":"Addressed all comments, please take a look ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/582151443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/583662656","html_url":"https://github.com/apache/samza/pull/1269#issuecomment-583662656","issue_url":"https://api.github.com/repos/apache/samza/issues/1269","id":583662656,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY2MjY1Ng==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T23:43:39Z","updated_at":"2020-02-07T23:43:39Z","author_association":"CONTRIBUTOR","body":"@weiqingy Can you please take a look at this PR?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/583662656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/583674895","html_url":"https://github.com/apache/samza/pull/1271#issuecomment-583674895","issue_url":"https://api.github.com/repos/apache/samza/issues/1271","id":583674895,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NDg5NQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:34:02Z","updated_at":"2020-02-08T00:34:02Z","author_association":"CONTRIBUTOR","body":"@PanTheMan please use https://cwiki.apache.org/confluence/display/SAMZA/SEP-25%3A+PR+Title+And+Description+Guidelines for PR description.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/583674895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/584396033","html_url":"https://github.com/apache/samza/pull/1269#issuecomment-584396033","issue_url":"https://api.github.com/repos/apache/samza/issues/1269","id":584396033,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDM5NjAzMw==","user":{"login":"srinipunuru","id":1783806,"node_id":"MDQ6VXNlcjE3ODM4MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1783806?v=4","gravatar_id":"","url":"https://api.github.com/users/srinipunuru","html_url":"https://github.com/srinipunuru","followers_url":"https://api.github.com/users/srinipunuru/followers","following_url":"https://api.github.com/users/srinipunuru/following{/other_user}","gists_url":"https://api.github.com/users/srinipunuru/gists{/gist_id}","starred_url":"https://api.github.com/users/srinipunuru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srinipunuru/subscriptions","organizations_url":"https://api.github.com/users/srinipunuru/orgs","repos_url":"https://api.github.com/users/srinipunuru/repos","events_url":"https://api.github.com/users/srinipunuru/events{/privacy}","received_events_url":"https://api.github.com/users/srinipunuru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T22:48:07Z","updated_at":"2020-02-10T22:48:37Z","author_association":"CONTRIBUTOR","body":"@santhoshvenkat1988  Couple of things that you could look at in future\r\n\r\n1. If adding validations with UDF polymorphism is hard, We could disable/remove it.\r\n2. May be an end to end planning test UDf type validation test would be great.  \r\n3. Can you add description to the PR?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/584396033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/584432356","html_url":"https://github.com/apache/samza/pull/1269#issuecomment-584432356","issue_url":"https://api.github.com/repos/apache/samza/issues/1269","id":584432356,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzMjM1Ng==","user":{"login":"shanthoosh","id":483745,"node_id":"MDQ6VXNlcjQ4Mzc0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/483745?v=4","gravatar_id":"","url":"https://api.github.com/users/shanthoosh","html_url":"https://github.com/shanthoosh","followers_url":"https://api.github.com/users/shanthoosh/followers","following_url":"https://api.github.com/users/shanthoosh/following{/other_user}","gists_url":"https://api.github.com/users/shanthoosh/gists{/gist_id}","starred_url":"https://api.github.com/users/shanthoosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shanthoosh/subscriptions","organizations_url":"https://api.github.com/users/shanthoosh/orgs","repos_url":"https://api.github.com/users/shanthoosh/repos","events_url":"https://api.github.com/users/shanthoosh/events{/privacy}","received_events_url":"https://api.github.com/users/shanthoosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T00:58:21Z","updated_at":"2020-02-11T00:58:21Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @srinipunuru \r\n- I've updated the PR description.\r\n- I have added the end-to-end integration test for mismatched SamzaSQL UDF type.\r\n- Created a follow-up ticket to disallow the UDF polymorphism.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/584432356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/584890690","html_url":"https://github.com/apache/samza/pull/1229#issuecomment-584890690","issue_url":"https://api.github.com/repos/apache/samza/issues/1229","id":584890690,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDg5MDY5MA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T22:35:31Z","updated_at":"2020-02-11T22:35:31Z","author_association":"CONTRIBUTOR","body":"Is this PR still needed? Lets close it if its not.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/584890690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/584891181","html_url":"https://github.com/apache/samza/pull/1066#issuecomment-584891181","issue_url":"https://api.github.com/repos/apache/samza/issues/1066","id":584891181,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDg5MTE4MQ==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T22:36:44Z","updated_at":"2020-02-11T22:36:44Z","author_association":"CONTRIBUTOR","body":"@prateekm Do we still need this? ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/584891181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/585899698","html_url":"https://github.com/apache/samza/pull/1236#issuecomment-585899698","issue_url":"https://api.github.com/repos/apache/samza/issues/1236","id":585899698,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTg5OTY5OA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T18:20:25Z","updated_at":"2020-02-13T18:20:25Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Can you add a unit test? ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/585899698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/585903268","html_url":"https://github.com/apache/samza/pull/1275#issuecomment-585903268","issue_url":"https://api.github.com/repos/apache/samza/issues/1275","id":585903268,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkwMzI2OA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T18:28:46Z","updated_at":"2020-02-13T18:28:46Z","author_association":"CONTRIBUTOR","body":"@PanTheMan Did we notice any changes to the store perf metrics with the version change? It will be good to attach the graphs or reports if available. ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/585903268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/585935971","html_url":"https://github.com/apache/samza/pull/1236#issuecomment-585935971","issue_url":"https://api.github.com/repos/apache/samza/issues/1236","id":585935971,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTkzNTk3MQ==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-13T19:38:35Z","updated_at":"2020-02-13T19:38:35Z","author_association":"CONTRIBUTOR","body":"@mynameborat done","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/585935971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/587951109","html_url":"https://github.com/apache/samza/pull/1280#issuecomment-587951109","issue_url":"https://api.github.com/repos/apache/samza/issues/1280","id":587951109,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1MTEwOQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:11:45Z","updated_at":"2020-02-18T23:11:45Z","author_association":"CONTRIBUTOR","body":"Please follow https://cwiki.apache.org/confluence/display/SAMZA/SEP-25%3A+PR+Title+And+Description+Guidelines for the PR description format.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/587951109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/587951353","html_url":"https://github.com/apache/samza/pull/1279#issuecomment-587951353","issue_url":"https://api.github.com/repos/apache/samza/issues/1279","id":587951353,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1MTM1Mw==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:12:31Z","updated_at":"2020-02-18T23:12:31Z","author_association":"CONTRIBUTOR","body":"Please include API changes etc. sections for the PR description. This way it's easy to collect them in the changelog during a release.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/587951353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/587958966","html_url":"https://github.com/apache/samza/pull/1280#issuecomment-587958966","issue_url":"https://api.github.com/repos/apache/samza/issues/1280","id":587958966,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1ODk2Ng==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:37:42Z","updated_at":"2020-02-18T23:37:42Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Can you add a unit test?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/587958966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/587991579","html_url":"https://github.com/apache/samza/pull/1275#issuecomment-587991579","issue_url":"https://api.github.com/repos/apache/samza/issues/1275","id":587991579,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk5MTU3OQ==","user":{"login":"PanTheMan","id":12705532,"node_id":"MDQ6VXNlcjEyNzA1NTMy","avatar_url":"https://avatars.githubusercontent.com/u/12705532?v=4","gravatar_id":"","url":"https://api.github.com/users/PanTheMan","html_url":"https://github.com/PanTheMan","followers_url":"https://api.github.com/users/PanTheMan/followers","following_url":"https://api.github.com/users/PanTheMan/following{/other_user}","gists_url":"https://api.github.com/users/PanTheMan/gists{/gist_id}","starred_url":"https://api.github.com/users/PanTheMan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PanTheMan/subscriptions","organizations_url":"https://api.github.com/users/PanTheMan/orgs","repos_url":"https://api.github.com/users/PanTheMan/repos","events_url":"https://api.github.com/users/PanTheMan/events{/privacy}","received_events_url":"https://api.github.com/users/PanTheMan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T01:40:38Z","updated_at":"2020-02-19T01:40:38Z","author_association":"CONTRIBUTOR","body":"Good point, attached is the performance results \r\n[RocksDB performance.xlsx](https://github.com/apache/samza/files/4222687/RocksDB.performance.xlsx). The results are from using TestKeyValuePerformance.scala code and Brett's store workload job vs the results from a release test email for the master branch. Overall it seems like for an average use case, the new RocksDB version is faster however when more messages are written of more than 1kb size, there is some performance lost.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/587991579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/587992960","html_url":"https://github.com/apache/samza/pull/1275#issuecomment-587992960","issue_url":"https://api.github.com/repos/apache/samza/issues/1275","id":587992960,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk5Mjk2MA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T01:46:24Z","updated_at":"2020-02-19T01:46:24Z","author_association":"CONTRIBUTOR","body":"Thanks for attaching the report. It will be good to summarize and add it to the upcoming release notes to make sure the community is aware of it.\r\n\r\nLooks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/587992960/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/588536467","html_url":"https://github.com/apache/samza/pull/1236#issuecomment-588536467","issue_url":"https://api.github.com/repos/apache/samza/issues/1236","id":588536467,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODUzNjQ2Nw==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T23:56:01Z","updated_at":"2020-02-19T23:56:01Z","author_association":"CONTRIBUTOR","body":"> Will merge it once travis and checks pass.\r\n\r\n@mynameborat must have been a transient failure before; i didn't see any specific test failures, and the next run passed.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/588536467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/589898386","html_url":"https://github.com/apache/samza/pull/1280#issuecomment-589898386","issue_url":"https://api.github.com/repos/apache/samza/issues/1280","id":589898386,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTg5ODM4Ng==","user":{"login":"Zhangyx39","id":24441954,"node_id":"MDQ6VXNlcjI0NDQxOTU0","avatar_url":"https://avatars.githubusercontent.com/u/24441954?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangyx39","html_url":"https://github.com/Zhangyx39","followers_url":"https://api.github.com/users/Zhangyx39/followers","following_url":"https://api.github.com/users/Zhangyx39/following{/other_user}","gists_url":"https://api.github.com/users/Zhangyx39/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangyx39/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangyx39/subscriptions","organizations_url":"https://api.github.com/users/Zhangyx39/orgs","repos_url":"https://api.github.com/users/Zhangyx39/repos","events_url":"https://api.github.com/users/Zhangyx39/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangyx39/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-22T01:05:39Z","updated_at":"2020-02-22T01:05:39Z","author_association":"CONTRIBUTOR","body":"> Looks good to me. Can you add a unit test?\r\n\r\nA unit test I can think of is to call poll twice to get two lists. Then try to modify one list and verity that the other list won't be affected. But since we are using immutable list here. The test turns to be testing the immutability of the returned list (expected method not supported exception)...\r\nDoes it sound good to you? Do you have a better idea on this? @mynameborat ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/589898386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/590545771","html_url":"https://github.com/apache/samza/pull/1280#issuecomment-590545771","issue_url":"https://api.github.com/repos/apache/samza/issues/1280","id":590545771,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU0NTc3MQ==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T20:59:50Z","updated_at":"2020-02-24T20:59:50Z","author_association":"CONTRIBUTOR","body":"> > Looks good to me. Can you add a unit test?\r\n> \r\n> A unit test I can think of is to call poll twice to get two lists. Then try to modify one list and verity that the other list won't be affected. But since we are using immutable list here. The test turns to be testing the immutability of the returned list (expected method not supported exception)...\r\n> Does it sound good to you? Do you have a better idea on this? @mynameborat\r\n\r\nCan you create a follow up patch for the unit tests? I will get this patch in since its needed for 1.4 release.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/590545771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/590575848","html_url":"https://github.com/apache/samza/pull/1280#issuecomment-590575848","issue_url":"https://api.github.com/repos/apache/samza/issues/1280","id":590575848,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU3NTg0OA==","user":{"login":"Zhangyx39","id":24441954,"node_id":"MDQ6VXNlcjI0NDQxOTU0","avatar_url":"https://avatars.githubusercontent.com/u/24441954?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangyx39","html_url":"https://github.com/Zhangyx39","followers_url":"https://api.github.com/users/Zhangyx39/followers","following_url":"https://api.github.com/users/Zhangyx39/following{/other_user}","gists_url":"https://api.github.com/users/Zhangyx39/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangyx39/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangyx39/subscriptions","organizations_url":"https://api.github.com/users/Zhangyx39/orgs","repos_url":"https://api.github.com/users/Zhangyx39/repos","events_url":"https://api.github.com/users/Zhangyx39/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangyx39/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T22:14:00Z","updated_at":"2020-02-24T22:14:00Z","author_association":"CONTRIBUTOR","body":"> > > Looks good to me. Can you add a unit test?\r\n> > \r\n> > \r\n> > A unit test I can think of is to call poll twice to get two lists. Then try to modify one list and verity that the other list won't be affected. But since we are using immutable list here. The test turns to be testing the immutability of the returned list (expected method not supported exception)...\r\n> > Does it sound good to you? Do you have a better idea on this? @mynameborat\r\n> \r\n> Can you create a follow up patch for the unit tests? I will get this patch in since its needed for 1.4 release.\r\n\r\nThanks. I have create a ticket and will add the test soon. https://issues.apache.org/jira/browse/SAMZA-2467","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/590575848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/590997151","html_url":"https://github.com/apache/samza/pull/1290#issuecomment-590997151","issue_url":"https://api.github.com/repos/apache/samza/issues/1290","id":590997151,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDk5NzE1MQ==","user":{"login":"abhishekshivanna","id":1762473,"node_id":"MDQ6VXNlcjE3NjI0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1762473?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekshivanna","html_url":"https://github.com/abhishekshivanna","followers_url":"https://api.github.com/users/abhishekshivanna/followers","following_url":"https://api.github.com/users/abhishekshivanna/following{/other_user}","gists_url":"https://api.github.com/users/abhishekshivanna/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekshivanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekshivanna/subscriptions","organizations_url":"https://api.github.com/users/abhishekshivanna/orgs","repos_url":"https://api.github.com/users/abhishekshivanna/repos","events_url":"https://api.github.com/users/abhishekshivanna/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekshivanna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T18:25:45Z","updated_at":"2020-02-25T18:25:45Z","author_association":"CONTRIBUTOR","body":"LGTM\r\n\r\nnit:\r\ncan we call the latch `standbyShutdownLatch` instead of `stopSignalLatch`. \r\nReasons:\r\n- Since its only used in the case if the container is a standby container\r\n- The fact that it is invoked from a signal handler is an implementation detail. container.shutdown() can be called from anywhere.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/590997151/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591002399","html_url":"https://github.com/apache/samza/pull/1290#issuecomment-591002399","issue_url":"https://api.github.com/repos/apache/samza/issues/1290","id":591002399,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTAwMjM5OQ==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T18:36:46Z","updated_at":"2020-02-25T18:36:46Z","author_association":"CONTRIBUTOR","body":"@Sanil15 Let's keep the PR description concise since that goes into the commit message. We can move the logs etc. to the JIRA.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591002399/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591002919","html_url":"https://github.com/apache/samza/pull/1290#issuecomment-591002919","issue_url":"https://api.github.com/repos/apache/samza/issues/1290","id":591002919,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTAwMjkxOQ==","user":{"login":"Sanil15","id":16806974,"node_id":"MDQ6VXNlcjE2ODA2OTc0","avatar_url":"https://avatars.githubusercontent.com/u/16806974?v=4","gravatar_id":"","url":"https://api.github.com/users/Sanil15","html_url":"https://github.com/Sanil15","followers_url":"https://api.github.com/users/Sanil15/followers","following_url":"https://api.github.com/users/Sanil15/following{/other_user}","gists_url":"https://api.github.com/users/Sanil15/gists{/gist_id}","starred_url":"https://api.github.com/users/Sanil15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sanil15/subscriptions","organizations_url":"https://api.github.com/users/Sanil15/orgs","repos_url":"https://api.github.com/users/Sanil15/repos","events_url":"https://api.github.com/users/Sanil15/events{/privacy}","received_events_url":"https://api.github.com/users/Sanil15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T18:37:52Z","updated_at":"2020-02-25T18:37:52Z","author_association":"CONTRIBUTOR","body":"Testing Results:\r\n\r\nBefore (Unclean Shutdown):\r\n```\r\n2020-02-25 01:23:55.389 [Samza Container Shutdown Hook Thread] ClusterBasedProcessorLifecycleListener [INFO] Attempting to shutdown container from inside shutdownHook, will wait up to 30000 ms.\r\n2020-02-25 01:24:25.389 [Samza Container Shutdown Hook Thread] ClusterBasedProcessorLifecycleListener [ERROR] Did not shut down within 30000 ms, exiting.\r\n2020-02-25 01:24:25.441 [Samza Container Shutdown Hook Thread] ThreadUtil [INFO] Thread dump from Samza Container Shutdown Hook.\r\n\"Samza Container Shutdown Hook Thread\" Id=163 RUNNABLE\r\n\tat sun.management.ThreadImpl.dumpThreads0(Native Method)\r\n\tat sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:454)\r\n\tat org.apache.samza.util.ThreadUtil.logThreadDump(ThreadUtil.java:35)\r\n\tat org.apache.samza.runtime.ClusterBasedProcessorLifecycleListener$1.run(ClusterBasedProcessorLifecycleListener.java:100)\r\n\r\n\r\n```\r\n\r\nAfter (Clean Shutdown):\r\n```\r\n2020-02-25 03:21:02.225 [Samza Container Shutdown Hook Thread] ClusterBasedProcessorLifecycleListener [INFO] Attempting to shutdown container from inside shutdownHook, will wait up to 30000 ms.\r\n2020-02-25 03:21:02.227 [main] SamzaContainer [INFO] Shutting down SamzaContainer.\r\n2020-02-25 03:21:02.227 [main] SamzaContainer [INFO] Shutting down consumer multiplexer.\r\n2020-02-25 03:21:02.228 [main] SamzaContainer [INFO] Shutting down task instance stream tasks.\r\n2020-02-25 03:21:02.229 [main] SamzaContainer [INFO] Shutting down timer executor\r\n2020-02-25 03:21:02.230 [main] SamzaContainer [INFO] Shutting down task instance table manager.\r\n2020-02-25 03:21:02.231 [main] SamzaContainer [INFO] Shutting down container storage manager.\r\n2020-02-25 03:21:02.236 [main] ContainerStorageManager [INFO] Shutdown complete\r\n2020-02-25 03:21:02.236 [main] SamzaContainer [INFO] Shutting down disk space monitor.\r\n2020-02-25 03:21:02.237 [main] SamzaContainer [INFO] Shutting down host statistics monitor.\r\n2020-02-25 03:21:02.238 [main] SamzaContainer [INFO] Shutting down producer multiplexer.\r\n2020-02-25 03:21:02.239 [main] KafkaSystemProducer [INFO] Stopping producer for system: logging\r\n2020-02-25 03:21:02.240 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.240 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.240 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483647 ms.\r\n2020-02-25 03:21:02.241 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 1 millis\r\n2020-02-25 03:21:02.247 [main] KafkaSystemProducer [INFO] Stopping producer for system: diagnosticssystem\r\n2020-02-25 03:21:02.247 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.247 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.248 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483646 ms.\r\n2020-02-25 03:21:02.250 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 3 millis\r\n2020-02-25 03:21:02.251 [main] KafkaSystemProducer [INFO] Stopping producer for system: aggregate-tracking\r\n2020-02-25 03:21:02.251 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.251 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.251 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483647 ms.\r\n2020-02-25 03:21:02.252 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 1 millis\r\n2020-02-25 03:21:02.253 [main] KafkaSystemProducer [INFO] Stopping producer for system: samzainternalsystem\r\n2020-02-25 03:21:02.253 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.253 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.253 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483647 ms.\r\n2020-02-25 03:21:02.254 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 1 millis\r\n2020-02-25 03:21:02.256 [main] KafkaSystemProducer [INFO] Stopping producer for system: samzametadatasystem\r\n2020-02-25 03:21:02.256 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.256 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.256 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483647 ms.\r\n2020-02-25 03:21:02.258 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 2 millis\r\n2020-02-25 03:21:02.259 [main] SamzaContainer [INFO] Shutting down offset manager.\r\n2020-02-25 03:21:02.261 [main] KafkaCheckpointManager [INFO] Stopping system admin.\r\n2020-02-25 03:21:02.261 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n2020-02-25 03:21:02.264 [main] AbstractAuditor [INFO] Closing auditor with timeout 9223372036854775807 MILLISECONDS\r\n2020-02-25 03:21:02.264 [kafka_admin_consumer-snjain_test_cp-i001-auditor] KafkaProducer [INFO] [Producer clientId=kafka_admin_consumer-snjain_test_cp-i001-auditor] Closing the Kafka producer with timeoutMillis = 9223370454253913543 ms.\r\n2020-02-25 03:21:02.265 [main] KafkaConsumerImpl [INFO] Shutdown complete in 4 millis\r\n2020-02-25 03:21:02.268 [main] KafkaCheckpointManager [INFO] Stopping system producer.\r\n2020-02-25 03:21:02.268 [main] KafkaSystemProducer [INFO] Stopping producer for system: samzametadatasystem\r\n2020-02-25 03:21:02.268 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.268 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.268 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483647 ms.\r\n2020-02-25 03:21:02.269 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 1 millis\r\n2020-02-25 03:21:02.271 [main] KafkaCheckpointManager [INFO] CheckpointManager stopped.\r\n2020-02-25 03:21:02.271 [main] StartpointManager [WARN] already stopped\r\n2020-02-25 03:21:02.272 [main] SamzaContainer [INFO] Shutting down diagnostics manager.\r\n2020-02-25 03:21:02.273 [main] SamzaContainer [INFO] Shutting down metrics reporters.\r\n2020-02-25 03:21:02.273 [main] AmfReporter [INFO] Stopping reporter timer.\r\n2020-02-25 03:21:02.274 [main] MetricsSnapshotReporter [INFO] Stopping reporter timer.\r\n2020-02-25 03:21:02.278 [main] MetricsSnapshotReporter [INFO] Stopping producer.\r\n2020-02-25 03:21:02.278 [main] KafkaSystemProducer [INFO] Stopping producer for system: diagnosticssystem\r\n2020-02-25 03:21:02.278 [main] KafkaProducerImpl [INFO] Shutting down KafkaProducer in 2147483647 MILLISECONDS...\r\n2020-02-25 03:21:02.278 [main] AbstractAuditor [INFO] Closing auditor with timeout 2147483647 MILLISECONDS\r\n2020-02-25 03:21:02.279 [main] KafkaProducer [INFO] [Producer clientId=kafka_producer-snjain_test_cp-i001] Closing the Kafka producer with timeoutMillis = 2147483646 ms.\r\n2020-02-25 03:21:02.302 [main] KafkaProducerImpl [INFO] KafkaProducer shutdown complete in 24 millis\r\n2020-02-25 03:21:02.304 [main] SamzaContainer [INFO] Shutting down JVM metrics.\r\n2020-02-25 03:21:02.305 [main] SamzaContainer [INFO] Shutting down admin multiplexer.\r\n2020-02-25 03:21:02.305 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n2020-02-25 03:21:02.305 [main] AbstractAuditor [INFO] Closing auditor with timeout 9223372036854775807 MILLISECONDS\r\n2020-02-25 03:21:02.305 [kafka_admin_consumer-snjain_test_cp-i001-auditor] KafkaProducer [INFO] [Producer clientId=kafka_admin_consumer-snjain_test_cp-i001-auditor] Closing the Kafka producer with timeoutMillis = 9223370454253913502 ms.\r\n2020-02-25 03:21:02.307 [main] KafkaConsumerImpl [INFO] Shutdown complete in 2 millis\r\n2020-02-25 03:21:02.308 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n2020-02-25 03:21:02.309 [main] AbstractAuditor [INFO] Closing auditor with timeout 9223372036854775807 MILLISECONDS\r\n2020-02-25 03:21:02.309 [kafka_admin_consumer-snjain_test_cp-i001-auditor] KafkaProducer [INFO] [Producer clientId=kafka_admin_consumer-snjain_test_cp-i001-auditor] Closing the Kafka producer with timeoutMillis = 9223370454253913498 ms.\r\n2020-02-25 03:21:02.310 [main] KafkaConsumerImpl [INFO] Shutdown complete in 2 millis\r\n2020-02-25 03:21:02.312 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n2020-02-25 03:21:02.312 [main] AbstractAuditor [INFO] Closing auditor with timeout 9223372036854775807 MILLISECONDS\r\n2020-02-25 03:21:02.312 [kafka_admin_consumer-snjain_test_cp-i001-auditor] KafkaProducer [INFO] [Producer clientId=kafka_admin_consumer-snjain_test_cp-i001-auditor] Closing the Kafka producer with timeoutMillis = 9223370454253913495 ms.\r\n2020-02-25 03:21:02.313 [main] KafkaConsumerImpl [INFO] Shutdown complete in 1 millis\r\n2020-02-25 03:21:02.315 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n2020-02-25 03:21:02.317 [main] AbstractAuditor [INFO] Closing auditor with timeout 9223372036854775807 MILLISECONDS\r\n2020-02-25 03:21:02.317 [kafka_admin_consumer-snjain_test_cp-i001-auditor] KafkaProducer [INFO] [Producer clientId=kafka_admin_consumer-snjain_test_cp-i001-auditor] Closing the Kafka producer with timeoutMillis = 9223370454253913490 ms.\r\n2020-02-25 03:21:02.318 [main] KafkaConsumerImpl [INFO] Shutdown complete in 3 millis\r\n2020-02-25 03:21:02.320 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n2020-02-25 03:21:02.320 [main] AbstractAuditor [INFO] Closing auditor with timeout 9223372036854775807 MILLISECONDS\r\n2020-02-25 03:21:02.320 [kafka_admin_consumer-snjain_test_cp-i001-auditor] KafkaProducer [INFO] [Producer clientId=kafka_admin_consumer-snjain_test_cp-i001-auditor] Closing the Kafka producer with timeoutMillis = 9223370454253913487 ms.\r\n2020-02-25 03:21:02.321 [main] KafkaConsumerImpl [INFO] Shutdown complete in 1 millis\r\n2020-02-25 03:21:02.324 [main] SamzaContainer [INFO] Shutdown complete.\r\n2020-02-25 03:21:02.324 [main] ClusterBasedProcessorLifecycleListener [INFO] Container Stopped\r\n2020-02-25 03:21:02.324 [main] ContainerHeartbeatMonitor [INFO] Stopping ContainerHeartbeatMonitor\r\n2020-02-25 03:21:02.324 [Samza Container Shutdown Hook Thread] ClusterBasedProcessorLifecycleListener [INFO] Shutdown complete\r\n2020-02-25 03:21:02.324 [main] CoordinatorStreamStore [INFO] Stopping the coordinator stream system consumer.\r\n2020-02-25 03:21:02.324 [main] KafkaConsumerImpl [INFO] Shutting down ...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591002919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591111154","html_url":"https://github.com/apache/samza/pull/1292#issuecomment-591111154","issue_url":"https://api.github.com/repos/apache/samza/issues/1292","id":591111154,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTExMTE1NA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T22:43:37Z","updated_at":"2020-02-25T22:43:37Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @kathulasandeep.\r\n@bharathkk @xinyuiscool can you take a look at this? Do we need this in 1.4?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591111154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591560279","html_url":"https://github.com/apache/samza/pull/1294#issuecomment-591560279","issue_url":"https://api.github.com/repos/apache/samza/issues/1294","id":591560279,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU2MDI3OQ==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T18:00:17Z","updated_at":"2020-02-26T18:00:17Z","author_association":"CONTRIBUTOR","body":"@rmatharu can you please help review this PR?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591560279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591665848","html_url":"https://github.com/apache/samza/pull/1293#issuecomment-591665848","issue_url":"https://api.github.com/repos/apache/samza/issues/1293","id":591665848,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY2NTg0OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T21:59:07Z","updated_at":"2020-02-26T21:59:07Z","author_association":"CONTRIBUTOR","body":"@cameronlee314 \r\n\"The pathing JAR is added to the regular classpath in order to keep backwards compatibility\" \r\nDoesn't look like we're doing this anymore, since base-lib-pathing.jar and the -cp args don't contain HADOOP_CONF_DIR now. Is that intentional? \r\n\r\nOtherwise LGTM, thanks for the thorough explanation.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591665848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591670401","html_url":"https://github.com/apache/samza/pull/1293#issuecomment-591670401","issue_url":"https://api.github.com/repos/apache/samza/issues/1293","id":591670401,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY3MDQwMQ==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T22:10:50Z","updated_at":"2020-02-26T22:10:50Z","author_association":"CONTRIBUTOR","body":"> @cameronlee314\r\n> \"The pathing JAR is added to the regular classpath in order to keep backwards compatibility\"\r\n> Doesn't look like we're doing this anymore, since base-lib-pathing.jar and the -cp args don't contain HADOOP_CONF_DIR now. Is that intentional?\r\n> \r\n> Otherwise LGTM, thanks for the thorough explanation.\r\n\r\n`HADOOP_CONF_DIR` is placed into `runtime-framework-resources-pathing.jar` and `runtime-framework-resources-pathing.jar` is put into the `-cp`. So `HADOOP_CONF_DIR` is still on the classpath through `runtime-framework-resources-pathing.jar`; it is intentionally removed from the direct `-cp` argument, but the functionality should still be the same. Hopefully that addresses your question.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591670401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591731768","html_url":"https://github.com/apache/samza/pull/1293#issuecomment-591731768","issue_url":"https://api.github.com/repos/apache/samza/issues/1293","id":591731768,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTczMTc2OA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T01:33:57Z","updated_at":"2020-02-27T01:33:57Z","author_association":"CONTRIBUTOR","body":"I assumed by backwards compatible you meant both pathing jars (base-lib and runtime-framework-resources) will have the conf dir. Is this only used within the runtime-framework-resources classloader? ","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591731768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/591735621","html_url":"https://github.com/apache/samza/pull/1293#issuecomment-591735621","issue_url":"https://api.github.com/repos/apache/samza/issues/1293","id":591735621,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTczNTYyMQ==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T01:47:54Z","updated_at":"2020-02-27T01:47:54Z","author_association":"CONTRIBUTOR","body":"> I assumed by backwards compatible you meant both pathing jars (base-lib and runtime-framework-resources) will have the conf dir. Is this only used within the runtime-framework-resources classloader?\r\n\r\nBy backwards compatible, I meant that when using `run-class.sh` to run a class, the same resources will be available on the classpath. I think the actual name/contents of the pathing JARs are internal details, so as long as the final classpath is the same, the details of the pathing JAR(s) can change without being considered as a backwards incompatible change.\r\n`HADOOP_CONF_DIR` is used in both non-isolation mode and isolation mode. In non-isolation mode, it is accessed through `runtime-framework-resources-pathing.jar` which is passed through the `-cp` argument. In isolation mode, `IsolatingClassLoaderFactory` will add `runtime-framework-resources-pathing.jar` to the classpath of the infrastructure classloader.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/591735621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/592661421","html_url":"https://github.com/apache/samza/pull/1294#issuecomment-592661421","issue_url":"https://api.github.com/repos/apache/samza/issues/1294","id":592661421,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjY2MTQyMQ==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T18:24:00Z","updated_at":"2020-02-28T18:24:00Z","author_association":"CONTRIBUTOR","body":"talked with @rmatharu, closed it for now.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/592661421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/592695975","html_url":"https://github.com/apache/samza/pull/1281#issuecomment-592695975","issue_url":"https://api.github.com/repos/apache/samza/issues/1281","id":592695975,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjY5NTk3NQ==","user":{"login":"lakshmi-manasa-g","id":18587732,"node_id":"MDQ6VXNlcjE4NTg3NzMy","avatar_url":"https://avatars.githubusercontent.com/u/18587732?v=4","gravatar_id":"","url":"https://api.github.com/users/lakshmi-manasa-g","html_url":"https://github.com/lakshmi-manasa-g","followers_url":"https://api.github.com/users/lakshmi-manasa-g/followers","following_url":"https://api.github.com/users/lakshmi-manasa-g/following{/other_user}","gists_url":"https://api.github.com/users/lakshmi-manasa-g/gists{/gist_id}","starred_url":"https://api.github.com/users/lakshmi-manasa-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lakshmi-manasa-g/subscriptions","organizations_url":"https://api.github.com/users/lakshmi-manasa-g/orgs","repos_url":"https://api.github.com/users/lakshmi-manasa-g/repos","events_url":"https://api.github.com/users/lakshmi-manasa-g/events{/privacy}","received_events_url":"https://api.github.com/users/lakshmi-manasa-g/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T19:47:06Z","updated_at":"2020-02-28T19:47:06Z","author_association":"CONTRIBUTOR","body":"yes, the failing test (at org.apache.samza.system.azureblob.avro.TestAzureBlobOutputStream.testClose) in the last build here is being fixed in  https://github.com/apache/samza/pull/1298\r\n\r\nFor now, do an empty commit to trigger another build and it should mostly pass. this test is flaky and wont fail in all Travis builds.\r\n","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/592695975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/593722932","html_url":"https://github.com/apache/samza/pull/1295#issuecomment-593722932","issue_url":"https://api.github.com/repos/apache/samza/issues/1295","id":593722932,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzcyMjkzMg==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T01:45:38Z","updated_at":"2020-03-03T01:45:38Z","author_association":"CONTRIBUTOR","body":"One other thing: Could you please update your pull request description to follow the guidelines at https://cwiki.apache.org/confluence/display/SAMZA/SEP-25%3A+PR+Title+And+Description+Guidelines? It helps us track open source changes.\r\nYou shouldn't need to add much more detail than what you already have, but it would be great if you could categorize your bullet points into the corresponding sections listed in that wiki page.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/593722932/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/594082893","html_url":"https://github.com/apache/samza/pull/1295#issuecomment-594082893","issue_url":"https://api.github.com/repos/apache/samza/issues/1295","id":594082893,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA4Mjg5Mw==","user":{"login":"DPUkyle","id":2841209,"node_id":"MDQ6VXNlcjI4NDEyMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2841209?v=4","gravatar_id":"","url":"https://api.github.com/users/DPUkyle","html_url":"https://github.com/DPUkyle","followers_url":"https://api.github.com/users/DPUkyle/followers","following_url":"https://api.github.com/users/DPUkyle/following{/other_user}","gists_url":"https://api.github.com/users/DPUkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/DPUkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DPUkyle/subscriptions","organizations_url":"https://api.github.com/users/DPUkyle/orgs","repos_url":"https://api.github.com/users/DPUkyle/repos","events_url":"https://api.github.com/users/DPUkyle/events{/privacy}","received_events_url":"https://api.github.com/users/DPUkyle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T17:55:01Z","updated_at":"2020-03-03T17:55:01Z","author_association":"CONTRIBUTOR","body":"I think this is ready to go, pending CI.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/594082893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/595465111","html_url":"https://github.com/apache/samza/pull/1301#issuecomment-595465111","issue_url":"https://api.github.com/repos/apache/samza/issues/1301","id":595465111,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTQ2NTExMQ==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T21:50:00Z","updated_at":"2020-03-05T21:50:00Z","author_association":"CONTRIBUTOR","body":"> a. Take a look at https://cwiki.apache.org/confluence/display/SAMZA/SEP-25%3A+PR+Title+And+Description+Guidelines\r\n> and update the description so that other reviewers can easily review the change.\r\n> \r\n> b. there are some test failures, maybe worth looking at them.\r\n\r\n+1 Can you update the PR title to include JIRA and follow the guidelines? Looks like your test file doesn't have the apache file and fails rat. Make sure you add the apache license for the new files.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/595465111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/595668676","html_url":"https://github.com/apache/samza/pull/1305#issuecomment-595668676","issue_url":"https://api.github.com/repos/apache/samza/issues/1305","id":595668676,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTY2ODY3Ng==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T08:57:09Z","updated_at":"2020-03-06T08:57:09Z","author_association":"CONTRIBUTOR","body":"@prateekm @bharathkk can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/595668676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/595947028","html_url":"https://github.com/apache/samza/pull/1301#issuecomment-595947028","issue_url":"https://api.github.com/repos/apache/samza/issues/1301","id":595947028,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTk0NzAyOA==","user":{"login":"prateekm","id":1085859,"node_id":"MDQ6VXNlcjEwODU4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1085859?v=4","gravatar_id":"","url":"https://api.github.com/users/prateekm","html_url":"https://github.com/prateekm","followers_url":"https://api.github.com/users/prateekm/followers","following_url":"https://api.github.com/users/prateekm/following{/other_user}","gists_url":"https://api.github.com/users/prateekm/gists{/gist_id}","starred_url":"https://api.github.com/users/prateekm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prateekm/subscriptions","organizations_url":"https://api.github.com/users/prateekm/orgs","repos_url":"https://api.github.com/users/prateekm/repos","events_url":"https://api.github.com/users/prateekm/events{/privacy}","received_events_url":"https://api.github.com/users/prateekm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T20:14:31Z","updated_at":"2020-03-06T20:14:31Z","author_association":"CONTRIBUTOR","body":"Thanks for the updated desciption @xiefan46! Minor suggestion: the \"Usage instructions\" section is meant for Samza users, not samza devs. I.e., we should document what users need to do to leverage this new feature. For example, for this feature you might want to clarify what new metrics can users look at?  \r\n\r\nSimilarly, let's update the documentation with the new metrics as well. @rmatharu knows where that is.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/595947028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/596807198","html_url":"https://github.com/apache/samza/pull/1297#issuecomment-596807198","issue_url":"https://api.github.com/repos/apache/samza/issues/1297","id":596807198,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjgwNzE5OA==","user":{"login":"mynameborat","id":46942335,"node_id":"MDQ6VXNlcjQ2OTQyMzM1","avatar_url":"https://avatars.githubusercontent.com/u/46942335?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameborat","html_url":"https://github.com/mynameborat","followers_url":"https://api.github.com/users/mynameborat/followers","following_url":"https://api.github.com/users/mynameborat/following{/other_user}","gists_url":"https://api.github.com/users/mynameborat/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameborat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameborat/subscriptions","organizations_url":"https://api.github.com/users/mynameborat/orgs","repos_url":"https://api.github.com/users/mynameborat/repos","events_url":"https://api.github.com/users/mynameborat/events{/privacy}","received_events_url":"https://api.github.com/users/mynameborat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T22:20:59Z","updated_at":"2020-03-09T22:20:59Z","author_association":"CONTRIBUTOR","body":"Committing the patch based on - https://travis-ci.org/Sanil15/samza/builds/660300111","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/596807198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/597286149","html_url":"https://github.com/apache/samza/pull/1305#issuecomment-597286149","issue_url":"https://api.github.com/repos/apache/samza/issues/1305","id":597286149,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzI4NjE0OQ==","user":{"login":"bkonold","id":2802866,"node_id":"MDQ6VXNlcjI4MDI4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/2802866?v=4","gravatar_id":"","url":"https://api.github.com/users/bkonold","html_url":"https://github.com/bkonold","followers_url":"https://api.github.com/users/bkonold/followers","following_url":"https://api.github.com/users/bkonold/following{/other_user}","gists_url":"https://api.github.com/users/bkonold/gists{/gist_id}","starred_url":"https://api.github.com/users/bkonold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkonold/subscriptions","organizations_url":"https://api.github.com/users/bkonold/orgs","repos_url":"https://api.github.com/users/bkonold/repos","events_url":"https://api.github.com/users/bkonold/events{/privacy}","received_events_url":"https://api.github.com/users/bkonold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T20:01:45Z","updated_at":"2020-03-10T20:05:30Z","author_association":"CONTRIBUTOR","body":"> Few questions\r\n> \r\n> 1. What do you think about having this configuration under `JobConfig` hierarchy instead of `StoreConfig`? I see why it is the way it is in your current PR and the reason for it to belong under `StoreConfig`. However, `stores.default....` dilutes the (implicit) stronger contract of what follows `stores` is the store name and makes `default` as a reserved store name.\r\n> 2. What are the challenges in coming up with code default for it? Can you add details in PR description about the limitations of code default and the need for configurability?\r\n\r\n@mynameborat \r\n\r\n1. This sounds reasonable. So you are suggesting we change this config to `job.default.changelog...`? I am good with that; I was only following what seemed to be an already established precedent in our configs w.r.t. \"default\" store configs: https://samza.apache.org/learn/documentation/latest/jobs/samza-configurations.html#advanced-storage-configurations. Take a look at replication factor.\r\n\r\n2. Will respond here and add to the PR. The need for a different value comes from an evaluation done internally (within LI) that we can have a more relaxed setting than 4hr across all our jobs. The code default was chosen when the feature was implemented and is now part of a released build of samza; this 4hr value has been communicated to OSS customers and since changing this value has an operational impact on customers' kafka deployments (storage space) and each customer may have different thresholds for what is acceptable in terms of cost, making this default configurable empowers them to easily configure their samza/kafka clusters.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/597286149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/597355342","html_url":"https://github.com/apache/samza/pull/1310#issuecomment-597355342","issue_url":"https://api.github.com/repos/apache/samza/issues/1310","id":597355342,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzM1NTM0Mg==","user":{"login":"Sanil15","id":16806974,"node_id":"MDQ6VXNlcjE2ODA2OTc0","avatar_url":"https://avatars.githubusercontent.com/u/16806974?v=4","gravatar_id":"","url":"https://api.github.com/users/Sanil15","html_url":"https://github.com/Sanil15","followers_url":"https://api.github.com/users/Sanil15/followers","following_url":"https://api.github.com/users/Sanil15/following{/other_user}","gists_url":"https://api.github.com/users/Sanil15/gists{/gist_id}","starred_url":"https://api.github.com/users/Sanil15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sanil15/subscriptions","organizations_url":"https://api.github.com/users/Sanil15/orgs","repos_url":"https://api.github.com/users/Sanil15/repos","events_url":"https://api.github.com/users/Sanil15/events{/privacy}","received_events_url":"https://api.github.com/users/Sanil15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T22:40:23Z","updated_at":"2020-03-10T22:40:23Z","author_association":"CONTRIBUTOR","body":"Travis passed against my local fork: https://travis-ci.org/Sanil15/samza?utm_medium=notification&utm_source=github_status","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/597355342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/598828098","html_url":"https://github.com/apache/samza/pull/1314#issuecomment-598828098","issue_url":"https://api.github.com/repos/apache/samza/issues/1314","id":598828098,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODgyODA5OA==","user":{"login":"rmatharu-zz","id":40646191,"node_id":"MDQ6VXNlcjQwNjQ2MTkx","avatar_url":"https://avatars.githubusercontent.com/u/40646191?v=4","gravatar_id":"","url":"https://api.github.com/users/rmatharu-zz","html_url":"https://github.com/rmatharu-zz","followers_url":"https://api.github.com/users/rmatharu-zz/followers","following_url":"https://api.github.com/users/rmatharu-zz/following{/other_user}","gists_url":"https://api.github.com/users/rmatharu-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/rmatharu-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmatharu-zz/subscriptions","organizations_url":"https://api.github.com/users/rmatharu-zz/orgs","repos_url":"https://api.github.com/users/rmatharu-zz/repos","events_url":"https://api.github.com/users/rmatharu-zz/events{/privacy}","received_events_url":"https://api.github.com/users/rmatharu-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T17:16:11Z","updated_at":"2020-03-13T17:16:11Z","author_association":"CONTRIBUTOR","body":"Is there a way to write such tests based on invariants, so that they dont rely on thread-sleeps and fail in case of scheduling delays?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/598828098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/600908769","html_url":"https://github.com/apache/samza/pull/1320#issuecomment-600908769","issue_url":"https://api.github.com/repos/apache/samza/issues/1320","id":600908769,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDkwODc2OQ==","user":{"login":"xinyuiscool","id":24738423,"node_id":"MDQ6VXNlcjI0NzM4NDIz","avatar_url":"https://avatars.githubusercontent.com/u/24738423?v=4","gravatar_id":"","url":"https://api.github.com/users/xinyuiscool","html_url":"https://github.com/xinyuiscool","followers_url":"https://api.github.com/users/xinyuiscool/followers","following_url":"https://api.github.com/users/xinyuiscool/following{/other_user}","gists_url":"https://api.github.com/users/xinyuiscool/gists{/gist_id}","starred_url":"https://api.github.com/users/xinyuiscool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinyuiscool/subscriptions","organizations_url":"https://api.github.com/users/xinyuiscool/orgs","repos_url":"https://api.github.com/users/xinyuiscool/repos","events_url":"https://api.github.com/users/xinyuiscool/events{/privacy}","received_events_url":"https://api.github.com/users/xinyuiscool/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T23:31:21Z","updated_at":"2020-03-18T23:31:21Z","author_association":"CONTRIBUTOR","body":"Thanks for finding this bug. Can we add a unit test to prevent this happening again?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/600908769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/602847934","html_url":"https://github.com/apache/samza/pull/1326#issuecomment-602847934","issue_url":"https://api.github.com/repos/apache/samza/issues/1326","id":602847934,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjg0NzkzNA==","user":{"login":"alnzng","id":59407935,"node_id":"MDQ6VXNlcjU5NDA3OTM1","avatar_url":"https://avatars.githubusercontent.com/u/59407935?v=4","gravatar_id":"","url":"https://api.github.com/users/alnzng","html_url":"https://github.com/alnzng","followers_url":"https://api.github.com/users/alnzng/followers","following_url":"https://api.github.com/users/alnzng/following{/other_user}","gists_url":"https://api.github.com/users/alnzng/gists{/gist_id}","starred_url":"https://api.github.com/users/alnzng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alnzng/subscriptions","organizations_url":"https://api.github.com/users/alnzng/orgs","repos_url":"https://api.github.com/users/alnzng/repos","events_url":"https://api.github.com/users/alnzng/events{/privacy}","received_events_url":"https://api.github.com/users/alnzng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T20:48:07Z","updated_at":"2020-03-23T20:48:07Z","author_association":"CONTRIBUTOR","body":"@MabelYC Seems you are looking for the same function provided in this PR, can you please help take a look at it?","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/602847934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/602913662","html_url":"https://github.com/apache/samza/pull/1325#issuecomment-602913662","issue_url":"https://api.github.com/repos/apache/samza/issues/1325","id":602913662,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjkxMzY2Mg==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T23:28:24Z","updated_at":"2020-03-23T23:28:24Z","author_association":"CONTRIBUTOR","body":"Looks like your checkstyle failed in CI.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/602913662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/602931582","html_url":"https://github.com/apache/samza/pull/1323#issuecomment-602931582","issue_url":"https://api.github.com/repos/apache/samza/issues/1323","id":602931582,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjkzMTU4Mg==","user":{"login":"cameronlee314","id":37879374,"node_id":"MDQ6VXNlcjM3ODc5Mzc0","avatar_url":"https://avatars.githubusercontent.com/u/37879374?v=4","gravatar_id":"","url":"https://api.github.com/users/cameronlee314","html_url":"https://github.com/cameronlee314","followers_url":"https://api.github.com/users/cameronlee314/followers","following_url":"https://api.github.com/users/cameronlee314/following{/other_user}","gists_url":"https://api.github.com/users/cameronlee314/gists{/gist_id}","starred_url":"https://api.github.com/users/cameronlee314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cameronlee314/subscriptions","organizations_url":"https://api.github.com/users/cameronlee314/orgs","repos_url":"https://api.github.com/users/cameronlee314/repos","events_url":"https://api.github.com/users/cameronlee314/events{/privacy}","received_events_url":"https://api.github.com/users/cameronlee314/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T00:25:55Z","updated_at":"2020-03-24T00:25:55Z","author_association":"CONTRIBUTOR","body":"FYI, in case you didn't know, you can test what your changes look like by following `docs/README.md`.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/602931582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/samza/issues/comments/603633414","html_url":"https://github.com/apache/samza/pull/1323#issuecomment-603633414","issue_url":"https://api.github.com/repos/apache/samza/issues/1323","id":603633414,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzYzMzQxNA==","user":{"login":"lakshmi-manasa-g","id":18587732,"node_id":"MDQ6VXNlcjE4NTg3NzMy","avatar_url":"https://avatars.githubusercontent.com/u/18587732?v=4","gravatar_id":"","url":"https://api.github.com/users/lakshmi-manasa-g","html_url":"https://github.com/lakshmi-manasa-g","followers_url":"https://api.github.com/users/lakshmi-manasa-g/followers","following_url":"https://api.github.com/users/lakshmi-manasa-g/following{/other_user}","gists_url":"https://api.github.com/users/lakshmi-manasa-g/gists{/gist_id}","starred_url":"https://api.github.com/users/lakshmi-manasa-g/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lakshmi-manasa-g/subscriptions","organizations_url":"https://api.github.com/users/lakshmi-manasa-g/orgs","repos_url":"https://api.github.com/users/lakshmi-manasa-g/repos","events_url":"https://api.github.com/users/lakshmi-manasa-g/events{/privacy}","received_events_url":"https://api.github.com/users/lakshmi-manasa-g/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T04:27:15Z","updated_at":"2020-03-25T04:27:15Z","author_association":"CONTRIBUTOR","body":"Actually, IntelliJ has an optional side bar which shows what my changes look like.","reactions":{"url":"https://api.github.com/repos/apache/samza/issues/comments/603633414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]