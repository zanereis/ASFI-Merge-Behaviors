[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534219857","html_url":"https://github.com/apache/iceberg/pull/491#issuecomment-534219857","issue_url":"https://api.github.com/repos/apache/iceberg/issues/491","id":534219857,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIxOTg1Nw==","user":{"login":"jun-ma-0","id":51969269,"node_id":"MDQ6VXNlcjUxOTY5MjY5","avatar_url":"https://avatars.githubusercontent.com/u/51969269?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-ma-0","html_url":"https://github.com/jun-ma-0","followers_url":"https://api.github.com/users/jun-ma-0/followers","following_url":"https://api.github.com/users/jun-ma-0/following{/other_user}","gists_url":"https://api.github.com/users/jun-ma-0/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-ma-0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-ma-0/subscriptions","organizations_url":"https://api.github.com/users/jun-ma-0/orgs","repos_url":"https://api.github.com/users/jun-ma-0/repos","events_url":"https://api.github.com/users/jun-ma-0/events{/privacy}","received_events_url":"https://api.github.com/users/jun-ma-0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T18:14:47Z","updated_at":"2019-09-23T18:14:47Z","author_association":"NONE","body":"Hi @rdblue, still working on fixing a few tests. Will update once it's ready for review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534219857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534223432","html_url":"https://github.com/apache/iceberg/pull/207#issuecomment-534223432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/207","id":534223432,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDIyMzQzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T18:24:04Z","updated_at":"2019-09-23T18:24:04Z","author_association":"CONTRIBUTOR","body":"> I think you are referring to do something similar to my first approach where I was passing a map to PruneColumns to build an intermediate file avro schema, to be passed to BuildAvroProjection\r\n\r\nYes! Sorry about that, I was wrong before.\r\n\r\nI thought that `buildAvroProjection` operated on two Iceberg schemas, so all you'd need to do is to add IDs when converting to Iceberg. But that's not correct: the primary schema is an Avro schema. (Unlike Parquet, where I think both are Iceberg and we fetch the aliases from the converted schema by ID.)\r\n\r\nI think the snippet you posted would make this change cleaner. Sorry to cause you more work with my mistake!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534223432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534272401","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-534272401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":534272401,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDI3MjQwMQ==","user":{"login":"xabriel","id":218555,"node_id":"MDQ6VXNlcjIxODU1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/218555?v=4","gravatar_id":"","url":"https://api.github.com/users/xabriel","html_url":"https://github.com/xabriel","followers_url":"https://api.github.com/users/xabriel/followers","following_url":"https://api.github.com/users/xabriel/following{/other_user}","gists_url":"https://api.github.com/users/xabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/xabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xabriel/subscriptions","organizations_url":"https://api.github.com/users/xabriel/orgs","repos_url":"https://api.github.com/users/xabriel/repos","events_url":"https://api.github.com/users/xabriel/events{/privacy}","received_events_url":"https://api.github.com/users/xabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T20:33:01Z","updated_at":"2019-09-23T20:33:01Z","author_association":"CONTRIBUTOR","body":"(Test failures around `TestIcebergSourceHiveTables`, thus unrelated to changes.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534272401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534320838","html_url":"https://github.com/apache/iceberg/pull/207#issuecomment-534320838","issue_url":"https://api.github.com/repos/apache/iceberg/issues/207","id":534320838,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDMyMDgzOA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T23:14:46Z","updated_at":"2019-09-23T23:14:46Z","author_association":"CONTRIBUTOR","body":"No problem. Let me try to update the patch with the requested changes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534320838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534345465","html_url":"https://github.com/apache/iceberg/pull/491#issuecomment-534345465","issue_url":"https://api.github.com/repos/apache/iceberg/issues/491","id":534345465,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM0NTQ2NQ==","user":{"login":"jun-ma-0","id":51969269,"node_id":"MDQ6VXNlcjUxOTY5MjY5","avatar_url":"https://avatars.githubusercontent.com/u/51969269?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-ma-0","html_url":"https://github.com/jun-ma-0","followers_url":"https://api.github.com/users/jun-ma-0/followers","following_url":"https://api.github.com/users/jun-ma-0/following{/other_user}","gists_url":"https://api.github.com/users/jun-ma-0/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-ma-0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-ma-0/subscriptions","organizations_url":"https://api.github.com/users/jun-ma-0/orgs","repos_url":"https://api.github.com/users/jun-ma-0/repos","events_url":"https://api.github.com/users/jun-ma-0/events{/privacy}","received_events_url":"https://api.github.com/users/jun-ma-0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T01:14:27Z","updated_at":"2019-09-24T01:14:27Z","author_association":"NONE","body":"@rdblue Please see the description and let me know your thoughts.\r\nAlso I'm not quite understand the concern about forward-compatibility and what's the case we're trying to be compatible. Any pointer about this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534345465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534365040","html_url":"https://github.com/apache/iceberg/pull/491#issuecomment-534365040","issue_url":"https://api.github.com/repos/apache/iceberg/issues/491","id":534365040,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM2NTA0MA==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T02:48:59Z","updated_at":"2019-09-24T02:48:59Z","author_association":"NONE","body":"Using relative path by default will make it restrictive with the expectation that the table data has to necessarily follow a hierarchical directory structure starting from base table location. One of the use cases that iceberg works great with is having table data in different locations. As long as we specify the full path, we can create a table with data in multiple locations. \r\nThe problem that this PR is trying to address is when we want to migrate table from one location to another location, we have to rebuild the metadata to update manifest and data file locations. I am wondering if there is a better way to address this issue instead of using relative paths. Also, we could make using relative paths optional and specify during table creation or have base path per manifest i.e. each manifest will have a base path and data files in the manifest will be relative to that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534365040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534368931","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-534368931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":534368931,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM2ODkzMQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T03:09:35Z","updated_at":"2019-09-24T03:09:35Z","author_association":"CONTRIBUTOR","body":"Thanks a lot @rdblue and sorry for late response. I see from your point that you want to reuse bucket transform, and the key thing is that current Spark doesn't aware of child distribution regarding to #274 , let me revamp the whole design. Thanks again for your comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534368931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534379572","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-534379572","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":534379572,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDM3OTU3Mg==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T04:07:59Z","updated_at":"2019-09-24T04:07:59Z","author_association":"CONTRIBUTOR","body":"Also for #274, IIUC most of the partition transformations requires data sorted by this transformation functions, otherwise data cannot be grouped together, and will throw exceptions in partitioned writer, am I right? @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534379572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534483177","html_url":"https://github.com/apache/iceberg/issues/457#issuecomment-534483177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/457","id":534483177,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDQ4MzE3Nw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T09:50:15Z","updated_at":"2019-09-24T09:50:15Z","author_association":"CONTRIBUTOR","body":"@sujithjay , thanks for taking care of this!\r\nI see your point by changing the Iceberg schema, but what if I do not want to make that field as \"optional\", and keep it as \"required\"?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534483177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534543516","html_url":"https://github.com/apache/iceberg/issues/493#issuecomment-534543516","issue_url":"https://api.github.com/repos/apache/iceberg/issues/493","id":534543516,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDU0MzUxNg==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T12:51:16Z","updated_at":"2019-09-24T12:51:16Z","author_association":"CONTRIBUTOR","body":"@rdblue Could you please help to review my findings at your most convenience?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534543516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534545600","html_url":"https://github.com/apache/iceberg/issues/492#issuecomment-534545600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/492","id":534545600,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDU0NTYwMA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T12:56:27Z","updated_at":"2019-09-24T12:56:27Z","author_association":"CONTRIBUTOR","body":"@rdblue make sense to you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534545600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534648500","html_url":"https://github.com/apache/iceberg/issues/493#issuecomment-534648500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/493","id":534648500,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY0ODUwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T16:53:52Z","updated_at":"2019-09-24T16:53:52Z","author_association":"CONTRIBUTOR","body":"This doesn't fail because deletes are idempotent. You tell Iceberg to delete with a filter or to delete a specific file, and that data will not be in the table after the delete commits.\r\n\r\nThat's also why you see multiple delete operations. You ran 2 successful deletes on the table.\r\n\r\nThe two metadata files you posted are two attempts to delete at the same time. That's why they use the same parent snapshot ID. The metastore must guarantee an atomic swap that is used to get a linear history of changes. So only one of these deletes will have been successfully committed. The other would have had to retry.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534648500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534652798","html_url":"https://github.com/apache/iceberg/issues/492#issuecomment-534652798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/492","id":534652798,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY1Mjc5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T17:03:15Z","updated_at":"2019-09-24T17:03:15Z","author_association":"CONTRIBUTOR","body":"We could add an option to StreamingDelete to validate that some data is deleted, if you wanted a failure instead of an idempotent delete. Other operations configure validations that are exposed by the base class, MergingSnapshotProducer. We could add a validation method here as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534652798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534654396","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-534654396","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":534654396,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY1NDM5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T17:06:56Z","updated_at":"2019-09-24T17:06:56Z","author_association":"CONTRIBUTOR","body":"@jerryshao, yes that's correct.\r\n\r\nThat's why we need to expose the transformation functions to Spark via FunctionCatalog, and add the ability for DSv2 sources to set distribution and ordering requirements with those functions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534654396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534785869","html_url":"https://github.com/apache/iceberg/pull/432#issuecomment-534785869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/432","id":534785869,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc4NTg2OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T23:24:30Z","updated_at":"2019-09-24T23:24:30Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @xabriel! I'll merge it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534785869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534786457","html_url":"https://github.com/apache/iceberg/pull/93#issuecomment-534786457","issue_url":"https://api.github.com/repos/apache/iceberg/issues/93","id":534786457,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc4NjQ1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T23:27:03Z","updated_at":"2019-09-24T23:27:03Z","author_association":"CONTRIBUTOR","body":"Looks good to me. If `dict` returned null, further uses would fail with a null pointer exception. So this should be safe.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534786457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534852783","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-534852783","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":534852783,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDg1Mjc4Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T05:01:00Z","updated_at":"2019-09-25T05:01:00Z","author_association":"CONTRIBUTOR","body":"@dbtsai, FYI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534852783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534878183","html_url":"https://github.com/apache/iceberg/issues/493#issuecomment-534878183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/493","id":534878183,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDg3ODE4Mw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T06:42:16Z","updated_at":"2019-09-25T06:42:16Z","author_association":"CONTRIBUTOR","body":"@rdblue Thanks very much for the detailed explanation!\r\nSome follow-up questions:\r\n1. Regarding\r\n\r\n> The metastore must guarantee an atomic swap that is used to get a linear history of changes. So only one of these deletes will have been successfully committed.\r\n\r\nAfter those 2 delete operations, I found one metadata json pasted above is \"metadata_location\" in metastore while the other metadata json is \"previous_metadata_location\". Does that indicate that each of them was committed successfully as \"current\" metadata location in metastore sometime?\r\n\r\n2. Regarding\r\n> The other would have had to retry.\r\n\r\nAny message indicate a retry happens? Should I expect \"WARN Retrying task after failure...\" here?\r\n\r\n3. I see the following warn about \"retry\" when I was trying to concurrently append data by DataFrameWriter\r\n```\r\n19/09/23 16:02:31 WARN Tasks: Retrying task after failure: metadataLocation = file:///Users/seanxiangli/Documents/ws/spark-warehouse/default.db/lxtest/metadata/00000-cb114a56-f37c-4824-abcb-3d510e8b0138.metadata.json is not same as table metadataLocation file:///Users/seanxiangli/Documents/ws/spark-warehouse/default.db/lxtest/metadata/00001-ea4bb37b-e664-4d13-a474-44dd17997179.metadata.json for default.lxtest\r\norg.apache.iceberg.exceptions.CommitFailedException: metadataLocation = file:///Users/seanxiangli/Documents/ws/spark-warehouse/default.db/lxtest/metadata/00000-cb114a56-f37c-4824-abcb-3d510e8b0138.metadata.json is not same as table metadataLocation file:///Users/seanxiangli/Documents/ws/spark-warehouse/default.db/lxtest/metadata/00001-ea4bb37b-e664-4d13-a474-44dd17997179.metadata.json for default.lxtest\r\n\tat org.apache.iceberg.hive.HiveTableOperations.doCommit(HiveTableOperations.java:158)\r\n\tat org.apache.iceberg.BaseMetastoreTableOperations.commit(BaseMetastoreTableOperations.java:102)\r\n\tat org.apache.iceberg.SnapshotProducer.lambda$commit$2(SnapshotProducer.java:249)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:403)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:212)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:196)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:188)\r\n\tat org.apache.iceberg.SnapshotProducer.commit(SnapshotProducer.java:237)\r\n\tat org.apache.iceberg.spark.source.Writer.commitOperation(Writer.java:148)\r\n\tat org.apache.iceberg.spark.source.Writer.append(Writer.java:162)\r\n\tat org.apache.iceberg.spark.source.Writer.commit(Writer.java:130)\r\n\tat org.apache.spark.sql.execution.datasources.v2.WriteToDataSourceV2Exec.doExecute(WriteToDataSourceV2Exec.scala:76)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:78)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:260)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229)\r\n\tat ThreadExample.run(Test.scala:34)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nDoes it indicate that all updates are committing and updating the metadata in line(one after another)? Why does that happen when concurrent append but not concurrent delete?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534878183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534886345","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-534886345","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":534886345,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDg4NjM0NQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T07:10:30Z","updated_at":"2019-09-25T07:10:30Z","author_association":"CONTRIBUTOR","body":"The CI is failing, but it passed locally. I'll look into that.\r\n\r\nJust to get the latest. Updating from 2.4.4 to 2.4.0 should not contain any breaking changes to the API, so from an Iceberg perspective, we should be safe.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534886345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534893951","html_url":"https://github.com/apache/iceberg/issues/430#issuecomment-534893951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/430","id":534893951,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDg5Mzk1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T07:35:16Z","updated_at":"2019-09-25T07:35:16Z","author_association":"CONTRIBUTOR","body":"I am preparing a few optimizations for metadata compaction and will work on sort spec next. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534893951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534990490","html_url":"https://github.com/apache/iceberg/issues/428#issuecomment-534990490","issue_url":"https://api.github.com/repos/apache/iceberg/issues/428","id":534990490,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDk5MDQ5MA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T12:08:05Z","updated_at":"2019-09-25T12:08:05Z","author_association":"COLLABORATOR","body":"@aokolnychyi, would you please take a look on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534990490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534995038","html_url":"https://github.com/apache/iceberg/issues/360#issuecomment-534995038","issue_url":"https://api.github.com/repos/apache/iceberg/issues/360","id":534995038,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDk5NTAzOA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T12:20:26Z","updated_at":"2019-09-25T12:20:26Z","author_association":"COLLABORATOR","body":"Hi @rdblue @aokolnychyi, \r\n\r\nMay I know whether we are working on implementing updates/deletes/upserts feature? Is [this](https://docs.google.com/document/d/1Pk34C3diOfVCRc-sfxfhXZfzvxwum1Odo-6Jj9mwK38/edit#heading=h.e4k1puljgg7w) the design doc we are following?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/534995038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535109382","html_url":"https://github.com/apache/iceberg/issues/360#issuecomment-535109382","issue_url":"https://api.github.com/repos/apache/iceberg/issues/360","id":535109382,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTEwOTM4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T16:43:17Z","updated_at":"2019-09-25T16:43:17Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, that's an early doc that outlines options, but I wouldn't say it captures the current design. The best design doc we have right now is the one @erikwright wrote: https://docs.google.com/document/d/1FMKh_SQ6xSUUmoCA8LerTkzIxDUN5JbStQp5Hzot4eo/edit#","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535109382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535111262","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-535111262","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":535111262,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExMTI2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T16:47:47Z","updated_at":"2019-09-25T16:47:47Z","author_association":"CONTRIBUTOR","body":"Which test cases were flaky? We added a fix for this a little while ago: https://github.com/apache/incubator-iceberg/commit/029313ec60b48b00c28db1820a8a63a6e9b1964d#diff-e631e40a3e4d7247bae10d3de37d0df1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535111262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535112960","html_url":"https://github.com/apache/iceberg/issues/493#issuecomment-535112960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/493","id":535112960,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExMjk2MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T16:51:54Z","updated_at":"2019-09-25T16:51:54Z","author_association":"CONTRIBUTOR","body":"> Does that indicate that each of them was committed successfully as \"current\" metadata location in metastore sometime?\r\n\r\nYes. The metadata_location always replaces previous_metadata_location.\r\n\r\n> Any message indicate a retry happens? Should I expect \"WARN Retrying task after failure...\" here?\r\n\r\nYes, retries are logged.\r\n\r\n> Why does that happen when concurrent append but not concurrent delete?\r\n\r\nCommits always form a linear history. A commit may not have needed to retry, which could be why you don't see the warning. Concurrent operations are hard to predict, which is why we test concurrent changes by running lots of them in a loop. You can't guarantee a conflict.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535112960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535113414","html_url":"https://github.com/apache/iceberg/issues/481#issuecomment-535113414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/481","id":535113414,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExMzQxNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T16:53:06Z","updated_at":"2019-09-25T16:53:06Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, I don't think sorting is the right solution. Would you mind if we closed this issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535113414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535113479","html_url":"https://github.com/apache/iceberg/issues/490#issuecomment-535113479","issue_url":"https://api.github.com/repos/apache/iceberg/issues/490","id":535113479,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExMzQ3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T16:53:17Z","updated_at":"2019-09-25T16:53:17Z","author_association":"CONTRIBUTOR","body":"Sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535113479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535115990","html_url":"https://github.com/apache/iceberg/issues/475#issuecomment-535115990","issue_url":"https://api.github.com/repos/apache/iceberg/issues/475","id":535115990,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExNTk5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T16:59:41Z","updated_at":"2019-09-25T16:59:41Z","author_association":"CONTRIBUTOR","body":"You're right. The reason why this is a problem is that Parquet 1.10.1 doesn't have the `shouldAdjustToUTC` flag, and `GenericParquetWriter` uses only the Parquet schema to construct the writer. So there's no way to know whether the timestamp is with time zone or without time zone.\r\n\r\nI think we could fix this by also passing in the Iceberg schema, which has the correct type. I think this would be fairly easy if we converted the builder to use `TypeWithSchemaVisitor`, which traverses a Parquet schema and an Iceberg schema at the same time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535115990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535117596","html_url":"https://github.com/apache/iceberg/issues/481#issuecomment-535117596","issue_url":"https://api.github.com/repos/apache/iceberg/issues/481","id":535117596,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTExNzU5Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T17:03:34Z","updated_at":"2019-09-25T17:03:34Z","author_association":"CONTRIBUTOR","body":"Yeah, I went for option 1 as described in my previous reply. Let's close this one and I will create a few others based on what we discussed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535117596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535120609","html_url":"https://github.com/apache/iceberg/issues/464#issuecomment-535120609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/464","id":535120609,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTEyMDYwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T17:11:09Z","updated_at":"2019-09-25T17:11:09Z","author_association":"CONTRIBUTOR","body":"@shawnding, I think your reproduction case is missing how you are filling in data for the new columns in Spark. All of the Records you store only have one field, `i`. (I think this is why @ZhijieWang could not reproduce the problem.)\r\n\r\nThe problem here is that the value Iceberg is attempting to store is invalid. The `UTF8String` has a field, `numBytes`, that is negative and causing the exception. From the stack trace you posted, it looks like this is correctly using an `OptionWriter` to handle the case where the string is not set (hence the data may be corrupt) but that appears to not be the problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535120609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535120952","html_url":"https://github.com/apache/iceberg/issues/463#issuecomment-535120952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/463","id":535120952,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTEyMDk1Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T17:12:05Z","updated_at":"2019-09-25T17:12:05Z","author_association":"CONTRIBUTOR","body":"I'm not sure where this data is coming from because your dataframe has only one column, `id`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535120952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535155920","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-535155920","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":535155920,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE1NTkyMA==","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T18:38:29Z","updated_at":"2019-09-25T18:38:29Z","author_association":"CONTRIBUTOR","body":"I know (thats why I included the git hash I was on when I noticed this) but it still seems like it flakes. The only reason I could guess that it might flake is multi-threaded time reporting not moving consistently forward. There totally could be something else (maybe I had an NTP event during the test and time moved backwards?) but Im not really sure.\r\n\r\nI can run the test in a loop with a shell script and measure the flakiness as a next step?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535155920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535156343","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-535156343","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":535156343,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE1NjM0Mw==","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T18:39:10Z","updated_at":"2019-09-25T18:39:10Z","author_association":"CONTRIBUTOR","body":"Oh oops I didnt include the git hash, I thought I did let me add that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535156343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535159634","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-535159634","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":535159634,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE1OTYzNA==","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T18:47:25Z","updated_at":"2019-09-25T18:47:25Z","author_association":"CONTRIBUTOR","body":"I was at f7bc07d58957d088c766cba845a630594c99f0c8 which already includes 029313ec60b48b00c28db1820a8a63a6e9b1964d\r\n\r\nThis came from my first setting up & testing of iceberg which I streamed ( https://www.youtube.com/watch?v=axzknSKHzWY&feature=youtu.be )","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535159634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535161219","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-535161219","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":535161219,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE2MTIxOQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T18:51:21Z","updated_at":"2019-09-25T18:51:21Z","author_association":"CONTRIBUTOR","body":"I also saw a failure in our CI pipelines after the fix above.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535161219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535179212","html_url":"https://github.com/apache/iceberg/pull/411#issuecomment-535179212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/411","id":535179212,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE3OTIxMg==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T19:39:03Z","updated_at":"2019-09-25T19:47:58Z","author_association":"CONTRIBUTOR","body":"@rdblue  any reason for making   `PartitionSpec.Builder add(int sourceId, String name, String transform) `  non-public ?   This currently is the only way one can apply a transform with custom name for the partition field. The current allowed transforms enforce a specific name e.g. `.day(\"timstamp\")`  names the column `timestamp_day` and there's no way to set that name to something custom. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535179212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535179725","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-535179725","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":535179725,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE3OTcyNQ==","user":{"login":"mykolasmith","id":1483054,"node_id":"MDQ6VXNlcjE0ODMwNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1483054?v=4","gravatar_id":"","url":"https://api.github.com/users/mykolasmith","html_url":"https://github.com/mykolasmith","followers_url":"https://api.github.com/users/mykolasmith/followers","following_url":"https://api.github.com/users/mykolasmith/following{/other_user}","gists_url":"https://api.github.com/users/mykolasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/mykolasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mykolasmith/subscriptions","organizations_url":"https://api.github.com/users/mykolasmith/orgs","repos_url":"https://api.github.com/users/mykolasmith/repos","events_url":"https://api.github.com/users/mykolasmith/events{/privacy}","received_events_url":"https://api.github.com/users/mykolasmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T19:40:15Z","updated_at":"2019-09-25T19:40:53Z","author_association":"NONE","body":"Support for Scala 2.11 is deprecated as of Spark 2.4.1.\r\nSince there will be no Scala 2.11 support in Spark 3.0, I think it makes sense to drop support for versions earlier than Spark 2.4.1. This will pressure users to upgrade to Scala 2.12, which will make it less painful to upgrade users to Spark 3.0 once it comes out.\r\n\r\nhttps://spark.apache.org/docs/latest/#downloading","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535179725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535194580","html_url":"https://github.com/apache/iceberg/pull/411#issuecomment-535194580","issue_url":"https://api.github.com/repos/apache/iceberg/issues/411","id":535194580,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE5NDU4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T20:17:06Z","updated_at":"2019-09-25T20:17:06Z","author_association":"CONTRIBUTOR","body":"@prodeezy, I thought that method was internal and only used when parsing a spec. I didn't want the public API to have a way to provide a named function that would actually result in adding an unsupported transform that prevents writing to the table.\r\n\r\nCan you give a bit more context on how you are using this for custom transforms? Maybe we should build an API to register custom transforms?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535194580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535212254","html_url":"https://github.com/apache/iceberg/pull/496#issuecomment-535212254","issue_url":"https://api.github.com/repos/apache/iceberg/issues/496","id":535212254,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTIxMjI1NA==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T20:42:51Z","updated_at":"2019-09-25T20:50:39Z","author_association":"CONTRIBUTOR","body":"@rdblue Part of  https://github.com/apache/incubator-iceberg/pull/411 took access out for this method. Lemme know if this looks ok to you. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535212254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535221978","html_url":"https://github.com/apache/iceberg/pull/496#issuecomment-535221978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/496","id":535221978,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTIyMTk3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T21:08:08Z","updated_at":"2019-09-25T21:08:08Z","author_association":"CONTRIBUTOR","body":"@prodeezy, how are you defining custom transform functions? Does that require adding transforms to Iceberg?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535221978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535223674","html_url":"https://github.com/apache/iceberg/pull/411#issuecomment-535223674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/411","id":535223674,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTIyMzY3NA==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T21:12:54Z","updated_at":"2019-09-25T21:12:54Z","author_association":"CONTRIBUTOR","body":"it's not as much a custom transform but more of a need to call the resultant field with a custom name. e.g. I want to do a `day()`  transform on `timestamp` field in the data and calling it `c_date` instead of `timestamp_day` which is what Builder.day() does by default. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535223674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535226233","html_url":"https://github.com/apache/iceberg/pull/411#issuecomment-535226233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/411","id":535226233,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTIyNjIzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T21:20:10Z","updated_at":"2019-09-25T21:20:10Z","author_association":"CONTRIBUTOR","body":"Got it. Should we add methods that allow you to set the partition name to the builder instead?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535226233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535235903","html_url":"https://github.com/apache/iceberg/pull/411#issuecomment-535235903","issue_url":"https://api.github.com/repos/apache/iceberg/issues/411","id":535235903,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTIzNTkwMw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T21:49:54Z","updated_at":"2019-09-25T22:01:49Z","author_association":"CONTRIBUTOR","body":"sure that works too. Do you mean overload `day(sourceName)` with `day(sourceName, targetName)` .. and similarly .. `year(sourceName, targetName)` ,  `month(sourceName, targetName)`, `hour(sourceName, targetName)` ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535235903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535260325","html_url":"https://github.com/apache/iceberg/pull/496#issuecomment-535260325","issue_url":"https://api.github.com/repos/apache/iceberg/issues/496","id":535260325,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTI2MDMyNQ==","user":{"login":"rominparekh","id":3831468,"node_id":"MDQ6VXNlcjM4MzE0Njg=","avatar_url":"https://avatars.githubusercontent.com/u/3831468?v=4","gravatar_id":"","url":"https://api.github.com/users/rominparekh","html_url":"https://github.com/rominparekh","followers_url":"https://api.github.com/users/rominparekh/followers","following_url":"https://api.github.com/users/rominparekh/following{/other_user}","gists_url":"https://api.github.com/users/rominparekh/gists{/gist_id}","starred_url":"https://api.github.com/users/rominparekh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rominparekh/subscriptions","organizations_url":"https://api.github.com/users/rominparekh/orgs","repos_url":"https://api.github.com/users/rominparekh/repos","events_url":"https://api.github.com/users/rominparekh/events{/privacy}","received_events_url":"https://api.github.com/users/rominparekh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T23:14:46Z","updated_at":"2019-09-25T23:14:46Z","author_association":"CONTRIBUTOR","body":"@rdblue : One example of custom transform usage is to define a custom target column name for an existing transform function. For instance - \r\n```scala\r\n// gives us `timestamp_day` as target col\r\nPartitionSpec.builderFor(schema)\r\n    .day(\"timestamp\") \r\n\r\n // gives us `_ADBE_DAY` as target col\r\nPartitionSpec.builderFor(schema)\r\n    .add(1 /* fieldId */, \"_ADBE_DAY\", \"day\")\r\n```\r\n\r\ncc: @prodeezy ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535260325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535273873","html_url":"https://github.com/apache/iceberg/pull/496#issuecomment-535273873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/496","id":535273873,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTI3Mzg3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T00:13:03Z","updated_at":"2019-09-26T00:13:03Z","author_association":"CONTRIBUTOR","body":"Thanks, @rominparekh. There was more discussion on #495 where @prodeezy gave the same example. I think the right way to make that use case work is to add methods to override the partition field name. Using add allows you to specify the name of the transform, but we don't really want people doing that because it is hard to register transforms.\r\n\r\nSo instead, let's add something like this:\r\n```java\r\nPartitionSpec.builderFor(schema)\r\n   .day(\"timestamp\", \"c_date\")\r\n   .build()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535273873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535369565","html_url":"https://github.com/apache/iceberg/issues/495#issuecomment-535369565","issue_url":"https://api.github.com/repos/apache/iceberg/issues/495","id":535369565,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTM2OTU2NQ==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T07:05:53Z","updated_at":"2019-09-26T07:05:53Z","author_association":"CONTRIBUTOR","body":"cc @rominparekh  @rdblue @xabriel  please review : https://github.com/apache/incubator-iceberg/pull/498","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535369565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535369666","html_url":"https://github.com/apache/iceberg/pull/498#issuecomment-535369666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/498","id":535369666,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTM2OTY2Ng==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T07:06:12Z","updated_at":"2019-09-26T07:06:12Z","author_association":"CONTRIBUTOR","body":"cc @rominparekh @rdblue @xabriel ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535369666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535589233","html_url":"https://github.com/apache/iceberg/issues/446#issuecomment-535589233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/446","id":535589233,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTU4OTIzMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T16:45:52Z","updated_at":"2019-09-26T16:45:52Z","author_association":"CONTRIBUTOR","body":"@shardulm94 did the suggested approach work for you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535589233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535622330","html_url":"https://github.com/apache/iceberg/pull/498#issuecomment-535622330","issue_url":"https://api.github.com/repos/apache/iceberg/issues/498","id":535622330,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTYyMjMzMA==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T18:08:42Z","updated_at":"2019-09-26T18:08:42Z","author_association":"CONTRIBUTOR","body":"Added unit test to check target names that already exists","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535622330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535700392","html_url":"https://github.com/apache/iceberg/pull/498#issuecomment-535700392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/498","id":535700392,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTcwMDM5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T21:53:25Z","updated_at":"2019-09-26T21:53:25Z","author_association":"CONTRIBUTOR","body":"@prodeezy, just one minor thing to fix that your test case caught.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535700392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535752509","html_url":"https://github.com/apache/iceberg/pull/207#issuecomment-535752509","issue_url":"https://api.github.com/repos/apache/iceberg/issues/207","id":535752509,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTc1MjUwOQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T02:02:45Z","updated_at":"2019-09-27T02:44:58Z","author_association":"CONTRIBUTOR","body":"@rdblue . I updated the code and made the changes in `PruneColumns` class.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535752509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535773972","html_url":"https://github.com/apache/iceberg/pull/498#issuecomment-535773972","issue_url":"https://api.github.com/repos/apache/iceberg/issues/498","id":535773972,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTc3Mzk3Mg==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T03:45:04Z","updated_at":"2019-09-27T03:45:04Z","author_association":"CONTRIBUTOR","body":"@rdblue addressed pending comments. Please let me know if this looks good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535773972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535820670","html_url":"https://github.com/apache/iceberg/issues/493#issuecomment-535820670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/493","id":535820670,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTgyMDY3MA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T07:12:40Z","updated_at":"2019-09-27T07:12:40Z","author_association":"CONTRIBUTOR","body":"Thanks very much! I am closing this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535820670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535841199","html_url":"https://github.com/apache/iceberg/issues/492#issuecomment-535841199","issue_url":"https://api.github.com/repos/apache/iceberg/issues/492","id":535841199,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTg0MTE5OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T08:15:48Z","updated_at":"2019-09-27T08:15:48Z","author_association":"CONTRIBUTOR","body":"May I add a warning to the log but not exit the app to keep the delete as idempotent?  @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535841199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535958211","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-535958211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":535958211,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTk1ODIxMQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T14:16:29Z","updated_at":"2019-09-27T14:16:29Z","author_association":"COLLABORATOR","body":"The column index feature provides a help function`ParquetFileReader.readNextFilteredRowGroup` which should contain column index filtering logic. Does that mean we can just replace the `readNextRowGroup` In  ParquetReader to utilize the column index filtering?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/535958211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536008815","html_url":"https://github.com/apache/iceberg/issues/492#issuecomment-536008815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/492","id":536008815,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjAwODgxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T16:27:05Z","updated_at":"2019-09-27T16:27:05Z","author_association":"CONTRIBUTOR","body":"@waterlx, if the validation is configurable then callers can choose whether to ignore the failure or throw an exception. I don't think we should produce warnings for expected behavior, and when this is an idempotent operation I would consider not deleting anything expected behavior.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536008815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536017681","html_url":"https://github.com/apache/iceberg/pull/498#issuecomment-536017681","issue_url":"https://api.github.com/repos/apache/iceberg/issues/498","id":536017681,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjAxNzY4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T16:54:15Z","updated_at":"2019-09-27T16:54:15Z","author_association":"CONTRIBUTOR","body":"Looks good! Thanks for fixing this, @prodeezy!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536017681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536019095","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-536019095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":536019095,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjAxOTA5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T16:58:31Z","updated_at":"2019-09-27T16:58:31Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, probably not. That may read just the required pages, but Iceberg doesn't use Parquet filtering, so it wouldn't be correct without converting and pushing those filters. Record construction also needs to change to reconstruct rows correctly because the filtered pages start at different row offsets.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536019095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536029100","html_url":"https://github.com/apache/iceberg/pull/499#issuecomment-536029100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/499","id":536029100,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjAyOTEwMA==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T17:27:32Z","updated_at":"2019-09-27T17:27:32Z","author_association":"CONTRIBUTOR","body":"build is failed because of `iceberg-spark:test` Hive related.\r\nIs there a way to find detail logs of the failed tests.\r\nAll tests are failed with this error.\r\n` Caused by: org.apache.thrift.transport.TTransportException at TestIcebergSourceHiveTables.java:152`\r\n\r\nSo, possibly of intermittent error, because Metastore didnt start.\r\nAnd we ran just re-run the PR build.\r\n\r\nIn local all tests ran fine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536029100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536039841","html_url":"https://github.com/apache/iceberg/pull/227#issuecomment-536039841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/227","id":536039841,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjAzOTg0MQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T17:59:50Z","updated_at":"2019-09-27T17:59:50Z","author_association":"CONTRIBUTOR","body":"@rdblue @rdsr Sorry I was out on holiday but I'll take a look at this today. Thanks for the reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536039841/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536094506","html_url":"https://github.com/apache/iceberg/issues/428#issuecomment-536094506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/428","id":536094506,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjA5NDUwNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T20:58:57Z","updated_at":"2019-09-27T20:58:57Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada Sorry for the delay. I was out for a week. I haven't started working on this. Would you be interested to pick this up?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536094506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536096148","html_url":"https://github.com/apache/iceberg/issues/428#issuecomment-536096148","issue_url":"https://api.github.com/repos/apache/iceberg/issues/428","id":536096148,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjA5NjE0OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T21:04:44Z","updated_at":"2019-09-27T21:04:44Z","author_association":"CONTRIBUTOR","body":"As discussed in #483, this has very limited applicability (i.e. only for importing existing Spark tables). ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536096148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536098227","html_url":"https://github.com/apache/iceberg/pull/348#issuecomment-536098227","issue_url":"https://api.github.com/repos/apache/iceberg/issues/348","id":536098227,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjA5ODIyNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T21:12:45Z","updated_at":"2019-09-27T21:12:45Z","author_association":"CONTRIBUTOR","body":"Do we want to make this change before the first release?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536098227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536101217","html_url":"https://github.com/apache/iceberg/pull/348#issuecomment-536101217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/348","id":536101217,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjEwMTIxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T21:24:17Z","updated_at":"2019-09-27T21:24:17Z","author_association":"CONTRIBUTOR","body":"I don't think there is a rush to clarify this, but we can.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536101217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536101225","html_url":"https://github.com/apache/iceberg/pull/499#issuecomment-536101225","issue_url":"https://api.github.com/repos/apache/iceberg/issues/499","id":536101225,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjEwMTIyNQ==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T21:24:18Z","updated_at":"2019-09-27T21:24:18Z","author_association":"CONTRIBUTOR","body":"finally got the good PR build.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536101225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536114069","html_url":"https://github.com/apache/iceberg/pull/487#issuecomment-536114069","issue_url":"https://api.github.com/repos/apache/iceberg/issues/487","id":536114069,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjExNDA2OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T22:19:42Z","updated_at":"2019-09-27T22:19:42Z","author_association":"CONTRIBUTOR","body":"I've created an issue to support `TIME_MILLIS` so that we don't forget.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536114069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536118426","html_url":"https://github.com/apache/iceberg/pull/487#issuecomment-536118426","issue_url":"https://api.github.com/repos/apache/iceberg/issues/487","id":536118426,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjExODQyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T22:43:06Z","updated_at":"2019-09-27T22:43:06Z","author_association":"CONTRIBUTOR","body":"Thanks, Anton!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536118426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536123052","html_url":"https://github.com/apache/iceberg/pull/487#issuecomment-536123052","issue_url":"https://api.github.com/repos/apache/iceberg/issues/487","id":536123052,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjEyMzA1Mg==","user":{"login":"ashleycoxley","id":7006859,"node_id":"MDQ6VXNlcjcwMDY4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/7006859?v=4","gravatar_id":"","url":"https://api.github.com/users/ashleycoxley","html_url":"https://github.com/ashleycoxley","followers_url":"https://api.github.com/users/ashleycoxley/followers","following_url":"https://api.github.com/users/ashleycoxley/following{/other_user}","gists_url":"https://api.github.com/users/ashleycoxley/gists{/gist_id}","starred_url":"https://api.github.com/users/ashleycoxley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashleycoxley/subscriptions","organizations_url":"https://api.github.com/users/ashleycoxley/orgs","repos_url":"https://api.github.com/users/ashleycoxley/repos","events_url":"https://api.github.com/users/ashleycoxley/events{/privacy}","received_events_url":"https://api.github.com/users/ashleycoxley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T23:09:51Z","updated_at":"2019-09-27T23:09:51Z","author_association":"CONTRIBUTOR","body":"Thanks both! I'll plan to pick that up soon. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536123052/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536244605","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-536244605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":536244605,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjI0NDYwNQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-29T03:21:17Z","updated_at":"2019-09-29T03:21:17Z","author_association":"CONTRIBUTOR","body":">Since there will be no Scala 2.11 support in Spark 3.0, I think it makes sense to drop support for versions earlier than Spark 2.4.1. This will pressure users to upgrade to Scala 2.12, which will make it less painful to upgrade users to Spark 3.0 once it comes out.\r\n\r\nWe internally use 2.4.x but we're still stick on Scala 2.11, I don't think we have to drop the support of Scala 2.11 for Spark 2.4.x, Iceberg Spark DS could ship with two versions of Scala, as what other projects do.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536244605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536265214","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-536265214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":536265214,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjI2NTIxNA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-29T07:56:54Z","updated_at":"2019-09-29T07:56:54Z","author_association":"CONTRIBUTOR","body":"I believe we shouldn't drop Scala 2.11. It is still widely used, and Spark 3.0 is quite far away. When releasing Iceberg I think we should cross-build the Scala versions. If different versions of Spark are really important to use, we could also extend the Travis build matrix to make sure that is tested against multiple version of Spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536265214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536462737","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536462737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536462737,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjQ2MjczNw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T08:39:35Z","updated_at":"2019-09-30T08:39:35Z","author_association":"CONTRIBUTOR","body":"cc @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536462737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536477551","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536477551","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536477551,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjQ3NzU1MQ==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T09:18:11Z","updated_at":"2019-09-30T09:18:11Z","author_association":"CONTRIBUTOR","body":"Gist to reproduce : https://gist.github.com/prodeezy/459422d1b7d388a0d225292a62817b19","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536477551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536490044","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536490044","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536490044,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjQ5MDA0NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T09:52:47Z","updated_at":"2019-09-30T09:52:47Z","author_association":"CONTRIBUTOR","body":"@prodeezy will resolving #428 fix this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536490044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536554025","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536554025","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536554025,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjU1NDAyNQ==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T13:11:42Z","updated_at":"2019-09-30T14:10:35Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi  yes seems like fixing #428 will do it. Although, I put up a PR  https://github.com/apache/incubator-iceberg/pull/506 with a potential fix, let me know what you think of that approach. I'm handling it in `Conversions` by returning an epochday ordinal which is in a Integer. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536554025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536554873","html_url":"https://github.com/apache/iceberg/pull/506#issuecomment-536554873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/506","id":536554873,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjU1NDg3Mw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T13:13:56Z","updated_at":"2019-09-30T13:13:56Z","author_association":"CONTRIBUTOR","body":"cc @aokolnychyi @rdblue @fbocse @rominparekh ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536554873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536635882","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536635882","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536635882,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjYzNTg4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T16:14:23Z","updated_at":"2019-09-30T16:14:23Z","author_association":"CONTRIBUTOR","body":"Doesn't PR #506 fix #428? That's basically what it does.\r\n\r\nI'm fine adding that commit if it unblocks you, but this type of bug is going to keep happening to you if you continue to use this pattern where you write files and then use paths to build partition data when appending to a table. The `withPartitionPath` method is only intended for use with Hive partitions, and even then it is a best effort. Iceberg doesn't guarantee that partition strings even can be parsed to produce the original value because that has been an error prone anti-pattern in Hive.\r\n\r\nThis is going to cause further problems with strings that require escaping, hourly partitions, etc. I suggest moving off of this pattern and keeping the partition tuples as data instead of recovering partition tuple values like this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536635882/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536637573","html_url":"https://github.com/apache/iceberg/issues/507#issuecomment-536637573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/507","id":536637573,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjYzNzU3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T16:18:31Z","updated_at":"2019-09-30T16:18:31Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, @prodeezy, what do you think about this issue and possibly targeting this for the release?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536637573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536638571","html_url":"https://github.com/apache/iceberg/issues/507#issuecomment-536638571","issue_url":"https://api.github.com/repos/apache/iceberg/issues/507","id":536638571,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjYzODU3MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T16:20:59Z","updated_at":"2019-09-30T16:21:08Z","author_association":"CONTRIBUTOR","body":"We used that only for importing existing tables to Iceberg. We have tests but I haven't seen a real use case that required it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536638571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536659363","html_url":"https://github.com/apache/iceberg/issues/507#issuecomment-536659363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/507","id":536659363,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY1OTM2Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T17:14:22Z","updated_at":"2019-09-30T17:14:22Z","author_association":"CONTRIBUTOR","body":"Yeah, for importing, I'm wondering if we shouldn't require going through an import API call, like the one in `SparkTableUtil`. That would make imports still work, but avoid a misleading call in the API.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536659363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536659666","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-536659666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":536659666,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY1OTY2Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T17:15:03Z","updated_at":"2019-09-30T17:15:03Z","author_association":"CONTRIBUTOR","body":"Which test case was the problem? Was it the same, or did I miss one?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536659666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536660262","html_url":"https://github.com/apache/iceberg/issues/501#issuecomment-536660262","issue_url":"https://api.github.com/repos/apache/iceberg/issues/501","id":536660262,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY2MDI2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T17:16:26Z","updated_at":"2019-09-30T17:16:26Z","author_association":"CONTRIBUTOR","body":"I agree, this shouldn't throw a `NullPointerException`. Would you like to open a PR to fix this when there is no current snapshot?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536660262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536670454","html_url":"https://github.com/apache/iceberg/issues/507#issuecomment-536670454","issue_url":"https://api.github.com/repos/apache/iceberg/issues/507","id":536670454,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY3MDQ1NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T17:42:40Z","updated_at":"2019-09-30T17:42:40Z","author_association":"CONTRIBUTOR","body":"That would work for us. We developed our version of migration before we had it in `SparkTableUtil`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536670454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536672172","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536672172","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536672172,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY3MjE3Mg==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T17:46:47Z","updated_at":"2019-09-30T17:46:47Z","author_association":"CONTRIBUTOR","body":"There's some internal code that builds `DataFile` objects and augments the commit process. We need to re-think that code a bit. Until we work around that we need this issue fixed. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536672172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536676688","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-536676688","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":536676688,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY3NjY4OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T17:56:30Z","updated_at":"2019-09-30T17:56:30Z","author_association":"CONTRIBUTOR","body":"It was the same as before. I cannot reproduce it locally but it failed frequently in CI. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536676688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536681990","html_url":"https://github.com/apache/iceberg/issues/505#issuecomment-536681990","issue_url":"https://api.github.com/repos/apache/iceberg/issues/505","id":536681990,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY4MTk5MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T18:07:55Z","updated_at":"2019-09-30T18:07:55Z","author_association":"CONTRIBUTOR","body":"Sounds good to me, I just want to make sure you don't hit this again in a few weeks for a similar use case, like hourly partitions. We should be able to get the fix in today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536681990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536686601","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-536686601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":536686601,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY4NjYwMQ==","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T18:19:13Z","updated_at":"2019-09-30T18:19:13Z","author_association":"CONTRIBUTOR","body":"I think maybe requiring a minimum time unit to pass might be better than just not having the times be equal. But I'm not sure if that is a gaurantee in iceberg we should be testing for or not @rdblue ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536686601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536688978","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-536688978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":536688978,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY4ODk3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T18:25:08Z","updated_at":"2019-09-30T18:25:08Z","author_association":"CONTRIBUTOR","body":"Yeah, we can update that logic to be a bit more paranoid about values we get from System.currentTimeMillis instead of using equality. @holdenk, would you like to open a PR for that? If not, I can fix it sometime today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536688978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536689553","html_url":"https://github.com/apache/iceberg/issues/494#issuecomment-536689553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/494","id":536689553,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY4OTU1Mw==","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T18:26:27Z","updated_at":"2019-09-30T18:26:27Z","author_association":"CONTRIBUTOR","body":"If you don't mind a bit of a wait it would be a fun first PR for me to do, I've just meetings most of the day so I'd probably do it tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536689553/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536695407","html_url":"https://github.com/apache/iceberg/pull/506#issuecomment-536695407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/506","id":536695407,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY5NTQwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T18:40:05Z","updated_at":"2019-09-30T18:40:05Z","author_association":"CONTRIBUTOR","body":"Looks good to me once the checkstyle failure is fixed:\r\n```\r\n[ant:checkstyle] [ERROR] /home/travis/build/apache/incubator-iceberg/core/src/test/java/org/apache/iceberg/TestTimestampPartitions.java:1: File does not end with a newline. [NewlineAtEndOfFile]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536695407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536742642","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-536742642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":536742642,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjc0MjY0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T20:41:14Z","updated_at":"2019-09-30T20:41:14Z","author_association":"CONTRIBUTOR","body":"Iceberg should support all 2.4.x versions, which includes some that use Scala 2.11. In the long term, I don't think that Iceberg should be a factor in deciding which version of Scala to use with Spark. Right now we have Scala 2.11 code. Maybe we should convert that to Java to avoid possible problems for downstream users.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536742642/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536773250","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-536773250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":536773250,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjc3MzI1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T22:09:30Z","updated_at":"2019-09-30T22:09:30Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this.\r\n\r\nOriginally, I wasn't sure whether to update to 2.4.4 or to continue using 2.4.0 because we want to be compatible with all 2.4.x releases. Continuing to use 2.4.0 seems safer because 2.4.4 should be compatible with it and using the older release prevents relying on new methods that were added since 2.4.0. But, we also use non-public APIs and we want to make sure that those don't break. So I think the safest option is to rely on the latest release because the older ones won't change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536773250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536773428","html_url":"https://github.com/apache/iceberg/pull/489#issuecomment-536773428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/489","id":536773428,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjc3MzQyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T22:10:11Z","updated_at":"2019-09-30T22:10:11Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536773428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536787291","html_url":"https://github.com/apache/iceberg/pull/506#issuecomment-536787291","issue_url":"https://api.github.com/repos/apache/iceberg/issues/506","id":536787291,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjc4NzI5MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T23:03:40Z","updated_at":"2019-09-30T23:03:40Z","author_association":"CONTRIBUTOR","body":"@prodeezy, I merged this. Sorry it took so long for tests to pass! I've submitted another PR to remove the flaky ones.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536787291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536787449","html_url":"https://github.com/apache/iceberg/issues/428#issuecomment-536787449","issue_url":"https://api.github.com/repos/apache/iceberg/issues/428","id":536787449,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjc4NzQ0OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T23:04:26Z","updated_at":"2019-09-30T23:04:26Z","author_association":"CONTRIBUTOR","body":"Fixed by #506.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536787449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536812299","html_url":"https://github.com/apache/iceberg/pull/509#issuecomment-536812299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/509","id":536812299,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjgxMjI5OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-01T00:58:10Z","updated_at":"2019-10-01T00:58:34Z","author_association":"CONTRIBUTOR","body":"@rdblue do we think `CATALOG_CACHE` in `HiveCatalogs` is related to the problem with these tests?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536812299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536814348","html_url":"https://github.com/apache/iceberg/issues/508#issuecomment-536814348","issue_url":"https://api.github.com/repos/apache/iceberg/issues/508","id":536814348,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjgxNDM0OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-01T01:07:32Z","updated_at":"2019-10-01T01:07:32Z","author_association":"CONTRIBUTOR","body":"I think these entries on the dev list are relevant:\r\n- [Avoiding sort when writing 1TB+ of data](https://lists.apache.org/thread.html/e54d90b11d94e1bf93f1c750939271f79a96dfa94ef9c2c10f586546@%3Cdev.iceberg.apache.org%3E)\r\n- [Iceberg Spark PartitionedWriter with Kafka source](https://lists.apache.org/thread.html/3ff76cd88e03eec1919fceb244177587953d2d5eef58fcb293832be4@%3Cdev.iceberg.apache.org%3E)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536814348/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536901662","html_url":"https://github.com/apache/iceberg/pull/506#issuecomment-536901662","issue_url":"https://api.github.com/repos/apache/iceberg/issues/506","id":536901662,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjkwMTY2Mg==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-01T07:11:06Z","updated_at":"2019-10-01T07:11:06Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/536901662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/537083082","html_url":"https://github.com/apache/iceberg/issues/508#issuecomment-537083082","issue_url":"https://api.github.com/repos/apache/iceberg/issues/508","id":537083082,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzA4MzA4Mg==","user":{"login":"mykolasmith","id":1483054,"node_id":"MDQ6VXNlcjE0ODMwNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1483054?v=4","gravatar_id":"","url":"https://api.github.com/users/mykolasmith","html_url":"https://github.com/mykolasmith","followers_url":"https://api.github.com/users/mykolasmith/followers","following_url":"https://api.github.com/users/mykolasmith/following{/other_user}","gists_url":"https://api.github.com/users/mykolasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/mykolasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mykolasmith/subscriptions","organizations_url":"https://api.github.com/users/mykolasmith/orgs","repos_url":"https://api.github.com/users/mykolasmith/repos","events_url":"https://api.github.com/users/mykolasmith/events{/privacy}","received_events_url":"https://api.github.com/users/mykolasmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-01T15:11:22Z","updated_at":"2019-10-01T15:11:22Z","author_association":"NONE","body":"Thanks, solved.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/537083082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/537106532","html_url":"https://github.com/apache/iceberg/pull/509#issuecomment-537106532","issue_url":"https://api.github.com/repos/apache/iceberg/issues/509","id":537106532,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzEwNjUzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-01T16:02:11Z","updated_at":"2019-10-01T16:02:11Z","author_association":"CONTRIBUTOR","body":"> do we think CATALOG_CACHE in HiveCatalogs is related to the problem with these tests?\r\n\r\nYes! I forgot about that one, but it puts us over the limit: Spark will have its own connection from the built-in metastore. Then we have a pool from `HiveCatalogs` that is reused, with two connections. One more connection for the direct client used to clean up, and two more for the `HiveCatalog` instance. That comes to 6, which is over the limit. Maybe if we add back the change to share the client pool for cleanup with the catalog used in tests?\r\n\r\nLet's bring these tests back in a PR, but keep this in master for now to unblock the release and avoid so many test failures for PRs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/537106532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/537994844","html_url":"https://github.com/apache/iceberg/pull/512#issuecomment-537994844","issue_url":"https://api.github.com/repos/apache/iceberg/issues/512","id":537994844,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk5NDg0NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T15:25:56Z","updated_at":"2019-10-03T15:25:56Z","author_association":"CONTRIBUTOR","body":"@bryanck could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/537994844/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]