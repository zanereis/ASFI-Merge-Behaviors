[{"url":"https://api.github.com/repos/apache/druid/issues/comments/286173291","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-286173291","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":286173291,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjE3MzI5MQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T17:03:42Z","updated_at":"2017-03-13T17:03:42Z","author_association":"MEMBER","body":"@dclim yes I meant actual handoff not just persisting to disk","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286173291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286174834","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-286174834","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":286174834,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjE3NDgzNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T17:08:31Z","updated_at":"2017-03-13T17:08:31Z","author_association":"CONTRIBUTOR","body":"It would be nice to have the tasks run forever, like @dclim says it'll help performance and it'll also require less worker capacity.\r\n\r\nOther than implementing multiple stages of handoff per task, we also would need some changes to how ForkingTaskRunner handles logs (it doesn't rotate or upload them until a task exits, which would cause problems if they run forever). It seems worth it though.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286174834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286193185","html_url":"https://github.com/apache/druid/pull/4038#issuecomment-286193185","issue_url":"https://api.github.com/repos/apache/druid/issues/4038","id":286193185,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjE5MzE4NQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T18:06:21Z","updated_at":"2017-03-13T18:06:21Z","author_association":"CONTRIBUTOR","body":"I tested timeSeries and group by query, the results are correct for non-UTC PeriodGranularity (we are in china timeZone, we use +08:00 PeriodGranularity all the time, the results are as expected), these 2 queries will do granularity.truncate(), so timeZone is not a problem.\r\n\r\nI update the benchmark code to test [timestamp, timezone offset] as [long, int] pair. In this format, it is slower than the pure timestamp format, but I think it is still good enough.  @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286193185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286194149","html_url":"https://github.com/apache/druid/pull/4038#issuecomment-286194149","issue_url":"https://api.github.com/repos/apache/druid/issues/4038","id":286194149,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjE5NDE0OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T18:09:26Z","updated_at":"2017-03-13T18:09:26Z","author_association":"CONTRIBUTOR","body":"Can the benchmark be added to https://github.com/druid-io/druid/tree/master/benchmarks in the same style as is used there?\r\n\r\nThat way the testing is standardized.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286194149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286196385","html_url":"https://github.com/apache/druid/pull/4038#issuecomment-286196385","issue_url":"https://api.github.com/repos/apache/druid/issues/4038","id":286196385,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjE5NjM4NQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T18:16:47Z","updated_at":"2017-03-13T18:16:47Z","author_association":"CONTRIBUTOR","body":"I just write some benchmark code to prove this PR can improve json ser/desr performance, but it is not really a benchmark against current druid code.\r\nI don't think it should be added to the benchmarks code base. @drcrallen ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286196385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286206913","html_url":"https://github.com/apache/druid/issues/4036#issuecomment-286206913","issue_url":"https://api.github.com/repos/apache/druid/issues/4036","id":286206913,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjIwNjkxMw==","user":{"login":"codewithnaman","id":19516326,"node_id":"MDQ6VXNlcjE5NTE2MzI2","avatar_url":"https://avatars.githubusercontent.com/u/19516326?v=4","gravatar_id":"","url":"https://api.github.com/users/codewithnaman","html_url":"https://github.com/codewithnaman","followers_url":"https://api.github.com/users/codewithnaman/followers","following_url":"https://api.github.com/users/codewithnaman/following{/other_user}","gists_url":"https://api.github.com/users/codewithnaman/gists{/gist_id}","starred_url":"https://api.github.com/users/codewithnaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codewithnaman/subscriptions","organizations_url":"https://api.github.com/users/codewithnaman/orgs","repos_url":"https://api.github.com/users/codewithnaman/repos","events_url":"https://api.github.com/users/codewithnaman/events{/privacy}","received_events_url":"https://api.github.com/users/codewithnaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T18:51:50Z","updated_at":"2017-03-13T18:51:50Z","author_association":"NONE","body":"Hi Gian, we forgot to take those logs but i found some disk space issue and heavy load issue on KAFKA and it looks like that caused some issue to this supervisor which was not allowing them to close the task and start a new one.\r\n\r\nI am observing one more strange issue - I am getting below logs after supervisor calls itself success. I see data on HDFS but them are not getting loaded on Historical. I see nothing in any of the logs for this supervisor and datasource. \r\n\r\n2017-03-13T18:22:06,235 INFO [task-runner-0-priority-0] io.druid.indexing.worker.executor.ExecutorLifecycle - Task completed with status: {\r\n  \"id\" : \"index_kafka_SEGMENT_082e4a96a18542b_okmncokb\",\r\n  \"status\" : \"SUCCESS\",\r\n  \"duration\" : 1399971\r\n}\r\n2017-03-13T18:22:06,244 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void\r\n io.druid.server.coordination.AbstractDataSegmentAnnouncer.stop()] on object[io.druid.server.coordination.BatchDataSegmentAnnouncer@26c7b1c\r\n6].\r\n2017-03-13T18:22:06,244 INFO [main] io.druid.server.coordination.AbstractDataSegmentAnnouncer - Stopping class io.druid.server.coordination\r\n.BatchDataSegmentAnnouncer with config[io.druid.server.initialization.ZkPathsConfig@22e2266d]\r\n2017-03-13T18:22:06,244 INFO [main] io.druid.curator.announcement.Announcer - unannouncing [/druid/announcements/10.52.208.85:8100]\r\n2017-03-13T18:22:06,263 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void\r\n io.druid.server.listener.announcer.ListenerResourceAnnouncer.stop()] on object[io.druid.query.lookup.LookupResourceListenerAnnouncer@7cf8f45a].\r\n2017-03-13T18:22:06,263 INFO [main] io.druid.curator.announcement.Announcer - unannouncing [/druid/listeners/lookups/__default/10.52.208.85:8100]\r\n2017-03-13T18:22:06,265 INFO [main] io.druid.server.listener.announcer.ListenerResourceAnnouncer - Unannouncing start time on [/druid/listeners/lookups/__default/10.52.208.85:8100]\r\n2017-03-13T18:22:06,265 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.query.lookup.LookupReferencesManager.stop()] on object[io.druid.query.lookup.LookupReferencesManager@53a301f3].\r\n2017-03-13T18:22:06,265 INFO [main] io.druid.query.lookup.LookupReferencesManager - Stopping lookup factory references manager\r\n2017-03-13T18:22:06,272 INFO [main] org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@4d81e83a{HTTP/1.1,[http/1.1]}{0.0.0.0:8100}\r\n2017-03-13T18:22:06,274 INFO [main] org.eclipse.jetty.server.handler.ContextHandler - Stopped o.e.j.s.ServletContextHandler@1c1fa494{/,null,UNAVAILABLE}\r\n2017-03-13T18:22:06,278 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.indexing.worker.executor.ExecutorLifecycle.stop() throws java.lang.Exception] on object[io.druid.indexing.worker.executor.ExecutorLifecycle@5b1efaaf].\r\n2017-03-13T18:22:06,279 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.indexing.overlord.ThreadPoolTaskRunner.stop()] on object[io.druid.indexing.overlord.ThreadPoolTaskRunner@5463f035].\r\n2017-03-13T18:22:06,280 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.curator.discovery.ServerDiscoverySelector.stop() throws java.io.IOException] on object[io.druid.curator.discovery.ServerDiscoverySelector@ab2e6d2].\r\n2017-03-13T18:22:06,290 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void com.met\r\namx.http.client.NettyHttpClient.stop()] on object[com.metamx.http.client.NettyHttpClient@31e739bf].\r\n2017-03-13T18:22:06,307 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.storage.hdfs.HdfsStorageAuthentication.stop()] on object[io.druid.storage.hdfs.HdfsStorageAuthentication@729c8063].\r\n2017-03-13T18:22:06,308 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void com.metamx.metrics.MonitorScheduler.stop()] on object[com.metamx.metrics.MonitorScheduler@5a08b084].\r\n2017-03-13T18:22:06,308 INFO [main] io.druid.curator.CuratorModule - Stopping Curator\r\n2017-03-13T18:22:06,312 INFO [Curator-Framework-0] org.apache.curator.framework.imps.CuratorFrameworkImpl - backgroundOperationsLoop exiting\r\n2017-03-13T18:22:06,315 INFO [main] org.apache.zookeeper.ZooKeeper - Session: 0x15ac727da6b006e closed\r\n2017-03-13T18:22:06,315 INFO [main-EventThread] org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x15ac727da6b006e\r\n2017-03-13T18:22:06,315 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void com.metamx.emitter.service.ServiceEmitter.close() throws java.io.IOException] on object[com.metamx.emitter.service.ServiceEmitter@7126e26].\r\n2017-03-13T18:22:06,315 INFO [main] com.metamx.emitter.core.LoggingEmitter - Close: started [false]\r\n2017-03-13T18:22:06,316 INFO [main] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.initialization.Log4jShutterDownerModule$Log4jShutterDowner.stop()] on object[io.druid.initialization.Log4jShutterDownerModule$Log4jShutterDowner@47b33e07].\r\n2017-03-13 18:22:06,370 Thread-2 ERROR Unable to register shutdown hook because JVM is shutting down. java.lang.IllegalStateException: Not started\r\n        at io.druid.common.config.Log4jShutdown.addShutdownCallback(Log4jShutdown.java:45)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.addShutdownCallback(Log4jContextFactory.java:273)\r\n        at org.apache.logging.log4j.core.LoggerContext.setUpShutdownHook(LoggerContext.java:256)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:216)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:145)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:41)\r\n        at org.apache.logging.log4j.LogManager.getContext(LogManager.java:182)\r\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:103)\r\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)\r\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)\r\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\r\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:253)\r\n        at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)\r\n        at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:685)\r\n        at org.apache.hadoop.hdfs.LeaseRenewer.<clinit>(LeaseRenewer.java:72)\r\n        at org.apache.hadoop.hdfs.DFSClient.getLeaseRenewer(DFSClient.java:699)\r\n        at org.apache.hadoop.hdfs.DFSClient.close(DFSClient.java:859)\r\n        at org.apache.hadoop.hdfs.DistributedFileSystem.close(DistributedFileSystem.java:853)\r\n        at org.apache.hadoop.fs.FileSystem$Cache.closeAll(FileSystem.java:2407)\r\n        at org.apache.hadoop.fs.FileSystem$Cache$ClientFinalizer.run(FileSystem.java:2424)\r\n        at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286206913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286207439","html_url":"https://github.com/apache/druid/issues/4036#issuecomment-286207439","issue_url":"https://api.github.com/repos/apache/druid/issues/4036","id":286207439,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjIwNzQzOQ==","user":{"login":"codewithnaman","id":19516326,"node_id":"MDQ6VXNlcjE5NTE2MzI2","avatar_url":"https://avatars.githubusercontent.com/u/19516326?v=4","gravatar_id":"","url":"https://api.github.com/users/codewithnaman","html_url":"https://github.com/codewithnaman","followers_url":"https://api.github.com/users/codewithnaman/followers","following_url":"https://api.github.com/users/codewithnaman/following{/other_user}","gists_url":"https://api.github.com/users/codewithnaman/gists{/gist_id}","starred_url":"https://api.github.com/users/codewithnaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codewithnaman/subscriptions","organizations_url":"https://api.github.com/users/codewithnaman/orgs","repos_url":"https://api.github.com/users/codewithnaman/repos","events_url":"https://api.github.com/users/codewithnaman/events{/privacy}","received_events_url":"https://api.github.com/users/codewithnaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T18:53:35Z","updated_at":"2017-03-13T18:53:35Z","author_association":"NONE","body":"I think it is failing before it writes an entry into MySQL and that is the reason it is not loading the data in Historical.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286207439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286237847","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-286237847","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":286237847,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjIzNzg0Nw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T20:45:16Z","updated_at":"2017-03-13T20:45:16Z","author_association":"CONTRIBUTOR","body":"@leventov @niketh \r\n\r\nAll fixed.  One impl. Cast to `Memory` from `WritableMemory` works.   Both `compareTo` and `copyTo` have been implemented.  @niketh is working on the `Buffer` / `WritableBuffer` impls.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286237847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286244793","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-286244793","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":286244793,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI0NDc5Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T21:10:18Z","updated_at":"2017-03-13T21:10:18Z","author_association":"MEMBER","body":"@leerho thanks!\r\n\r\nI see you decided to name WritableMemory's static factory methods with \"writable\" prefix. This is because you are concerned about overloading of Memory's methods? In this case I suggest to move them to Memory, because `WritableMemory.writableMap()` is a needless repetition. It could be `Memory.writableMap()`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286244793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286249187","html_url":"https://github.com/apache/druid/issues/4044#issuecomment-286249187","issue_url":"https://api.github.com/repos/apache/druid/issues/4044","id":286249187,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI0OTE4Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T21:27:07Z","updated_at":"2017-03-13T21:27:07Z","author_association":"CONTRIBUTOR","body":"I thought that's what druid-api is for. Or more specifically, if you are writing extensions and using classes that are NOT in druid-api, then they might change from release to release.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286249187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286263963","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-286263963","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":286263963,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI2Mzk2Mw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T22:29:46Z","updated_at":"2017-03-13T22:29:46Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nYes, I was getting overloading errors, but the reason was because I still had `WritableResouceHandler` and `ResourceHandler` as separate classes from the previous scheme.  By making `WritableResourceHandler` extend `ResourceHandler` (parallel to `WritableMemory` extend `Memory`) it fixed the overloading problem.  \r\n\r\nI have removed all the prefixes of writable except for one:  writableRegion(offset, capacity).  This method works off of an instance instead of the class.   The call is  `myMem.writableRegion(...)`, so there is no repetition.  \r\n\r\nWe could also make this a static method and then the calls would be `WritableMemory.region(WritableMemory mem, long offset, long capacity)` and `Memory.region(Memory mem, long offset, long capacity)`.  Then there would be no \"writable\" prefixes on method names.  \r\n\r\nThis way of creating a region would then be virtually the same as if you just passed (Memory, offset, capacity) to a client, and let them do their own positioning. The latter does not create a new object but the client has a view of the total parent capacity.  The former creates a new object wrapper, but limits the client to what they can see.  There are use cases for both.\r\n\r\nI do prefer accessing the Writable \"constructor-type\" methods from the WritableMemory class.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286263963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286265935","html_url":"https://github.com/apache/druid/issues/4045#issuecomment-286265935","issue_url":"https://api.github.com/repos/apache/druid/issues/4045","id":286265935,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI2NTkzNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T22:39:01Z","updated_at":"2017-03-13T22:39:01Z","author_association":"MEMBER","body":"In general, `java-util` and `bytebuffer-collections` modules should be dissipated in other modules, mainly merged into `druid-common`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286265935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286266336","html_url":"https://github.com/apache/druid/issues/4044#issuecomment-286266336","issue_url":"https://api.github.com/repos/apache/druid/issues/4044","id":286266336,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI2NjMzNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T22:40:52Z","updated_at":"2017-03-13T22:40:52Z","author_association":"MEMBER","body":"`BufferAggregator` is not in druid-api, but @himanshug pointed out that many people extend it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286266336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286267608","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-286267608","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":286267608,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI2NzYwOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T22:47:14Z","updated_at":"2017-03-13T22:47:14Z","author_association":"MEMBER","body":"@leerho Thanks.\r\n\r\nThe current form: `mem.writableRegion()` is OK to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286267608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286275632","html_url":"https://github.com/apache/druid/pull/4028#issuecomment-286275632","issue_url":"https://api.github.com/repos/apache/druid/issues/4028","id":286275632,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI3NTYzMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T23:29:18Z","updated_at":"2017-03-13T23:29:18Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286275632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286280466","html_url":"https://github.com/apache/druid/issues/4047#issuecomment-286280466","issue_url":"https://api.github.com/repos/apache/druid/issues/4047","id":286280466,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI4MDQ2Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T23:57:24Z","updated_at":"2017-03-13T23:57:24Z","author_association":"CONTRIBUTOR","body":"Why would metrics need to be different?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286280466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286280544","html_url":"https://github.com/apache/druid/issues/4047#issuecomment-286280544","issue_url":"https://api.github.com/repos/apache/druid/issues/4047","id":286280544,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI4MDU0NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T23:57:55Z","updated_at":"2017-03-13T23:57:55Z","author_association":"CONTRIBUTOR","body":"Because one SQL query can lead to multiple native Druid queries, there's an extra layer that QueryResource doesn't have to deal with.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286280544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286280647","html_url":"https://github.com/apache/druid/issues/4047#issuecomment-286280647","issue_url":"https://api.github.com/repos/apache/druid/issues/4047","id":286280647,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI4MDY0Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-13T23:58:31Z","updated_at":"2017-03-13T23:58:31Z","author_association":"CONTRIBUTOR","body":"Would it make sense to have an extra dimension for those metrics instead?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286280647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286281035","html_url":"https://github.com/apache/druid/issues/4047#issuecomment-286281035","issue_url":"https://api.github.com/repos/apache/druid/issues/4047","id":286281035,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI4MTAzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T00:00:41Z","updated_at":"2017-03-14T00:00:41Z","author_association":"CONTRIBUTOR","body":"I dunno, it depends on whether you think `query/time` means \"the time it takes for an http call to return\" or \"the time it takes a native druid query to execute\". Either one should be fine as long as the information is there.\r\n\r\nWith other things, we give different \"layers\" of a request different names, like `query/time`, `query/node/time`, `query/segment/time`, etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286281035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286291271","html_url":"https://github.com/apache/druid/issues/4032#issuecomment-286291271","issue_url":"https://api.github.com/repos/apache/druid/issues/4032","id":286291271,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI5MTI3MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T01:06:30Z","updated_at":"2017-03-14T01:06:30Z","author_association":"CONTRIBUTOR","body":"@weijietong I looked over the paper you mentioned in your proposal, and I think implementing HashJoin is still valuable because join predicate can have arithmetic operators as described above which is difficult with bitmap indexes. In addition, I'm not sure but HashJoin wil be faster than CP, the proposed method in the paper, for equi join. Finally, I think having several join strategies will be beneficial. There is no one size fits all. We can choose one dynamically which is the best one for the given query and execution environment.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286291271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286322212","html_url":"https://github.com/apache/druid/pull/3991#issuecomment-286322212","issue_url":"https://api.github.com/repos/apache/druid/issues/3991","id":286322212,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjMyMjIxMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T04:56:06Z","updated_at":"2017-03-14T04:56:06Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286322212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286429114","html_url":"https://github.com/apache/druid/issues/3960#issuecomment-286429114","issue_url":"https://api.github.com/repos/apache/druid/issues/3960","id":286429114,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjQyOTExNA==","user":{"login":"gkiran292","id":6153136,"node_id":"MDQ6VXNlcjYxNTMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6153136?v=4","gravatar_id":"","url":"https://api.github.com/users/gkiran292","html_url":"https://github.com/gkiran292","followers_url":"https://api.github.com/users/gkiran292/followers","following_url":"https://api.github.com/users/gkiran292/following{/other_user}","gists_url":"https://api.github.com/users/gkiran292/gists{/gist_id}","starred_url":"https://api.github.com/users/gkiran292/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkiran292/subscriptions","organizations_url":"https://api.github.com/users/gkiran292/orgs","repos_url":"https://api.github.com/users/gkiran292/repos","events_url":"https://api.github.com/users/gkiran292/events{/privacy}","received_events_url":"https://api.github.com/users/gkiran292/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T13:59:01Z","updated_at":"2017-03-14T13:59:01Z","author_association":"NONE","body":"Yes, I faced the same problem for graphite too... could you please provide the option of disabling.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286429114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286456401","html_url":"https://github.com/apache/druid/issues/4044#issuecomment-286456401","issue_url":"https://api.github.com/repos/apache/druid/issues/4044","id":286456401,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjQ1NjQwMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T15:24:50Z","updated_at":"2017-03-14T15:24:50Z","author_association":"CONTRIBUTOR","body":"@drcrallen @leventov i don't think there is an exhaustive list of interfaces that are considered the extension points. however, things mentioned in http://druid.io/docs/0.9.2/development/modules.html are considered public extension points.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286456401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286480982","html_url":"https://github.com/apache/druid/issues/4048#issuecomment-286480982","issue_url":"https://api.github.com/repos/apache/druid/issues/4048","id":286480982,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjQ4MDk4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T16:37:48Z","updated_at":"2017-03-14T16:37:48Z","author_association":"CONTRIBUTOR","body":"The MM probably wasn't able to take new tasks at that point, since even though the peon finished, the ForkingTaskRunner thread is occupied until logs are done uploading. It sounds like a timeout on log uploading would have been useful.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286480982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286490665","html_url":"https://github.com/apache/druid/pull/4046#issuecomment-286490665","issue_url":"https://api.github.com/repos/apache/druid/issues/4046","id":286490665,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjQ5MDY2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T17:06:20Z","updated_at":"2017-03-14T17:06:20Z","author_association":"CONTRIBUTOR","body":"Oops, need to fix some tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286490665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286494441","html_url":"https://github.com/apache/druid/issues/4048#issuecomment-286494441","issue_url":"https://api.github.com/repos/apache/druid/issues/4048","id":286494441,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjQ5NDQ0MQ==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T17:17:57Z","updated_at":"2017-03-14T17:17:57Z","author_association":"CONTRIBUTOR","body":"From the discussion during the dev chat.  It sounds like we can resolve this with one of two options\r\n\r\n1. We can introduce a timeout to pushing up the logs and have it give up and just clean up the logs at some point\r\n2. We can hand the log upload off to another thread that does it in the background.  If we go with this option, this background thread should have a well-defined retry mechanism as well as a well-defined \"giving up\" point where it decides that it has too much of a backlog and just starts throwing things on the floor (where throwing things on the floor means deleting the local log files).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286494441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286496971","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-286496971","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":286496971,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjQ5Njk3MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T17:26:11Z","updated_at":"2017-03-14T17:26:11Z","author_association":"CONTRIBUTOR","body":"I believe the purpose of this maxId check is to prevent a selector from returning a value that is outside the bound of what `getValueCardinality()` returns before the caller starts walking through the cursor. This would violate the contract of DimensionSelector.\r\n\r\nI guess you could work around your original issue by filtering out empty strings. Would that work or do you think a different solution is needed?\r\n\r\nBtw: I just raised #4052 to fix a slight inconsistency here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286496971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286500693","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-286500693","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":286500693,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUwMDY5Mw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T17:37:48Z","updated_at":"2017-03-14T17:37:48Z","author_association":"CONTRIBUTOR","body":"#4052 looks good, I will backport #4052 and try it in my environment to see if my origin issue is gone.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286500693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286501332","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-286501332","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":286501332,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUwMTMzMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T17:39:52Z","updated_at":"2017-03-14T17:40:09Z","author_association":"CONTRIBUTOR","body":"It doesn't sound like it would fix your original issue by itself, unless you also have a filter like `not(selector(dim, \"\"))` to filter out empties. If you do that, your original issue should be fixed, I think.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286501332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286508484","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286508484","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286508484,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUwODQ4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T18:02:06Z","updated_at":"2017-03-14T18:02:06Z","author_association":"MEMBER","body":"`makeValueMatcher(final Predicate<String> predicate)` should probably also be updated: set bits past `maxId` to `false`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286508484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286509118","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286509118","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286509118,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUwOTExOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T18:04:04Z","updated_at":"2017-03-14T18:04:04Z","author_association":"CONTRIBUTOR","body":"I'll update that too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286509118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286509699","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286509699","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286509699,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUwOTY5OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T18:06:05Z","updated_at":"2017-03-14T18:06:05Z","author_association":"CONTRIBUTOR","body":"@leventov Nevermind, it looks like that's fine, since it does this already:\r\n\r\n```java\r\n    int cardinality = selector.getValueCardinality();\r\n    BitSet valueIds = new BitSet(cardinality);\r\n    for (int i = 0; i < cardinality; i++) {\r\n      if (predicate.apply(selector.lookupName(i))) {\r\n        valueIds.set(i);\r\n      }\r\n    }\r\n```\r\n\r\ngetValueCardinality is the same as maxId for this selector, so any bits past maxId will already be false.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286509699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286512715","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-286512715","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":286512715,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUxMjcxNQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T18:16:07Z","updated_at":"2017-03-14T18:16:07Z","author_association":"CONTRIBUTOR","body":"My original use case is like this:\r\nI cached the DImensionSelector, and then go through the cursor. When cursor comes to the new data, the cursor.isDone() returns false, then I use the cached DImensionSelector to getRow().get(0) -- I know I have a dimension which contains only 1 not-null value, so I can call get(0) without any check, and then \"Index (0) is greater than or equal to list size (0)\" exception is raised.\r\nI finally identify that it is due to the id>=maxId logic.\r\n\r\nI think if cursor.isDone() returns true when the cursor arrives to the new data, then there is no chance to call getRow().get(0) and should avoid the exception. \r\nIf valueMatcher handles the maxId correctly, the cursor.isDone() should also behaves correctly.\r\nWill look into this part of code to do something like #4052 -- I'm still using 0.9.2 and #4052 may not be able to be applied directly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286512715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286525002","html_url":"https://github.com/apache/druid/pull/4046#issuecomment-286525002","issue_url":"https://api.github.com/repos/apache/druid/issues/4046","id":286525002,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUyNTAwMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T18:56:16Z","updated_at":"2017-03-14T18:56:16Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286525002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286528202","html_url":"https://github.com/apache/druid/pull/4046#issuecomment-286528202","issue_url":"https://api.github.com/repos/apache/druid/issues/4046","id":286528202,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjUyODIwMg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T19:07:40Z","updated_at":"2017-03-14T19:07:40Z","author_association":"MEMBER","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286528202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286579010","html_url":"https://github.com/apache/druid/pull/3962#issuecomment-286579010","issue_url":"https://api.github.com/repos/apache/druid/issues/3962","id":286579010,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjU3OTAxMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-14T22:18:27Z","updated_at":"2017-03-14T22:18:27Z","author_association":"CONTRIBUTOR","body":"Resolved conflicts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286579010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286608733","html_url":"https://github.com/apache/druid/pull/4053#issuecomment-286608733","issue_url":"https://api.github.com/repos/apache/druid/issues/4053","id":286608733,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYwODczMw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T00:56:18Z","updated_at":"2017-03-15T00:56:18Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286608733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286612596","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286612596","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286612596,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYxMjU5Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T01:22:57Z","updated_at":"2017-03-15T01:22:57Z","author_association":"MEMBER","body":"@gianm @drcrallen this PR passes CI now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286612596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286613484","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286613484","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286613484,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYxMzQ4NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T01:28:55Z","updated_at":"2017-03-15T01:28:55Z","author_association":"CONTRIBUTOR","body":"haha, I can't approve my own pull request, thanks github","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286613484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286613514","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286613514","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286613514,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYxMzUxNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T01:29:08Z","updated_at":"2017-03-15T01:29:08Z","author_association":"CONTRIBUTOR","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286613514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286622744","html_url":"https://github.com/apache/druid/issues/1642#issuecomment-286622744","issue_url":"https://api.github.com/repos/apache/druid/issues/1642","id":286622744,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYyMjc0NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T02:30:30Z","updated_at":"2017-03-15T02:30:30Z","author_association":"CONTRIBUTOR","body":"Work based off this proposal was released a couple releases ago. Circling back and closing this.\r\n\r\nhttp://druid.io/docs/latest/development/extensions-core/kafka-ingestion.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286622744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286622817","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-286622817","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":286622817,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYyMjgxNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T02:31:06Z","updated_at":"2017-03-15T02:31:06Z","author_association":"CONTRIBUTOR","body":"Related to the logging situation: #401","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286622817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286630151","html_url":"https://github.com/apache/druid/issues/4051#issuecomment-286630151","issue_url":"https://api.github.com/repos/apache/druid/issues/4051","id":286630151,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYzMDE1MQ==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T03:22:44Z","updated_at":"2017-03-15T03:22:44Z","author_association":"NONE","body":"I am finding historical node down again and again with above exception. Any clue ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286630151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286638062","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286638062","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286638062,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYzODA2Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T04:28:56Z","updated_at":"2017-03-15T04:28:56Z","author_association":"CONTRIBUTOR","body":"Nevermind, this is all testing code, all good","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286638062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286638129","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286638129","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286638129,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYzODEyOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T04:29:38Z","updated_at":"2017-03-15T04:29:38Z","author_association":"CONTRIBUTOR","body":"Actually I believe the rule is that outside of docs, we need 2 +1s, so someone else will need to approve this","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286638129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286638808","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286638808","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286638808,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYzODgwOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T04:36:00Z","updated_at":"2017-03-15T04:36:52Z","author_association":"MEMBER","body":"@fjy this PR has commits from @drcrallen and me, and we approved each other's commits. The other +1 is from @gianm.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286638808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286639166","html_url":"https://github.com/apache/druid/issues/4056#issuecomment-286639166","issue_url":"https://api.github.com/repos/apache/druid/issues/4056","id":286639166,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYzOTE2Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T04:39:09Z","updated_at":"2017-03-15T04:39:09Z","author_association":"CONTRIBUTOR","body":"Related. https://github.com/druid-io/druid/issues/3837","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286639166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286639784","html_url":"https://github.com/apache/druid/issues/4056#issuecomment-286639784","issue_url":"https://api.github.com/repos/apache/druid/issues/4056","id":286639784,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjYzOTc4NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T04:44:39Z","updated_at":"2017-03-15T16:38:27Z","author_association":"CONTRIBUTOR","body":"Looks like 2.11.2 got bumped to 2.12.0?\r\n\r\nThat will not happen fast EDIT: was wrong, 2.12.0 was out and not detectable on mobile :-P","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286639784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286641602","html_url":"https://github.com/apache/druid/pull/4055#issuecomment-286641602","issue_url":"https://api.github.com/repos/apache/druid/issues/4055","id":286641602,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjY0MTYwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T05:01:07Z","updated_at":"2017-03-15T05:01:07Z","author_association":"CONTRIBUTOR","body":"LGTM!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286641602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286652986","html_url":"https://github.com/apache/druid/pull/3889#issuecomment-286652986","issue_url":"https://api.github.com/repos/apache/druid/issues/3889","id":286652986,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjY1Mjk4Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T06:30:25Z","updated_at":"2017-03-15T06:30:25Z","author_association":"MEMBER","body":"@himanshug now `BufferAggregator.inspectRuntimeShape()` has default implementation.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286652986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286668418","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286668418","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286668418,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjY2ODQxOA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T08:05:18Z","updated_at":"2017-03-15T08:11:13Z","author_association":"CONTRIBUTOR","body":"for\r\n> makeValueMatcher(final Predicate<String> predicate)\r\n\r\nthe\r\n\r\n> for (int i = 0; i < cardinality; i++) {\r\n\r\nis not good enough\r\nlike in such case:\r\na new row whose interval is inside cursor's interval, arrives after the cursor created, and the dimension used in filter is multi-value dimension, the dim values contains both new value and old value.\r\nIn this case, the entire row should be ignored for consistency, it shouldn't be a `match` due to part of dim value matches. If it is a `match`, maybe some code in other place can get the new dim value which violates the contract of DimensionSelector. @gianm \r\n\r\nBTW, I really doubt why do we have such a contract? I think the maxId check thing is not necessary at all.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286668418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286709384","html_url":"https://github.com/apache/druid/issues/4058#issuecomment-286709384","issue_url":"https://api.github.com/repos/apache/druid/issues/4058","id":286709384,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjcwOTM4NA==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T11:01:42Z","updated_at":"2017-03-15T11:01:42Z","author_association":"NONE","body":"just like #3564 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286709384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286724163","html_url":"https://github.com/apache/druid/issues/4032#issuecomment-286724163","issue_url":"https://api.github.com/repos/apache/druid/issues/4032","id":286724163,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjcyNDE2Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T12:14:37Z","updated_at":"2017-03-15T12:14:37Z","author_association":"CONTRIBUTOR","body":"I discussed with @gianm offilne, and found that load rules are not proper for data broadcast because load rules are currently used for replication which is usually for retaining data. Broadcasting data is an extreme case of replication, and I think it will be used only for join. So, if load rules are used for broadcasting data, they are used for two different goals, retaining data and preparing data for join.\r\n\r\nTo avoid this, @gianm proposed a new rule called ```DistributionRule```. This new rule controls the data distribution by specifying like \"these two tables should be stored together\". In this case, a smaller one is broadcasted to all nodes holding the segments of the larger one. Also, this rule can be extended to include partitions like \"these two tables should be stored together by partition on a key\". This rule can be applied to only partitioned data sources on the same key. It means, the distribution of a data source can be changed by applying DistributionRule, but its configuration which is specified at ingestion time (like partitionSpec) cannot be changed. \r\n\r\nI think this will be valueable because it is less confused than using load rules and extensible for partitions. @weijietong, I also think you can use this feature later. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286724163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286725639","html_url":"https://github.com/apache/druid/issues/4040#issuecomment-286725639","issue_url":"https://api.github.com/repos/apache/druid/issues/4040","id":286725639,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjcyNTYzOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T12:21:42Z","updated_at":"2017-03-15T12:21:42Z","author_association":"CONTRIBUTOR","body":"Thanks for your reply. For the second question, I'd like to ask you further how you decide the location of segments of different data sources partitioned by the same dimension. I think only the segments of the associated data sources should be co-located together because, otherwise, a skewed data distribution can be caused. I wrote some idea about this issue [here](https://github.com/druid-io/druid/issues/4032#issuecomment-286724163).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286725639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286759666","html_url":"https://github.com/apache/druid/pull/4057#issuecomment-286759666","issue_url":"https://api.github.com/repos/apache/druid/issues/4057","id":286759666,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc1OTY2Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T14:32:10Z","updated_at":"2017-03-15T14:32:10Z","author_association":"CONTRIBUTOR","body":"@tallongsun please submit this PR against master, we are no longer taking PRs for 0.9.1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286759666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286767117","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286767117","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286767117,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc2NzExNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T14:55:09Z","updated_at":"2017-03-15T14:55:09Z","author_association":"CONTRIBUTOR","body":"@leventov my +1 was conditional on the question I had above, so I'm guessing the answer is \"yes that should be fine\"? Pursuant to that I added this to the release notes for 0.10.0:\r\n\r\n> Extensions targeting Druid 0.10.x must be compiled with JDK 8 to be compatible with future 0.10.x releases.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286767117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770259","html_url":"https://github.com/apache/druid/pull/4060#issuecomment-286770259","issue_url":"https://api.github.com/repos/apache/druid/issues/4060","id":286770259,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc3MDI1OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:04:36Z","updated_at":"2017-03-15T15:04:36Z","author_association":"CONTRIBUTOR","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770386","html_url":"https://github.com/apache/druid/pull/4060#issuecomment-286770386","issue_url":"https://api.github.com/repos/apache/druid/issues/4060","id":286770386,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc3MDM4Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:05:00Z","updated_at":"2017-03-15T15:05:00Z","author_association":"CONTRIBUTOR","body":"Opinions on whether we should we include this in 0.10.0 too?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770550","html_url":"https://github.com/apache/druid/issues/4056#issuecomment-286770550","issue_url":"https://api.github.com/repos/apache/druid/issues/4056","id":286770550,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc3MDU1MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:05:34Z","updated_at":"2017-03-15T15:05:34Z","author_association":"CONTRIBUTOR","body":"Looks like a version with the fix was released a couple of weeks ago. Thanks @andy256 for the reminder, I raised #4060 to update our version.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770687","html_url":"https://github.com/apache/druid/pull/4060#issuecomment-286770687","issue_url":"https://api.github.com/repos/apache/druid/issues/4060","id":286770687,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc3MDY4Nw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:06:00Z","updated_at":"2017-03-15T15:06:00Z","author_association":"NONE","body":"Thank you for the quick turnaround @gianm!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770892","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286770892","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286770892,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc3MDg5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:06:36Z","updated_at":"2017-03-15T15:06:36Z","author_association":"CONTRIBUTOR","body":"Also: opinions on whether we should include this in 0.10.0 too? If we're going to build with jdk8 in 0.10.1 it seems \"cleaner\" to do it starting from 0.10.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286770892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286779784","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286779784","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286779784,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc3OTc4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:32:40Z","updated_at":"2017-03-15T15:32:40Z","author_association":"CONTRIBUTOR","body":"@kaijianding The contract is there because it enables optimizations that need to be able to read the dictionary ahead of time. For example, ValueMatchers can use it to build a set of ids matching a predicate before scanning, and then use that set during the scan for filtering (instead of actually applying the predicate to each row). TopN can use it to pre-allocate storage for each possible dimension value. Filtered DimensionSpecs can use it to build an id mapping ahead of time. If DimensionSelector `getRow()` could return ids beyond what `getValueCardinality()` returns when the selector is first created, then applying these optimizations could lead to incorrect results.\r\n\r\nOf course, the current solution to that problem (pretending the values are null) isn't perfect either: it leads to the issue you're facing now, where nulls show up in unexpected places.\r\n\r\nOne way to solve both problems is to return `CARDINALITY_UNKNOWN` from `getValueCardinality()` of StringDimensionIndexer's DimensionSelector and also remove the maxId limit. This would tell callers that the dictionary isn't known ahead of time and disable the above optimizations. I'm not sure if this would be worth the performance hit or not.\r\n\r\nAnother is on the query end: if you add a filter like the following to your query, then (after the patch from this PR is applied) you won't get unexpected nulls in `myDim`.\r\n\r\n```java\r\n{\r\n  \"type\": \"not\",\r\n  \"field\": {\r\n    \"type\": \"selector\",\r\n    \"dimension\": \"myDim\",\r\n    \"value\": \"\"\r\n  }\r\n}\r\n```\r\n\r\nAnother option is to change the contract of DimensionSelector such that `getRow()` _can_ return values outside `getValueCardinality()`, and it's up to the caller to decide what it wants to do. Perhaps topN and groupBy would decide to skip over such values and not include them in the results.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286779784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286780759","html_url":"https://github.com/apache/druid/pull/4060#issuecomment-286780759","issue_url":"https://api.github.com/repos/apache/druid/issues/4060","id":286780759,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc4MDc1OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:35:36Z","updated_at":"2017-03-15T15:35:36Z","author_association":"CONTRIBUTOR","body":"Since this should fix 2 bugs 0.10.0 seems like a reasonable place","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286780759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286781469","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286781469","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286781469,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc4MTQ2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T15:37:51Z","updated_at":"2017-03-15T15:37:51Z","author_association":"CONTRIBUTOR","body":"@leventov I'll look at both of those.\r\n\r\nOther than fixing bugs with the behavior under the current contract, does anyone have any opinions on other options from my previous comment? I'm wondering what the best behavior is:\r\n\r\n- Keep current DimensionSelector contract and current StringDimensionIndexer behavior (with this bug fix).\r\n- Keep current DimensionSelector contract, but return `CARDINALITY_UNKNOWN` from StringDimensionIndexer's dimension selectors. Then the current contract allows them to return values that didn't exist when they were created. This would disable some optimizations.\r\n- Change DimensionSelector contract to allow returning values >= getValueCardinality and leave it up to callers to decide what to do when this happens.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286781469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286796884","html_url":"https://github.com/apache/druid/issues/3608#issuecomment-286796884","issue_url":"https://api.github.com/repos/apache/druid/issues/3608","id":286796884,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc5Njg4NA==","user":{"login":"zhihuij","id":883232,"node_id":"MDQ6VXNlcjg4MzIzMg==","avatar_url":"https://avatars.githubusercontent.com/u/883232?v=4","gravatar_id":"","url":"https://api.github.com/users/zhihuij","html_url":"https://github.com/zhihuij","followers_url":"https://api.github.com/users/zhihuij/followers","following_url":"https://api.github.com/users/zhihuij/following{/other_user}","gists_url":"https://api.github.com/users/zhihuij/gists{/gist_id}","starred_url":"https://api.github.com/users/zhihuij/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhihuij/subscriptions","organizations_url":"https://api.github.com/users/zhihuij/orgs","repos_url":"https://api.github.com/users/zhihuij/repos","events_url":"https://api.github.com/users/zhihuij/events{/privacy}","received_events_url":"https://api.github.com/users/zhihuij/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T16:24:06Z","updated_at":"2017-03-15T16:24:06Z","author_association":"CONTRIBUTOR","body":"> the existing mechanisms for cleaning up task work directories\r\n\r\nhttps://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/overlord/ForkingTaskRunner.java#L492","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286796884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286799704","html_url":"https://github.com/apache/druid/issues/3608#issuecomment-286799704","issue_url":"https://api.github.com/repos/apache/druid/issues/3608","id":286799704,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc5OTcwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T16:32:49Z","updated_at":"2017-03-15T16:32:49Z","author_association":"CONTRIBUTOR","body":"Yes, that's it, sorry for not getting back to you earlier.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286799704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286800815","html_url":"https://github.com/apache/druid/pull/4060#issuecomment-286800815","issue_url":"https://api.github.com/repos/apache/druid/issues/4060","id":286800815,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjgwMDgxNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T16:36:16Z","updated_at":"2017-03-15T16:36:16Z","author_association":"CONTRIBUTOR","body":"We will probably pull it into our deployment regardless.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286800815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286801479","html_url":"https://github.com/apache/druid/pull/4060#issuecomment-286801479","issue_url":"https://api.github.com/repos/apache/druid/issues/4060","id":286801479,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjgwMTQ3OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T16:38:19Z","updated_at":"2017-03-15T16:38:19Z","author_association":"CONTRIBUTOR","body":"> We will probably pull it into our deployment regardless.\r\n\r\nThat's good, it derisks putting it into 0.10.0. I'll mark this for 0.10.0 then, since it's fixing bugs and you are planning to deploy it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286801479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286814604","html_url":"https://github.com/apache/druid/pull/3328#issuecomment-286814604","issue_url":"https://api.github.com/repos/apache/druid/issues/3328","id":286814604,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjgxNDYwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T17:17:29Z","updated_at":"2017-03-15T17:17:29Z","author_association":"MEMBER","body":"@gianm \r\n\r\n> my +1 was conditional on the question I had above, so I'm guessing the answer is \"yes that should be fine\"?\r\n\r\nYes, @drcrallen agreed with that, I also agree.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286814604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286824754","html_url":"https://github.com/apache/druid/issues/4034#issuecomment-286824754","issue_url":"https://api.github.com/repos/apache/druid/issues/4034","id":286824754,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjgyNDc1NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T17:49:33Z","updated_at":"2017-03-15T17:49:33Z","author_association":"MEMBER","body":"E. g. https://github.com/druid-io/druid/pull/3889/commits/77c3981ed8328b00955979a2e476ab3bd1457b5c","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286824754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286827823","html_url":"https://github.com/apache/druid/pull/4063#issuecomment-286827823","issue_url":"https://api.github.com/repos/apache/druid/issues/4063","id":286827823,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjgyNzgyMw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T17:59:03Z","updated_at":"2017-03-15T17:59:03Z","author_association":"CONTRIBUTOR","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286827823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286833483","html_url":"https://github.com/apache/druid/pull/4053#issuecomment-286833483","issue_url":"https://api.github.com/repos/apache/druid/issues/4053","id":286833483,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjgzMzQ4Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T18:17:58Z","updated_at":"2017-03-15T18:17:58Z","author_association":"CONTRIBUTOR","body":" ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286833483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286851983","html_url":"https://github.com/apache/druid/issues/4051#issuecomment-286851983","issue_url":"https://api.github.com/repos/apache/druid/issues/4051","id":286851983,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1MTk4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:24:05Z","updated_at":"2017-03-15T19:24:05Z","author_association":"CONTRIBUTOR","body":"@arpankhagram I think you probably have the cause and effect backwards. This exception is not making your historical node shut down, it's happening _because_ your historical node is shutting down. Is it possible something is killing it? Maybe you're running it from a terminal that then closes, or something like that? Are there any exceptions further up in the log that look like they might be fatal to the historical node?\r\n\r\nGoing to untag this from 0.10.0 since it doesn't appear to be an 0.10.0 issue to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286851983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286853303","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286853303","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286853303,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1MzMwMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:29:24Z","updated_at":"2017-03-15T19:29:24Z","author_association":"CONTRIBUTOR","body":"Is there any reason not to use the bytebuffer anyway? It's already allocated for the query whether we use it or not, and if we use it, then we don't need an additional implementation of aggregation. It seems like this optimization could be done by making changes just to the topN engine and not to BufferAggregator.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286853303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286853927","html_url":"https://github.com/apache/druid/pull/4057#issuecomment-286853927","issue_url":"https://api.github.com/repos/apache/druid/issues/4057","id":286853927,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1MzkyNw==","user":{"login":"tallongsun","id":7836739,"node_id":"MDQ6VXNlcjc4MzY3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/7836739?v=4","gravatar_id":"","url":"https://api.github.com/users/tallongsun","html_url":"https://github.com/tallongsun","followers_url":"https://api.github.com/users/tallongsun/followers","following_url":"https://api.github.com/users/tallongsun/following{/other_user}","gists_url":"https://api.github.com/users/tallongsun/gists{/gist_id}","starred_url":"https://api.github.com/users/tallongsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallongsun/subscriptions","organizations_url":"https://api.github.com/users/tallongsun/orgs","repos_url":"https://api.github.com/users/tallongsun/repos","events_url":"https://api.github.com/users/tallongsun/events{/privacy}","received_events_url":"https://api.github.com/users/tallongsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:31:48Z","updated_at":"2017-03-15T19:31:48Z","author_association":"NONE","body":"@fly ok","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286853927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286854369","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286854369","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286854369,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1NDM2OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:33:43Z","updated_at":"2017-03-15T19:34:08Z","author_association":"MEMBER","body":"@gianm I'm almost sure Hotspot won't be able to vectorize loop, which writes to ByteBuffer on each iteration. However to allow to write a really concise loop and vectorization this optimization should also be integrated with Cursor, it should be checked that cursor is not filtering and goes though a continuous chunk of memory.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286854369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286856290","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286856290","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286856290,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1NjI5MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:41:42Z","updated_at":"2017-03-15T20:17:00Z","author_association":"MEMBER","body":"Also since now we can use `default` methods in interfaces, it's not a problem to add such new method(s) to `BufferAggregator`, they could have default implementation:\r\n```java\r\nByteBuffer bb = allocate(aggSize());\r\ninit(bb, 0);\r\nfor (value : cursor) {\r\n  aggregate(bb, 0, value);\r\n}\r\nreturn get(bb, 0);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286856290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286859417","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286859417","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286859417,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1OTQxNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T19:54:02Z","updated_at":"2017-03-15T19:54:02Z","author_association":"CONTRIBUTOR","body":"Oh, thanks for the example code, now I understand what you mean. Earlier I thought you meant this new method would process just one row. But it looks you meant to process the entire cursor.\r\n\r\nAlternatively what do you think of vectorizing the cursor, so it can advance in chunks at a time and we can have aggregators aggregate over a whole chunk? Then they can still use a bytebuffer for storage without too much overhead, by extracting the aggregator state, aggregating a chunk into it, and then writing it back. \"aggregating a chunk into it\" will be the hot loop. Could also be nicer when aggregating multiple columns in the same query.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286859417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286866376","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286866376","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286866376,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg2NjM3Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T20:20:21Z","updated_at":"2017-03-15T20:20:21Z","author_association":"MEMBER","body":"@gianm sounds good","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286866376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286873203","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286873203","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286873203,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg3MzIwMw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T20:45:09Z","updated_at":"2017-03-15T20:45:09Z","author_association":"CONTRIBUTOR","body":"ping @xvrl who has worked on vectorization some as well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286873203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286887391","html_url":"https://github.com/apache/druid/pull/4062#issuecomment-286887391","issue_url":"https://api.github.com/repos/apache/druid/issues/4062","id":286887391,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg4NzM5MQ==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T21:36:51Z","updated_at":"2017-03-15T21:36:51Z","author_association":"NONE","body":"Does this mean that Caffeine could become the default in-memory cache since JDK8 is required?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286887391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286888958","html_url":"https://github.com/apache/druid/pull/4062#issuecomment-286888958","issue_url":"https://api.github.com/repos/apache/druid/issues/4062","id":286888958,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg4ODk1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T21:43:10Z","updated_at":"2017-03-15T21:43:10Z","author_association":"CONTRIBUTOR","body":"I don't see why not, if it's always better than the default and doesn't bring in dependencies that would be difficult to deal with.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286888958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286893380","html_url":"https://github.com/apache/druid/issues/4036#issuecomment-286893380","issue_url":"https://api.github.com/repos/apache/druid/issues/4036","id":286893380,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg5MzM4MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T22:00:51Z","updated_at":"2017-03-15T22:00:51Z","author_association":"CONTRIBUTOR","body":"@naman-aasaan do you have logs from the overlord that show it trying to write to MySQL and failing?\r\n\r\nIs the supervisor active and responding to endpoints like status? See \"Get Supervisor Status Report\" at http://druid.io/docs/latest/development/extensions-core/kafka-ingestion.html. (supervisorId is the datasource name)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286893380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286893600","html_url":"https://github.com/apache/druid/issues/4026#issuecomment-286893600","issue_url":"https://api.github.com/repos/apache/druid/issues/4026","id":286893600,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg5MzYwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T22:01:44Z","updated_at":"2017-03-15T22:01:44Z","author_association":"CONTRIBUTOR","body":"@akashdw, have you had a chance to work on or test this patch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286893600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286902595","html_url":"https://github.com/apache/druid/pull/4062#issuecomment-286902595","issue_url":"https://api.github.com/repos/apache/druid/issues/4062","id":286902595,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjkwMjU5NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T22:41:27Z","updated_at":"2017-03-15T22:41:27Z","author_association":"CONTRIBUTOR","body":"@ben-manes its worked so well for us I forget it isn't the default :-P","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286902595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286904727","html_url":"https://github.com/apache/druid/issues/4026#issuecomment-286904727","issue_url":"https://api.github.com/repos/apache/druid/issues/4026","id":286904727,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjkwNDcyNw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-15T22:52:04Z","updated_at":"2017-03-15T22:52:04Z","author_association":"CONTRIBUTOR","body":"@gianm, done with the code, testing is in progress. If everything goes well, will create a PR tomorrow. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286904727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286935963","html_url":"https://github.com/apache/druid/issues/4040#issuecomment-286935963","issue_url":"https://api.github.com/repos/apache/druid/issues/4040","id":286935963,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjkzNTk2Mw==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T02:03:05Z","updated_at":"2017-03-16T02:44:04Z","author_association":"NONE","body":"@jihoonson I have read the proposed idea by @gianm. I think `DistributionRule` is a good concept to express the data distribution to the users. \r\n\r\nAs mentioned above ,to distribute the partitioned data, I defined four relevant metadata tables which is similar to implement the `DistributionRule`. A bucket is a group of segments which have partitioned by the same dimension key. The  metadata table `table_group` specify which tables will apply the following distribution strategy. When ingesting the data,we have the bucket number and the relevant segment relationship. This metadata stores in the `bucket_segment` metadata table.I define another common distribution interface called `IPartition` which do the work to distribute the bucket number to a server that also means find the sever to load the relevant segments. I have implemented several different consistent hash implications of that interface to be candidate. Also that interface has the responsibility to do the replication work. I use the double ring with replicator factor to guarantee replicated segments stored at different servers. The distribution result of this interface will be stored in the metadata table `bucket_assignment` . I reuse the `LoadRule` to do the real work to load segments according to the distribution result of last step. Another reason to store `bucket_assignment` is to compare the old / new distribution results to choose the segments to be moved due to the cluster has changed and the users decide to do so.\r\n\r\nI think this is a implementation of the `DistributionRule` concept . To broadcast table ,the bucket equals to the small table and another `IPartition` implementation to assign this small table to all the servers which service the biggest table. Any advice or objections please.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286935963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286943391","html_url":"https://github.com/apache/druid/issues/4040#issuecomment-286943391","issue_url":"https://api.github.com/repos/apache/druid/issues/4040","id":286943391,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk0MzM5MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T02:55:25Z","updated_at":"2017-03-16T02:55:25Z","author_association":"CONTRIBUTOR","body":"You mean the locations of segments (including replicas) are decided by ```IPartition``` which is based on the consistent hashing, and the actual storing and replicating segments are done by load rules? Sounds good, but I have one more question about that.\r\nDruid is currently using ```BalancerStrategy``` to decide which server will hold a segment. ```IPartition``` seems to do the same work, so do you have any reason why you added a new interface? \r\nAnd, this new interface can be integrated well with the existing one? I wonder what happens if ```BalancerStrategy``` and ```IPartition``` doesn't return the same location for the same replica.\r\n\r\nAnd, I think the work relating to the consistent hashing will be large because it should contain codes handling cluster changes. It would be better to make a separate PR for it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286943391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286949289","html_url":"https://github.com/apache/druid/pull/3873#issuecomment-286949289","issue_url":"https://api.github.com/repos/apache/druid/issues/3873","id":286949289,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk0OTI4OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T03:39:59Z","updated_at":"2017-03-16T03:39:59Z","author_association":"CONTRIBUTOR","body":"@himanshug @jihoonson @nishantmonu51 \r\n\r\nUpdated this with some large refactoring changes:\r\n- Made a base AbstractBufferGrouper with different implementations for non-pushdown and push down\r\n- Split out the off-heap hash table, list, and min-max heap structures into separate classes\r\n\r\nWaiting on benchmark results, will update this PR with them when ready.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286949289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286949620","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-286949620","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":286949620,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk0OTYyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T03:43:13Z","updated_at":"2017-03-16T03:43:13Z","author_association":"CONTRIBUTOR","body":"@ben-manes would you be willing to contribute a patch that does the necessary shuffling around of things?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286949620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286949687","html_url":"https://github.com/apache/druid/issues/4026#issuecomment-286949687","issue_url":"https://api.github.com/repos/apache/druid/issues/4026","id":286949687,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk0OTY4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T03:43:42Z","updated_at":"2017-03-16T03:43:42Z","author_association":"CONTRIBUTOR","body":"Great, thank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286949687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286952084","html_url":"https://github.com/apache/druid/issues/4040#issuecomment-286952084","issue_url":"https://api.github.com/repos/apache/druid/issues/4040","id":286952084,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk1MjA4NA==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T04:03:32Z","updated_at":"2017-03-16T05:04:31Z","author_association":"NONE","body":"To be concrete ,`IPartition` does the real distribution logic work ,which we can have different distribution algorithms like the `HRW consistent hash`,`Jump consistent hash`,the traditional ring consistent hash ,or just assign to all the corresponding servers like broadcasting. I implementation another `BalancerStrategy ` called `ClusteringBalancerStrategy` which use the distribution result (i.e. the saved metadata of `bucket_assigment`)calculated by the `IPartition` .  More concretely, there's a new Helper implementation which run periodically to run the `IParition` method , watch the cluster status, collect the distribution result from the metadata table , pack the distribution result as runtime parameters for the next Helper i.e. the `ClusteringBalancerStrategy` to use. \r\n\r\nAs Druid now only use the `CostBalancerStrategy` by writing the hacker code ,that's a restriction that we maybe need to do a change ,My indirect solution is to let `CostBalancerStrategy` to  have a nested `ClusteringBalancerStrategy`.\r\n\r\n`BalancerStrategy` has methods to solve the rebalance question , that's where consistent hash was designed to solve. As we ever discussed offline , whether to rebalance the segments as the cluster changes ,the decision belongs to the users through change the `assignment_version` metadata effective tag by a shell tool. I don't think we need another PR for it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286952084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286956027","html_url":"https://github.com/apache/druid/issues/4040#issuecomment-286956027","issue_url":"https://api.github.com/repos/apache/druid/issues/4040","id":286956027,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk1NjAyNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T04:38:28Z","updated_at":"2017-03-16T04:38:28Z","author_association":"CONTRIBUTOR","body":"Ah, I got it. Thanks for your detailed description. It's ok if the size of PR is not large. Please go ahead.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286956027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286963235","html_url":"https://github.com/apache/druid/issues/4065#issuecomment-286963235","issue_url":"https://api.github.com/repos/apache/druid/issues/4065","id":286963235,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk2MzIzNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T05:41:10Z","updated_at":"2017-03-16T05:41:10Z","author_association":"MEMBER","body":"And for `CountBufferAggregator`, it is not even a loop, it's O(1) getting the size of the block or the cardinality of the cursor.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286963235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286963264","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-286963264","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":286963264,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk2MzI2NA==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T05:41:23Z","updated_at":"2017-03-16T05:41:23Z","author_association":"NONE","body":"I could try, but I wouldn't be able to get to it for a week or two.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286963264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286967100","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-286967100","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":286967100,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk2NzEwMA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T06:12:34Z","updated_at":"2017-03-16T06:12:34Z","author_association":"CONTRIBUTOR","body":"If keep the contract, when the filter is null which means not using the the ValueMatcher in StringDimensionIndexer and accepts all rows, it also hits this issue. To fix this issue in that case, I think a more complex solution is needed. @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286967100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/286972242","html_url":"https://github.com/apache/druid/pull/3873#issuecomment-286972242","issue_url":"https://api.github.com/repos/apache/druid/issues/3873","id":286972242,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njk3MjI0Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T06:49:43Z","updated_at":"2017-03-16T06:49:43Z","author_association":"CONTRIBUTOR","body":"Great! Thanks for your effort. I'll review soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/286972242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/287089661","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-287089661","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":287089661,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzA4OTY2MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T15:15:50Z","updated_at":"2017-03-16T15:15:50Z","author_association":"CONTRIBUTOR","body":"You might still get to it first!\r\n\r\nGoing to mark this 0.10.1 since it seems like something we should be able to do for the next release.\r\n\r\nBtw, there is no \"default\" cache (by default cache is disabled, and enabling it requires setting a specific cache type) so imo, what this issue should be about is:\r\n\r\n- Move caffeine-cache from an extension to core\r\n- Update the example cache configs (where most users get their first cache configs from) to use `caffeine` instead of `local`\r\n- Update other caching related docs, and release notes, to push people towards choosing `caffeine` over `local`\r\n- Possibly deprecate `local`\r\n\r\nAn alternative interpretation is we should merge `local` with `caffeine` so they both do the same thing, but I don't think we should do this right now, in part because the configs are different and so it wouldn't be a fully compatible change with folks' existing configs. imo, it would make sense to do that in the next major release when `local` is not just deprecated, but removed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/287089661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/287092682","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-287092682","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":287092682,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzA5MjY4Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T15:25:06Z","updated_at":"2017-03-16T15:25:06Z","author_association":"CONTRIBUTOR","body":"To play Devils' advocate here:\r\n\r\nIs there any advantage to moving it to core vs updating the example configs to include it by default?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/287092682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/287094349","html_url":"https://github.com/apache/druid/issues/4067#issuecomment-287094349","issue_url":"https://api.github.com/repos/apache/druid/issues/4067","id":287094349,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzA5NDM0OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-16T15:30:09Z","updated_at":"2017-03-16T15:30:09Z","author_association":"CONTRIBUTOR","body":"My thinking is that since local and memcache are not-extensions, having caffeine be an extension makes it feel less \"recommended\". If local cache and memcache became extensions too then it would make sense for caffeine to stay an extension.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/287094349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]