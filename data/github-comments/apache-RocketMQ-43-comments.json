[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549413172","html_url":"https://github.com/apache/rocketmq/pull/1562#issuecomment-549413172","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1562","id":549413172,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTQxMzE3Mg==","user":{"login":"YuShanMuGong","id":13248312,"node_id":"MDQ6VXNlcjEzMjQ4MzEy","avatar_url":"https://avatars.githubusercontent.com/u/13248312?v=4","gravatar_id":"","url":"https://api.github.com/users/YuShanMuGong","html_url":"https://github.com/YuShanMuGong","followers_url":"https://api.github.com/users/YuShanMuGong/followers","following_url":"https://api.github.com/users/YuShanMuGong/following{/other_user}","gists_url":"https://api.github.com/users/YuShanMuGong/gists{/gist_id}","starred_url":"https://api.github.com/users/YuShanMuGong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YuShanMuGong/subscriptions","organizations_url":"https://api.github.com/users/YuShanMuGong/orgs","repos_url":"https://api.github.com/users/YuShanMuGong/repos","events_url":"https://api.github.com/users/YuShanMuGong/events{/privacy}","received_events_url":"https://api.github.com/users/YuShanMuGong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-04T15:43:32Z","updated_at":"2019-11-04T15:44:20Z","author_association":"NONE","body":"你好，你这个修改，只修改了并行消费模式的最大重试次数。。我觉得既然是个消息级别的设置，那么应该在各种消费模式下都能起作用。\r\n\r\n我尝试写了一版功能，你能帮我Review一下吗？[PR1570](https://github.com/apache/rocketmq/pull/1570)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549413172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549420526","html_url":"https://github.com/apache/rocketmq/pull/1570#issuecomment-549420526","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1570","id":549420526,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTQyMDUyNg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-04T15:59:26Z","updated_at":"2019-12-22T07:23:48Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/27749244/badge)](https://coveralls.io/builds/27749244)\n\nCoverage increased (+0.02%) to 50.631% when pulling **2c737af7c67e675b126a15b79531f4418bfe7f1b on YuShanMuGong:dev-supportMsgSpecifyReconsumeTimes** into **d1b4e47c26576cf4fa543bbdd8c6f09643220bed on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549420526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549683517","html_url":"https://github.com/apache/rocketmq/pull/1572#issuecomment-549683517","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1572","id":549683517,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTY4MzUxNw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T06:37:38Z","updated_at":"2019-11-05T06:38:01Z","author_association":"CONTRIBUTOR","body":"@geektao thanks for your contribution, and it seems the CI process failed:\r\n[ERROR] /home/travis/build/apache/rocketmq/acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java:[212,52] diamond operator is not supported in -source 1.6\r\n  (use -source 7 or higher to enable diamond operator)\r\n[ERROR] /home/travis/build/apache/rocketmq/acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java:[276,57] diamond operator is not supported in -source 1.6\r\n\r\ncould you fix it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549683517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549684494","html_url":"https://github.com/apache/rocketmq/pull/1571#issuecomment-549684494","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1571","id":549684494,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTY4NDQ5NA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T06:40:53Z","updated_at":"2019-11-05T06:40:53Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26764586/badge)](https://coveralls.io/builds/26764586)\n\nCoverage decreased (-0.07%) to 50.542% when pulling **f8eb4d80a2d56d6147add795963f4931fa0fa424 on guyuezheng:master** into **75fa7fb131ef11a5a3311a3d39dcb8204614ab9a on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549684494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549685338","html_url":"https://github.com/apache/rocketmq/pull/1572#issuecomment-549685338","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1572","id":549685338,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTY4NTMzOA==","user":{"login":"geektao","id":10186100,"node_id":"MDQ6VXNlcjEwMTg2MTAw","avatar_url":"https://avatars.githubusercontent.com/u/10186100?v=4","gravatar_id":"","url":"https://api.github.com/users/geektao","html_url":"https://github.com/geektao","followers_url":"https://api.github.com/users/geektao/followers","following_url":"https://api.github.com/users/geektao/following{/other_user}","gists_url":"https://api.github.com/users/geektao/gists{/gist_id}","starred_url":"https://api.github.com/users/geektao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geektao/subscriptions","organizations_url":"https://api.github.com/users/geektao/orgs","repos_url":"https://api.github.com/users/geektao/repos","events_url":"https://api.github.com/users/geektao/events{/privacy}","received_events_url":"https://api.github.com/users/geektao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T06:43:52Z","updated_at":"2019-11-05T06:43:52Z","author_association":"NONE","body":"> @geektao thanks for your contribution, and it seems the CI process failed:\r\n> [ERROR] /home/travis/build/apache/rocketmq/acl/src/main/java/org/apache/rocketmq/acl/common/AclUtils.java:[212,52] diamond operator is not supported in -source 1.6\r\n> (use -source 7 or higher to enable diamond operator)\r\n> [ERROR] /home/travis/build/apache/rocketmq/acl/src/main/java/org/apache/rocketmq/acl/plain/PlainPermissionManager.java:[276,57] diamond operator is not supported in -source 1.6\r\n> \r\n> could you fix it?\r\n\r\nI try to merge develp branch ,and fix it .","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549685338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549692072","html_url":"https://github.com/apache/rocketmq/pull/1572#issuecomment-549692072","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1572","id":549692072,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTY5MjA3Mg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T07:07:40Z","updated_at":"2019-11-05T07:07:40Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26764906/badge)](https://coveralls.io/builds/26764906)\n\nCoverage decreased (-0.2%) to 50.461% when pulling **b5b916ea415fd6b40d761488c362f22a8c0d0804 on geektao:1558** into **75fa7fb131ef11a5a3311a3d39dcb8204614ab9a on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549692072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549785932","html_url":"https://github.com/apache/rocketmq/pull/1575#issuecomment-549785932","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1575","id":549785932,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTc4NTkzMg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T11:35:48Z","updated_at":"2019-11-05T11:35:48Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26769666/badge)](https://coveralls.io/builds/26769666)\n\nCoverage decreased (-0.04%) to 50.571% when pulling **373100ee28c05c202c25a78d047ee1f7f6b45e5d on ShadowySpirits:fix-spell** into **034bebc1c2f3387d78377d0076d010e3bb625ad0 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/549785932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550143063","html_url":"https://github.com/apache/rocketmq/pull/1577#issuecomment-550143063","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1577","id":550143063,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDE0MzA2Mw==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T04:53:01Z","updated_at":"2019-11-06T04:53:01Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26792122/badge)](https://coveralls.io/builds/26792122)\n\nCoverage decreased (-0.006%) to 50.61% when pulling **86b501ed141fbc6db7657dea5bfd3708e7c2ae4d on ShadowySpirits:fix-select-mq** into **75fa7fb131ef11a5a3311a3d39dcb8204614ab9a on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550143063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550156214","html_url":"https://github.com/apache/rocketmq/pull/1577#issuecomment-550156214","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1577","id":550156214,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDE1NjIxNA==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T05:52:22Z","updated_at":"2019-11-06T05:52:22Z","author_association":"NONE","body":"LGTM.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550156214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550365034","html_url":"https://github.com/apache/rocketmq/issues/1578#issuecomment-550365034","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1578","id":550365034,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDM2NTAzNA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T15:36:07Z","updated_at":"2019-11-06T15:36:07Z","author_association":"CONTRIBUTOR","body":"@Switch-vov just because we hope that users can directly use the externally exposed interface instead of directly using the underlying implementation or even modifying it. This will make it difficult for users to upgrade.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550365034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550643079","html_url":"https://github.com/apache/rocketmq/pull/1580#issuecomment-550643079","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1580","id":550643079,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDY0MzA3OQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T03:33:24Z","updated_at":"2019-11-07T03:33:24Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26820209/badge)](https://coveralls.io/builds/26820209)\n\nCoverage decreased (-0.07%) to 50.55% when pulling **3e411d3ebb41da9b765a1a0925b6e7242a740cf7 on MountainOne:develop** into **75fa7fb131ef11a5a3311a3d39dcb8204614ab9a on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550643079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550957440","html_url":"https://github.com/apache/rocketmq/issues/1573#issuecomment-550957440","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1573","id":550957440,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDk1NzQ0MA==","user":{"login":"walterhong","id":16216936,"node_id":"MDQ6VXNlcjE2MjE2OTM2","avatar_url":"https://avatars.githubusercontent.com/u/16216936?v=4","gravatar_id":"","url":"https://api.github.com/users/walterhong","html_url":"https://github.com/walterhong","followers_url":"https://api.github.com/users/walterhong/followers","following_url":"https://api.github.com/users/walterhong/following{/other_user}","gists_url":"https://api.github.com/users/walterhong/gists{/gist_id}","starred_url":"https://api.github.com/users/walterhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterhong/subscriptions","organizations_url":"https://api.github.com/users/walterhong/orgs","repos_url":"https://api.github.com/users/walterhong/repos","events_url":"https://api.github.com/users/walterhong/events{/privacy}","received_events_url":"https://api.github.com/users/walterhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T07:24:43Z","updated_at":"2019-11-07T07:24:43Z","author_association":"NONE","body":" @WillemJiang @justinmclean @jimjag @ke4qqq 大佬帮帮忙，我们非功能测试不知道为什么Kill掉其中一台机器的master broker，slave broker的CPU就飙涨","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/550957440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/551160797","html_url":"https://github.com/apache/rocketmq/issues/1582#issuecomment-551160797","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1582","id":551160797,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTE2MDc5Nw==","user":{"login":"X-ration","id":18644614,"node_id":"MDQ6VXNlcjE4NjQ0NjE0","avatar_url":"https://avatars.githubusercontent.com/u/18644614?v=4","gravatar_id":"","url":"https://api.github.com/users/X-ration","html_url":"https://github.com/X-ration","followers_url":"https://api.github.com/users/X-ration/followers","following_url":"https://api.github.com/users/X-ration/following{/other_user}","gists_url":"https://api.github.com/users/X-ration/gists{/gist_id}","starred_url":"https://api.github.com/users/X-ration/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/X-ration/subscriptions","organizations_url":"https://api.github.com/users/X-ration/orgs","repos_url":"https://api.github.com/users/X-ration/repos","events_url":"https://api.github.com/users/X-ration/events{/privacy}","received_events_url":"https://api.github.com/users/X-ration/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T16:39:03Z","updated_at":"2019-11-07T16:39:03Z","author_association":"NONE","body":"please add some explanation to make a better guidance.\r\nthe initial config, with namesrv 4g heap, and broker 8g heap, along with metaspace size, not every pc has such memory, and that can cause consequences.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/551160797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/551361282","html_url":"https://github.com/apache/rocketmq/pull/1422#issuecomment-551361282","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1422","id":551361282,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTM2MTI4Mg==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T02:49:09Z","updated_at":"2019-11-08T02:49:09Z","author_association":"MEMBER","body":"@qqeasonchen You could click 'resolve conversation' button to close the resolved problems. It would be helpful for the community to watch things going on and push forward this feature to merge :-)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/551361282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/551442613","html_url":"https://github.com/apache/rocketmq/issues/1573#issuecomment-551442613","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1573","id":551442613,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTQ0MjYxMw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-08T08:54:51Z","updated_at":"2019-11-08T08:54:51Z","author_association":"CONTRIBUTOR","body":"@walterhong I will try with your description and if you have other useful detailed information, please comment it in here, but as your picture shows, the thread that occupies the highest CPU is 10227, it's hexadecimal representation is 27f3, so maybe you should list more information here,","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/551442613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552157378","html_url":"https://github.com/apache/rocketmq/issues/1583#issuecomment-552157378","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1583","id":552157378,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjE1NzM3OA==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-10T02:55:51Z","updated_at":"2019-11-10T02:55:51Z","author_association":"CONTRIBUTOR","body":"RocketMQ has an expired file deletion mechanism. If the non-currently written commitlog file is not updated again within a certain time interval, it is considered an expired file and RocketMQ will automatically delete it.\r\nBy default, each file has an expiration time of 72 hours, and the expiration time is modified by setting `fileReservedTime` in the Broker configuration file.\r\n\r\nRocketMQ 有过期文件删除机制，非当前写的 commitlog 文件在一定时间间隔内没有再次被更新，则被认为是过期文件，RocketMQ 会自动删除。\r\n默认每个文件的过期时间为 72 个小时，通过在 Broker 配置文件中设置`fileReservedTime`来修改过期时间，单位为小时。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552157378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552277922","html_url":"https://github.com/apache/rocketmq/issues/1498#issuecomment-552277922","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1498","id":552277922,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjI3NzkyMg==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T03:21:59Z","updated_at":"2019-11-11T03:21:59Z","author_association":"CONTRIBUTOR","body":"@mengshuai85 推送消息后，会更新当前的offset，默认为utf-8格式，所以你改成utf-8编码来试下。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552277922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552278613","html_url":"https://github.com/apache/rocketmq/issues/504#issuecomment-552278613","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/504","id":552278613,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjI3ODYxMw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T03:25:53Z","updated_at":"2019-11-11T03:25:53Z","author_association":"CONTRIBUTOR","body":"The polishment will be released in 4.6.0, and relative PR has been merged, so someone else if has other questions, please feel free to reopen it as it indeed is a hot issue. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552278613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552279612","html_url":"https://github.com/apache/rocketmq/issues/1579#issuecomment-552279612","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1579","id":552279612,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjI3OTYxMg==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T03:31:41Z","updated_at":"2019-11-11T03:31:41Z","author_association":"MEMBER","body":"You could subscribe rocketmq dev email list https://rocketmq.apache.org/about/contact/","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552279612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552280423","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552280423","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552280423,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjI4MDQyMw==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T03:36:18Z","updated_at":"2019-11-11T03:36:18Z","author_association":"NONE","body":"@duhengforever ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552280423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552301700","html_url":"https://github.com/apache/rocketmq/issues/1375#issuecomment-552301700","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1375","id":552301700,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjMwMTcwMA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T05:44:29Z","updated_at":"2019-11-11T05:44:29Z","author_association":"CONTRIBUTOR","body":"fixed","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552301700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552301773","html_url":"https://github.com/apache/rocketmq/issues/1328#issuecomment-552301773","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1328","id":552301773,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjMwMTc3Mw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T05:44:49Z","updated_at":"2019-11-11T05:44:49Z","author_association":"CONTRIBUTOR","body":"fixed","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552301773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552303500","html_url":"https://github.com/apache/rocketmq/issues/1263#issuecomment-552303500","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1263","id":552303500,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjMwMzUwMA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T05:53:15Z","updated_at":"2019-11-11T05:53:15Z","author_association":"CONTRIBUTOR","body":"fixed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552303500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552401711","html_url":"https://github.com/apache/rocketmq/issues/1586#issuecomment-552401711","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1586","id":552401711,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQwMTcxMQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:15:58Z","updated_at":"2019-11-11T11:19:16Z","author_association":"CONTRIBUTOR","body":"@duofu 能不能发一下日志，看下不同consumer的订阅信息是否一致。如果线上正常的话，最好检查下本地环境跟线上有什么不一样，尤其是消费端，后面具体的信息可以发[邮件列表](https://rocketmq.apache.org/about/contact/)，当然也可以在这里留言：）。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552401711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552402242","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-552402242","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":552402242,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQwMjI0Mg==","user":{"login":"sebbASF","id":16689231,"node_id":"MDQ6VXNlcjE2Njg5MjMx","avatar_url":"https://avatars.githubusercontent.com/u/16689231?v=4","gravatar_id":"","url":"https://api.github.com/users/sebbASF","html_url":"https://github.com/sebbASF","followers_url":"https://api.github.com/users/sebbASF/followers","following_url":"https://api.github.com/users/sebbASF/following{/other_user}","gists_url":"https://api.github.com/users/sebbASF/gists{/gist_id}","starred_url":"https://api.github.com/users/sebbASF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebbASF/subscriptions","organizations_url":"https://api.github.com/users/sebbASF/orgs","repos_url":"https://api.github.com/users/sebbASF/repos","events_url":"https://api.github.com/users/sebbASF/events{/privacy}","received_events_url":"https://api.github.com/users/sebbASF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:17:30Z","updated_at":"2019-11-11T11:17:30Z","author_association":"NONE","body":"Why was this closed?\r\nThere are still lots of old releases on dist.a.o","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552402242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552408018","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552408018","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552408018,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQwODAxOA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:34:53Z","updated_at":"2019-11-11T11:34:53Z","author_association":"CONTRIBUTOR","body":"@baihezhuo 尝试一下打开transientStorePoolEnable，另外如果可以的话试下spin锁，useReentrantLockWhenPutMessage设置为flase，同时把sendMessageThreadPoolNums设置小一点，比如说5个（不要多，具体要自己调节一下），还有就是查看下具体报上述错误时候的磁盘相关情况，还有消费端的相关情况，有没有在持续消费冷数据，另外可以先看下这个[文章](https://mp.weixin.qq.com/s/1yFedcwtQ7mYcuHDvGCrqw)，","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552408018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552409604","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-552409604","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":552409604,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQwOTYwNA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:39:41Z","updated_at":"2019-11-11T11:40:00Z","author_association":"CONTRIBUTOR","body":"@sebbASF  will clean the dist after 4.6.0 release, thanks for your reminder:)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552409604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552410363","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-552410363","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":552410363,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxMDM2Mw==","user":{"login":"sebbASF","id":16689231,"node_id":"MDQ6VXNlcjE2Njg5MjMx","avatar_url":"https://avatars.githubusercontent.com/u/16689231?v=4","gravatar_id":"","url":"https://api.github.com/users/sebbASF","html_url":"https://github.com/sebbASF","followers_url":"https://api.github.com/users/sebbASF/followers","following_url":"https://api.github.com/users/sebbASF/following{/other_user}","gists_url":"https://api.github.com/users/sebbASF/gists{/gist_id}","starred_url":"https://api.github.com/users/sebbASF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebbASF/subscriptions","organizations_url":"https://api.github.com/users/sebbASF/orgs","repos_url":"https://api.github.com/users/sebbASF/repos","events_url":"https://api.github.com/users/sebbASF/events{/privacy}","received_events_url":"https://api.github.com/users/sebbASF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:42:09Z","updated_at":"2019-11-11T11:42:09Z","author_association":"NONE","body":"Why not clean it now?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552410363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412085","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-552412085","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":552412085,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxMjA4NQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:47:34Z","updated_at":"2019-11-11T11:47:34Z","author_association":"CONTRIBUTOR","body":"> Why not clean it now?\r\n@sebbASF Perhaps we need to discuss it in the community first, after all, many companies still use the old version, what's your opinion?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412411","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552412411","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552412411,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxMjQxMQ==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:48:31Z","updated_at":"2019-11-11T11:48:31Z","author_association":"NONE","body":"> \r\n> \r\n> @baihezhuo 尝试一下打开transientStorePoolEnable，另外如果可以的话试下spin锁，useReentrantLockWhenPutMessage设置为flase，同时把sendMessageThreadPoolNums设置小一点，比如说5个（不要多，具体要自己调节一下），还有就是查看下具体报上述错误时候的磁盘相关情况，还有消费端的相关情况，有没有在持续消费冷数据，另外可以先看下这个[文章](https://mp.weixin.qq.com/s/1yFedcwtQ7mYcuHDvGCrqw)，\r\n1.尝试一下打开transientStorePoolEnable，这种情况我之前了解过，读写分离可能造成消息丢失，我们的场景有些消息不允许。\r\n2. 使用spin锁 同时sendMessageThreadPoolNums=5 左右这个还没有尝试，后面尝试一下；\r\n3. 我们在压测环境jmeter并发在500-1000线程 对3K左右的消息进行压测，都不会出现被流控的问题，并且磁盘tps达到3000-4000左右，这个也是符合我们预期的；但是在生产环境，通过console看到broker的tps并不高，大概在200左右就会出现大量的流控日志；开始是怀疑同步复制的问题，可能是网络问题，但是经过和阿里云沟通，主从节点抓包，阿里云的小哥哥给出的结论是确实有一定的重传，但是重传的间隙非常短10ms左右，而且是程序主动发起重传的，不是由于网络抖动、不稳定等因素造成的。\r\n4. 生产环境确实也有适当调整waitTimeMillsInSendQueue=400 ，但是仅仅是降低了一点流控率。\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412484","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552412484","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552412484,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxMjQ4NA==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:48:45Z","updated_at":"2019-11-11T11:48:45Z","author_association":"NONE","body":"@duhenglucky ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412603","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552412603","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552412603,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxMjYwMw==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:49:08Z","updated_at":"2019-11-11T11:49:08Z","author_association":"NONE","body":"@duhenglucky ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552412603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552413711","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552413711","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552413711,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxMzcxMQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T11:52:45Z","updated_at":"2019-11-11T11:52:55Z","author_association":"CONTRIBUTOR","body":"@baihezhuo 可以试下，这个[PR](https://github.com/apache/rocketmq/pull/1516)对同步双写的性能做了较为明显的提升，你可以验证一下，欢迎给出反馈。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552413711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552417394","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552417394","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552417394,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxNzM5NA==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T12:03:48Z","updated_at":"2019-11-11T12:03:48Z","author_association":"NONE","body":"> \r\n> \r\n> @baihezhuo 可以试下，这个[PR](https://github.com/apache/rocketmq/pull/1516)对同步双写的性能做了较为明显的提升，你可以验证一下，欢迎给出反馈。\r\n\r\n好的谢谢","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552417394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552419980","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552419980","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552419980,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQxOTk4MA==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T12:11:55Z","updated_at":"2019-11-11T12:11:55Z","author_association":"NONE","body":"> \r\n> \r\n> @baihezhuo 可以试下，这个[PR](https://github.com/apache/rocketmq/pull/1516)对同步双写的性能做了较为明显的提升，你可以验证一下，欢迎给出反馈。\r\n大致看了一下这个PR ，大体就是对consumer端的ack做了异步化处理（之前是同步的）这样理论上会给broker请求处理线程让出更多的资源，blockingqueue排队处理的更快。\r\n那我是不是可以先把consumer端关闭，仅做producer端发送的测试，理论上结果肯定比修PR里修改的性能要高；但是实际上还是存在被流控的问题。。。\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552419980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552488824","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-552488824","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":552488824,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjQ4ODgyNA==","user":{"login":"sebbASF","id":16689231,"node_id":"MDQ6VXNlcjE2Njg5MjMx","avatar_url":"https://avatars.githubusercontent.com/u/16689231?v=4","gravatar_id":"","url":"https://api.github.com/users/sebbASF","html_url":"https://github.com/sebbASF","followers_url":"https://api.github.com/users/sebbASF/followers","following_url":"https://api.github.com/users/sebbASF/following{/other_user}","gists_url":"https://api.github.com/users/sebbASF/gists{/gist_id}","starred_url":"https://api.github.com/users/sebbASF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebbASF/subscriptions","organizations_url":"https://api.github.com/users/sebbASF/orgs","repos_url":"https://api.github.com/users/sebbASF/repos","events_url":"https://api.github.com/users/sebbASF/events{/privacy}","received_events_url":"https://api.github.com/users/sebbASF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-11T15:23:47Z","updated_at":"2019-11-11T15:23:47Z","author_association":"NONE","body":"As I already wrote, you can still link to old versions on the archive server.\r\n\r\nThe 3rd party mirrors give their services for free.\r\nIt's not fair to burden them with carrying historic releases.\r\n\r\nThis is a policy matter, not something for discussion by the project:\r\nhttp://www.apache.org/legal/release-policy.html#when-to-archive","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552488824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552703025","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552703025","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552703025,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjcwMzAyNQ==","user":{"login":"makabakaboom","id":15335431,"node_id":"MDQ6VXNlcjE1MzM1NDMx","avatar_url":"https://avatars.githubusercontent.com/u/15335431?v=4","gravatar_id":"","url":"https://api.github.com/users/makabakaboom","html_url":"https://github.com/makabakaboom","followers_url":"https://api.github.com/users/makabakaboom/followers","following_url":"https://api.github.com/users/makabakaboom/following{/other_user}","gists_url":"https://api.github.com/users/makabakaboom/gists{/gist_id}","starred_url":"https://api.github.com/users/makabakaboom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makabakaboom/subscriptions","organizations_url":"https://api.github.com/users/makabakaboom/orgs","repos_url":"https://api.github.com/users/makabakaboom/repos","events_url":"https://api.github.com/users/makabakaboom/events{/privacy}","received_events_url":"https://api.github.com/users/makabakaboom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T02:16:14Z","updated_at":"2019-11-12T02:16:14Z","author_association":"CONTRIBUTOR","body":"可以看看日志是不是主从连接有断开的情况，在tps比较小的场景可能会触发主从连接断开，将会导致这个问题，将master的haSendHeartbeatInterval修改成大于slave的值即可解决。可以参考这个https://github.com/apache/rocketmq/issues/1082","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552703025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552723634","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552723634","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552723634,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjcyMzYzNA==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T03:57:55Z","updated_at":"2019-11-12T03:57:55Z","author_association":"NONE","body":"> \r\n> \r\n> 可以看看日志是不是主从连接有断开的情况，在tps比较小的场景可能会触发主从连接断开，将会导致这个问题，将master的haSendHeartbeatInterval修改成大于slave的值即可解决。可以参考这个#1082\r\n\r\n并没有查看到主从断开链接的情况，几天仅仅出现一两次https://github.com/apache/rocketmq/issues/1082 这个情况","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552723634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552727434","html_url":"https://github.com/apache/rocketmq/pull/1554#issuecomment-552727434","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1554","id":552727434,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjcyNzQzNA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T04:19:05Z","updated_at":"2019-11-12T04:19:05Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26927251/badge)](https://coveralls.io/builds/26927251)\n\nCoverage increased (+0.3%) to 50.645% when pulling **b8e1be8a7749bc2546b678b7d66b7ddd78ef320b on keranbingaa:unit-test** into **5a8c4ede16628e5afc38b9e1b5298fdbd63c3435 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552727434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552731659","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552731659","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552731659,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjczMTY1OQ==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T04:42:23Z","updated_at":"2019-11-12T04:42:23Z","author_association":"NONE","body":"> \r\n> \r\n> 可以看看日志是不是主从连接有断开的情况，在tps比较小的场景可能会触发主从连接断开，将会导致这个问题，将master的haSendHeartbeatInterval修改成大于slave的值即可解决。可以参考这个#1082\r\n\r\n我临时在看ha的代码，希望能从中找出解决问题的思路，目前来看在tps不高的情况下被流控，让我很困惑；压测环境的并发都是1000个线程起的；iops 达到3-4000都没任何问题。但是线上环境就经常被流控；","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552731659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552731696","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552731696","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552731696,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjczMTY5Ng==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T04:42:34Z","updated_at":"2019-11-12T04:42:34Z","author_association":"NONE","body":"> \r\n> \r\n> > @baihezhuo 可以试下，这个[PR](https://github.com/apache/rocketmq/pull/1516)对同步双写的性能做了较为明显的提升，你可以验证一下，欢迎给出反馈。\r\n> \r\n> 好的谢谢\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552731696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552732135","html_url":"https://github.com/apache/rocketmq/issues/1585#issuecomment-552732135","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1585","id":552732135,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjczMjEzNQ==","user":{"login":"baihezhuo","id":22770432,"node_id":"MDQ6VXNlcjIyNzcwNDMy","avatar_url":"https://avatars.githubusercontent.com/u/22770432?v=4","gravatar_id":"","url":"https://api.github.com/users/baihezhuo","html_url":"https://github.com/baihezhuo","followers_url":"https://api.github.com/users/baihezhuo/followers","following_url":"https://api.github.com/users/baihezhuo/following{/other_user}","gists_url":"https://api.github.com/users/baihezhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/baihezhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baihezhuo/subscriptions","organizations_url":"https://api.github.com/users/baihezhuo/orgs","repos_url":"https://api.github.com/users/baihezhuo/repos","events_url":"https://api.github.com/users/baihezhuo/events{/privacy}","received_events_url":"https://api.github.com/users/baihezhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T04:45:11Z","updated_at":"2019-11-12T04:45:11Z","author_association":"NONE","body":"> \r\n> \r\n> @baihezhuo 可以试下，这个[PR](https://github.com/apache/rocketmq/pull/1516)对同步双写的性能做了较为明显的提升，你可以验证一下，欢迎给出反馈。\r\n\r\n其实我并不是为了提升性能，根本问题是因为通过console发现producer的tps并不高，200左右的时候就会出现大量的流控，而且也不仅仅是高峰期，平时也都会有一些流控的消息；通过线上日志发现很多的：\r\nWARN SendMessageThread_46 - putMessage not in lock eclipse time(ms)=3382, bodyLength=78\r\n我临时也在看HA的相关代码，期望能从中找出解决这个问题的思路","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552732135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552747223","html_url":"https://github.com/apache/rocketmq/issues/1587#issuecomment-552747223","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1587","id":552747223,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjc0NzIyMw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T05:58:24Z","updated_at":"2019-11-12T05:58:24Z","author_association":"CONTRIBUTOR","body":"没有问题，上面的是修改时间，还有创建commitlog的时候会预先同时多创建一个，另外，issue用作bug report以及feature request，对于一些咨询类的问题尽量在[邮件列表](https://rocketmq.apache.org/about/contact/)里面讨论，这样可以沉淀下来，后续也能搜索，不过有其他问题的话，可以随时重新打开这个issue。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552747223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552772157","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-552772157","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":552772157,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjc3MjE1Nw==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T07:37:25Z","updated_at":"2019-11-12T07:37:25Z","author_association":"NONE","body":"Though we have the retry strategy at the callback part, a retry logic is still needed at the sending step in case of the situation of the broker-down.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552772157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552876146","html_url":"https://github.com/apache/rocketmq/issues/1587#issuecomment-552876146","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1587","id":552876146,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjg3NjE0Ng==","user":{"login":"zhuqingzhen","id":35754453,"node_id":"MDQ6VXNlcjM1NzU0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/35754453?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuqingzhen","html_url":"https://github.com/zhuqingzhen","followers_url":"https://api.github.com/users/zhuqingzhen/followers","following_url":"https://api.github.com/users/zhuqingzhen/following{/other_user}","gists_url":"https://api.github.com/users/zhuqingzhen/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuqingzhen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuqingzhen/subscriptions","organizations_url":"https://api.github.com/users/zhuqingzhen/orgs","repos_url":"https://api.github.com/users/zhuqingzhen/repos","events_url":"https://api.github.com/users/zhuqingzhen/events{/privacy}","received_events_url":"https://api.github.com/users/zhuqingzhen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-12T12:38:49Z","updated_at":"2019-11-12T12:38:49Z","author_association":"NONE","body":"好的，非常感谢。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/552876146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553259071","html_url":"https://github.com/apache/rocketmq/pull/1590#issuecomment-553259071","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1590","id":553259071,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzI1OTA3MQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T06:25:57Z","updated_at":"2019-11-13T08:38:33Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26957632/badge)](https://coveralls.io/builds/26957632)\n\nCoverage decreased (-0.07%) to 50.585% when pulling **de6d5322ef76595eec8e721d3cecf4560123d663 on MountainOne:fix_queueid** into **34b902fe9dfaaef102fc7ae1eaf797b9e39c8c7a on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553259071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553267541","html_url":"https://github.com/apache/rocketmq/issues/670#issuecomment-553267541","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/670","id":553267541,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzI2NzU0MQ==","user":{"login":"zongtanghu","id":5010883,"node_id":"MDQ6VXNlcjUwMTA4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/5010883?v=4","gravatar_id":"","url":"https://api.github.com/users/zongtanghu","html_url":"https://github.com/zongtanghu","followers_url":"https://api.github.com/users/zongtanghu/followers","following_url":"https://api.github.com/users/zongtanghu/following{/other_user}","gists_url":"https://api.github.com/users/zongtanghu/gists{/gist_id}","starred_url":"https://api.github.com/users/zongtanghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zongtanghu/subscriptions","organizations_url":"https://api.github.com/users/zongtanghu/orgs","repos_url":"https://api.github.com/users/zongtanghu/repos","events_url":"https://api.github.com/users/zongtanghu/events{/privacy}","received_events_url":"https://api.github.com/users/zongtanghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T06:59:27Z","updated_at":"2019-11-13T06:59:27Z","author_association":"CONTRIBUTOR","body":"This issue has already been resolved by the link: https://github.com/apache/rocketmq/pull/1412 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553267541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553268008","html_url":"https://github.com/apache/rocketmq/issues/1108#issuecomment-553268008","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1108","id":553268008,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzI2ODAwOA==","user":{"login":"zongtanghu","id":5010883,"node_id":"MDQ6VXNlcjUwMTA4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/5010883?v=4","gravatar_id":"","url":"https://api.github.com/users/zongtanghu","html_url":"https://github.com/zongtanghu","followers_url":"https://api.github.com/users/zongtanghu/followers","following_url":"https://api.github.com/users/zongtanghu/following{/other_user}","gists_url":"https://api.github.com/users/zongtanghu/gists{/gist_id}","starred_url":"https://api.github.com/users/zongtanghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zongtanghu/subscriptions","organizations_url":"https://api.github.com/users/zongtanghu/orgs","repos_url":"https://api.github.com/users/zongtanghu/repos","events_url":"https://api.github.com/users/zongtanghu/events{/privacy}","received_events_url":"https://api.github.com/users/zongtanghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T07:01:07Z","updated_at":"2019-11-13T07:01:07Z","author_association":"CONTRIBUTOR","body":"This issue has already been resolved by link:https://github.com/apache/rocketmq/pull/1109","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553268008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553697621","html_url":"https://github.com/apache/rocketmq/issues/1591#issuecomment-553697621","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1591","id":553697621,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzY5NzYyMQ==","user":{"login":"mrdaihui","id":37104103,"node_id":"MDQ6VXNlcjM3MTA0MTAz","avatar_url":"https://avatars.githubusercontent.com/u/37104103?v=4","gravatar_id":"","url":"https://api.github.com/users/mrdaihui","html_url":"https://github.com/mrdaihui","followers_url":"https://api.github.com/users/mrdaihui/followers","following_url":"https://api.github.com/users/mrdaihui/following{/other_user}","gists_url":"https://api.github.com/users/mrdaihui/gists{/gist_id}","starred_url":"https://api.github.com/users/mrdaihui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrdaihui/subscriptions","organizations_url":"https://api.github.com/users/mrdaihui/orgs","repos_url":"https://api.github.com/users/mrdaihui/repos","events_url":"https://api.github.com/users/mrdaihui/events{/privacy}","received_events_url":"https://api.github.com/users/mrdaihui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T02:39:54Z","updated_at":"2019-11-14T02:39:54Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/37104103/68821995-b3ec7500-06ca-11ea-838c-4c442de70043.png)\r\nis resoved,change rocketmq-console source ,change DefaultMQAdminExt Construction method","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553697621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553766626","html_url":"https://github.com/apache/rocketmq/pull/1593#issuecomment-553766626","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1593","id":553766626,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzc2NjYyNg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T07:44:30Z","updated_at":"2019-11-14T07:44:30Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/26982432/badge)](https://coveralls.io/builds/26982432)\n\nCoverage decreased (-0.01%) to 50.654% when pulling **86138da2ecd8e91d709209bf6581f3f3590d5111 on MountainOne:test_fault_strategy** into **ea09ce093f4aea64ac476ca55e303990a6d43009 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553766626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553769854","html_url":"https://github.com/apache/rocketmq/pull/1567#issuecomment-553769854","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1567","id":553769854,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzc2OTg1NA==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T07:55:26Z","updated_at":"2019-11-14T07:55:26Z","author_association":"MEMBER","body":"4.1.42 are not compatible with the prior version, this release will not be upgraded until more testing is done","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553769854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553769866","html_url":"https://github.com/apache/rocketmq/pull/1567#issuecomment-553769866","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1567","id":553769866,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzc2OTg2Ng==","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T07:55:29Z","updated_at":"2019-11-14T07:55:29Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553769866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553770146","html_url":"https://github.com/apache/rocketmq/pull/1567#issuecomment-553770146","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1567","id":553770146,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzc3MDE0Ng==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T07:56:29Z","updated_at":"2019-11-14T07:56:29Z","author_association":"MEMBER","body":"@dependabot ignore this minor version","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553770146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553770160","html_url":"https://github.com/apache/rocketmq/pull/1567#issuecomment-553770160","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1567","id":553770160,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzc3MDE2MA==","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T07:56:31Z","updated_at":"2019-11-14T07:56:31Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you about version 4.1.x again, unless you re-open this PR or update to a 4.1.x release yourself.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553770160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553803108","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-553803108","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":553803108,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgwMzEwOA==","user":{"login":"CodeIngL","id":12370508,"node_id":"MDQ6VXNlcjEyMzcwNTA4","avatar_url":"https://avatars.githubusercontent.com/u/12370508?v=4","gravatar_id":"","url":"https://api.github.com/users/CodeIngL","html_url":"https://github.com/CodeIngL","followers_url":"https://api.github.com/users/CodeIngL/followers","following_url":"https://api.github.com/users/CodeIngL/following{/other_user}","gists_url":"https://api.github.com/users/CodeIngL/gists{/gist_id}","starred_url":"https://api.github.com/users/CodeIngL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodeIngL/subscriptions","organizations_url":"https://api.github.com/users/CodeIngL/orgs","repos_url":"https://api.github.com/users/CodeIngL/repos","events_url":"https://api.github.com/users/CodeIngL/events{/privacy}","received_events_url":"https://api.github.com/users/CodeIngL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T09:30:37Z","updated_at":"2019-11-14T09:30:37Z","author_association":"NONE","body":"你代码在点点进去就看到另一个控制属性了 @xiangwangcheng ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/553803108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554169543","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-554169543","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":554169543,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDE2OTU0Mw==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T01:36:56Z","updated_at":"2019-11-15T01:36:56Z","author_association":"NONE","body":"> 你代码在点点进去就看到另一个控制属性了 @xiangwangcheng\r\n\r\nCould you please show me where？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554169543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554183717","html_url":"https://github.com/apache/rocketmq/pull/1394#issuecomment-554183717","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1394","id":554183717,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDE4MzcxNw==","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T02:36:54Z","updated_at":"2019-11-15T02:36:54Z","author_association":"CONTRIBUTOR","body":"> @liuruiyiyang The way I solve this problem is this：\r\n> Modify TransactionalMessageBridge.java decodeMsgList method\r\n> replace MessageDecoder.decode(bb) to MessageDecoder.decode(bb, true, false);\r\n> can you help me ? thank you!\r\n\r\nI think you are right.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554183717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554188078","html_url":"https://github.com/apache/rocketmq/pull/1394#issuecomment-554188078","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1394","id":554188078,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDE4ODA3OA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T02:56:08Z","updated_at":"2019-11-15T02:56:08Z","author_association":"CONTRIBUTOR","body":"This issue has been fixed in this [PR](https://github.com/apache/rocketmq/pull/1569/files#diff-c7911c30242b3d4820fd07fc6e531c91R181) :)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554188078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554638653","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-554638653","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":554638653,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDYzODY1Mw==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-16T13:43:32Z","updated_at":"2019-11-16T13:43:32Z","author_association":"CONTRIBUTOR","body":"Message retry resynchronization in RocketMQ is implemented by calling the `sendKeynelImpl()` method in a for loop in `DefaultMQProducerImpl#sendDefaultImpl()`. The number of retries is obtained by `DefaultMQProducer#getRetryTimesWhenSendFailed()`.\r\nAsynchronous message sending retry is implemented by `MQClientAPIImpl#onExceptionImpl()` recursively calling `MQClientAPIImpl#sendMessageAsync()` method in case of exception. The number of retries is obtained by `DefaultMQProducerImpl#.getRetryTimesWhenSendAsyncFailed()`. The default value is 2.\r\nTherefore, if you do not set the number of asynchronous retries, you will retry at least 2 times, and the message will not be sent because there is no retry. Only the location of the asynchronous and synchronous send retry implementations is different, resulting in such a judgment.\r\n\r\n在 RocketMQ 中同步的消息发送重试是通过`DefaultMQProducerImpl#sendDefaultImpl()`中的 for 循环，循环调用`sendKeynelImpl()`方法实现的。重试次数由`DefaultMQProducer#getRetryTimesWhenSendFailed()`获得。\r\n而异步的消息发送重试是在出现异常的情况下，由`MQClientAPIImpl#onExceptionImpl()`递归调用`MQClientAPIImpl#sendMessageAsync()`方法实现的。重试次数由`DefaultMQProducerImpl#.getRetryTimesWhenSendAsyncFailed()`获得，缺省值为 2。\r\n所以在不设置异步重试次数的情况下，也会至少重试 2 次，不会因为没有重试而导致消息发送失败。只是异步和同步发送重试实现的位置不一样，导致产生了这样判断。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554638653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554885678","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-554885678","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":554885678,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDg4NTY3OA==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T07:21:25Z","updated_at":"2019-11-18T07:21:25Z","author_association":"NONE","body":"@MountainOne Yeah, I totally know what are u talking about. But `onExceptionImpl` is invoked inside the callback. That happens when `MQClientAPIImpl#sendMessageAsync()` success and something is  wrong after that. But what about the broker is already down when `MQClientAPIImpl#sendMessageAsync()` is invoked ? I haven't found any retry logic and  I already reproduce this situation.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554885678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554886625","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-554886625","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":554886625,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDg4NjYyNQ==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T07:24:42Z","updated_at":"2019-11-18T07:24:42Z","author_association":"NONE","body":"@MountainOne  I don't know if I have made myself clear or not.... it's a little bit complicated. @duhengforever @zongtanghu What do u guys think?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554886625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554937584","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-554937584","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":554937584,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDkzNzU4NA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T09:45:31Z","updated_at":"2019-11-18T09:45:31Z","author_association":"CONTRIBUTOR","body":"@xiangwangcheng producer won't retry if there's a response returned, \r\n![image](https://user-images.githubusercontent.com/7938968/69041360-589fe700-0a2a-11ea-88b5-cc162d87d43a.png)\r\nand will retry when the response is null.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/554937584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555009752","html_url":"https://github.com/apache/rocketmq/issues/1188#issuecomment-555009752","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1188","id":555009752,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTAwOTc1Mg==","user":{"login":"lnfdxwl","id":32994553,"node_id":"MDQ6VXNlcjMyOTk0NTUz","avatar_url":"https://avatars.githubusercontent.com/u/32994553?v=4","gravatar_id":"","url":"https://api.github.com/users/lnfdxwl","html_url":"https://github.com/lnfdxwl","followers_url":"https://api.github.com/users/lnfdxwl/followers","following_url":"https://api.github.com/users/lnfdxwl/following{/other_user}","gists_url":"https://api.github.com/users/lnfdxwl/gists{/gist_id}","starred_url":"https://api.github.com/users/lnfdxwl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lnfdxwl/subscriptions","organizations_url":"https://api.github.com/users/lnfdxwl/orgs","repos_url":"https://api.github.com/users/lnfdxwl/repos","events_url":"https://api.github.com/users/lnfdxwl/events{/privacy}","received_events_url":"https://api.github.com/users/lnfdxwl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T13:14:45Z","updated_at":"2019-11-18T13:14:45Z","author_association":"NONE","body":"@ahuazhu hi，when make release ，thanks","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555009752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555010606","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-555010606","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":555010606,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTAxMDYwNg==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T13:17:07Z","updated_at":"2019-11-18T13:17:07Z","author_association":"CONTRIBUTOR","body":"@xiangwangcheng \r\nI fully understand what you mean.\r\nBut the callback function passed to `remotingClient.invokeAsync` will always be called, not only when the message is sent successfully. The callback function that you said is only called when the message is sent successfully should be the parameter `sendCallback` passed to `MQClientAPIImpl#sendMessageAsync`.\r\nWhen the broker has gone down, the message sent will not be returned. `producer` will compare with the `timeoutMillis` according to the time the message has been sent. If it is greater than that, the message will be sent timeout. Set the send status of `responseFuture` to false and execute the `InvokeCallback` callback function passed in `remotingClient.invokeAsync()`. Regardless of whether the message was sent successfully or not, `InvokerCallback()` will be executed. Then, based on the returned response, if response returns and no exception occurs, it will not be retried; if it is null or an exception occurs, it will be retried.\r\nThe specific async communication logic can refer to `NettyRemotingClient#invokeAsync` and `NettyRemotingAbstract#invokeAsyncImpl` in the remoting module. Here is a list of key codes.\r\n\r\n我完全明白您的意思。\r\n但传给`remotingClient.invokeAsync`的回调函数总是会被调用的，不仅仅是在消息发送成功的时候。您所说的在只有在消息发送成功时才调用的回调函数应该是传给`MQClientAPIImpl#sendMessageAsync`的参数`sendCallback`。\r\n当 broker 已经宕机时，发送的消息将无法返回。`producer`会根据消息已经发出的时间与`timeoutMillis`比较，大于则判断消息发送超时。将`responseFuture`的发送状态设置为 false 并执行`remotingClient.invokeAsync()`中传入的`InvokeCallback`回调函数。不管消息发送成功与否，`InvokerCallback()`都会执行。然后根据返回的 response 判断，如果 response 返回了且没有出现异常，就不会重试；如果为 null 或者出现异常，就会进行重试。\r\n具体的异步通信逻辑可以参考 remoting 模块中的`NettyRemotingClient#invokeAsync`和`NettyRemotingAbstract#invokeAsyncImpl`。这里列一下关键代码，在`NettyRemotingAbstract#invokeAsyncImpl`中。\r\n```Java\r\nchannel.writeAndFlush(request).addListener(new ChannelFutureListener() {\r\n    @Override\r\n    public void operationComplete(ChannelFuture f) throws Exception {\r\n        if (f.isSuccess()) {\r\n            responseFuture.setSendRequestOK(true);\r\n            return;\r\n        }\r\n        requestFail(opaque);\r\n        log.warn(\"send a request command to channel <{}> failed.\", RemotingHelper.parseChannelRemoteAddr(channel));\r\n    }\r\n});\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555010606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555398690","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-555398690","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":555398690,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTM5ODY5MA==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T08:51:42Z","updated_at":"2019-11-19T08:51:42Z","author_association":"NONE","body":"@duhenglucky @MountainOne \r\nSorry, seems I still haven't made myself clear.\r\nI mean until one message queue is selected, everything is fine.\r\n![image](https://user-images.githubusercontent.com/8049014/69128652-c0683780-0ae7-11ea-9650-7a612bdf9a06.png)\r\n\r\nAnd after that(I set a breakpoint here),  I shut down the broker that the selected queue is running on.\r\nThe producer fails here（channel is null and `this.invokeAsyncImpl` won't be invoked）：\r\n![image](https://user-images.githubusercontent.com/8049014/69128914-42586080-0ae8-11ea-8b61-6b5832be7511.png)\r\n\r\nAnd InvokeCallback won't be invoked.\r\n![image](https://user-images.githubusercontent.com/8049014/69129266-fb1e9f80-0ae8-11ea-99e0-052acc60beef.png)\r\nAnd no retry logic for situations like that.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555398690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555427262","html_url":"https://github.com/apache/rocketmq/issues/1601#issuecomment-555427262","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1601","id":555427262,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTQyNzI2Mg==","user":{"login":"xiaoluobotouzi","id":40844125,"node_id":"MDQ6VXNlcjQwODQ0MTI1","avatar_url":"https://avatars.githubusercontent.com/u/40844125?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoluobotouzi","html_url":"https://github.com/xiaoluobotouzi","followers_url":"https://api.github.com/users/xiaoluobotouzi/followers","following_url":"https://api.github.com/users/xiaoluobotouzi/following{/other_user}","gists_url":"https://api.github.com/users/xiaoluobotouzi/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoluobotouzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoluobotouzi/subscriptions","organizations_url":"https://api.github.com/users/xiaoluobotouzi/orgs","repos_url":"https://api.github.com/users/xiaoluobotouzi/repos","events_url":"https://api.github.com/users/xiaoluobotouzi/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoluobotouzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T09:59:14Z","updated_at":"2019-11-19T09:59:14Z","author_association":"NONE","body":"I debugged the problem.\r\nIn the placeaccessvalidator class, an exception thrown by a judgment branch in the parse method.\r\ncode:\r\n`if (request.getExtFields() == null) {  \r\n      throw new AclException(\"request's extFields value is null\");\r\n }`.\r\n\r\nIn the BrokerouterAPI class, create remotingcommand in getalltopicconfig method, and extfields is null.\r\n\r\nI added a piece of code：\r\n`request.setExtFields(new HashMap<>());`\r\n\r\nhowever,\r\nIn the plainpermissionloader class, validate method, a piece of code continues to throw an exception.\r\ncode:\r\n`if (plainAccessResource.getAccessKey() == null) {\r\n            throw new AclException(String.format(\"No accessKey is configured\"));\r\n        }`\r\n\r\nI added - 192.168.1.2 to globalwhiteremoteaddress in the plain_acl.yml config file.\r\n\r\nNo exception thrown in log file.\r\n\r\nI don't know if my understanding is correct.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555427262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555428529","html_url":"https://github.com/apache/rocketmq/issues/1601#issuecomment-555428529","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1601","id":555428529,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTQyODUyOQ==","user":{"login":"xiaoluobotouzi","id":40844125,"node_id":"MDQ6VXNlcjQwODQ0MTI1","avatar_url":"https://avatars.githubusercontent.com/u/40844125?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoluobotouzi","html_url":"https://github.com/xiaoluobotouzi","followers_url":"https://api.github.com/users/xiaoluobotouzi/followers","following_url":"https://api.github.com/users/xiaoluobotouzi/following{/other_user}","gists_url":"https://api.github.com/users/xiaoluobotouzi/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoluobotouzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoluobotouzi/subscriptions","organizations_url":"https://api.github.com/users/xiaoluobotouzi/orgs","repos_url":"https://api.github.com/users/xiaoluobotouzi/repos","events_url":"https://api.github.com/users/xiaoluobotouzi/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoluobotouzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T10:02:17Z","updated_at":"2019-11-19T10:02:17Z","author_association":"NONE","body":"@zongtanghu @duhengforever ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555428529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555482669","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-555482669","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":555482669,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTQ4MjY2OQ==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T12:18:31Z","updated_at":"2019-11-19T12:26:59Z","author_association":"CONTRIBUTOR","body":"I understand now, thank you for your tips. In the case of a broker downtime, `NettyRemotingAbstract#invokeAsyncImpl` will not be executed and the retry logic will not be executed.\r\nSo we need to execute the retry logic before throwing the exception, or the message will be lost.\r\nMaybe we have to make sure that `InvokeCallback()` is executed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555482669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555825907","html_url":"https://github.com/apache/rocketmq/issues/1288#issuecomment-555825907","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1288","id":555825907,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTgyNTkwNw==","user":{"login":"bean326","id":26649702,"node_id":"MDQ6VXNlcjI2NjQ5NzAy","avatar_url":"https://avatars.githubusercontent.com/u/26649702?v=4","gravatar_id":"","url":"https://api.github.com/users/bean326","html_url":"https://github.com/bean326","followers_url":"https://api.github.com/users/bean326/followers","following_url":"https://api.github.com/users/bean326/following{/other_user}","gists_url":"https://api.github.com/users/bean326/gists{/gist_id}","starred_url":"https://api.github.com/users/bean326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bean326/subscriptions","organizations_url":"https://api.github.com/users/bean326/orgs","repos_url":"https://api.github.com/users/bean326/repos","events_url":"https://api.github.com/users/bean326/events{/privacy}","received_events_url":"https://api.github.com/users/bean326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T03:54:00Z","updated_at":"2019-11-20T03:54:00Z","author_association":"NONE","body":"\n\n这个有什么方法可以优化吗\n\n\n\n\n在 2019-10-19 15:10:16，\"ganpanlin\" <notifications@github.com> 写道：\n\n\n应该是只要服务器时间大于客户端时间，就会收不到消息\n\n—\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555825907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555913743","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-555913743","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":555913743,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTkxMzc0Mw==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T09:16:43Z","updated_at":"2019-11-20T09:16:43Z","author_association":"NONE","body":"I think reuse the for-loop retry logic of sending messages in sync mode is also OK.\r\n![image](https://user-images.githubusercontent.com/8049014/69225381-3be5e980-0bb9-11ea-83d8-5da7b21a55a2.png)\r\n`int timesTotal = communicationMode != CommunicationMode.ONEWAY ? 1 + this.defaultMQProducer.getRetryTimesWhenSendFailed() : 1;`","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/555913743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556006531","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-556006531","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":556006531,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjAwNjUzMQ==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T13:37:22Z","updated_at":"2019-11-20T13:37:22Z","author_association":"CONTRIBUTOR","body":"If you modify it as you said, after the message is sent asynchronously, regardless of the result , the message will be resent in the for loop immediately, causing the message to be sent repeatedly. If the blocking waits during the sending process, it does not reflect the advantage of asynchronous sending, which affects performance.\r\nSo I think the retry logic for asynchronous sent should still be in the callback function. You can consider canceling ` if (channel != null && channel.isActive())` and passing the logic that handle the exception to the callback function (which is actually done, such as `onExceptionImpl()`), so that every asynchronous call will be Triggered the callback function. But this solution is not elegant enough to directly modify the function of the remoting module, I am wondering if there is a better solution.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556006531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556819317","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-556819317","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":556819317,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjgxOTMxNw==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T01:50:18Z","updated_at":"2019-11-21T01:50:18Z","author_association":"NONE","body":"No, if no exception is thrown during the sending process, the message will not be sent again.\r\n```                      \r\nswitch (communicationMode) {\r\n                            case ASYNC:\r\n                                return null;\r\n                            case ONEWAY:\r\n                                return null;\r\n                            case SYNC:\r\n                                if (sendResult.getSendStatus() != SendStatus.SEND_OK) {\r\n                                    if (this.defaultMQProducer.isRetryAnotherBrokerWhenNotStoreOK()) {\r\n                                        continue;\r\n                                    }\r\n                                }\r\n\r\n                                return sendResult;\r\n                            default:\r\n                                break;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556819317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556841079","html_url":"https://github.com/apache/rocketmq/issues/1588#issuecomment-556841079","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1588","id":556841079,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njg0MTA3OQ==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T02:11:25Z","updated_at":"2019-11-21T02:11:25Z","author_association":"CONTRIBUTOR","body":"You are right, I am not thinking about it. This is a viable solution.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556841079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556881629","html_url":"https://github.com/apache/rocketmq/issues/1600#issuecomment-556881629","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1600","id":556881629,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njg4MTYyOQ==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T02:54:51Z","updated_at":"2019-11-21T02:54:51Z","author_association":"CONTRIBUTOR","body":"RocketMQ guarantees that the message will be delivered without loss, but there is no guarantee that the message will not be duplicated. RocketMQ handed over the work of resolving the message to the user.\r\nThere are two main ways to solve the message duplication: the first method is to ensure the idempotency of the consumption logic (multiple calls and the same call); the other method is to maintain a record of the message that has been consumed, and check the message whether have been consumed before the query.\r\n\r\nRocketMQ保证了消息一定投递且不丢失，但不保证消息不会重复。RocketMQ把解决消息重复的工作交给了用户。\r\n解决消息重复主要有两种方法：第一种方法是保证消费逻辑的幂等性（多次调用和一次调用相同）；另一种方法是维护一个已经消费消息的记录，消费前查询这个消息是否被消费过。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556881629/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556901651","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-556901651","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":556901651,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjkwMTY1MQ==","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T03:17:45Z","updated_at":"2019-11-21T03:17:45Z","author_association":"MEMBER","body":"done! all the old releases have been removed from [1].\r\n[1]https://dist.apache.org/repos/dist/release/rocketmq/","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556901651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556908963","html_url":"https://github.com/apache/rocketmq/issues/1604#issuecomment-556908963","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1604","id":556908963,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjkwODk2Mw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T03:56:23Z","updated_at":"2019-11-21T03:56:23Z","author_association":"CONTRIBUTOR","body":"@h353617145 有的：https://github.com/apache/rocketmq/tree/master/docs/cn。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556908963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556944440","html_url":"https://github.com/apache/rocketmq/issues/1183#issuecomment-556944440","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1183","id":556944440,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk0NDQ0MA==","user":{"login":"liurenjin","id":7918267,"node_id":"MDQ6VXNlcjc5MTgyNjc=","avatar_url":"https://avatars.githubusercontent.com/u/7918267?v=4","gravatar_id":"","url":"https://api.github.com/users/liurenjin","html_url":"https://github.com/liurenjin","followers_url":"https://api.github.com/users/liurenjin/followers","following_url":"https://api.github.com/users/liurenjin/following{/other_user}","gists_url":"https://api.github.com/users/liurenjin/gists{/gist_id}","starred_url":"https://api.github.com/users/liurenjin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liurenjin/subscriptions","organizations_url":"https://api.github.com/users/liurenjin/orgs","repos_url":"https://api.github.com/users/liurenjin/repos","events_url":"https://api.github.com/users/liurenjin/events{/privacy}","received_events_url":"https://api.github.com/users/liurenjin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T06:44:13Z","updated_at":"2019-11-21T06:44:13Z","author_association":"NONE","body":"请问是怎么解决的？我这边也有遇到，同4.4.0版本","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556944440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556950350","html_url":"https://github.com/apache/rocketmq/pull/1577#issuecomment-556950350","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1577","id":556950350,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk1MDM1MA==","user":{"login":"xiangwangcheng","id":8049014,"node_id":"MDQ6VXNlcjgwNDkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8049014?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangwangcheng","html_url":"https://github.com/xiangwangcheng","followers_url":"https://api.github.com/users/xiangwangcheng/followers","following_url":"https://api.github.com/users/xiangwangcheng/following{/other_user}","gists_url":"https://api.github.com/users/xiangwangcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangwangcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangwangcheng/subscriptions","organizations_url":"https://api.github.com/users/xiangwangcheng/orgs","repos_url":"https://api.github.com/users/xiangwangcheng/repos","events_url":"https://api.github.com/users/xiangwangcheng/events{/privacy}","received_events_url":"https://api.github.com/users/xiangwangcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T07:06:22Z","updated_at":"2019-11-21T07:06:22Z","author_association":"NONE","body":"@zongtanghu @duhenglucky \r\nI also have some confusion about this code. What do u think?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556950350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556972285","html_url":"https://github.com/apache/rocketmq/issues/1183#issuecomment-556972285","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1183","id":556972285,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk3MjI4NQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T08:20:29Z","updated_at":"2019-11-21T08:20:29Z","author_association":"CONTRIBUTOR","body":"@liurenjin no relation with this issue, but may be caused by the large size message, and [4.6.0](https://dist.apache.org/repos/dist/dev/rocketmq/4.6.0-rc1/) has been fixed，[release note](https://rocketmq.apache.org/release_notes/release-notes-4.6.0/).","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556972285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556972785","html_url":"https://github.com/apache/rocketmq/issues/1582#issuecomment-556972785","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1582","id":556972785,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk3Mjc4NQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T08:22:00Z","updated_at":"2019-11-21T08:22:00Z","author_association":"CONTRIBUTOR","body":"@X-ration thanks for your suggestion, this start script gives a more common configuration. Would you like to propose a PR to add this question to Q&A?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556972785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556974206","html_url":"https://github.com/apache/rocketmq/issues/1584#issuecomment-556974206","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1584","id":556974206,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk3NDIwNg==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T08:26:24Z","updated_at":"2019-11-21T08:26:24Z","author_association":"CONTRIBUTOR","body":"@membphis sorry, there are have no official doc to describe the protocol in detail, but there are already have so many guys doing the same work, would you like to join them? Which language is your preference? I sent you an invitation email already.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556974206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556975876","html_url":"https://github.com/apache/rocketmq/issues/1583#issuecomment-556975876","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1583","id":556975876,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk3NTg3Ng==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T08:31:33Z","updated_at":"2019-11-21T08:31:33Z","author_association":"CONTRIBUTOR","body":"@TangsengCoder so sorry that RocketMQ does not support cleaning data in the topic dimension currently. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556975876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556991104","html_url":"https://github.com/apache/rocketmq/issues/1592#issuecomment-556991104","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1592","id":556991104,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk5MTEwNA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:14:23Z","updated_at":"2019-11-21T09:15:14Z","author_association":"CONTRIBUTOR","body":"Repeat with this [issue](https://github.com/apache/rocketmq/issues/1576), so I will close this issue first, but if you have any other questions, please feel free to reopen it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556991104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556993547","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-556993547","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":556993547,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk5MzU0Nw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:20:14Z","updated_at":"2019-11-21T09:20:14Z","author_association":"CONTRIBUTOR","body":"@ShadowySpirits @MountainOne IMHO, there's no issue to select one MQ with the current strategy.\r\nOn the one hand, RocketMQ will replace the target MQ to avoid load imbalance. On the other hand, once the latencyFaultTolerance.isAvailable() method returns true, it means the current broker is not isolated. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/556993547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557001975","html_url":"https://github.com/apache/rocketmq/issues/1589#issuecomment-557001975","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1589","id":557001975,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAwMTk3NQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:41:17Z","updated_at":"2019-11-21T09:41:17Z","author_association":"CONTRIBUTOR","body":"@lixinwen the same group name, the same instanceName in the same machine will cause the consumer load balancing to not work properly, which will lead to a large amount of repeated consumption, so there will be so many messages sent back to the retry topic.\r\nSince the server is difficult to perform repeated detections at a relatively low cost, so it is recommended to follow the best practices. If you have good suggestions, please leave a message or submit a PR.\r\n I will turn off this issue first, but if you have any other questions about this issue, please feel free to reopen it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557001975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557003309","html_url":"https://github.com/apache/rocketmq/pull/1606#issuecomment-557003309","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1606","id":557003309,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAwMzMwOQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:44:20Z","updated_at":"2019-11-29T10:46:23Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/27319943/badge)](https://coveralls.io/builds/27319943)\n\nCoverage increased (+0.07%) to 50.683% when pulling **c6df05f5f6b58ec710735dde066113b502b0704a on binglind:use_ThreadLocalRandom_instead_of_Random** into **d1b4e47c26576cf4fa543bbdd8c6f09643220bed on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557003309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557004751","html_url":"https://github.com/apache/rocketmq/issues/1598#issuecomment-557004751","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1598","id":557004751,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAwNDc1MQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:47:57Z","updated_at":"2019-11-21T09:47:57Z","author_association":"CONTRIBUTOR","body":"@tianchen92 It looks like a very interesting job :), could you give a more detailed design, or list some benefits about this integration?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557004751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557007654","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557007654","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557007654,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAwNzY1NA==","user":{"login":"ShadowySpirits","id":32436597,"node_id":"MDQ6VXNlcjMyNDM2NTk3","avatar_url":"https://avatars.githubusercontent.com/u/32436597?v=4","gravatar_id":"","url":"https://api.github.com/users/ShadowySpirits","html_url":"https://github.com/ShadowySpirits","followers_url":"https://api.github.com/users/ShadowySpirits/followers","following_url":"https://api.github.com/users/ShadowySpirits/following{/other_user}","gists_url":"https://api.github.com/users/ShadowySpirits/gists{/gist_id}","starred_url":"https://api.github.com/users/ShadowySpirits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShadowySpirits/subscriptions","organizations_url":"https://api.github.com/users/ShadowySpirits/orgs","repos_url":"https://api.github.com/users/ShadowySpirits/repos","events_url":"https://api.github.com/users/ShadowySpirits/events{/privacy}","received_events_url":"https://api.github.com/users/ShadowySpirits/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:54:49Z","updated_at":"2019-11-21T09:54:49Z","author_association":"MEMBER","body":"@duhenglucky In my opinion, lastBrokerName represents the broker that should be avoided. But in the current logic is the broker that should be selected.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557007654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557008100","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557008100","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557008100,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAwODEwMA==","user":{"login":"ShadowySpirits","id":32436597,"node_id":"MDQ6VXNlcjMyNDM2NTk3","avatar_url":"https://avatars.githubusercontent.com/u/32436597?v=4","gravatar_id":"","url":"https://api.github.com/users/ShadowySpirits","html_url":"https://github.com/ShadowySpirits","followers_url":"https://api.github.com/users/ShadowySpirits/followers","following_url":"https://api.github.com/users/ShadowySpirits/following{/other_user}","gists_url":"https://api.github.com/users/ShadowySpirits/gists{/gist_id}","starred_url":"https://api.github.com/users/ShadowySpirits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShadowySpirits/subscriptions","organizations_url":"https://api.github.com/users/ShadowySpirits/orgs","repos_url":"https://api.github.com/users/ShadowySpirits/repos","events_url":"https://api.github.com/users/ShadowySpirits/events{/privacy}","received_events_url":"https://api.github.com/users/ShadowySpirits/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T09:55:57Z","updated_at":"2019-11-21T09:55:57Z","author_association":"MEMBER","body":"Is there a problem with my understanding? Please correct me.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557008100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557026073","html_url":"https://github.com/apache/rocketmq/issues/1454#issuecomment-557026073","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1454","id":557026073,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAyNjA3Mw==","user":{"login":"sebbASF","id":16689231,"node_id":"MDQ6VXNlcjE2Njg5MjMx","avatar_url":"https://avatars.githubusercontent.com/u/16689231?v=4","gravatar_id":"","url":"https://api.github.com/users/sebbASF","html_url":"https://github.com/sebbASF","followers_url":"https://api.github.com/users/sebbASF/followers","following_url":"https://api.github.com/users/sebbASF/following{/other_user}","gists_url":"https://api.github.com/users/sebbASF/gists{/gist_id}","starred_url":"https://api.github.com/users/sebbASF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebbASF/subscriptions","organizations_url":"https://api.github.com/users/sebbASF/orgs","repos_url":"https://api.github.com/users/sebbASF/repos","events_url":"https://api.github.com/users/sebbASF/events{/privacy}","received_events_url":"https://api.github.com/users/sebbASF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T10:41:03Z","updated_at":"2019-11-21T10:41:03Z","author_association":"NONE","body":"Thanks!\r\n\r\nPlease ensure any release documentation includes a step to purge old releases.\r\n\r\nThis is best done just after the announce mail has been sent.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557026073/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557035016","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557035016","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557035016,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAzNTAxNg==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T11:04:26Z","updated_at":"2019-11-21T11:04:26Z","author_association":"CONTRIBUTOR","body":"> @duhenglucky In my opinion, lastBrokerName represents the broker that should be avoided. But in the current logic is the broker that should be selected.\r\n\r\nIn my opinion, lastBrokerName(means last selected broker) whether should be isolated only depends on isAvailable() method,   instead of adding judgment logic elsewhere, if the broker is not isolated, messages should be sent to the broker directly. This will also make the load of each broker more balanced.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557035016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557037645","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557037645","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557037645,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAzNzY0NQ==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T11:12:05Z","updated_at":"2019-11-21T11:12:05Z","author_association":"CONTRIBUTOR","body":"@duhenglucky \r\n>On the one hand, RocketMQ will replace the target MQ to avoid load imbalance. On the other hand, once the latencyFaultTolerance.isAvailable() method returns true, it means the current broker is not isolated.\r\n\r\nI totally agree with you. When `latencyFaultTolerance.isAvailable()` returns true, the current broker is available. But the problem is the following jugment `if (null == lastBrokerName || mq.getBrokerName().equals(lastBrokerName))`. When `lastBrokerName` is not null, it indicates that some exception has occured and program entered the retry logic. \r\n**The broker corresponding to lastBrokerName is already unavailable.** So `mq.getBrokerName().equals(lastBrokerName)` will definitely return false, result in no MQ will be chosen. Program Will automatically enter the following logic to randomly select the broker, MQFaultStrategy is not working.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557037645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557040015","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557040015","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557040015,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzA0MDAxNQ==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T11:18:12Z","updated_at":"2019-11-21T11:18:12Z","author_association":"CONTRIBUTOR","body":"Give an extreme example, the broker corresponding to `lastBrokerName` has been down, but the decision logic at this time still has to choose MQ on the broker, which is unacceptable.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557040015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557042232","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557042232","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557042232,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzA0MjIzMg==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T11:24:23Z","updated_at":"2019-11-21T11:24:23Z","author_association":"CONTRIBUTOR","body":"> Give an extreme example, the broker corresponding to `lastBrokerName` has been down, but the decision logic at this time still has to choose MQ on the broker, which is unacceptable.\r\n\r\nif there's something wrong happened, this broker will be isolated by org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl#updateFaultItem(), this broker won't be avaliable.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557042232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557043906","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557043906","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557043906,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzA0MzkwNg==","user":{"login":"MountainOne","id":13178112,"node_id":"MDQ6VXNlcjEzMTc4MTEy","avatar_url":"https://avatars.githubusercontent.com/u/13178112?v=4","gravatar_id":"","url":"https://api.github.com/users/MountainOne","html_url":"https://github.com/MountainOne","followers_url":"https://api.github.com/users/MountainOne/followers","following_url":"https://api.github.com/users/MountainOne/following{/other_user}","gists_url":"https://api.github.com/users/MountainOne/gists{/gist_id}","starred_url":"https://api.github.com/users/MountainOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MountainOne/subscriptions","organizations_url":"https://api.github.com/users/MountainOne/orgs","repos_url":"https://api.github.com/users/MountainOne/repos","events_url":"https://api.github.com/users/MountainOne/events{/privacy}","received_events_url":"https://api.github.com/users/MountainOne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T11:29:10Z","updated_at":"2019-11-21T11:29:10Z","author_association":"CONTRIBUTOR","body":"Right, but the currently selected broker needs to be the same as the isolated broker, which is contradictory. \r\n```Java\r\n if (latencyFaultTolerance.isAvailable(mq.getBrokerName())) {\r\n                        if (null == lastBrokerName || mq.getBrokerName().equals(lastBrokerName))\r\n                            return mq;\r\n                    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557043906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557060946","html_url":"https://github.com/apache/rocketmq/issues/1183#issuecomment-557060946","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1183","id":557060946,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzA2MDk0Ng==","user":{"login":"liurenjin","id":7918267,"node_id":"MDQ6VXNlcjc5MTgyNjc=","avatar_url":"https://avatars.githubusercontent.com/u/7918267?v=4","gravatar_id":"","url":"https://api.github.com/users/liurenjin","html_url":"https://github.com/liurenjin","followers_url":"https://api.github.com/users/liurenjin/followers","following_url":"https://api.github.com/users/liurenjin/following{/other_user}","gists_url":"https://api.github.com/users/liurenjin/gists{/gist_id}","starred_url":"https://api.github.com/users/liurenjin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liurenjin/subscriptions","organizations_url":"https://api.github.com/users/liurenjin/orgs","repos_url":"https://api.github.com/users/liurenjin/repos","events_url":"https://api.github.com/users/liurenjin/events{/privacy}","received_events_url":"https://api.github.com/users/liurenjin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T12:21:36Z","updated_at":"2019-11-21T12:21:36Z","author_association":"NONE","body":"@duhenglucky thanks, I saw the related issue fixed [commitlog broken](https://github.com/apache/rocketmq/issues/1568)","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557060946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557125118","html_url":"https://github.com/apache/rocketmq/issues/1602#issuecomment-557125118","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1602","id":557125118,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzEyNTExOA==","user":{"login":"ticsmtc6","id":44230408,"node_id":"MDQ6VXNlcjQ0MjMwNDA4","avatar_url":"https://avatars.githubusercontent.com/u/44230408?v=4","gravatar_id":"","url":"https://api.github.com/users/ticsmtc6","html_url":"https://github.com/ticsmtc6","followers_url":"https://api.github.com/users/ticsmtc6/followers","following_url":"https://api.github.com/users/ticsmtc6/following{/other_user}","gists_url":"https://api.github.com/users/ticsmtc6/gists{/gist_id}","starred_url":"https://api.github.com/users/ticsmtc6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ticsmtc6/subscriptions","organizations_url":"https://api.github.com/users/ticsmtc6/orgs","repos_url":"https://api.github.com/users/ticsmtc6/repos","events_url":"https://api.github.com/users/ticsmtc6/events{/privacy}","received_events_url":"https://api.github.com/users/ticsmtc6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T15:05:20Z","updated_at":"2019-11-21T15:05:20Z","author_association":"NONE","body":"master:\r\nbrokerRole=SYNC_MASTER\r\nflushDiskType=ASYNC_FLUSH\r\nslave:\r\nbrokerRole=SLAVE\r\nflushDiskType=ASYNC_FLUSH\r\n\r\njvm  parameter add:-XX:+PrintSafepointStatistics  -XX:PrintSafepointStatisticsCount=1\r\n\r\nsafepoint log as follow:\r\n\r\n         vmop                    [threads: total initially_running wait_to_block]    [time: spin block sync cleanup vmop] page_trap_count\r\n1656.618: PrintThreads                     [     192          0              0    ]      [     0     0     0     0  5962    ]  0   \r\n\r\n**Why \"PrintThreads\" vmop causing long vm pause?\r\nDoes the master slave network problem cause this pause?**\r\n@duhengforever ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557125118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557350574","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557350574","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557350574,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM1MDU3NA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T01:46:05Z","updated_at":"2019-11-22T01:46:05Z","author_association":"CONTRIBUTOR","body":"IMO, `if (null == lastBrokerName || mq.getBrokerName().equals(lastBrokerName))` this code line is redundant.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557350574/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557353768","html_url":"https://github.com/apache/rocketmq/issues/1602#issuecomment-557353768","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1602","id":557353768,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM1Mzc2OA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T02:01:54Z","updated_at":"2019-11-22T02:01:54Z","author_association":"CONTRIBUTOR","body":"@ticsmtc6 could you give us more information about your environment? such as JDK version, os version, your JVM start configuration, some GC log such as: Total time for which application threads were stopped ****, etc.. Something wrong in connection(connect, retry, slow) seems can cause this issue, and you can refer:\r\nhttps://stackoverflow.com/questions/29536473/why-is-printthreads-vm-op-causing-long-vm-pauses-in-the-application\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557353768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557357898","html_url":"https://github.com/apache/rocketmq/issues/1576#issuecomment-557357898","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1576","id":557357898,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM1Nzg5OA==","user":{"login":"ShadowySpirits","id":32436597,"node_id":"MDQ6VXNlcjMyNDM2NTk3","avatar_url":"https://avatars.githubusercontent.com/u/32436597?v=4","gravatar_id":"","url":"https://api.github.com/users/ShadowySpirits","html_url":"https://github.com/ShadowySpirits","followers_url":"https://api.github.com/users/ShadowySpirits/followers","following_url":"https://api.github.com/users/ShadowySpirits/following{/other_user}","gists_url":"https://api.github.com/users/ShadowySpirits/gists{/gist_id}","starred_url":"https://api.github.com/users/ShadowySpirits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShadowySpirits/subscriptions","organizations_url":"https://api.github.com/users/ShadowySpirits/orgs","repos_url":"https://api.github.com/users/ShadowySpirits/repos","events_url":"https://api.github.com/users/ShadowySpirits/events{/privacy}","received_events_url":"https://api.github.com/users/ShadowySpirits/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T02:20:49Z","updated_at":"2019-11-22T02:20:49Z","author_association":"MEMBER","body":"> > @duhenglucky In my opinion, lastBrokerName represents the broker that should be avoided. But in the current logic is the broker that should be selected.\r\n> \r\n> In my opinion, lastBrokerName(means last selected broker) whether should be isolated only depends on isAvailable() method, instead of adding judgment logic elsewhere, if the broker is not isolated, messages should be sent to the broker directly. This will also make the load of each broker more balanced.\r\n\r\nAccording to your explanation, I submitted pr #1607 to delete the if statement.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/557357898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]