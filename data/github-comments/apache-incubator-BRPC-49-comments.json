[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189803241","html_url":"https://github.com/apache/brpc/pull/1814#issuecomment-1189803241","issue_url":"https://api.github.com/repos/apache/brpc/issues/1814","id":1189803241,"node_id":"IC_kwDOBhmkcs5G6vTp","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T04:06:01Z","updated_at":"2022-07-20T04:07:30Z","author_association":"CONTRIBUTOR","body":"不管是来自于[SocketMap](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket_map.cpp#L247)还是selective_channel中的[_chan_map](https://github.com/apache/incubator-brpc/blob/master/src/brpc/selective_channel.cpp#L206)，健康检查机制关注的还是引用。将_is_in_socket_map改成_is_hc_related_ref_held，是不是更合适一点？_is_hc_related_ref_held表示外部持有了一个与健康检查机制有关的引用，持有该引用的一部分作用是让健康检查机制正常执行。这样就不会与SocketMap耦合了，在selective_channel中变成设置_is_hc_related_ref_held也自然多了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189803241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189823379","html_url":"https://github.com/apache/brpc/pull/1657#issuecomment-1189823379","issue_url":"https://api.github.com/repos/apache/brpc/issues/1657","id":1189823379,"node_id":"IC_kwDOBhmkcs5G60OT","user":{"login":"hcoona","id":712433,"node_id":"MDQ6VXNlcjcxMjQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/712433?v=4","gravatar_id":"","url":"https://api.github.com/users/hcoona","html_url":"https://github.com/hcoona","followers_url":"https://api.github.com/users/hcoona/followers","following_url":"https://api.github.com/users/hcoona/following{/other_user}","gists_url":"https://api.github.com/users/hcoona/gists{/gist_id}","starred_url":"https://api.github.com/users/hcoona/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hcoona/subscriptions","organizations_url":"https://api.github.com/users/hcoona/orgs","repos_url":"https://api.github.com/users/hcoona/repos","events_url":"https://api.github.com/users/hcoona/events{/privacy}","received_events_url":"https://api.github.com/users/hcoona/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T04:44:06Z","updated_at":"2022-07-20T04:44:06Z","author_association":"CONTRIBUTOR","body":"@zyearn updated to resolve conflicts & add license headers","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189823379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189853399","html_url":"https://github.com/apache/brpc/issues/1849#issuecomment-1189853399","issue_url":"https://api.github.com/repos/apache/brpc/issues/1849","id":1189853399,"node_id":"IC_kwDOBhmkcs5G67jX","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T05:44:47Z","updated_at":"2022-07-20T05:44:47Z","author_association":"CONTRIBUTOR","body":"内部版本有这个功能，@KaneVV1 可以提个PR","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189853399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189868721","html_url":"https://github.com/apache/brpc/issues/1849#issuecomment-1189868721","issue_url":"https://api.github.com/repos/apache/brpc/issues/1849","id":1189868721,"node_id":"IC_kwDOBhmkcs5G6_Sx","user":{"login":"MonstarCoder","id":21216733,"node_id":"MDQ6VXNlcjIxMjE2NzMz","avatar_url":"https://avatars.githubusercontent.com/u/21216733?v=4","gravatar_id":"","url":"https://api.github.com/users/MonstarCoder","html_url":"https://github.com/MonstarCoder","followers_url":"https://api.github.com/users/MonstarCoder/followers","following_url":"https://api.github.com/users/MonstarCoder/following{/other_user}","gists_url":"https://api.github.com/users/MonstarCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/MonstarCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MonstarCoder/subscriptions","organizations_url":"https://api.github.com/users/MonstarCoder/orgs","repos_url":"https://api.github.com/users/MonstarCoder/repos","events_url":"https://api.github.com/users/MonstarCoder/events{/privacy}","received_events_url":"https://api.github.com/users/MonstarCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T06:10:09Z","updated_at":"2022-07-20T06:10:09Z","author_association":"NONE","body":"> 内部版本有这个功能，@KaneVV1 可以提个PR\r\n\r\n太棒了，急需该功能，期待PR！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1189868721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1190187640","html_url":"https://github.com/apache/brpc/pull/1814#issuecomment-1190187640","issue_url":"https://api.github.com/repos/apache/brpc/issues/1814","id":1190187640,"node_id":"IC_kwDOBhmkcs5G8NJ4","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T12:01:20Z","updated_at":"2022-07-20T12:01:20Z","author_association":"MEMBER","body":"> 不管是来自于[SocketMap](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket_map.cpp#L247)还是selective_channel中的[_chan_map](https://github.com/apache/incubator-brpc/blob/master/src/brpc/selective_channel.cpp#L206)，健康检查机制关注的还是引用。将_is_in_socket_map改成_is_hc_related_ref_held，是不是更合适一点？_is_hc_related_ref_held表示外部持有了一个与健康检查机制有关的引用，持有该引用的一部分作用是让健康检查机制正常执行。这样就不会与SocketMap耦合了，在selective_channel中变成设置_is_hc_related_ref_held也自然多了。\r\n\r\n好的，这个名字可以。另外可以检查一下其它combo channel有没有类似的问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1190187640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191023081","html_url":"https://github.com/apache/brpc/pull/1814#issuecomment-1191023081","issue_url":"https://api.github.com/repos/apache/brpc/issues/1814","id":1191023081,"node_id":"IC_kwDOBhmkcs5G_ZHp","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T04:25:03Z","updated_at":"2022-07-21T04:25:03Z","author_association":"CONTRIBUTOR","body":"> > 不管是来自于[SocketMap](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket_map.cpp#L247)还是selective_channel中的[_chan_map](https://github.com/apache/incubator-brpc/blob/master/src/brpc/selective_channel.cpp#L206)，健康检查机制关注的还是引用。将_is_in_socket_map改成_is_hc_related_ref_held，是不是更合适一点？_is_hc_related_ref_held表示外部持有了一个与健康检查机制有关的引用，持有该引用的一部分作用是让健康检查机制正常执行。这样就不会与SocketMap耦合了，在selective_channel中变成设置_is_hc_related_ref_held也自然多了。\r\n> \r\n> 好的，这个名字可以。另外可以检查一下其它combo channel有没有类似的问题？\r\n\r\n已修改。确认过了，其它combo channel没有类似的问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191023081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191154811","html_url":"https://github.com/apache/brpc/issues/1087#issuecomment-1191154811","issue_url":"https://api.github.com/repos/apache/brpc/issues/1087","id":1191154811,"node_id":"IC_kwDOBhmkcs5G_5R7","user":{"login":"searKing","id":4208726,"node_id":"MDQ6VXNlcjQyMDg3MjY=","avatar_url":"https://avatars.githubusercontent.com/u/4208726?v=4","gravatar_id":"","url":"https://api.github.com/users/searKing","html_url":"https://github.com/searKing","followers_url":"https://api.github.com/users/searKing/followers","following_url":"https://api.github.com/users/searKing/following{/other_user}","gists_url":"https://api.github.com/users/searKing/gists{/gist_id}","starred_url":"https://api.github.com/users/searKing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/searKing/subscriptions","organizations_url":"https://api.github.com/users/searKing/orgs","repos_url":"https://api.github.com/users/searKing/repos","events_url":"https://api.github.com/users/searKing/events{/privacy}","received_events_url":"https://api.github.com/users/searKing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T07:43:27Z","updated_at":"2022-07-21T07:43:27Z","author_association":"NONE","body":"> > 加上connect size，maxmessagesize 已\r\n> \r\n> 麻烦问一下是具体哪个参数，我也遇到了\r\n\r\n grpc.DialContext的opts增加如下选项 https://github.com/grpc/grpc-go/pull/1210 即可，大小可以根据需要调整：\r\n```go \r\ngrpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(math.MaxInt32), \r\n    grpc.MaxCallSendMsgSize(math.MaxInt32)),\r\n    grpc.WithInitialConnWindowSize(math.MaxInt32),\r\n    grpc.WithInitialWindowSize(math.MaxInt32)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191154811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191156447","html_url":"https://github.com/apache/brpc/issues/1793#issuecomment-1191156447","issue_url":"https://api.github.com/repos/apache/brpc/issues/1793","id":1191156447,"node_id":"IC_kwDOBhmkcs5G_5rf","user":{"login":"helloqingbing","id":12151675,"node_id":"MDQ6VXNlcjEyMTUxNjc1","avatar_url":"https://avatars.githubusercontent.com/u/12151675?v=4","gravatar_id":"","url":"https://api.github.com/users/helloqingbing","html_url":"https://github.com/helloqingbing","followers_url":"https://api.github.com/users/helloqingbing/followers","following_url":"https://api.github.com/users/helloqingbing/following{/other_user}","gists_url":"https://api.github.com/users/helloqingbing/gists{/gist_id}","starred_url":"https://api.github.com/users/helloqingbing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/helloqingbing/subscriptions","organizations_url":"https://api.github.com/users/helloqingbing/orgs","repos_url":"https://api.github.com/users/helloqingbing/repos","events_url":"https://api.github.com/users/helloqingbing/events{/privacy}","received_events_url":"https://api.github.com/users/helloqingbing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T07:45:23Z","updated_at":"2022-07-21T07:45:23Z","author_association":"NONE","body":"偶发的，PassiveStatus是brpc自带的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191156447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191925142","html_url":"https://github.com/apache/brpc/pull/1814#issuecomment-1191925142","issue_url":"https://api.github.com/repos/apache/brpc/issues/1814","id":1191925142,"node_id":"IC_kwDOBhmkcs5HC1WW","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T20:54:41Z","updated_at":"2022-07-21T20:54:41Z","author_association":"MEMBER","body":"多谢贡献","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191925142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191952661","html_url":"https://github.com/apache/brpc/pull/1817#issuecomment-1191952661","issue_url":"https://api.github.com/repos/apache/brpc/issues/1817","id":1191952661,"node_id":"IC_kwDOBhmkcs5HC8EV","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-21T21:29:18Z","updated_at":"2022-07-21T21:29:18Z","author_association":"MEMBER","body":"一个Nice To Have：这里会有2次HC，第一次HC是真正的HC，第二次HC是因为这个极端case导致的false positive（其实对端server已经恢复了），理论上只做一次HC即可。\r\n\r\n可以不用在这个PR实现，有兴趣的话可以想想怎么解决 :)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1191952661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1192138991","html_url":"https://github.com/apache/brpc/issues/1850#issuecomment-1192138991","issue_url":"https://api.github.com/repos/apache/brpc/issues/1850","id":1192138991,"node_id":"IC_kwDOBhmkcs5HDpjv","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-22T03:20:33Z","updated_at":"2022-07-22T03:20:33Z","author_association":"CONTRIBUTOR","body":"我理解是可以的，只要协议格式一样应该没问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1192138991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193093473","html_url":"https://github.com/apache/brpc/pull/1817#issuecomment-1193093473","issue_url":"https://api.github.com/repos/apache/brpc/issues/1817","id":1193093473,"node_id":"IC_kwDOBhmkcs5HHSlh","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-23T09:18:39Z","updated_at":"2022-07-23T09:18:39Z","author_association":"CONTRIBUTOR","body":"> 一个Nice To Have：这里会有2次HC，第一次HC是真正的HC，第二次HC是因为这个极端case导致的false positive（其实对端server已经恢复了），理论上只做一次HC即可。\r\n> \r\n> 可以不用在这个PR实现，有兴趣的话可以想想怎么解决 :)\r\n\r\n设个标志_is_hc_started（atomic<bool>），默认为false。[hc开始的时候](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket.cpp#L850)判断_is_hc_started.compare_exchange_strong(expect, true,butil::memory_order_relaxed)，其中expect为false。如果为true，则表示无hc，可以进行hc；否则，跳过，不进行hc。当hc结束时，将_is_hc_started置为false。这样应该可以避免同时进行2次hc的问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193093473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193187451","html_url":"https://github.com/apache/brpc/pull/1817#issuecomment-1193187451","issue_url":"https://api.github.com/repos/apache/brpc/issues/1817","id":1193187451,"node_id":"IC_kwDOBhmkcs5HHph7","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-23T20:56:21Z","updated_at":"2022-07-23T20:56:21Z","author_association":"MEMBER","body":"> > 一个Nice To Have：这里会有2次HC，第一次HC是真正的HC，第二次HC是因为这个极端case导致的false positive（其实对端server已经恢复了），理论上只做一次HC即可。\r\n> > 可以不用在这个PR实现，有兴趣的话可以想想怎么解决 :)\r\n> \r\n> 设个标志_is_hc_started（atomic），默认为false。[hc开始的时候](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket.cpp#L850)判断_is_hc_started.compare_exchange_strong(expect, true,butil::memory_order_relaxed)，其中expect为false。如果为true，则表示无hc，可以进行hc；否则，跳过，不进行hc。当hc结束时，将_is_hc_started置为false。这样应该可以避免同时进行2次hc的问题。\r\n\r\nAnother Nice-to-have: 有一种情况会导致2次连续(不并发）的HC：SetFailed后调度出去，另外一个线程的HC结束，然后SetFailed继续执行到StartHealthCheck。当然第二次是必要的因为第一次HC之后如果server立刻down了，这第二次HC可以检测出来，不过这个场景大概率第二次HC是成功的，因为之前紧接的第一次是成功的。\r\n\r\n我们还可以继续优化掉这个第二次HC吗？如果发生了server在第一次HC后立刻down的情况，可以在下一次用户主动的rpc call的时候再触发HC.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193187451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193295345","html_url":"https://github.com/apache/brpc/pull/1817#issuecomment-1193295345","issue_url":"https://api.github.com/repos/apache/brpc/issues/1817","id":1193295345,"node_id":"IC_kwDOBhmkcs5HID3x","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-24T11:09:55Z","updated_at":"2022-07-24T11:09:55Z","author_association":"CONTRIBUTOR","body":"> > > 一个Nice To Have：这里会有2次HC，第一次HC是真正的HC，第二次HC是因为这个极端case导致的false positive（其实对端server已经恢复了），理论上只做一次HC即可。\r\n> > > 可以不用在这个PR实现，有兴趣的话可以想想怎么解决 :)\r\n> > \r\n> > \r\n> > 设个标志_is_hc_started（atomic），默认为false。[hc开始的时候](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket.cpp#L850)判断_is_hc_started.compare_exchange_strong(expect, true,butil::memory_order_relaxed)，其中expect为false。如果为true，则表示无hc，可以进行hc；否则，跳过，不进行hc。当hc结束时，将_is_hc_started置为false。这样应该可以避免同时进行2次hc的问题。\r\n> \r\n> Another Nice-to-have: 有一种情况会导致2次连续(不并发）的HC：SetFailed后调度出去，另外一个线程的HC结束，然后SetFailed继续执行到StartHealthCheck。当然第二次是必要的因为第一次HC之后如果server立刻down了，这第二次HC可以检测出来，不过这个场景大概率第二次HC是成功的，因为之前紧接的第一次是成功的。\r\n> \r\n> 我们还可以继续优化掉这个第二次HC吗？如果发生了server在第一次HC后立刻down的情况，可以在下一次用户主动的rpc call的时候再触发HC.\r\n\r\n这种情况好像没有好的优化方法，此场景下的第二次SetFailed和普通场景下的SetFailed差不多。_versioned_ref的恢复需要HC，如果发生了server在第一次HC后立刻down的情况，不在这次触发HC的话，_versioned_ref就无法恢复，用户也无法address到socket，主动rpc call了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193295345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193392238","html_url":"https://github.com/apache/brpc/pull/1817#issuecomment-1193392238","issue_url":"https://api.github.com/repos/apache/brpc/issues/1817","id":1193392238,"node_id":"IC_kwDOBhmkcs5HIbhu","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-24T20:52:18Z","updated_at":"2022-07-24T20:52:18Z","author_association":"MEMBER","body":"> > > > 一个Nice To Have：这里会有2次HC，第一次HC是真正的HC，第二次HC是因为这个极端case导致的false positive（其实对端server已经恢复了），理论上只做一次HC即可。\r\n> > > > 可以不用在这个PR实现，有兴趣的话可以想想怎么解决 :)\r\n> > > \r\n> > > \r\n> > > 设个标志_is_hc_started（atomic），默认为false。[hc开始的时候](https://github.com/apache/incubator-brpc/blob/master/src/brpc/socket.cpp#L850)判断_is_hc_started.compare_exchange_strong(expect, true,butil::memory_order_relaxed)，其中expect为false。如果为true，则表示无hc，可以进行hc；否则，跳过，不进行hc。当hc结束时，将_is_hc_started置为false。这样应该可以避免同时进行2次hc的问题。\r\n> > \r\n> > \r\n> > Another Nice-to-have: 有一种情况会导致2次连续(不并发）的HC：SetFailed后调度出去，另外一个线程的HC结束，然后SetFailed继续执行到StartHealthCheck。当然第二次是必要的因为第一次HC之后如果server立刻down了，这第二次HC可以检测出来，不过这个场景大概率第二次HC是成功的，因为之前紧接的第一次是成功的。\r\n> > 我们还可以继续优化掉这个第二次HC吗？如果发生了server在第一次HC后立刻down的情况，可以在下一次用户主动的rpc call的时候再触发HC.\r\n> \r\n> 这种情况好像没有好的优化方法，此场景下的第二次SetFailed和普通场景下的SetFailed差不多。_versioned_ref的恢复需要HC，如果发生了server在第一次HC后立刻down的情况，不在这次触发HC的话，_versioned_ref就无法恢复，用户也无法address到socket，主动rpc call了。\r\n\r\n是的，这是这个优化在实现上比较难的地方，先暂时放一放吧。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193392238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193481790","html_url":"https://github.com/apache/brpc/pull/1854#issuecomment-1193481790","issue_url":"https://api.github.com/repos/apache/brpc/issues/1854","id":1193481790,"node_id":"IC_kwDOBhmkcs5HIxY-","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-25T02:18:05Z","updated_at":"2022-07-25T02:18:05Z","author_association":"CONTRIBUTOR","body":"百度内部是通过gflag来自定义server prefix的，代码大致如下：\r\n\r\n```cpp\r\nstd::string Server::ServerPrefix() const {\r\n    if (FLAGS_customized_server_prefix.empty()) {\r\n         return base::string_printf(\"%s_%d\", g_server_info_prefix, listen_address().port);\r\n    } else {\r\n        return FLAGS_customized_server_prefix;\r\n    }\r\n}\r\n```\r\n\r\n可以看下哪种方式更方便一些。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193481790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193496274","html_url":"https://github.com/apache/brpc/pull/1854#issuecomment-1193496274","issue_url":"https://api.github.com/repos/apache/brpc/issues/1854","id":1193496274,"node_id":"IC_kwDOBhmkcs5HI07S","user":{"login":"jenrryyou","id":4698734,"node_id":"MDQ6VXNlcjQ2OTg3MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4698734?v=4","gravatar_id":"","url":"https://api.github.com/users/jenrryyou","html_url":"https://github.com/jenrryyou","followers_url":"https://api.github.com/users/jenrryyou/followers","following_url":"https://api.github.com/users/jenrryyou/following{/other_user}","gists_url":"https://api.github.com/users/jenrryyou/gists{/gist_id}","starred_url":"https://api.github.com/users/jenrryyou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenrryyou/subscriptions","organizations_url":"https://api.github.com/users/jenrryyou/orgs","repos_url":"https://api.github.com/users/jenrryyou/repos","events_url":"https://api.github.com/users/jenrryyou/events{/privacy}","received_events_url":"https://api.github.com/users/jenrryyou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-25T02:48:24Z","updated_at":"2022-07-25T03:22:16Z","author_association":"CONTRIBUTOR","body":"> 百度内部是通过gflag来自定义server prefix的，代码大致如下：\r\n> \r\n> ```c++\r\n> std::string Server::ServerPrefix() const {\r\n>     if (FLAGS_customized_server_prefix.empty()) {\r\n>          return base::string_printf(\"%s_%d\", g_server_info_prefix, listen_address().port);\r\n>     } else {\r\n>         return FLAGS_customized_server_prefix;\r\n>     }\r\n> }\r\n> ```\r\n> \r\n> 可以看下哪种方式更方便一些。\r\n\r\n用gflag如果有多个server的情况不能区分各自server的指标，个人觉得这类server spefic的属性放server option更合理一些。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1193496274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1194561751","html_url":"https://github.com/apache/brpc/pull/1817#issuecomment-1194561751","issue_url":"https://api.github.com/repos/apache/brpc/issues/1817","id":1194561751,"node_id":"IC_kwDOBhmkcs5HM5DX","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-25T20:03:46Z","updated_at":"2022-07-25T20:03:46Z","author_association":"MEMBER","body":"感谢贡献","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1194561751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1194668394","html_url":"https://github.com/apache/brpc/pull/1657#issuecomment-1194668394","issue_url":"https://api.github.com/repos/apache/brpc/issues/1657","id":1194668394,"node_id":"IC_kwDOBhmkcs5HNTFq","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-25T21:42:52Z","updated_at":"2022-07-25T21:42:52Z","author_association":"MEMBER","body":"Thanks. I will have a look later.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1194668394/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1195285479","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-1195285479","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":1195285479,"node_id":"IC_kwDOBhmkcs5HPpvn","user":{"login":"jiangdongzi","id":17529657,"node_id":"MDQ6VXNlcjE3NTI5NjU3","avatar_url":"https://avatars.githubusercontent.com/u/17529657?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangdongzi","html_url":"https://github.com/jiangdongzi","followers_url":"https://api.github.com/users/jiangdongzi/followers","following_url":"https://api.github.com/users/jiangdongzi/following{/other_user}","gists_url":"https://api.github.com/users/jiangdongzi/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangdongzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangdongzi/subscriptions","organizations_url":"https://api.github.com/users/jiangdongzi/orgs","repos_url":"https://api.github.com/users/jiangdongzi/repos","events_url":"https://api.github.com/users/jiangdongzi/events{/privacy}","received_events_url":"https://api.github.com/users/jiangdongzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-26T10:10:07Z","updated_at":"2022-07-26T10:10:07Z","author_association":"NONE","body":"> \r\n\r\n主要是很多客户端 比如 mysql kafka等都是阻塞的, 这种就很烦","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1195285479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1196294572","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1196294572","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1196294572,"node_id":"IC_kwDOBhmkcs5HTgGs","user":{"login":"wudisheng","id":8771316,"node_id":"MDQ6VXNlcjg3NzEzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8771316?v=4","gravatar_id":"","url":"https://api.github.com/users/wudisheng","html_url":"https://github.com/wudisheng","followers_url":"https://api.github.com/users/wudisheng/followers","following_url":"https://api.github.com/users/wudisheng/following{/other_user}","gists_url":"https://api.github.com/users/wudisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wudisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wudisheng/subscriptions","organizations_url":"https://api.github.com/users/wudisheng/orgs","repos_url":"https://api.github.com/users/wudisheng/repos","events_url":"https://api.github.com/users/wudisheng/events{/privacy}","received_events_url":"https://api.github.com/users/wudisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T05:53:43Z","updated_at":"2022-07-27T05:53:43Z","author_association":"NONE","body":"Some further investigation shows that there might be another scenario --- readv() returned `-1` with a non-zero `errno`, but `errno` got changed to `0` in `return_cached_blocks()`.\r\n\r\nAnother piece of debugging log supports this scenario.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1196294572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1196812796","html_url":"https://github.com/apache/brpc/pull/1763#issuecomment-1196812796","issue_url":"https://api.github.com/repos/apache/brpc/issues/1763","id":1196812796,"node_id":"IC_kwDOBhmkcs5HVen8","user":{"login":"guodongxiaren","id":5945107,"node_id":"MDQ6VXNlcjU5NDUxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5945107?v=4","gravatar_id":"","url":"https://api.github.com/users/guodongxiaren","html_url":"https://github.com/guodongxiaren","followers_url":"https://api.github.com/users/guodongxiaren/followers","following_url":"https://api.github.com/users/guodongxiaren/following{/other_user}","gists_url":"https://api.github.com/users/guodongxiaren/gists{/gist_id}","starred_url":"https://api.github.com/users/guodongxiaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guodongxiaren/subscriptions","organizations_url":"https://api.github.com/users/guodongxiaren/orgs","repos_url":"https://api.github.com/users/guodongxiaren/repos","events_url":"https://api.github.com/users/guodongxiaren/events{/privacy}","received_events_url":"https://api.github.com/users/guodongxiaren/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T14:10:10Z","updated_at":"2022-07-27T14:10:10Z","author_association":"MEMBER","body":"> > rpc_replay是不是也有类似问题\r\n> \r\n> 是的，rpc_replay也有一样的问题。本次只修改了rpc_press是想让大家帮忙review一下目前这样改的思路是否可行，然后再修改rpc_replay\r\n\r\n@bumingchun rpc_replay的修改提了吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1196812796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1196913604","html_url":"https://github.com/apache/brpc/pull/1763#issuecomment-1196913604","issue_url":"https://api.github.com/repos/apache/brpc/issues/1763","id":1196913604,"node_id":"IC_kwDOBhmkcs5HV3PE","user":{"login":"bumingchun","id":20112368,"node_id":"MDQ6VXNlcjIwMTEyMzY4","avatar_url":"https://avatars.githubusercontent.com/u/20112368?v=4","gravatar_id":"","url":"https://api.github.com/users/bumingchun","html_url":"https://github.com/bumingchun","followers_url":"https://api.github.com/users/bumingchun/followers","following_url":"https://api.github.com/users/bumingchun/following{/other_user}","gists_url":"https://api.github.com/users/bumingchun/gists{/gist_id}","starred_url":"https://api.github.com/users/bumingchun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bumingchun/subscriptions","organizations_url":"https://api.github.com/users/bumingchun/orgs","repos_url":"https://api.github.com/users/bumingchun/repos","events_url":"https://api.github.com/users/bumingchun/events{/privacy}","received_events_url":"https://api.github.com/users/bumingchun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-27T15:30:43Z","updated_at":"2022-07-27T15:30:43Z","author_association":"CONTRIBUTOR","body":"> \r\n不好意思，pr提的时间有点长，后面把rpc_replay给忘了，我最近提交一下\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1196913604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197623096","html_url":"https://github.com/apache/brpc/issues/1851#issuecomment-1197623096","issue_url":"https://api.github.com/repos/apache/brpc/issues/1851","id":1197623096,"node_id":"IC_kwDOBhmkcs5HYkc4","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T03:48:45Z","updated_at":"2022-07-28T03:48:45Z","author_association":"CONTRIBUTOR","body":"可能是你机器上有多个protobuf版本，头文件引用的是一个版本，链接时用的是另一个版本","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197623096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197631153","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1197631153","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1197631153,"node_id":"IC_kwDOBhmkcs5HYmax","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T04:03:50Z","updated_at":"2022-07-28T04:03:50Z","author_association":"CONTRIBUTOR","body":"当ChannelOptions.timeout_ms < ChannelOptions.connect_timeout_ms时，connect_timeout_ms会被截断为timeout_ms的值，所以会导致connect timeout的发生。\r\n如果不希望因为connect timeout而导致熔断，可以把connect_timeout_ms设置成-1\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197631153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197644405","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197644405","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197644405,"node_id":"IC_kwDOBhmkcs5HYpp1","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T04:27:29Z","updated_at":"2022-07-28T04:27:29Z","author_association":"CONTRIBUTOR","body":"> Another piece of debugging log supports this scenario.\r\n\r\nCould you show this log?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197644405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197651693","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197651693","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197651693,"node_id":"IC_kwDOBhmkcs5HYrbt","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T04:39:28Z","updated_at":"2022-07-28T04:39:28Z","author_association":"CONTRIBUTOR","body":"This issue may be related to https://github.com/apache/incubator-brpc/issues/1693. Although we have removed the `__const__` attribute of __errno_location(), but powerful link time optimization may still cache the tls errno location ?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197651693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197666874","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197666874","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197666874,"node_id":"IC_kwDOBhmkcs5HYvI6","user":{"login":"wudisheng","id":8771316,"node_id":"MDQ6VXNlcjg3NzEzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8771316?v=4","gravatar_id":"","url":"https://api.github.com/users/wudisheng","html_url":"https://github.com/wudisheng","followers_url":"https://api.github.com/users/wudisheng/followers","following_url":"https://api.github.com/users/wudisheng/following{/other_user}","gists_url":"https://api.github.com/users/wudisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wudisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wudisheng/subscriptions","organizations_url":"https://api.github.com/users/wudisheng/orgs","repos_url":"https://api.github.com/users/wudisheng/repos","events_url":"https://api.github.com/users/wudisheng/events{/privacy}","received_events_url":"https://api.github.com/users/wudisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T05:05:12Z","updated_at":"2022-07-28T05:05:12Z","author_association":"NONE","body":"> > Another piece of debugging log supports this scenario.\r\n> \r\n> Could you show this log?\r\n\r\nThis is a piece of debugging log showing such a scenario (`readv()` returned `-1` with `errno==11`), but outer callsite sees `0`.\r\n\r\n<img width=\"1389\" alt=\"image\" src=\"https://user-images.githubusercontent.com/8771316/181424624-5511e467-173f-457c-b366-ce20d8186aca.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197666874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197675018","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197675018","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197675018,"node_id":"IC_kwDOBhmkcs5HYxIK","user":{"login":"wudisheng","id":8771316,"node_id":"MDQ6VXNlcjg3NzEzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8771316?v=4","gravatar_id":"","url":"https://api.github.com/users/wudisheng","html_url":"https://github.com/wudisheng","followers_url":"https://api.github.com/users/wudisheng/followers","following_url":"https://api.github.com/users/wudisheng/following{/other_user}","gists_url":"https://api.github.com/users/wudisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wudisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wudisheng/subscriptions","organizations_url":"https://api.github.com/users/wudisheng/orgs","repos_url":"https://api.github.com/users/wudisheng/repos","events_url":"https://api.github.com/users/wudisheng/events{/privacy}","received_events_url":"https://api.github.com/users/wudisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T05:19:15Z","updated_at":"2022-07-28T05:21:09Z","author_association":"NONE","body":"> This issue may be related to #1693. Although we have removed the `__const__` attribute of __errno_location(), but powerful link time optimization may still cache the tls errno location ?\r\n\r\nBTW-1: I also observed once that before `return nr` in `pappend_from_file_descriptor()`, `errno` is non-zero, but immediately in the outer callsite `errno` become zero. I couldn't find the corresponding debugging log at this time, but it sounds like LTO does collapse something around `errno`.\r\n\r\nBTW-2: During my investigation, I also tried using Clang-15 (instead of Clang-12) with exactly the same building configurations, then I observed a different coredump saying something like \"bthread sched_to itself\" or so, so it seems LTO may really break something in BRPC code base.\r\n\r\nBTW-3: About half a year ago, when we are using 0.9.7, I roughly tested LTO capabilities once and BRPC wasn't a blocker at that time (the service behaves correctly online at a benefited performance).\r\n\r\nCurrently I have switched to a building mode that everything but BRPC in the entire dependency graph is built with ThinLTO, and the binary can be started without an immediate coredump (whether it behaves correctly may need a longer verification procedure).\r\n\r\nLet me know if you need any further context from my scenario.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197675018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197697869","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197697869","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197697869,"node_id":"IC_kwDOBhmkcs5HY2tN","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T05:56:41Z","updated_at":"2022-07-28T05:56:41Z","author_association":"CONTRIBUTOR","body":"> I observed a different coredump saying something like \"bthread sched_to itself\"\r\n\r\nI encountered this error before, that is related to tls cache. Compiler options: -fno-gcse, -fno-cse-follow-jumps, -fno-move-loop-invariants may fix this.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197697869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197699045","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197699045","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197699045,"node_id":"IC_kwDOBhmkcs5HY2_l","user":{"login":"wudisheng","id":8771316,"node_id":"MDQ6VXNlcjg3NzEzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8771316?v=4","gravatar_id":"","url":"https://api.github.com/users/wudisheng","html_url":"https://github.com/wudisheng","followers_url":"https://api.github.com/users/wudisheng/followers","following_url":"https://api.github.com/users/wudisheng/following{/other_user}","gists_url":"https://api.github.com/users/wudisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wudisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wudisheng/subscriptions","organizations_url":"https://api.github.com/users/wudisheng/orgs","repos_url":"https://api.github.com/users/wudisheng/repos","events_url":"https://api.github.com/users/wudisheng/events{/privacy}","received_events_url":"https://api.github.com/users/wudisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T05:58:30Z","updated_at":"2022-07-28T05:58:30Z","author_association":"NONE","body":"Thanks for the information, I'll give it a shoot later this week.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197699045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197724231","html_url":"https://github.com/apache/brpc/issues/1841#issuecomment-1197724231","issue_url":"https://api.github.com/repos/apache/brpc/issues/1841","id":1197724231,"node_id":"IC_kwDOBhmkcs5HY9JH","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T06:34:54Z","updated_at":"2022-07-28T06:34:54Z","author_association":"CONTRIBUTOR","body":"你好，请问brpc用的是哪个版本呢？ #1679 应该已经修复了这个问题，可以更新到1.1.0版本或者master分支试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197724231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197747550","html_url":"https://github.com/apache/brpc/issues/1822#issuecomment-1197747550","issue_url":"https://api.github.com/repos/apache/brpc/issues/1822","id":1197747550,"node_id":"IC_kwDOBhmkcs5HZC1e","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T07:03:48Z","updated_at":"2022-07-28T07:03:48Z","author_association":"CONTRIBUTOR","body":"原始需求是统计一次pv消耗的cpu资源，但仅从bthread层面来统计是不够的。我们可以修改bthread代码来统计一个bthread消耗的cpu，但如何把bthread跟一次pv关联起来是难点。\r\n比如在一次pv的处理过程，server端会有io的bthread、处理请求的bthread，client端会有处理rpc response的bthread。\r\n比如用户在处理请求过程中可能启动bthread/pthread来进行并行处理，或者将任务提交到某个bthread/pthread线程池中处理。\r\n\r\n另一种思路可以考虑下：将不同成份的流量路由到不同的实例，然后比较不同实例的cpu消耗，从而进行实验资源的评估。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197747550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197767866","html_url":"https://github.com/apache/brpc/issues/1809#issuecomment-1197767866","issue_url":"https://api.github.com/repos/apache/brpc/issues/1809","id":1197767866,"node_id":"IC_kwDOBhmkcs5HZHy6","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T07:26:13Z","updated_at":"2022-07-28T07:26:13Z","author_association":"CONTRIBUTOR","body":"看起来是mold的行为和其它ld不兼容，参考：https://github.com/rui314/mold/issues/524\r\n有一个解决方案是gcc编译源码时加上-fno-gnu-unique选项","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197767866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197774274","html_url":"https://github.com/apache/brpc/issues/1793#issuecomment-1197774274","issue_url":"https://api.github.com/repos/apache/brpc/issues/1793","id":1197774274,"node_id":"IC_kwDOBhmkcs5HZJXC","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T07:33:10Z","updated_at":"2022-07-28T07:33:10Z","author_association":"CONTRIBUTOR","body":"可能是因为sampler线程启动过快，有些全局变量还没初始化导致的。\r\n百度内部版本在sampler线程启动时加上了10ms的延迟时间，来避免这个问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197774274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197823796","html_url":"https://github.com/apache/brpc/issues/1788#issuecomment-1197823796","issue_url":"https://api.github.com/repos/apache/brpc/issues/1788","id":1197823796,"node_id":"IC_kwDOBhmkcs5HZVc0","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T08:23:03Z","updated_at":"2022-07-28T08:23:03Z","author_association":"CONTRIBUTOR","body":"Related PR: https://github.com/apache/incubator-brpc/pull/1836","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197823796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197830481","html_url":"https://github.com/apache/brpc/issues/1765#issuecomment-1197830481","issue_url":"https://api.github.com/repos/apache/brpc/issues/1765","id":1197830481,"node_id":"IC_kwDOBhmkcs5HZXFR","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T08:29:19Z","updated_at":"2022-07-28T08:29:19Z","author_association":"CONTRIBUTOR","body":"Fixed by https://github.com/apache/incubator-brpc/pull/1783","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197830481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197836785","html_url":"https://github.com/apache/brpc/issues/1770#issuecomment-1197836785","issue_url":"https://api.github.com/repos/apache/brpc/issues/1770","id":1197836785,"node_id":"IC_kwDOBhmkcs5HZYnx","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T08:35:12Z","updated_at":"2022-07-28T08:35:12Z","author_association":"CONTRIBUTOR","body":"可以参考这个问题： https://github.com/apache/incubator-brpc/issues/1346\r\n需要修改grpc server端的设置","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197836785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197837700","html_url":"https://github.com/apache/brpc/issues/1748#issuecomment-1197837700","issue_url":"https://api.github.com/repos/apache/brpc/issues/1748","id":1197837700,"node_id":"IC_kwDOBhmkcs5HZY2E","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T08:36:03Z","updated_at":"2022-07-28T08:36:03Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-brpc/pull/1783 已合入master","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197837700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197839043","html_url":"https://github.com/apache/brpc/issues/1686#issuecomment-1197839043","issue_url":"https://api.github.com/repos/apache/brpc/issues/1686","id":1197839043,"node_id":"IC_kwDOBhmkcs5HZZLD","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T08:37:19Z","updated_at":"2022-07-28T08:37:19Z","author_association":"CONTRIBUTOR","body":"master已解决","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197839043/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197850633","html_url":"https://github.com/apache/brpc/issues/1861#issuecomment-1197850633","issue_url":"https://api.github.com/repos/apache/brpc/issues/1861","id":1197850633,"node_id":"IC_kwDOBhmkcs5HZcAJ","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T08:47:39Z","updated_at":"2022-07-28T08:47:39Z","author_association":"CONTRIBUTOR","body":"这个时间就是在等待server端处理请求返回结果吧，看看server端的处理时间是多少？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197850633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197952733","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197952733","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197952733,"node_id":"IC_kwDOBhmkcs5HZ07d","user":{"login":"wudisheng","id":8771316,"node_id":"MDQ6VXNlcjg3NzEzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8771316?v=4","gravatar_id":"","url":"https://api.github.com/users/wudisheng","html_url":"https://github.com/wudisheng","followers_url":"https://api.github.com/users/wudisheng/followers","following_url":"https://api.github.com/users/wudisheng/following{/other_user}","gists_url":"https://api.github.com/users/wudisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wudisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wudisheng/subscriptions","organizations_url":"https://api.github.com/users/wudisheng/orgs","repos_url":"https://api.github.com/users/wudisheng/repos","events_url":"https://api.github.com/users/wudisheng/events{/privacy}","received_events_url":"https://api.github.com/users/wudisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T10:20:55Z","updated_at":"2022-07-28T10:20:55Z","author_association":"NONE","body":"> -fno-gcse, -fno-cse-follow-jumps, -fno-move-loop-invariants\r\n\r\nUnfortunately I could not easily find corresponding switches in Clang, it seems that optimization switches of Gcc and Clang at such a detailed level differ a lot.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197952733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197979758","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197979758","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197979758,"node_id":"IC_kwDOBhmkcs5HZ7hu","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T10:47:12Z","updated_at":"2022-07-28T10:47:12Z","author_association":"CONTRIBUTOR","body":"> BTW-3: About half a year ago, when we are using 0.9.7, I roughly tested LTO capabilities once and BRPC wasn't a blocker at that time (the service behaves correctly online at a benefited performance).\r\n\r\nWhat compiler did you use in this case?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197979758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197980682","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197980682","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197980682,"node_id":"IC_kwDOBhmkcs5HZ7wK","user":{"login":"wudisheng","id":8771316,"node_id":"MDQ6VXNlcjg3NzEzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/8771316?v=4","gravatar_id":"","url":"https://api.github.com/users/wudisheng","html_url":"https://github.com/wudisheng","followers_url":"https://api.github.com/users/wudisheng/followers","following_url":"https://api.github.com/users/wudisheng/following{/other_user}","gists_url":"https://api.github.com/users/wudisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wudisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wudisheng/subscriptions","organizations_url":"https://api.github.com/users/wudisheng/orgs","repos_url":"https://api.github.com/users/wudisheng/repos","events_url":"https://api.github.com/users/wudisheng/events{/privacy}","received_events_url":"https://api.github.com/users/wudisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T10:48:11Z","updated_at":"2022-07-28T10:49:20Z","author_association":"NONE","body":"> > BTW-3: About half a year ago, when we are using 0.9.7, I roughly tested LTO capabilities once and BRPC wasn't a blocker at that time (the service behaves correctly online at a benefited performance).\r\n> \r\n> What compiler did you use in this case?\r\n\r\nClang 8 at that time, with GLIBC 2.27 and GLIBCXX 3.4.26.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197980682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197987391","html_url":"https://github.com/apache/brpc/issues/1860#issuecomment-1197987391","issue_url":"https://api.github.com/repos/apache/brpc/issues/1860","id":1197987391,"node_id":"IC_kwDOBhmkcs5HZ9Y_","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T10:55:34Z","updated_at":"2022-07-28T10:55:34Z","author_association":"CONTRIBUTOR","body":"We are using gcc 8 and gcc 10 with lto to compile brpc and everything works well. \r\nIt seems that some new optimization in clang is not compatible with bthread, that is, it may cache the tls address between bthread context switch.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1197987391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198084495","html_url":"https://github.com/apache/brpc/issues/1861#issuecomment-1198084495","issue_url":"https://api.github.com/repos/apache/brpc/issues/1861","id":1198084495,"node_id":"IC_kwDOBhmkcs5HaVGP","user":{"login":"expleeve","id":5320571,"node_id":"MDQ6VXNlcjUzMjA1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5320571?v=4","gravatar_id":"","url":"https://api.github.com/users/expleeve","html_url":"https://github.com/expleeve","followers_url":"https://api.github.com/users/expleeve/followers","following_url":"https://api.github.com/users/expleeve/following{/other_user}","gists_url":"https://api.github.com/users/expleeve/gists{/gist_id}","starred_url":"https://api.github.com/users/expleeve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/expleeve/subscriptions","organizations_url":"https://api.github.com/users/expleeve/orgs","repos_url":"https://api.github.com/users/expleeve/repos","events_url":"https://api.github.com/users/expleeve/events{/privacy}","received_events_url":"https://api.github.com/users/expleeve/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-28T12:37:29Z","updated_at":"2022-07-28T12:49:14Z","author_association":"NONE","body":"> 这个时间就是在等待server端处理请求返回结果吧，看看server端的处理时间是多少？\r\n\r\n多谢回复，server端在brpc的status面板上看耗时平均是10ms左右，剩下的大概27ms，不确定是花在哪了\r\n\r\n另外，我直接用example里的echo的client和server测试的话，相同的发压配置，这部分的平均耗时（去除server端耗时后）大概在250us左右，QPS在20w以上。\r\n\r\n但是对比上面有问题的case，相当于，序列化完且调用完了pwritev_func或writev才打印的开始时间，接受时也是OnNewMessages第一时间打印的结束时间，不知道具体咋定位问题出在哪了，请求体和返回体大小也和echo的demo差不多","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198084495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198801610","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1198801610","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1198801610,"node_id":"IC_kwDOBhmkcs5HdELK","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T01:54:26Z","updated_at":"2022-07-29T01:54:26Z","author_association":"NONE","body":"@wwbmmm 我理解错了，触发ECONNREFUSED 、ENETUNREACH、EHOSTUNREACH、EINVAL和连接超时是或的关系，我理解成并行了，请教下，如何构造连接超时呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198801610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198806380","html_url":"https://github.com/apache/brpc/issues/1861#issuecomment-1198806380","issue_url":"https://api.github.com/repos/apache/brpc/issues/1861","id":1198806380,"node_id":"IC_kwDOBhmkcs5HdFVs","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T02:06:07Z","updated_at":"2022-07-29T02:06:07Z","author_association":"CONTRIBUTOR","body":"当qps很低的时候，也会增加27ms的延时吗？还是只有在高qps的时候出现","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198806380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198808183","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1198808183","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1198808183,"node_id":"IC_kwDOBhmkcs5HdFx3","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T02:10:19Z","updated_at":"2022-07-29T02:10:19Z","author_association":"CONTRIBUTOR","body":"用gdb attach上server，使server暂停运行，但端口还是监听着的，这样应该就会连接超时","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198808183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198809829","html_url":"https://github.com/apache/brpc/issues/1861#issuecomment-1198809829","issue_url":"https://api.github.com/repos/apache/brpc/issues/1861","id":1198809829,"node_id":"IC_kwDOBhmkcs5HdGLl","user":{"login":"expleeve","id":5320571,"node_id":"MDQ6VXNlcjUzMjA1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5320571?v=4","gravatar_id":"","url":"https://api.github.com/users/expleeve","html_url":"https://github.com/expleeve","followers_url":"https://api.github.com/users/expleeve/followers","following_url":"https://api.github.com/users/expleeve/following{/other_user}","gists_url":"https://api.github.com/users/expleeve/gists{/gist_id}","starred_url":"https://api.github.com/users/expleeve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/expleeve/subscriptions","organizations_url":"https://api.github.com/users/expleeve/orgs","repos_url":"https://api.github.com/users/expleeve/repos","events_url":"https://api.github.com/users/expleeve/events{/privacy}","received_events_url":"https://api.github.com/users/expleeve/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T02:13:57Z","updated_at":"2022-07-29T02:14:22Z","author_association":"NONE","body":"> 当qps很低的时候，也会增加27ms的延时吗？还是只有在高qps的时候出现\r\n\r\n只有高的时候，2w以下的时候也和echo的demo表现类似的，300us左右","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198809829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198829238","html_url":"https://github.com/apache/brpc/issues/1861#issuecomment-1198829238","issue_url":"https://api.github.com/repos/apache/brpc/issues/1861","id":1198829238,"node_id":"IC_kwDOBhmkcs5HdK62","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T02:58:01Z","updated_at":"2022-07-29T02:58:01Z","author_association":"CONTRIBUTOR","body":"看起来是某个地方遇到瓶颈了，有以下可能：\r\n1. pthread worker数量不足，导致bthread堆积：可增加pthread worker数量（调大gflag bthread_concurrency）\r\n2. 单连接上的网络传输速率瓶颈：可切换成连接池试试\r\n3. cpu负载过高，导致执行变慢：可为服务分配更多cpu\r\n4. event dispatcher任务过多达到瓶颈：可增加event dispatcher数量（调大gflag event_dispatcher_num)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198829238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198986327","html_url":"https://github.com/apache/brpc/issues/1861#issuecomment-1198986327","issue_url":"https://api.github.com/repos/apache/brpc/issues/1861","id":1198986327,"node_id":"IC_kwDOBhmkcs5HdxRX","user":{"login":"expleeve","id":5320571,"node_id":"MDQ6VXNlcjUzMjA1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5320571?v=4","gravatar_id":"","url":"https://api.github.com/users/expleeve","html_url":"https://github.com/expleeve","followers_url":"https://api.github.com/users/expleeve/followers","following_url":"https://api.github.com/users/expleeve/following{/other_user}","gists_url":"https://api.github.com/users/expleeve/gists{/gist_id}","starred_url":"https://api.github.com/users/expleeve/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/expleeve/subscriptions","organizations_url":"https://api.github.com/users/expleeve/orgs","repos_url":"https://api.github.com/users/expleeve/repos","events_url":"https://api.github.com/users/expleeve/events{/privacy}","received_events_url":"https://api.github.com/users/expleeve/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T07:53:00Z","updated_at":"2022-07-29T07:53:00Z","author_association":"NONE","body":"> 看起来是某个地方遇到瓶颈了，有以下可能：\r\n> \r\n> 1. pthread worker数量不足，导致bthread堆积：可增加pthread worker数量（调大gflag bthread_concurrency）\r\n> 2. 单连接上的网络传输速率瓶颈：可切换成连接池试试\r\n> 3. cpu负载过高，导致执行变慢：可为服务分配更多cpu\r\n> 4. event dispatcher任务过多达到瓶颈：可增加event dispatcher数量（调大gflag event_dispatcher_num)\r\n\r\n好的，非常感谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1198986327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1199056998","html_url":"https://github.com/apache/brpc/issues/1793#issuecomment-1199056998","issue_url":"https://api.github.com/repos/apache/brpc/issues/1793","id":1199056998,"node_id":"IC_kwDOBhmkcs5HeChm","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T09:16:55Z","updated_at":"2022-07-29T09:16:55Z","author_association":"CONTRIBUTOR","body":"#1863 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1199056998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1199058759","html_url":"https://github.com/apache/brpc/pull/1863#issuecomment-1199058759","issue_url":"https://api.github.com/repos/apache/brpc/issues/1863","id":1199058759,"node_id":"IC_kwDOBhmkcs5HeC9H","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-29T09:18:59Z","updated_at":"2022-07-29T09:18:59Z","author_association":"MEMBER","body":"调一下 commit message 吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1199058759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200106365","html_url":"https://github.com/apache/brpc/issues/1865#issuecomment-1200106365","issue_url":"https://api.github.com/repos/apache/brpc/issues/1865","id":1200106365,"node_id":"IC_kwDOBhmkcs5HiCt9","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T07:08:52Z","updated_at":"2022-07-30T07:08:52Z","author_association":"CONTRIBUTOR","body":"可以附上截图或者相关使用代码么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200106365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200111657","html_url":"https://github.com/apache/brpc/issues/1865#issuecomment-1200111657","issue_url":"https://api.github.com/repos/apache/brpc/issues/1865","id":1200111657,"node_id":"IC_kwDOBhmkcs5HiEAp","user":{"login":"weingithub","id":8966017,"node_id":"MDQ6VXNlcjg5NjYwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/8966017?v=4","gravatar_id":"","url":"https://api.github.com/users/weingithub","html_url":"https://github.com/weingithub","followers_url":"https://api.github.com/users/weingithub/followers","following_url":"https://api.github.com/users/weingithub/following{/other_user}","gists_url":"https://api.github.com/users/weingithub/gists{/gist_id}","starred_url":"https://api.github.com/users/weingithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weingithub/subscriptions","organizations_url":"https://api.github.com/users/weingithub/orgs","repos_url":"https://api.github.com/users/weingithub/repos","events_url":"https://api.github.com/users/weingithub/events{/privacy}","received_events_url":"https://api.github.com/users/weingithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-30T07:52:10Z","updated_at":"2022-07-30T07:52:10Z","author_association":"NONE","body":"> 可以附上截图或者相关使用代码么\r\n以下是截图内容：\r\n![111](https://user-images.githubusercontent.com/8966017/181881279-bb5fb525-222a-46c1-a057-1614a86534d0.png)\r\n左边是实时显示的bvar数值取消，其中高位部分是10ms+，而当前圈中的是94us，右边是使用curl定时获取的脚本里的数据。在同一时间段，该值是1毫秒、3毫秒。\r\n不知道是否是curl的获取方式同实时显示中的时间间隔或者起始时间不同？\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200111657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200603098","html_url":"https://github.com/apache/brpc/issues/1865#issuecomment-1200603098","issue_url":"https://api.github.com/repos/apache/brpc/issues/1865","id":1200603098,"node_id":"IC_kwDOBhmkcs5Hj7_a","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T02:11:59Z","updated_at":"2022-08-01T02:11:59Z","author_association":"CONTRIBUTOR","body":"curl获取到的应该是近10秒的平均值而界面上显示的是每1秒的平均值","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200603098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200611219","html_url":"https://github.com/apache/brpc/issues/1865#issuecomment-1200611219","issue_url":"https://api.github.com/repos/apache/brpc/issues/1865","id":1200611219,"node_id":"IC_kwDOBhmkcs5Hj9-T","user":{"login":"weingithub","id":8966017,"node_id":"MDQ6VXNlcjg5NjYwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/8966017?v=4","gravatar_id":"","url":"https://api.github.com/users/weingithub","html_url":"https://github.com/weingithub","followers_url":"https://api.github.com/users/weingithub/followers","following_url":"https://api.github.com/users/weingithub/following{/other_user}","gists_url":"https://api.github.com/users/weingithub/gists{/gist_id}","starred_url":"https://api.github.com/users/weingithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weingithub/subscriptions","organizations_url":"https://api.github.com/users/weingithub/orgs","repos_url":"https://api.github.com/users/weingithub/repos","events_url":"https://api.github.com/users/weingithub/events{/privacy}","received_events_url":"https://api.github.com/users/weingithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T02:22:20Z","updated_at":"2022-08-01T02:22:20Z","author_association":"NONE","body":"> \r\n\r\n可是我通过flags里面的bvar_dump，然后调整打印间隔为1秒，获取到的内容，也和界面显示的不一样呢。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200611219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200614482","html_url":"https://github.com/apache/brpc/issues/1793#issuecomment-1200614482","issue_url":"https://api.github.com/repos/apache/brpc/issues/1793","id":1200614482,"node_id":"IC_kwDOBhmkcs5Hj-xS","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T02:27:34Z","updated_at":"2022-08-01T02:27:34Z","author_association":"CONTRIBUTOR","body":"现在相关修复已经合入master了，可以再试下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200614482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200668513","html_url":"https://github.com/apache/brpc/pull/1854#issuecomment-1200668513","issue_url":"https://api.github.com/repos/apache/brpc/issues/1854","id":1200668513,"node_id":"IC_kwDOBhmkcs5HkL9h","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T04:02:42Z","updated_at":"2022-08-01T04:02:42Z","author_association":"CONTRIBUTOR","body":"> \r\n> 用gflag如果有多个server的情况不能区分各自server的指标，个人觉得这类server spefic的属性放server option更合理一些。\r\n\r\nLGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1200668513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201083002","html_url":"https://github.com/apache/brpc/issues/1859#issuecomment-1201083002","issue_url":"https://api.github.com/repos/apache/brpc/issues/1859","id":1201083002,"node_id":"IC_kwDOBhmkcs5HlxJ6","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T11:35:19Z","updated_at":"2022-08-01T11:36:20Z","author_association":"CONTRIBUTOR","body":"The work stealing in libgo is implemented by a global scheduler:\r\nhttps://github.com/yyzybb537/libgo/blob/master/libgo/scheduler/scheduler.cpp#L340\r\nIt runs work stealing at an interval of 1000us by default. \r\nWhen a task is ready to run but current worker is busy, it needs at most 1000us to be stolen by an idle worker.\r\n\r\nIn bthread, when a task is ready to run, futex_wake is called to wakeup an idle worker at once. This avoids long-tail latency. But the cost is that most task switch need futex. It needs about 2us from one thread calls futex_wake and another thread resumes from futex_wait.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201083002/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201178771","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1201178771","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1201178771,"node_id":"IC_kwDOBhmkcs5HmIiT","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T13:07:43Z","updated_at":"2022-08-01T13:07:43Z","author_association":"NONE","body":"@wwbmmm 多谢，可选熔断这个失败率怎么方便触发？改了example下的代码，不好构造呀，单测里有吗，没找到","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201178771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201208964","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1201208964","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1201208964,"node_id":"IC_kwDOBhmkcs5HmP6E","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T13:30:34Z","updated_at":"2022-08-01T13:30:34Z","author_association":"CONTRIBUTOR","body":"> @wwbmmm 多谢，可选熔断这个失败率怎么方便触发？改了example下的代码，不好构造呀，单测里有吗，没找到\r\n\r\n熔断功能使用文档：https://github.com/apache/incubator-brpc/blob/master/docs/cn/circuit_breaker.md#%E5%BC%80%E5%90%AF%E6%96%B9%E6%B3%95\r\n相关熔断触发阈值的gflag可以参考：https://github.com/apache/incubator-brpc/blob/master/src/brpc/circuit_breaker.cpp#L32","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201208964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201224593","html_url":"https://github.com/apache/brpc/pull/1608#issuecomment-1201224593","issue_url":"https://api.github.com/repos/apache/brpc/issues/1608","id":1201224593,"node_id":"IC_kwDOBhmkcs5HmTuR","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-01T13:43:22Z","updated_at":"2022-08-01T13:43:22Z","author_association":"CONTRIBUTOR","body":"> > > > 想问下 为啥不在brpc_metrics导出呢？\r\n> > \r\n> > \r\n> > 谢谢@serverglen；是的，我目前基于这个PR已经导出来了，改动比较小，就是metrics维度多的话容易影响/brpc_metrics 性能；\r\n> \r\n> 可以支持按照条件过滤，这样导出的数据应该比较小。\r\n\r\n这个是不是支持比较好，现在bvar创建本身也没有考虑限制一个数量对于性能带来的影响，由用户自己评估","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201224593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201943392","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1201943392","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1201943392,"node_id":"IC_kwDOBhmkcs5HpDNg","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T02:28:00Z","updated_at":"2022-08-02T02:28:00Z","author_association":"NONE","body":"@wwbmmm @cdjingit 感谢两位大佬","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201943392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201994568","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1201994568","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1201994568,"node_id":"IC_kwDOBhmkcs5HpPtI","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T04:12:03Z","updated_at":"2022-08-02T04:12:03Z","author_association":"NONE","body":"@wwbmmm 用gdb attach上似乎构造不了连接超时","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1201994568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202035059","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1202035059","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1202035059,"node_id":"IC_kwDOBhmkcs5HpZlz","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T05:30:50Z","updated_at":"2022-08-02T05:30:50Z","author_association":"CONTRIBUTOR","body":"> @wwbmmm 用gdb attach上似乎构造不了连接超时\r\n\r\n确实不行，可以设置一个很小的connect_timeout_ms，比如1ms，然后client 和server分别在两个机房，这样构造连接超时试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202035059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202059484","html_url":"https://github.com/apache/brpc/issues/1822#issuecomment-1202059484","issue_url":"https://api.github.com/repos/apache/brpc/issues/1822","id":1202059484,"node_id":"IC_kwDOBhmkcs5Hpfjc","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T06:10:39Z","updated_at":"2025-01-06T06:53:43Z","author_association":"NONE","body":"暂时比较难支持路由实例的事情，有办法先统计bthread的耗时么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202059484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202082072","html_url":"https://github.com/apache/brpc/issues/1822#issuecomment-1202082072","issue_url":"https://api.github.com/repos/apache/brpc/issues/1822","id":1202082072,"node_id":"IC_kwDOBhmkcs5HplEY","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T06:43:10Z","updated_at":"2022-08-02T06:43:10Z","author_association":"CONTRIBUTOR","body":"> **Describe alternatives you've considered (描述你想到的折衷方案)**\r\n> bthread_attr_t 增加 fn，再切换时支持统计\r\n\r\n看了下百度内部现有的bthread_attr_t自定义fn的方式不太满足这里的需求，因为server端bthread是由框架创建而不是由用户创建的，传不了自定义的bthread_attr_t。\r\n因此，这个需求还需要重新开发。如果只是统计bthread的cpu消耗，可以考虑扩展一下bthread::TaskStatistics，加个cpu消耗的统计项，并且在bthread切换时更新该值。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202082072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202171840","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1202171840","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1202171840,"node_id":"IC_kwDOBhmkcs5Hp6_A","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T08:21:28Z","updated_at":"2022-08-02T08:21:28Z","author_association":"NONE","body":"@wwbmmm 感谢，使用国外一台服务器验证这个连接超时成功，请教下，server端返回失败，就是设置cntl->SetFailed(xxx,\"failed\");然后brpc会自动根据失败率熔断吗？上午以为修改后验证没问题，刚看了下，发现还是不行。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202171840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202188766","html_url":"https://github.com/apache/brpc/issues/1855#issuecomment-1202188766","issue_url":"https://api.github.com/repos/apache/brpc/issues/1855","id":1202188766,"node_id":"IC_kwDOBhmkcs5Hp_He","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-02T08:36:59Z","updated_at":"2022-08-02T08:36:59Z","author_association":"NONE","body":"@wwbmmm @cdjingit 大概看了下代码，Controller::Call::OnComplete---->FeedbackCircuitBreaker,再往前分析谁调用OnComplete有点多，业务要设置哪个错误码才会触发失败率熔断呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1202188766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1203666218","html_url":"https://github.com/apache/brpc/pull/1836#issuecomment-1203666218","issue_url":"https://api.github.com/repos/apache/brpc/issues/1836","id":1203666218,"node_id":"IC_kwDOBhmkcs5Hvn0q","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-03T08:48:55Z","updated_at":"2022-08-03T08:48:55Z","author_association":"MEMBER","body":"@Tuvie 可以简单介绍一下代码结构和改动思路吗？文件有点多，有个整体的overview的话review起来会方便一些，谢谢。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1203666218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1203671284","html_url":"https://github.com/apache/brpc/issues/1124#issuecomment-1203671284","issue_url":"https://api.github.com/repos/apache/brpc/issues/1124","id":1203671284,"node_id":"IC_kwDOBhmkcs5HvpD0","user":{"login":"sebastianliu","id":6675964,"node_id":"MDQ6VXNlcjY2NzU5NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6675964?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianliu","html_url":"https://github.com/sebastianliu","followers_url":"https://api.github.com/users/sebastianliu/followers","following_url":"https://api.github.com/users/sebastianliu/following{/other_user}","gists_url":"https://api.github.com/users/sebastianliu/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianliu/subscriptions","organizations_url":"https://api.github.com/users/sebastianliu/orgs","repos_url":"https://api.github.com/users/sebastianliu/repos","events_url":"https://api.github.com/users/sebastianliu/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-03T08:53:49Z","updated_at":"2022-08-03T08:53:49Z","author_association":"NONE","body":"May I know how you solved it issue later? Seems I have the same error like above","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1203671284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1204659185","html_url":"https://github.com/apache/brpc/pull/1657#issuecomment-1204659185","issue_url":"https://api.github.com/repos/apache/brpc/issues/1657","id":1204659185,"node_id":"IC_kwDOBhmkcs5HzaPx","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-04T01:34:38Z","updated_at":"2022-08-04T01:34:38Z","author_association":"CONTRIBUTOR","body":"Will it be merged soon?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1204659185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205227247","html_url":"https://github.com/apache/brpc/issues/1322#issuecomment-1205227247","issue_url":"https://api.github.com/repos/apache/brpc/issues/1322","id":1205227247,"node_id":"IC_kwDOBhmkcs5H1k7v","user":{"login":"FailedNamed","id":46562216,"node_id":"MDQ6VXNlcjQ2NTYyMjE2","avatar_url":"https://avatars.githubusercontent.com/u/46562216?v=4","gravatar_id":"","url":"https://api.github.com/users/FailedNamed","html_url":"https://github.com/FailedNamed","followers_url":"https://api.github.com/users/FailedNamed/followers","following_url":"https://api.github.com/users/FailedNamed/following{/other_user}","gists_url":"https://api.github.com/users/FailedNamed/gists{/gist_id}","starred_url":"https://api.github.com/users/FailedNamed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FailedNamed/subscriptions","organizations_url":"https://api.github.com/users/FailedNamed/orgs","repos_url":"https://api.github.com/users/FailedNamed/repos","events_url":"https://api.github.com/users/FailedNamed/events{/privacy}","received_events_url":"https://api.github.com/users/FailedNamed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-04T13:03:06Z","updated_at":"2022-08-04T13:03:06Z","author_association":"NONE","body":"你好，我想请问下，为啥到现在这份代码还没被merge，是有其他问题或者其他考虑嘛，都9个月了诶","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205227247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205956872","html_url":"https://github.com/apache/brpc/issues/1322#issuecomment-1205956872","issue_url":"https://api.github.com/repos/apache/brpc/issues/1322","id":1205956872,"node_id":"IC_kwDOBhmkcs5H4XEI","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T02:02:13Z","updated_at":"2022-08-05T02:02:13Z","author_association":"CONTRIBUTOR","body":"实在不好意思，这部分代码在社区有点分歧，我们尽快同步意见，合入之后通知你。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205956872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205959483","html_url":"https://github.com/apache/brpc/issues/1322#issuecomment-1205959483","issue_url":"https://api.github.com/repos/apache/brpc/issues/1322","id":1205959483,"node_id":"IC_kwDOBhmkcs5H4Xs7","user":{"login":"FailedNamed","id":46562216,"node_id":"MDQ6VXNlcjQ2NTYyMjE2","avatar_url":"https://avatars.githubusercontent.com/u/46562216?v=4","gravatar_id":"","url":"https://api.github.com/users/FailedNamed","html_url":"https://github.com/FailedNamed","followers_url":"https://api.github.com/users/FailedNamed/followers","following_url":"https://api.github.com/users/FailedNamed/following{/other_user}","gists_url":"https://api.github.com/users/FailedNamed/gists{/gist_id}","starred_url":"https://api.github.com/users/FailedNamed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FailedNamed/subscriptions","organizations_url":"https://api.github.com/users/FailedNamed/orgs","repos_url":"https://api.github.com/users/FailedNamed/repos","events_url":"https://api.github.com/users/FailedNamed/events{/privacy}","received_events_url":"https://api.github.com/users/FailedNamed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T02:06:57Z","updated_at":"2022-08-05T02:06:57Z","author_association":"NONE","body":"> 实在不好意思，这部分代码在社区有点分歧，我们尽快同步意见，合入之后通知你。\r\n感谢大佬回复，因为目前最近我们正好想用这个功能做一些业务指标上报，但是prometheus貌似没有cpp sdk之类的（在他们官网和git都没找着），假如我们自己把这部分代码拉下来merge到我们代码里，应该也是可行的吧[思考]","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205959483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205961815","html_url":"https://github.com/apache/brpc/issues/1322#issuecomment-1205961815","issue_url":"https://api.github.com/repos/apache/brpc/issues/1322","id":1205961815,"node_id":"IC_kwDOBhmkcs5H4YRX","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T02:11:13Z","updated_at":"2022-08-05T02:11:13Z","author_association":"CONTRIBUTOR","body":"> FailedNamed\r\n\r\n问一下，您这边应该使用brpc了吧？如果使用的话，辛苦您能更新下[brpc在贵公司的落地场景](https://github.com/apache/incubator-brpc/issues/1640)吗？\r\n另外：建议您订阅dev@brpc.apache.org邮件组，我们会通过邮件沟通和讨论一些技术问题和计划，订阅之后您也能及时了解并参与brpc社区技术讨论。\r\n订阅方式：发一封邮件给[dev-subscribe@brpc.apache.org](mailto:dev-subscribe@brpc.apache.org)，然后按照回复邮件点击对应的链接即可订阅。\r\n\r\n--\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205961815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205965737","html_url":"https://github.com/apache/brpc/issues/1322#issuecomment-1205965737","issue_url":"https://api.github.com/repos/apache/brpc/issues/1322","id":1205965737,"node_id":"IC_kwDOBhmkcs5H4ZOp","user":{"login":"FailedNamed","id":46562216,"node_id":"MDQ6VXNlcjQ2NTYyMjE2","avatar_url":"https://avatars.githubusercontent.com/u/46562216?v=4","gravatar_id":"","url":"https://api.github.com/users/FailedNamed","html_url":"https://github.com/FailedNamed","followers_url":"https://api.github.com/users/FailedNamed/followers","following_url":"https://api.github.com/users/FailedNamed/following{/other_user}","gists_url":"https://api.github.com/users/FailedNamed/gists{/gist_id}","starred_url":"https://api.github.com/users/FailedNamed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FailedNamed/subscriptions","organizations_url":"https://api.github.com/users/FailedNamed/orgs","repos_url":"https://api.github.com/users/FailedNamed/repos","events_url":"https://api.github.com/users/FailedNamed/events{/privacy}","received_events_url":"https://api.github.com/users/FailedNamed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T02:17:30Z","updated_at":"2022-08-05T02:17:30Z","author_association":"NONE","body":"> > FailedNamed\r\n> \r\n> 问一下，您这边应该使用brpc了吧？如果使用的话，辛苦您能更新下[brpc在贵公司的落地场景](https://github.com/apache/incubator-brpc/issues/1640)吗？ 另外：建议您订阅[dev@brpc.apache.org](mailto:dev@brpc.apache.org)邮件组，我们会通过邮件沟通和讨论一些技术问题和计划，订阅之后您也能及时了解并参与brpc社区技术讨论。 订阅方式：发一封邮件给[dev-subscribe@brpc.apache.org](mailto:dev-subscribe@brpc.apache.org)，然后按照回复邮件点击对应的链接即可订阅。\r\n> \r\n> --\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1205965737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206007679","html_url":"https://github.com/apache/brpc/issues/1874#issuecomment-1206007679","issue_url":"https://api.github.com/repos/apache/brpc/issues/1874","id":1206007679,"node_id":"IC_kwDOBhmkcs5H4jd_","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T03:39:29Z","updated_at":"2022-08-05T03:39:29Z","author_association":"CONTRIBUTOR","body":"这里有相似的issue 可以参考 https://github.com/apache/incubator-brpc/issues/1773","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206007679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206011245","html_url":"https://github.com/apache/brpc/issues/1870#issuecomment-1206011245","issue_url":"https://api.github.com/repos/apache/brpc/issues/1870","id":1206011245,"node_id":"IC_kwDOBhmkcs5H4kVt","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T03:48:11Z","updated_at":"2022-08-05T03:48:11Z","author_association":"CONTRIBUTOR","body":"测试的qps多少？加大qps看看？理论上应该能触发，后续我看看能不能在我环境复现一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206011245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206165243","html_url":"https://github.com/apache/brpc/pull/1868#issuecomment-1206165243","issue_url":"https://api.github.com/repos/apache/brpc/issues/1868","id":1206165243,"node_id":"IC_kwDOBhmkcs5H5J77","user":{"login":"dandyhuang","id":12603054,"node_id":"MDQ6VXNlcjEyNjAzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/12603054?v=4","gravatar_id":"","url":"https://api.github.com/users/dandyhuang","html_url":"https://github.com/dandyhuang","followers_url":"https://api.github.com/users/dandyhuang/followers","following_url":"https://api.github.com/users/dandyhuang/following{/other_user}","gists_url":"https://api.github.com/users/dandyhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/dandyhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dandyhuang/subscriptions","organizations_url":"https://api.github.com/users/dandyhuang/orgs","repos_url":"https://api.github.com/users/dandyhuang/repos","events_url":"https://api.github.com/users/dandyhuang/events{/privacy}","received_events_url":"https://api.github.com/users/dandyhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T08:05:18Z","updated_at":"2022-08-05T08:05:18Z","author_association":"NONE","body":"@zyearn  有空帮忙看下，能否mr","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206165243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206172181","html_url":"https://github.com/apache/brpc/issues/1321#issuecomment-1206172181","issue_url":"https://api.github.com/repos/apache/brpc/issues/1321","id":1206172181,"node_id":"IC_kwDOBhmkcs5H5LoV","user":{"login":"junthy-me","id":27805427,"node_id":"MDQ6VXNlcjI3ODA1NDI3","avatar_url":"https://avatars.githubusercontent.com/u/27805427?v=4","gravatar_id":"","url":"https://api.github.com/users/junthy-me","html_url":"https://github.com/junthy-me","followers_url":"https://api.github.com/users/junthy-me/followers","following_url":"https://api.github.com/users/junthy-me/following{/other_user}","gists_url":"https://api.github.com/users/junthy-me/gists{/gist_id}","starred_url":"https://api.github.com/users/junthy-me/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junthy-me/subscriptions","organizations_url":"https://api.github.com/users/junthy-me/orgs","repos_url":"https://api.github.com/users/junthy-me/repos","events_url":"https://api.github.com/users/junthy-me/events{/privacy}","received_events_url":"https://api.github.com/users/junthy-me/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T08:13:08Z","updated_at":"2022-08-05T08:13:08Z","author_association":"NONE","body":"> 1 bazel编译libbrpc.so，只依赖@brpc//:brpc; 2 使用java jni System.load(libbrpc.so)会出现以下报错; 3 报错: 出现了Fail to define brpc::ENOSERVICE(1001) which is already defined as `未知的错误 1001', abort。\r\n\r\n请问这个问题解决了吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206172181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206204693","html_url":"https://github.com/apache/brpc/pull/1868#issuecomment-1206204693","issue_url":"https://api.github.com/repos/apache/brpc/issues/1868","id":1206204693,"node_id":"IC_kwDOBhmkcs5H5TkV","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T08:47:55Z","updated_at":"2022-08-05T08:47:55Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206204693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206239537","html_url":"https://github.com/apache/brpc/pull/1877#issuecomment-1206239537","issue_url":"https://api.github.com/repos/apache/brpc/issues/1877","id":1206239537,"node_id":"IC_kwDOBhmkcs5H5cEx","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T09:24:15Z","updated_at":"2022-08-05T09:24:15Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206239537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206247103","html_url":"https://github.com/apache/brpc/pull/1877#issuecomment-1206247103","issue_url":"https://api.github.com/repos/apache/brpc/issues/1877","id":1206247103,"node_id":"IC_kwDOBhmkcs5H5d6_","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T09:32:25Z","updated_at":"2022-08-05T09:32:25Z","author_association":"CONTRIBUTOR","body":"2000多个活跃模块应该也增长了吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206247103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206305333","html_url":"https://github.com/apache/brpc/issues/1488#issuecomment-1206305333","issue_url":"https://api.github.com/repos/apache/brpc/issues/1488","id":1206305333,"node_id":"IC_kwDOBhmkcs5H5sI1","user":{"login":"wangjinnana","id":18401556,"node_id":"MDQ6VXNlcjE4NDAxNTU2","avatar_url":"https://avatars.githubusercontent.com/u/18401556?v=4","gravatar_id":"","url":"https://api.github.com/users/wangjinnana","html_url":"https://github.com/wangjinnana","followers_url":"https://api.github.com/users/wangjinnana/followers","following_url":"https://api.github.com/users/wangjinnana/following{/other_user}","gists_url":"https://api.github.com/users/wangjinnana/gists{/gist_id}","starred_url":"https://api.github.com/users/wangjinnana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangjinnana/subscriptions","organizations_url":"https://api.github.com/users/wangjinnana/orgs","repos_url":"https://api.github.com/users/wangjinnana/repos","events_url":"https://api.github.com/users/wangjinnana/events{/privacy}","received_events_url":"https://api.github.com/users/wangjinnana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-05T10:41:15Z","updated_at":"2022-08-05T10:41:15Z","author_association":"NONE","body":"跟这个问题有点像https://zhuanlan.zhihu.com/p/81683409","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1206305333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207362504","html_url":"https://github.com/apache/brpc/pull/1873#issuecomment-1207362504","issue_url":"https://api.github.com/repos/apache/brpc/issues/1873","id":1207362504,"node_id":"IC_kwDOBhmkcs5H9uPI","user":{"login":"tanzhongyi003","id":20179982,"node_id":"MDQ6VXNlcjIwMTc5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/20179982?v=4","gravatar_id":"","url":"https://api.github.com/users/tanzhongyi003","html_url":"https://github.com/tanzhongyi003","followers_url":"https://api.github.com/users/tanzhongyi003/followers","following_url":"https://api.github.com/users/tanzhongyi003/following{/other_user}","gists_url":"https://api.github.com/users/tanzhongyi003/gists{/gist_id}","starred_url":"https://api.github.com/users/tanzhongyi003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanzhongyi003/subscriptions","organizations_url":"https://api.github.com/users/tanzhongyi003/orgs","repos_url":"https://api.github.com/users/tanzhongyi003/repos","events_url":"https://api.github.com/users/tanzhongyi003/events{/privacy}","received_events_url":"https://api.github.com/users/tanzhongyi003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-07T09:02:48Z","updated_at":"2022-08-07T09:02:48Z","author_association":"MEMBER","body":"will update it more later.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207362504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207373473","html_url":"https://github.com/apache/brpc/issues/1870#issuecomment-1207373473","issue_url":"https://api.github.com/repos/apache/brpc/issues/1870","id":1207373473,"node_id":"IC_kwDOBhmkcs5H9w6h","user":{"login":"52coder","id":5303875,"node_id":"MDQ6VXNlcjUzMDM4NzU=","avatar_url":"https://avatars.githubusercontent.com/u/5303875?v=4","gravatar_id":"","url":"https://api.github.com/users/52coder","html_url":"https://github.com/52coder","followers_url":"https://api.github.com/users/52coder/followers","following_url":"https://api.github.com/users/52coder/following{/other_user}","gists_url":"https://api.github.com/users/52coder/gists{/gist_id}","starred_url":"https://api.github.com/users/52coder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/52coder/subscriptions","organizations_url":"https://api.github.com/users/52coder/orgs","repos_url":"https://api.github.com/users/52coder/repos","events_url":"https://api.github.com/users/52coder/events{/privacy}","received_events_url":"https://api.github.com/users/52coder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-07T10:08:01Z","updated_at":"2022-08-07T10:08:47Z","author_association":"NONE","body":"@cdjingit 去掉了例子中的sleep，增大了qps也没有触发熔断，学习了这个[issue](https://github.com/apache/incubator-brpc/issues/387)，有点不太理解熔断跟qps的关系，有没有触发熔断的机制详细介绍?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207373473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207573675","html_url":"https://github.com/apache/brpc/issues/1869#issuecomment-1207573675","issue_url":"https://api.github.com/repos/apache/brpc/issues/1869","id":1207573675,"node_id":"IC_kwDOBhmkcs5H-hyr","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-08T02:11:36Z","updated_at":"2022-08-08T02:11:36Z","author_association":"CONTRIBUTOR","body":"增加event_dispatcher_num，如果不能提升极限qps，说明够用","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207573675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207573888","html_url":"https://github.com/apache/brpc/issues/1869#issuecomment-1207573888","issue_url":"https://api.github.com/repos/apache/brpc/issues/1869","id":1207573888,"node_id":"IC_kwDOBhmkcs5H-h2A","user":{"login":"FancyJan","id":37871611,"node_id":"MDQ6VXNlcjM3ODcxNjEx","avatar_url":"https://avatars.githubusercontent.com/u/37871611?v=4","gravatar_id":"","url":"https://api.github.com/users/FancyJan","html_url":"https://github.com/FancyJan","followers_url":"https://api.github.com/users/FancyJan/followers","following_url":"https://api.github.com/users/FancyJan/following{/other_user}","gists_url":"https://api.github.com/users/FancyJan/gists{/gist_id}","starred_url":"https://api.github.com/users/FancyJan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FancyJan/subscriptions","organizations_url":"https://api.github.com/users/FancyJan/orgs","repos_url":"https://api.github.com/users/FancyJan/repos","events_url":"https://api.github.com/users/FancyJan/events{/privacy}","received_events_url":"https://api.github.com/users/FancyJan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-08T02:11:58Z","updated_at":"2022-08-08T03:16:35Z","author_association":"CONTRIBUTOR","body":"您好，我已收到您的邮件！祝好！方子健","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207573888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207770415","html_url":"https://github.com/apache/brpc/issues/1870#issuecomment-1207770415","issue_url":"https://api.github.com/repos/apache/brpc/issues/1870","id":1207770415,"node_id":"IC_kwDOBhmkcs5H_R0v","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-08T07:33:19Z","updated_at":"2022-08-08T07:33:19Z","author_association":"CONTRIBUTOR","body":"检查一下是否有Socket[xxx] isolated by circuit breaker 的log，brpc的默认重连方式只需要tcp能够建立连接，有可能熔断之后又恢复了。\r\n另外connections监控页面也可以检查各个连接的健康状况。\r\n\r\n连接超时的熔断需要用iptables drop掉对应端口的包，直接sleep是不行的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1207770415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208856030","html_url":"https://github.com/apache/brpc/pull/1774#issuecomment-1208856030","issue_url":"https://api.github.com/repos/apache/brpc/issues/1774","id":1208856030,"node_id":"IC_kwDOBhmkcs5IDa3e","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T02:58:55Z","updated_at":"2022-08-09T02:58:55Z","author_association":"CONTRIBUTOR","body":"由于PR ： https://github.com/apache/incubator-brpc/pull/1817 已经解决这个问题，所以这个PR close了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208856030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858119","html_url":"https://github.com/apache/brpc/pull/1398#issuecomment-1208858119","issue_url":"https://api.github.com/repos/apache/brpc/issues/1398","id":1208858119,"node_id":"IC_kwDOBhmkcs5IDbYH","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:03:26Z","updated_at":"2022-08-09T03:03:26Z","author_association":"CONTRIBUTOR","body":"Hi, 我们后续计划不再维护单独的RDMA分支，而是将RDMA功能合入master，相关PR：https://github.com/apache/incubator-brpc/pull/1836\r\n所以这个PR先close了。如果有关于RDMA的改进建议，可以在新的PR下讨论","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858338","html_url":"https://github.com/apache/brpc/pull/1402#issuecomment-1208858338","issue_url":"https://api.github.com/repos/apache/brpc/issues/1402","id":1208858338,"node_id":"IC_kwDOBhmkcs5IDbbi","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:03:55Z","updated_at":"2022-08-09T03:03:55Z","author_association":"CONTRIBUTOR","body":"Hi, 我们后续计划不再维护单独的RDMA分支，而是将RDMA功能合入master，相关PR：https://github.com/apache/incubator-brpc/pull/1836\r\n所以这个PR先close了。如果有关于RDMA的改进建议，可以在新的PR下讨论","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858642","html_url":"https://github.com/apache/brpc/pull/1703#issuecomment-1208858642","issue_url":"https://api.github.com/repos/apache/brpc/issues/1703","id":1208858642,"node_id":"IC_kwDOBhmkcs5IDbgS","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:04:38Z","updated_at":"2022-08-09T03:04:38Z","author_association":"CONTRIBUTOR","body":"Hi, 我们后续计划不再维护单独的RDMA分支，而是将RDMA功能合入master，相关PR：https://github.com/apache/incubator-brpc/pull/1836\r\n所以这个PR先close了。如果有关于RDMA的改进建议，可以在新的PR下讨论","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858835","html_url":"https://github.com/apache/brpc/pull/1276#issuecomment-1208858835","issue_url":"https://api.github.com/repos/apache/brpc/issues/1276","id":1208858835,"node_id":"IC_kwDOBhmkcs5IDbjT","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:05:04Z","updated_at":"2022-08-09T03:05:04Z","author_association":"CONTRIBUTOR","body":"Hi, 我们后续计划不再维护单独的RDMA分支，而是将RDMA功能合入master，相关PR：https://github.com/apache/incubator-brpc/pull/1836\r\n所以这个PR先close了。如果有关于RDMA的改进建议，可以在新的PR下讨论","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208858835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208859843","html_url":"https://github.com/apache/brpc/pull/766#issuecomment-1208859843","issue_url":"https://api.github.com/repos/apache/brpc/issues/766","id":1208859843,"node_id":"IC_kwDOBhmkcs5IDbzD","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:07:27Z","updated_at":"2022-08-09T03:07:37Z","author_association":"CONTRIBUTOR","body":"由于https://github.com/apache/incubator-brpc/pull/1814 已解决此问题，所以这个RP close了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208859843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208860584","html_url":"https://github.com/apache/brpc/pull/830#issuecomment-1208860584","issue_url":"https://api.github.com/repos/apache/brpc/issues/830","id":1208860584,"node_id":"IC_kwDOBhmkcs5IDb-o","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:09:03Z","updated_at":"2022-08-09T03:09:03Z","author_association":"CONTRIBUTOR","body":"源repo被删，PR先close了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208860584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208867516","html_url":"https://github.com/apache/brpc/issues/1124#issuecomment-1208867516","issue_url":"https://api.github.com/repos/apache/brpc/issues/1124","id":1208867516,"node_id":"IC_kwDOBhmkcs5IDdq8","user":{"login":"darionyaphet","id":4414314,"node_id":"MDQ6VXNlcjQ0MTQzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4414314?v=4","gravatar_id":"","url":"https://api.github.com/users/darionyaphet","html_url":"https://github.com/darionyaphet","followers_url":"https://api.github.com/users/darionyaphet/followers","following_url":"https://api.github.com/users/darionyaphet/following{/other_user}","gists_url":"https://api.github.com/users/darionyaphet/gists{/gist_id}","starred_url":"https://api.github.com/users/darionyaphet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darionyaphet/subscriptions","organizations_url":"https://api.github.com/users/darionyaphet/orgs","repos_url":"https://api.github.com/users/darionyaphet/repos","events_url":"https://api.github.com/users/darionyaphet/events{/privacy}","received_events_url":"https://api.github.com/users/darionyaphet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-09T03:24:54Z","updated_at":"2022-08-09T03:24:54Z","author_association":"CONTRIBUTOR","body":"The new version does not have this problem. Maybe you can have a try.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1208867516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]