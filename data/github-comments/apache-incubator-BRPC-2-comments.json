[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331213572","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-331213572","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":331213572,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTIxMzU3Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-21T16:40:03Z","updated_at":"2017-09-21T17:21:50Z","author_association":"CONTRIBUTOR","body":"The underlying LWP is still blocked by syscall and the total number of active LWP is pretty limited. Since goroutine adds new workers on-demand, this issue is possibly not obvious to ordinary users. The only feasible method to make syscalls not block underlying LWP is to re-implement them, replacing the blocking primitives, which are mostly based on futexes.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331213572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331324351","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-331324351","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":331324351,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMyNDM1MQ==","user":{"login":"xuebinsu","id":12034000,"node_id":"MDQ6VXNlcjEyMDM0MDAw","avatar_url":"https://avatars.githubusercontent.com/u/12034000?v=4","gravatar_id":"","url":"https://api.github.com/users/xuebinsu","html_url":"https://github.com/xuebinsu","followers_url":"https://api.github.com/users/xuebinsu/followers","following_url":"https://api.github.com/users/xuebinsu/following{/other_user}","gists_url":"https://api.github.com/users/xuebinsu/gists{/gist_id}","starred_url":"https://api.github.com/users/xuebinsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuebinsu/subscriptions","organizations_url":"https://api.github.com/users/xuebinsu/orgs","repos_url":"https://api.github.com/users/xuebinsu/repos","events_url":"https://api.github.com/users/xuebinsu/events{/privacy}","received_events_url":"https://api.github.com/users/xuebinsu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T01:21:30Z","updated_at":"2017-09-22T01:21:30Z","author_association":"NONE","body":"@jamesge \r\n\r\nThanks for your explanation! It solves many issues on currency that confused me since I tried to implement a N:1 user-level thread library as my undergraduate course project. By the way, is there any document on butex now? If not, will it be released and when?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331324351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331330907","html_url":"https://github.com/apache/brpc/issues/46#issuecomment-331330907","issue_url":"https://api.github.com/repos/apache/brpc/issues/46","id":331330907,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMzMDkwNw==","user":{"login":"xhzh","id":12483190,"node_id":"MDQ6VXNlcjEyNDgzMTkw","avatar_url":"https://avatars.githubusercontent.com/u/12483190?v=4","gravatar_id":"","url":"https://api.github.com/users/xhzh","html_url":"https://github.com/xhzh","followers_url":"https://api.github.com/users/xhzh/followers","following_url":"https://api.github.com/users/xhzh/following{/other_user}","gists_url":"https://api.github.com/users/xhzh/gists{/gist_id}","starred_url":"https://api.github.com/users/xhzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xhzh/subscriptions","organizations_url":"https://api.github.com/users/xhzh/orgs","repos_url":"https://api.github.com/users/xhzh/repos","events_url":"https://api.github.com/users/xhzh/events{/privacy}","received_events_url":"https://api.github.com/users/xhzh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T02:09:45Z","updated_at":"2017-09-22T02:09:45Z","author_association":"NONE","body":"感谢，其实我认为这就跟线程池的原理类似，我有多少个并发能力，我有个带边界的任务队列。正如你所说，足够简单并且有效。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331330907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331334047","html_url":"https://github.com/apache/brpc/issues/1#issuecomment-331334047","issue_url":"https://api.github.com/repos/apache/brpc/issues/1","id":331334047,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMzNDA0Nw==","user":{"login":"skyformat99","id":10938976,"node_id":"MDQ6VXNlcjEwOTM4OTc2","avatar_url":"https://avatars.githubusercontent.com/u/10938976?v=4","gravatar_id":"","url":"https://api.github.com/users/skyformat99","html_url":"https://github.com/skyformat99","followers_url":"https://api.github.com/users/skyformat99/followers","following_url":"https://api.github.com/users/skyformat99/following{/other_user}","gists_url":"https://api.github.com/users/skyformat99/gists{/gist_id}","starred_url":"https://api.github.com/users/skyformat99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skyformat99/subscriptions","organizations_url":"https://api.github.com/users/skyformat99/orgs","repos_url":"https://api.github.com/users/skyformat99/repos","events_url":"https://api.github.com/users/skyformat99/events{/privacy}","received_events_url":"https://api.github.com/users/skyformat99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T02:33:12Z","updated_at":"2017-09-22T02:33:12Z","author_association":"NONE","body":"文档超级赞!学习了~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331334047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331339045","html_url":"https://github.com/apache/brpc/issues/1#issuecomment-331339045","issue_url":"https://api.github.com/repos/apache/brpc/issues/1","id":331339045,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMzOTA0NQ==","user":{"login":"yangzhenkun","id":13275321,"node_id":"MDQ6VXNlcjEzMjc1MzIx","avatar_url":"https://avatars.githubusercontent.com/u/13275321?v=4","gravatar_id":"","url":"https://api.github.com/users/yangzhenkun","html_url":"https://github.com/yangzhenkun","followers_url":"https://api.github.com/users/yangzhenkun/followers","following_url":"https://api.github.com/users/yangzhenkun/following{/other_user}","gists_url":"https://api.github.com/users/yangzhenkun/gists{/gist_id}","starred_url":"https://api.github.com/users/yangzhenkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangzhenkun/subscriptions","organizations_url":"https://api.github.com/users/yangzhenkun/orgs","repos_url":"https://api.github.com/users/yangzhenkun/repos","events_url":"https://api.github.com/users/yangzhenkun/events{/privacy}","received_events_url":"https://api.github.com/users/yangzhenkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T03:13:12Z","updated_at":"2017-09-22T03:13:12Z","author_association":"NONE","body":"第一次接触到百度的技术产品，确实不错","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331339045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331339983","html_url":"https://github.com/apache/brpc/issues/49#issuecomment-331339983","issue_url":"https://api.github.com/repos/apache/brpc/issues/49","id":331339983,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTMzOTk4Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T03:21:45Z","updated_at":"2017-09-22T03:21:45Z","author_association":"CONTRIBUTOR","body":"什么系统？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331339983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331341162","html_url":"https://github.com/apache/brpc/issues/41#issuecomment-331341162","issue_url":"https://api.github.com/repos/apache/brpc/issues/41","id":331341162,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0MTE2Mg==","user":{"login":"tanhaipeng","id":3655462,"node_id":"MDQ6VXNlcjM2NTU0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/3655462?v=4","gravatar_id":"","url":"https://api.github.com/users/tanhaipeng","html_url":"https://github.com/tanhaipeng","followers_url":"https://api.github.com/users/tanhaipeng/followers","following_url":"https://api.github.com/users/tanhaipeng/following{/other_user}","gists_url":"https://api.github.com/users/tanhaipeng/gists{/gist_id}","starred_url":"https://api.github.com/users/tanhaipeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanhaipeng/subscriptions","organizations_url":"https://api.github.com/users/tanhaipeng/orgs","repos_url":"https://api.github.com/users/tanhaipeng/repos","events_url":"https://api.github.com/users/tanhaipeng/events{/privacy}","received_events_url":"https://api.github.com/users/tanhaipeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T03:32:13Z","updated_at":"2017-09-22T03:32:13Z","author_association":"NONE","body":"希望支持 golang +1","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331341162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331341819","html_url":"https://github.com/apache/brpc/issues/49#issuecomment-331341819","issue_url":"https://api.github.com/repos/apache/brpc/issues/49","id":331341819,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0MTgxOQ==","user":{"login":"XiaoxiaoxiaoCoder","id":13503179,"node_id":"MDQ6VXNlcjEzNTAzMTc5","avatar_url":"https://avatars.githubusercontent.com/u/13503179?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoxiaoxiaoCoder","html_url":"https://github.com/XiaoxiaoxiaoCoder","followers_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/followers","following_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/following{/other_user}","gists_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/subscriptions","organizations_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/orgs","repos_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/repos","events_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T03:38:16Z","updated_at":"2017-09-22T03:38:16Z","author_association":"NONE","body":"centos6.9   操作和错误如下：sh config_brpc.sh --headers='/usr/local/protobuf/include /usr/local/include' --libs='/usr/local/protobuf/lib' \r\nreadlink: extra operand `/usr/local/include'\r\nTry `readlink --help' for more information.\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331341819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331345079","html_url":"https://github.com/apache/brpc/issues/49#issuecomment-331345079","issue_url":"https://api.github.com/repos/apache/brpc/issues/49","id":331345079,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM0NTA3OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T04:09:22Z","updated_at":"2017-09-22T04:09:22Z","author_association":"CONTRIBUTOR","body":"再试一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331345079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331350728","html_url":"https://github.com/apache/brpc/issues/51#issuecomment-331350728","issue_url":"https://api.github.com/repos/apache/brpc/issues/51","id":331350728,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM1MDcyOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T05:02:34Z","updated_at":"2017-09-22T05:02:34Z","author_association":"CONTRIBUTOR","body":"什么系统？\r\n我在linux-mint 17.4里试了下你的代码，是ok的：\r\ngejun@gejun-virtual-machine ~/github_brpc/example/test_bth $ ./test\r\n128","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331350728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331351398","html_url":"https://github.com/apache/brpc/issues/50#issuecomment-331351398","issue_url":"https://api.github.com/repos/apache/brpc/issues/50","id":331351398,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM1MTM5OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T05:08:45Z","updated_at":"2017-09-22T05:08:45Z","author_association":"CONTRIBUTOR","body":"Someone inside baidu may separate ranking policies from engineering framework in the same process by using RPC. The pros: policies are easier to be pluged in or out, much safer than loading shared libs. The cons: have to pay the cost of serialization and context switches.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331351398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331355739","html_url":"https://github.com/apache/brpc/issues/51#issuecomment-331355739","issue_url":"https://api.github.com/repos/apache/brpc/issues/51","id":331355739,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM1NTczOQ==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T05:45:07Z","updated_at":"2017-09-22T05:45:23Z","author_association":"MEMBER","body":"是你的程序段错误还是gdb段错误? 最好贴一下栈","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331355739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331359452","html_url":"https://github.com/apache/brpc/issues/51#issuecomment-331359452","issue_url":"https://api.github.com/repos/apache/brpc/issues/51","id":331359452,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM1OTQ1Mg==","user":{"login":"shibing","id":236940,"node_id":"MDQ6VXNlcjIzNjk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/236940?v=4","gravatar_id":"","url":"https://api.github.com/users/shibing","html_url":"https://github.com/shibing","followers_url":"https://api.github.com/users/shibing/followers","following_url":"https://api.github.com/users/shibing/following{/other_user}","gists_url":"https://api.github.com/users/shibing/gists{/gist_id}","starred_url":"https://api.github.com/users/shibing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shibing/subscriptions","organizations_url":"https://api.github.com/users/shibing/orgs","repos_url":"https://api.github.com/users/shibing/repos","events_url":"https://api.github.com/users/shibing/events{/privacy}","received_events_url":"https://api.github.com/users/shibing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T06:12:07Z","updated_at":"2017-09-22T06:12:07Z","author_association":"NONE","body":"程序直接运行没有段错误，是gdb调试的时候段错误，栈如下：\r\n```\r\n(gdb) s\r\nbthread_start_urgent (tid=0x7fffffffe448, attr=0x0, fn=0x40b1cd <work(void*)>, arg=0x80) at src/bthread/bthread.cpp:139\r\n139         bthread::TaskGroup* g = bthread::tls_task_group;\r\n(gdb) n\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\nbthread_start_urgent (tid=0x7fffffffe448, attr=0x0, fn=0x40b1cd <work(void*)>, arg=0x80) at src/bthread/bthread.cpp:139\r\n139         bthread::TaskGroup* g = bthread::tls_task_group;\r\n(gdb) bt\r\n#0  bthread_start_urgent (tid=0x7fffffffe448, attr=0x0, fn=0x40b1cd <work(void*)>, arg=0x80) at src/bthread/bthread.cpp:139\r\n#1  0x000000000040b229 in main () at b.cpp:14\r\n(gdb)\r\n```\r\n栈好像也没有啥有用的信息，gdb的版本是：\r\n```\r\n[abs@abs brpc]$ gdb -v\r\nGNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-94.el7\r\n```\r\n操作系统是：\r\n```\r\nCentOS Linux release 7.3.1611 (Core)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331359452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331363360","html_url":"https://github.com/apache/brpc/issues/41#issuecomment-331363360","issue_url":"https://api.github.com/repos/apache/brpc/issues/41","id":331363360,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM2MzM2MA==","user":{"login":"swift1911","id":9301003,"node_id":"MDQ6VXNlcjkzMDEwMDM=","avatar_url":"https://avatars.githubusercontent.com/u/9301003?v=4","gravatar_id":"","url":"https://api.github.com/users/swift1911","html_url":"https://github.com/swift1911","followers_url":"https://api.github.com/users/swift1911/followers","following_url":"https://api.github.com/users/swift1911/following{/other_user}","gists_url":"https://api.github.com/users/swift1911/gists{/gist_id}","starred_url":"https://api.github.com/users/swift1911/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swift1911/subscriptions","organizations_url":"https://api.github.com/users/swift1911/orgs","repos_url":"https://api.github.com/users/swift1911/repos","events_url":"https://api.github.com/users/swift1911/events{/privacy}","received_events_url":"https://api.github.com/users/swift1911/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T06:38:00Z","updated_at":"2017-09-22T06:38:00Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331363360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331367199","html_url":"https://github.com/apache/brpc/issues/49#issuecomment-331367199","issue_url":"https://api.github.com/repos/apache/brpc/issues/49","id":331367199,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM2NzE5OQ==","user":{"login":"XiaoxiaoxiaoCoder","id":13503179,"node_id":"MDQ6VXNlcjEzNTAzMTc5","avatar_url":"https://avatars.githubusercontent.com/u/13503179?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoxiaoxiaoCoder","html_url":"https://github.com/XiaoxiaoxiaoCoder","followers_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/followers","following_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/following{/other_user}","gists_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/subscriptions","organizations_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/orgs","repos_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/repos","events_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoxiaoxiaoCoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T07:00:43Z","updated_at":"2017-09-22T07:00:43Z","author_association":"NONE","body":"我发现在我系统下，realpath 这个命令不存在，我在config_brpc.sh 脚本中实现了一个realpath () { [[ $1 = /* ]] && echo \"$1\" || echo \"$PWD/${1#./}\" ;}\r\n，然后传多个路径的时候，需要将参数用\"\"包含起来--headers ) HDRS_IN=\"$(realpath \"$2\")\"; shift 2 ;;","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331367199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331367240","html_url":"https://github.com/apache/brpc/issues/48#issuecomment-331367240","issue_url":"https://api.github.com/repos/apache/brpc/issues/48","id":331367240,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM2NzI0MA==","user":{"login":"jasonszang","id":19163259,"node_id":"MDQ6VXNlcjE5MTYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/19163259?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonszang","html_url":"https://github.com/jasonszang","followers_url":"https://api.github.com/users/jasonszang/followers","following_url":"https://api.github.com/users/jasonszang/following{/other_user}","gists_url":"https://api.github.com/users/jasonszang/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonszang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonszang/subscriptions","organizations_url":"https://api.github.com/users/jasonszang/orgs","repos_url":"https://api.github.com/users/jasonszang/repos","events_url":"https://api.github.com/users/jasonszang/events{/privacy}","received_events_url":"https://api.github.com/users/jasonszang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T07:00:55Z","updated_at":"2017-09-22T07:00:55Z","author_association":"CONTRIBUTOR","body":"Thank you very much for your reply. I'll look into that ssl_options. And I look forward to your SSL client.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331367240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331367847","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331367847","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331367847,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM2Nzg0Nw==","user":{"login":"shibing","id":236940,"node_id":"MDQ6VXNlcjIzNjk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/236940?v=4","gravatar_id":"","url":"https://api.github.com/users/shibing","html_url":"https://github.com/shibing","followers_url":"https://api.github.com/users/shibing/followers","following_url":"https://api.github.com/users/shibing/following{/other_user}","gists_url":"https://api.github.com/users/shibing/gists{/gist_id}","starred_url":"https://api.github.com/users/shibing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shibing/subscriptions","organizations_url":"https://api.github.com/users/shibing/orgs","repos_url":"https://api.github.com/users/shibing/repos","events_url":"https://api.github.com/users/shibing/events{/privacy}","received_events_url":"https://api.github.com/users/shibing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T07:04:06Z","updated_at":"2017-09-22T07:04:06Z","author_association":"NONE","body":"编译器挂了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331367847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331372743","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331372743","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331372743,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM3Mjc0Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T07:29:55Z","updated_at":"2017-09-22T07:29:55Z","author_association":"CONTRIBUTOR","body":"看看系统的内存是不是充足，gcc是比较耗内存的，WSL我试过，是可以编的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331372743/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331373996","html_url":"https://github.com/apache/brpc/issues/49#issuecomment-331373996","issue_url":"https://api.github.com/repos/apache/brpc/issues/49","id":331373996,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM3Mzk5Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T07:36:09Z","updated_at":"2017-09-22T07:36:09Z","author_association":"CONTRIBUTOR","body":"看看realpath是不是一个包，fedora下默认是带的，ubuntu下是一个包。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331373996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331376288","html_url":"https://github.com/apache/brpc/issues/2#issuecomment-331376288","issue_url":"https://api.github.com/repos/apache/brpc/issues/2","id":331376288,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM3NjI4OA==","user":{"login":"gfandada","id":29118841,"node_id":"MDQ6VXNlcjI5MTE4ODQx","avatar_url":"https://avatars.githubusercontent.com/u/29118841?v=4","gravatar_id":"","url":"https://api.github.com/users/gfandada","html_url":"https://github.com/gfandada","followers_url":"https://api.github.com/users/gfandada/followers","following_url":"https://api.github.com/users/gfandada/following{/other_user}","gists_url":"https://api.github.com/users/gfandada/gists{/gist_id}","starred_url":"https://api.github.com/users/gfandada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfandada/subscriptions","organizations_url":"https://api.github.com/users/gfandada/orgs","repos_url":"https://api.github.com/users/gfandada/repos","events_url":"https://api.github.com/users/gfandada/events{/privacy}","received_events_url":"https://api.github.com/users/gfandada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T07:47:29Z","updated_at":"2017-09-22T07:47:29Z","author_association":"NONE","body":"期待golang版本","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331376288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331380232","html_url":"https://github.com/apache/brpc/issues/51#issuecomment-331380232","issue_url":"https://api.github.com/repos/apache/brpc/issues/51","id":331380232,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM4MDIzMg==","user":{"login":"shibing","id":236940,"node_id":"MDQ6VXNlcjIzNjk0MA==","avatar_url":"https://avatars.githubusercontent.com/u/236940?v=4","gravatar_id":"","url":"https://api.github.com/users/shibing","html_url":"https://github.com/shibing","followers_url":"https://api.github.com/users/shibing/followers","following_url":"https://api.github.com/users/shibing/following{/other_user}","gists_url":"https://api.github.com/users/shibing/gists{/gist_id}","starred_url":"https://api.github.com/users/shibing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shibing/subscriptions","organizations_url":"https://api.github.com/users/shibing/orgs","repos_url":"https://api.github.com/users/shibing/repos","events_url":"https://api.github.com/users/shibing/events{/privacy}","received_events_url":"https://api.github.com/users/shibing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T08:06:06Z","updated_at":"2017-09-22T08:06:06Z","author_association":"NONE","body":"将链接brpc的方式改为动态链接就没有上面的问题，如果与libbrpc.a链接就会有问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331380232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331383594","html_url":"https://github.com/apache/brpc/issues/1#issuecomment-331383594","issue_url":"https://api.github.com/repos/apache/brpc/issues/1","id":331383594,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM4MzU5NA==","user":{"login":"junyi5257","id":12793949,"node_id":"MDQ6VXNlcjEyNzkzOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/12793949?v=4","gravatar_id":"","url":"https://api.github.com/users/junyi5257","html_url":"https://github.com/junyi5257","followers_url":"https://api.github.com/users/junyi5257/followers","following_url":"https://api.github.com/users/junyi5257/following{/other_user}","gists_url":"https://api.github.com/users/junyi5257/gists{/gist_id}","starred_url":"https://api.github.com/users/junyi5257/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junyi5257/subscriptions","organizations_url":"https://api.github.com/users/junyi5257/orgs","repos_url":"https://api.github.com/users/junyi5257/repos","events_url":"https://api.github.com/users/junyi5257/events{/privacy}","received_events_url":"https://api.github.com/users/junyi5257/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T08:21:44Z","updated_at":"2017-09-22T08:21:44Z","author_association":"NONE","body":"很显然，大家更欢迎开源的baidu!","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331383594/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331393614","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-331393614","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":331393614,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTM5MzYxNA==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T09:06:31Z","updated_at":"2017-09-22T09:06:31Z","author_association":"MEMBER","body":"@xuebinsu The implementation of butex is not complex. Semantics of apis are just like [futex](http://man7.org/linux/man-pages/man2/futex.2.html). Read the [source](https://github.com/brpc/brpc/blob/master/src/bthread/butex.cpp) if you want to know more details.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331393614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331401462","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-331401462","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":331401462,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQwMTQ2Mg==","user":{"login":"xuebinsu","id":12034000,"node_id":"MDQ6VXNlcjEyMDM0MDAw","avatar_url":"https://avatars.githubusercontent.com/u/12034000?v=4","gravatar_id":"","url":"https://api.github.com/users/xuebinsu","html_url":"https://github.com/xuebinsu","followers_url":"https://api.github.com/users/xuebinsu/followers","following_url":"https://api.github.com/users/xuebinsu/following{/other_user}","gists_url":"https://api.github.com/users/xuebinsu/gists{/gist_id}","starred_url":"https://api.github.com/users/xuebinsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuebinsu/subscriptions","organizations_url":"https://api.github.com/users/xuebinsu/orgs","repos_url":"https://api.github.com/users/xuebinsu/repos","events_url":"https://api.github.com/users/xuebinsu/events{/privacy}","received_events_url":"https://api.github.com/users/xuebinsu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T09:41:33Z","updated_at":"2017-09-22T09:41:33Z","author_association":"NONE","body":"@chenzhangyi \r\nThanks for your reply. I'll check that.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331401462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331460128","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331460128","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331460128,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ2MDEyOA==","user":{"login":"magengbin","id":5432892,"node_id":"MDQ6VXNlcjU0MzI4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5432892?v=4","gravatar_id":"","url":"https://api.github.com/users/magengbin","html_url":"https://github.com/magengbin","followers_url":"https://api.github.com/users/magengbin/followers","following_url":"https://api.github.com/users/magengbin/following{/other_user}","gists_url":"https://api.github.com/users/magengbin/gists{/gist_id}","starred_url":"https://api.github.com/users/magengbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magengbin/subscriptions","organizations_url":"https://api.github.com/users/magengbin/orgs","repos_url":"https://api.github.com/users/magengbin/repos","events_url":"https://api.github.com/users/magengbin/events{/privacy}","received_events_url":"https://api.github.com/users/magengbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-22T14:18:36Z","updated_at":"2017-09-22T14:18:36Z","author_association":"NONE","body":"链接出错，看起来好像 protobuf 的问题\r\n```\r\nLinking protoc-gen-mcpack\r\nlibbrpc.a(mutex.o):(.data.rel.ro._ZTVN5butil12IOBufBuilderE[_ZTVN5butil12IOBufBuilderE]+0xa8): undefined reference to `google::protobuf::io::ZeroCopyOutputStream::WriteAliasedRaw(void const*, int)'\r\nlibbrpc.a(iobuf.o):(.data.rel.ro._ZTVN5butil27IOBufAsZeroCopyOutputStreamE[_ZTVN5butil27IOBufAsZeroCopyOutputStreamE]+0x38): undefined reference to `google::protobuf::io::ZeroCopyOutputStream::WriteAliasedRaw(void const*, int)'\r\ncollect2: error: ld returned 1 exit status\r\nmake: *** [protoc-gen-mcpack] Error 1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331460128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331605876","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331605876","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331605876,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwNTg3Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T02:53:13Z","updated_at":"2017-09-23T02:54:00Z","author_association":"CONTRIBUTOR","body":"是的，最早版本的bthread是覆盖usleep的。但覆盖毕竟是全局的，你很难保证所有的函数都不受影响，典型的就是TLS问题，出现一例程序就不正常了。另外也很难判断哪些函数的阻塞部分对性能比较敏感，哪些不敏感。更重要的是在RPC的场景中最主要的阻塞是网络交互，框架自己会管，肯定是不会阻塞worker pthread的，这部分阻塞至少占了80%-90%，所以去覆盖其他可能阻塞的函数既有风险又不是特别有用。gethostbyname更好的非阻塞替换方案是c-ares，不过在百度内dns很快，所以就一直没有换，开源后兴许会加上。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331605876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331606925","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331606925","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331606925,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwNjkyNQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T03:16:23Z","updated_at":"2017-09-23T03:16:23Z","author_association":"CONTRIBUTOR","body":"你用的不是WSL默认的protobuf包？我刚才试了下，可以编。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331606925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331608490","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331608490","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331608490,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwODQ5MA==","user":{"login":"feimat","id":7566490,"node_id":"MDQ6VXNlcjc1NjY0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7566490?v=4","gravatar_id":"","url":"https://api.github.com/users/feimat","html_url":"https://github.com/feimat","followers_url":"https://api.github.com/users/feimat/followers","following_url":"https://api.github.com/users/feimat/following{/other_user}","gists_url":"https://api.github.com/users/feimat/gists{/gist_id}","starred_url":"https://api.github.com/users/feimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feimat/subscriptions","organizations_url":"https://api.github.com/users/feimat/orgs","repos_url":"https://api.github.com/users/feimat/repos","events_url":"https://api.github.com/users/feimat/events{/privacy}","received_events_url":"https://api.github.com/users/feimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T03:54:41Z","updated_at":"2017-09-23T03:54:41Z","author_association":"NONE","body":"是不是这样理解假设一个 函数内部既有pthread阻塞又有bthread阻塞。 执行到pthread阻塞的部分，最高可同时pthread个数执行，执行到bthread阻塞部分，又可以自动切换成bthread阻塞，获得比pthread更高的并发，不用业务层去写额外的代码","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331608490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609087","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331609087","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331609087,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwOTA4Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T04:10:15Z","updated_at":"2017-09-23T04:10:15Z","author_association":"CONTRIBUTOR","body":"是的。tcmalloc其实是个很好的例子，在bthread中tcmalloc仍然是可以使用的，因为tcmalloc内部没有显式地调用bthread接口，所有可能的阻塞都是pthread，没有TLS和死锁的顾虑。同时tcmalloc内的代码非常在意性能，如果我们把它用到的Mutex/condition什么的覆盖为bthread提供的，很可能做的更差了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609612","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331609612","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331609612,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwOTYxMg==","user":{"login":"feimat","id":7566490,"node_id":"MDQ6VXNlcjc1NjY0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7566490?v=4","gravatar_id":"","url":"https://api.github.com/users/feimat","html_url":"https://github.com/feimat","followers_url":"https://api.github.com/users/feimat/followers","following_url":"https://api.github.com/users/feimat/following{/other_user}","gists_url":"https://api.github.com/users/feimat/gists{/gist_id}","starred_url":"https://api.github.com/users/feimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feimat/subscriptions","organizations_url":"https://api.github.com/users/feimat/orgs","repos_url":"https://api.github.com/users/feimat/repos","events_url":"https://api.github.com/users/feimat/events{/privacy}","received_events_url":"https://api.github.com/users/feimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T04:23:23Z","updated_at":"2017-10-01T09:46:05Z","author_association":"NONE","body":"谢谢 非常好的框架，我们会尝试去使用，另外给个建议，外面中小型公司可能没那么大人力成本使用这些c++框架，如果能提供一个使用起来和php fastcgi fpm一样简单，又具有这些高性能特性的框架，必定会大火。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609659","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331609659","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331609659,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwOTY1OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T04:24:27Z","updated_at":"2017-09-23T04:25:10Z","author_association":"CONTRIBUTOR","body":"百度内部有，并且和brpc/hhvm有关联，未来也可能开源。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609809","html_url":"https://github.com/apache/brpc/issues/19#issuecomment-331609809","issue_url":"https://api.github.com/repos/apache/brpc/issues/19","id":331609809,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwOTgwOQ==","user":{"login":"davidxiaozhi","id":6194818,"node_id":"MDQ6VXNlcjYxOTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/6194818?v=4","gravatar_id":"","url":"https://api.github.com/users/davidxiaozhi","html_url":"https://github.com/davidxiaozhi","followers_url":"https://api.github.com/users/davidxiaozhi/followers","following_url":"https://api.github.com/users/davidxiaozhi/following{/other_user}","gists_url":"https://api.github.com/users/davidxiaozhi/gists{/gist_id}","starred_url":"https://api.github.com/users/davidxiaozhi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidxiaozhi/subscriptions","organizations_url":"https://api.github.com/users/davidxiaozhi/orgs","repos_url":"https://api.github.com/users/davidxiaozhi/repos","events_url":"https://api.github.com/users/davidxiaozhi/events{/privacy}","received_events_url":"https://api.github.com/users/davidxiaozhi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T04:28:17Z","updated_at":"2017-09-23T04:28:17Z","author_association":"NONE","body":"第一时间在试用,确实卡在了mac编译上面,期望快速支持 mac","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609885","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331609885","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331609885,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYwOTg4NQ==","user":{"login":"feimat","id":7566490,"node_id":"MDQ6VXNlcjc1NjY0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7566490?v=4","gravatar_id":"","url":"https://api.github.com/users/feimat","html_url":"https://github.com/feimat","followers_url":"https://api.github.com/users/feimat/followers","following_url":"https://api.github.com/users/feimat/following{/other_user}","gists_url":"https://api.github.com/users/feimat/gists{/gist_id}","starred_url":"https://api.github.com/users/feimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feimat/subscriptions","organizations_url":"https://api.github.com/users/feimat/orgs","repos_url":"https://api.github.com/users/feimat/repos","events_url":"https://api.github.com/users/feimat/events{/privacy}","received_events_url":"https://api.github.com/users/feimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T04:30:22Z","updated_at":"2017-09-23T04:30:22Z","author_association":"NONE","body":"期待","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331609885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331615323","html_url":"https://github.com/apache/brpc/issues/28#issuecomment-331615323","issue_url":"https://api.github.com/repos/apache/brpc/issues/28","id":331615323,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYxNTMyMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T06:49:00Z","updated_at":"2017-09-23T06:49:00Z","author_association":"CONTRIBUTOR","body":"We're still listening to different voices from public and will publish a roadmap when priorities are settled.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331615323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331618772","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331618772","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331618772,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTYxODc3Mg==","user":{"login":"magengbin","id":5432892,"node_id":"MDQ6VXNlcjU0MzI4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5432892?v=4","gravatar_id":"","url":"https://api.github.com/users/magengbin","html_url":"https://github.com/magengbin","followers_url":"https://api.github.com/users/magengbin/followers","following_url":"https://api.github.com/users/magengbin/following{/other_user}","gists_url":"https://api.github.com/users/magengbin/gists{/gist_id}","starred_url":"https://api.github.com/users/magengbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magengbin/subscriptions","organizations_url":"https://api.github.com/users/magengbin/orgs","repos_url":"https://api.github.com/users/magengbin/repos","events_url":"https://api.github.com/users/magengbin/events{/privacy}","received_events_url":"https://api.github.com/users/magengbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-23T08:07:01Z","updated_at":"2017-09-23T08:08:01Z","author_association":"NONE","body":"WSL 之前安装过 protobuf，但是我都是按照 brpc 的文档安装下来的。我需要怎么改吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331618772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331682780","html_url":"https://github.com/apache/brpc/issues/54#issuecomment-331682780","issue_url":"https://api.github.com/repos/apache/brpc/issues/54","id":331682780,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4Mjc4MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T02:38:49Z","updated_at":"2017-09-24T02:38:49Z","author_association":"CONTRIBUTOR","body":"被wait的对象可能在wait返回后立刻析构，从而使析构和wake竞争。具体分析看[这里的注释](https://github.com/brpc/brpc/blob/master/src/bthread/butex.cpp#L190), futex已经处理了这种情况，会返回EFAULT（地址失效）或触发spurious wakeup(地址仍有效），butex中通过永不释放的内存池来解决问题，可能会触发spurious wakeup.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331682780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331683093","html_url":"https://github.com/apache/brpc/issues/54#issuecomment-331683093","issue_url":"https://api.github.com/repos/apache/brpc/issues/54","id":331683093,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4MzA5Mw==","user":{"login":"txsniper","id":4602017,"node_id":"MDQ6VXNlcjQ2MDIwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/4602017?v=4","gravatar_id":"","url":"https://api.github.com/users/txsniper","html_url":"https://github.com/txsniper","followers_url":"https://api.github.com/users/txsniper/followers","following_url":"https://api.github.com/users/txsniper/following{/other_user}","gists_url":"https://api.github.com/users/txsniper/gists{/gist_id}","starred_url":"https://api.github.com/users/txsniper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txsniper/subscriptions","organizations_url":"https://api.github.com/users/txsniper/orgs","repos_url":"https://api.github.com/users/txsniper/repos","events_url":"https://api.github.com/users/txsniper/events{/privacy}","received_events_url":"https://api.github.com/users/txsniper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T02:48:54Z","updated_at":"2017-09-24T02:52:43Z","author_association":"NONE","body":"190行的注释中的例子我理解了，在这里我不大理解的是 futex_wait_private能够返回是由于另一个线程futex_wake_private调用之后（而不是pw->sig.store(SAFE_TO_DESTROY, butil::memory_order_release)调用之后），也就是不会出现futex_wake_private检查地址出现EFAULT（地址失效）的问题，难道是因为futex_wake_private还没结束， futex_wait_private就可以返回了（导致对象被销毁），导致futex_wake_private在继续执行时发现地址失效了？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331683093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331683213","html_url":"https://github.com/apache/brpc/issues/54#issuecomment-331683213","issue_url":"https://api.github.com/repos/apache/brpc/issues/54","id":331683213,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4MzIxMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T02:53:01Z","updated_at":"2017-09-24T02:53:01Z","author_association":"CONTRIBUTOR","body":"这个是futex的典型现象了，当sig.store完成后，wait那边正好进入，发现sig和expected不相等，直接返回EWOULDBLOCK一路下去了，并不需要wake。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331683213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331683729","html_url":"https://github.com/apache/brpc/issues/54#issuecomment-331683729","issue_url":"https://api.github.com/repos/apache/brpc/issues/54","id":331683729,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4MzcyOQ==","user":{"login":"txsniper","id":4602017,"node_id":"MDQ6VXNlcjQ2MDIwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/4602017?v=4","gravatar_id":"","url":"https://api.github.com/users/txsniper","html_url":"https://github.com/txsniper","followers_url":"https://api.github.com/users/txsniper/followers","following_url":"https://api.github.com/users/txsniper/following{/other_user}","gists_url":"https://api.github.com/users/txsniper/gists{/gist_id}","starred_url":"https://api.github.com/users/txsniper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txsniper/subscriptions","organizations_url":"https://api.github.com/users/txsniper/orgs","repos_url":"https://api.github.com/users/txsniper/repos","events_url":"https://api.github.com/users/txsniper/events{/privacy}","received_events_url":"https://api.github.com/users/txsniper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T03:08:03Z","updated_at":"2017-09-24T03:08:03Z","author_association":"NONE","body":"多谢解答，懂了。再问一个问题，在写多线程程序时，要将条件判断放到while循环中，就像下面这样：\r\n```\r\nwhile(条件不满足) {\r\n      wait();\r\n}\r\n```\r\n这是为了：\r\n1. 处理由于地址失效引起的spurious wakeup\r\n2. 多个等待线程被唤醒时，可能只有一个能够继续执行，其他的仍要wait等待","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331683729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331684471","html_url":"https://github.com/apache/brpc/issues/51#issuecomment-331684471","issue_url":"https://api.github.com/repos/apache/brpc/issues/51","id":331684471,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4NDQ3MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T03:30:57Z","updated_at":"2017-09-24T03:30:57Z","author_association":"CONTRIBUTOR","body":"你看看默认方式编译的example/echo_c++能不能跑","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331684471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331684536","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331684536","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331684536,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY4NDUzNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T03:32:47Z","updated_at":"2017-09-24T03:32:47Z","author_association":"CONTRIBUTOR","body":"可以试试重新安装protobuf以及重头编译一遍brpc","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331684536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331698510","html_url":"https://github.com/apache/brpc/issues/54#issuecomment-331698510","issue_url":"https://api.github.com/repos/apache/brpc/issues/54","id":331698510,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTY5ODUxMA==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T09:34:11Z","updated_at":"2017-09-24T09:34:11Z","author_association":"MEMBER","body":"主要是1， futex以及signal(看EINTR的相关材料)可能引起spurious wakeup. 现代的操作系统都不会有惊群了.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331698510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331719608","html_url":"https://github.com/apache/brpc/issues/34#issuecomment-331719608","issue_url":"https://api.github.com/repos/apache/brpc/issues/34","id":331719608,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcxOTYwOA==","user":{"login":"neverchanje","id":6970676,"node_id":"MDQ6VXNlcjY5NzA2NzY=","avatar_url":"https://avatars.githubusercontent.com/u/6970676?v=4","gravatar_id":"","url":"https://api.github.com/users/neverchanje","html_url":"https://github.com/neverchanje","followers_url":"https://api.github.com/users/neverchanje/followers","following_url":"https://api.github.com/users/neverchanje/following{/other_user}","gists_url":"https://api.github.com/users/neverchanje/gists{/gist_id}","starred_url":"https://api.github.com/users/neverchanje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neverchanje/subscriptions","organizations_url":"https://api.github.com/users/neverchanje/orgs","repos_url":"https://api.github.com/users/neverchanje/repos","events_url":"https://api.github.com/users/neverchanje/events{/privacy}","received_events_url":"https://api.github.com/users/neverchanje/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T16:04:22Z","updated_at":"2017-09-24T16:04:22Z","author_association":"NONE","body":"+1, It does help for not downloading from github...","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331719608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331751170","html_url":"https://github.com/apache/brpc/issues/52#issuecomment-331751170","issue_url":"https://api.github.com/repos/apache/brpc/issues/52","id":331751170,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc1MTE3MA==","user":{"login":"magengbin","id":5432892,"node_id":"MDQ6VXNlcjU0MzI4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5432892?v=4","gravatar_id":"","url":"https://api.github.com/users/magengbin","html_url":"https://github.com/magengbin","followers_url":"https://api.github.com/users/magengbin/followers","following_url":"https://api.github.com/users/magengbin/following{/other_user}","gists_url":"https://api.github.com/users/magengbin/gists{/gist_id}","starred_url":"https://api.github.com/users/magengbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magengbin/subscriptions","organizations_url":"https://api.github.com/users/magengbin/orgs","repos_url":"https://api.github.com/users/magengbin/repos","events_url":"https://api.github.com/users/magengbin/events{/privacy}","received_events_url":"https://api.github.com/users/magengbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T00:36:50Z","updated_at":"2017-09-25T00:36:50Z","author_association":"NONE","body":"好的，谢谢！我找时间试一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331751170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331765182","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-331765182","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":331765182,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc2NTE4Mg==","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T02:57:06Z","updated_at":"2017-09-25T02:57:06Z","author_association":"CONTRIBUTOR","body":"@feimat 百度内部已经有基于brpc的php框架，性能比php-fpm高很多，未来也会开源。\r\n另外关于你说的hook阻塞系统函数，我们其实也有实践，会有一些问题，比如hhvm在编译竞争时会有sleep调用，而且是不可重入的，这块不能被hook，又如gethostbyname之类的函数也是不可重入的。当然解决了这些case之后，还是能work的，至少在线上已经稳定运行一段时间了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331765182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331773850","html_url":"https://github.com/apache/brpc/issues/54#issuecomment-331773850","issue_url":"https://api.github.com/repos/apache/brpc/issues/54","id":331773850,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc3Mzg1MA==","user":{"login":"txsniper","id":4602017,"node_id":"MDQ6VXNlcjQ2MDIwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/4602017?v=4","gravatar_id":"","url":"https://api.github.com/users/txsniper","html_url":"https://github.com/txsniper","followers_url":"https://api.github.com/users/txsniper/followers","following_url":"https://api.github.com/users/txsniper/following{/other_user}","gists_url":"https://api.github.com/users/txsniper/gists{/gist_id}","starred_url":"https://api.github.com/users/txsniper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/txsniper/subscriptions","organizations_url":"https://api.github.com/users/txsniper/orgs","repos_url":"https://api.github.com/users/txsniper/repos","events_url":"https://api.github.com/users/txsniper/events{/privacy}","received_events_url":"https://api.github.com/users/txsniper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T04:22:56Z","updated_at":"2017-09-25T04:22:56Z","author_association":"NONE","body":"@jamesge @chenzhangyi ，感谢二位的解答","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331773850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331795732","html_url":"https://github.com/apache/brpc/issues/29#issuecomment-331795732","issue_url":"https://api.github.com/repos/apache/brpc/issues/29","id":331795732,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTc5NTczMg==","user":{"login":"fr0zenrain","id":9147136,"node_id":"MDQ6VXNlcjkxNDcxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/9147136?v=4","gravatar_id":"","url":"https://api.github.com/users/fr0zenrain","html_url":"https://github.com/fr0zenrain","followers_url":"https://api.github.com/users/fr0zenrain/followers","following_url":"https://api.github.com/users/fr0zenrain/following{/other_user}","gists_url":"https://api.github.com/users/fr0zenrain/gists{/gist_id}","starred_url":"https://api.github.com/users/fr0zenrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr0zenrain/subscriptions","organizations_url":"https://api.github.com/users/fr0zenrain/orgs","repos_url":"https://api.github.com/users/fr0zenrain/repos","events_url":"https://api.github.com/users/fr0zenrain/events{/privacy}","received_events_url":"https://api.github.com/users/fr0zenrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T07:12:07Z","updated_at":"2017-09-25T07:12:07Z","author_association":"NONE","body":"gnu getopt 真蛋疼","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331795732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331969955","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-331969955","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":331969955,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk2OTk1NQ==","user":{"login":"ariverhorse","id":8218479,"node_id":"MDQ6VXNlcjgyMTg0Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/8218479?v=4","gravatar_id":"","url":"https://api.github.com/users/ariverhorse","html_url":"https://github.com/ariverhorse","followers_url":"https://api.github.com/users/ariverhorse/followers","following_url":"https://api.github.com/users/ariverhorse/following{/other_user}","gists_url":"https://api.github.com/users/ariverhorse/gists{/gist_id}","starred_url":"https://api.github.com/users/ariverhorse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ariverhorse/subscriptions","organizations_url":"https://api.github.com/users/ariverhorse/orgs","repos_url":"https://api.github.com/users/ariverhorse/repos","events_url":"https://api.github.com/users/ariverhorse/events{/privacy}","received_events_url":"https://api.github.com/users/ariverhorse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T18:24:54Z","updated_at":"2017-09-25T19:22:22Z","author_association":"NONE","body":"Great work!  I have not got time to read the detail implementation,  just curious is this bthread concept similar to Facebook's folly::fiber where user level thread switching are built on top of boost::context?  In another word, is M:N thread model running M fibers on top of N pthread?  If I have a serivce with callback that has a lot of IO bound work,  I will need to call butex.wait() to yield CPU to other user thread of the same pthread explicitly, right?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/331969955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332064794","html_url":"https://github.com/apache/brpc/issues/37#issuecomment-332064794","issue_url":"https://api.github.com/repos/apache/brpc/issues/37","id":332064794,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA2NDc5NA==","user":{"login":"liuxyc","id":3349675,"node_id":"MDQ6VXNlcjMzNDk2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/3349675?v=4","gravatar_id":"","url":"https://api.github.com/users/liuxyc","html_url":"https://github.com/liuxyc","followers_url":"https://api.github.com/users/liuxyc/followers","following_url":"https://api.github.com/users/liuxyc/following{/other_user}","gists_url":"https://api.github.com/users/liuxyc/gists{/gist_id}","starred_url":"https://api.github.com/users/liuxyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuxyc/subscriptions","organizations_url":"https://api.github.com/users/liuxyc/orgs","repos_url":"https://api.github.com/users/liuxyc/repos","events_url":"https://api.github.com/users/liuxyc/events{/privacy}","received_events_url":"https://api.github.com/users/liuxyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T02:05:59Z","updated_at":"2017-09-26T02:05:59Z","author_association":"NONE","body":"server 端可以先用HAProxy的ssl  termination应付一下 :)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332064794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332083711","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332083711","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332083711,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4MzcxMQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:33:28Z","updated_at":"2017-09-26T04:33:28Z","author_association":"CONTRIBUTOR","body":"可以，并且一个进程内只使用一个连接。redis的response是按返回顺序和request发出顺序一一对应的。如果一个线程一次请求中包含了多个command，response中也会有相同个数个reply。文档里都有说明。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332083711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332084095","html_url":"https://github.com/apache/brpc/issues/55#issuecomment-332084095","issue_url":"https://api.github.com/repos/apache/brpc/issues/55","id":332084095,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NDA5NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:36:58Z","updated_at":"2017-09-26T04:36:58Z","author_association":"CONTRIBUTOR","body":"Something might go wrong with your gperftools installation, check if the headers/libs are actually there, or you can set NEED_GPERFTOOLS to 0 in the Makefile of the example, which turns off tcmalloc linkage.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332084095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332084324","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332084324","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332084324,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NDMyNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:38:53Z","updated_at":"2017-09-26T04:38:53Z","author_association":"CONTRIBUTOR","body":"for implementing contention profiler.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332084324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332084986","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332084986","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332084986,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NDk4Ng==","user":{"login":"fr0zenrain","id":9147136,"node_id":"MDQ6VXNlcjkxNDcxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/9147136?v=4","gravatar_id":"","url":"https://api.github.com/users/fr0zenrain","html_url":"https://github.com/fr0zenrain","followers_url":"https://api.github.com/users/fr0zenrain/followers","following_url":"https://api.github.com/users/fr0zenrain/following{/other_user}","gists_url":"https://api.github.com/users/fr0zenrain/gists{/gist_id}","starred_url":"https://api.github.com/users/fr0zenrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr0zenrain/subscriptions","organizations_url":"https://api.github.com/users/fr0zenrain/orgs","repos_url":"https://api.github.com/users/fr0zenrain/repos","events_url":"https://api.github.com/users/fr0zenrain/events{/privacy}","received_events_url":"https://api.github.com/users/fr0zenrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:44:27Z","updated_at":"2017-09-26T04:44:27Z","author_association":"NONE","body":"have example? if not change name is well.thanks.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332084986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332085338","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332085338","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332085338,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NTMzOA==","user":{"login":"fr0zenrain","id":9147136,"node_id":"MDQ6VXNlcjkxNDcxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/9147136?v=4","gravatar_id":"","url":"https://api.github.com/users/fr0zenrain","html_url":"https://github.com/fr0zenrain","followers_url":"https://api.github.com/users/fr0zenrain/followers","following_url":"https://api.github.com/users/fr0zenrain/following{/other_user}","gists_url":"https://api.github.com/users/fr0zenrain/gists{/gist_id}","starred_url":"https://api.github.com/users/fr0zenrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr0zenrain/subscriptions","organizations_url":"https://api.github.com/users/fr0zenrain/orgs","repos_url":"https://api.github.com/users/fr0zenrain/repos","events_url":"https://api.github.com/users/fr0zenrain/events{/privacy}","received_events_url":"https://api.github.com/users/fr0zenrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:47:38Z","updated_at":"2017-09-26T04:47:38Z","author_association":"NONE","body":"and contention profiler may be the advance use,please  implemented contention profiler in example,  so  changed?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332085338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332085610","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332085610","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332085610,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NTYxMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:50:14Z","updated_at":"2017-09-26T04:50:57Z","author_association":"CONTRIBUTOR","body":"要不你讲中文吧。。。你这是英文么。。。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332085610/reactions","total_count":11,"+1":0,"-1":0,"laugh":11,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332085830","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332085830","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332085830,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NTgzMA==","user":{"login":"fr0zenrain","id":9147136,"node_id":"MDQ6VXNlcjkxNDcxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/9147136?v=4","gravatar_id":"","url":"https://api.github.com/users/fr0zenrain","html_url":"https://github.com/fr0zenrain","followers_url":"https://api.github.com/users/fr0zenrain/followers","following_url":"https://api.github.com/users/fr0zenrain/following{/other_user}","gists_url":"https://api.github.com/users/fr0zenrain/gists{/gist_id}","starred_url":"https://api.github.com/users/fr0zenrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr0zenrain/subscriptions","organizations_url":"https://api.github.com/users/fr0zenrain/orgs","repos_url":"https://api.github.com/users/fr0zenrain/repos","events_url":"https://api.github.com/users/fr0zenrain/events{/privacy}","received_events_url":"https://api.github.com/users/fr0zenrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:52:11Z","updated_at":"2017-09-26T04:52:11Z","author_association":"NONE","body":"contention profiler 是高级用法吧，example里没有，那为啥不改名，改名字也不会影响其他功能。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332085830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332086048","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332086048","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332086048,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NjA0OA==","user":{"login":"fr0zenrain","id":9147136,"node_id":"MDQ6VXNlcjkxNDcxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/9147136?v=4","gravatar_id":"","url":"https://api.github.com/users/fr0zenrain","html_url":"https://github.com/fr0zenrain","followers_url":"https://api.github.com/users/fr0zenrain/followers","following_url":"https://api.github.com/users/fr0zenrain/following{/other_user}","gists_url":"https://api.github.com/users/fr0zenrain/gists{/gist_id}","starred_url":"https://api.github.com/users/fr0zenrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr0zenrain/subscriptions","organizations_url":"https://api.github.com/users/fr0zenrain/orgs","repos_url":"https://api.github.com/users/fr0zenrain/repos","events_url":"https://api.github.com/users/fr0zenrain/events{/privacy}","received_events_url":"https://api.github.com/users/fr0zenrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:54:08Z","updated_at":"2017-09-26T04:54:08Z","author_association":"NONE","body":"另外还有一个问题，tcmalloc_extension.cpp引用dlsym导致无法静态编译，要不要解决一下？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332086048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332086137","html_url":"https://github.com/apache/brpc/issues/57#issuecomment-332086137","issue_url":"https://api.github.com/repos/apache/brpc/issues/57","id":332086137,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA4NjEzNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T04:54:48Z","updated_at":"2017-09-26T04:54:48Z","author_association":"CONTRIBUTOR","body":"我这里都没有问题。你可以贴下具体的错误以及环境。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332086137/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332093410","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332093410","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332093410,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA5MzQxMA==","user":{"login":"njdragonfly","id":45888,"node_id":"MDQ6VXNlcjQ1ODg4","avatar_url":"https://avatars.githubusercontent.com/u/45888?v=4","gravatar_id":"","url":"https://api.github.com/users/njdragonfly","html_url":"https://github.com/njdragonfly","followers_url":"https://api.github.com/users/njdragonfly/followers","following_url":"https://api.github.com/users/njdragonfly/following{/other_user}","gists_url":"https://api.github.com/users/njdragonfly/gists{/gist_id}","starred_url":"https://api.github.com/users/njdragonfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njdragonfly/subscriptions","organizations_url":"https://api.github.com/users/njdragonfly/orgs","repos_url":"https://api.github.com/users/njdragonfly/repos","events_url":"https://api.github.com/users/njdragonfly/events{/privacy}","received_events_url":"https://api.github.com/users/njdragonfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T05:50:47Z","updated_at":"2017-09-26T05:50:47Z","author_association":"NONE","body":"redis protocol 里没有correlation_id，如果两个线程在同一个连接上各自发出一个request，当response返回时，怎么和request对应起来？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332093410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332097960","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332097960","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332097960,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjA5Nzk2MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T06:20:46Z","updated_at":"2017-09-26T06:20:46Z","author_association":"CONTRIBUTOR","body":"“response是按返回顺序和request发出顺序一一对应”","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332097960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332102428","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332102428","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332102428,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjEwMjQyOA==","user":{"login":"njdragonfly","id":45888,"node_id":"MDQ6VXNlcjQ1ODg4","avatar_url":"https://avatars.githubusercontent.com/u/45888?v=4","gravatar_id":"","url":"https://api.github.com/users/njdragonfly","html_url":"https://github.com/njdragonfly","followers_url":"https://api.github.com/users/njdragonfly/followers","following_url":"https://api.github.com/users/njdragonfly/following{/other_user}","gists_url":"https://api.github.com/users/njdragonfly/gists{/gist_id}","starred_url":"https://api.github.com/users/njdragonfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njdragonfly/subscriptions","organizations_url":"https://api.github.com/users/njdragonfly/orgs","repos_url":"https://api.github.com/users/njdragonfly/repos","events_url":"https://api.github.com/users/njdragonfly/events{/privacy}","received_events_url":"https://api.github.com/users/njdragonfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T06:46:08Z","updated_at":"2017-09-26T06:46:08Z","author_association":"NONE","body":"看代码看到 Socket对象里有个_pipeline_q队列，利用队列的顺序特性，可以把request的cid和response的cid对应起来。\r\n不知道我理解的对不对？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332102428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332103482","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332103482","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332103482,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjEwMzQ4Mg==","user":{"login":"njdragonfly","id":45888,"node_id":"MDQ6VXNlcjQ1ODg4","avatar_url":"https://avatars.githubusercontent.com/u/45888?v=4","gravatar_id":"","url":"https://api.github.com/users/njdragonfly","html_url":"https://github.com/njdragonfly","followers_url":"https://api.github.com/users/njdragonfly/followers","following_url":"https://api.github.com/users/njdragonfly/following{/other_user}","gists_url":"https://api.github.com/users/njdragonfly/gists{/gist_id}","starred_url":"https://api.github.com/users/njdragonfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njdragonfly/subscriptions","organizations_url":"https://api.github.com/users/njdragonfly/orgs","repos_url":"https://api.github.com/users/njdragonfly/repos","events_url":"https://api.github.com/users/njdragonfly/events{/privacy}","received_events_url":"https://api.github.com/users/njdragonfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T06:51:44Z","updated_at":"2017-09-26T06:52:06Z","author_association":"NONE","body":"ParseRedisMessage函数里， socket->PopPipelinedInfo(&pi)； 和 socket->GivebackPipelinedInfo(pi); 两个调用之间可能有其他线程操作了队列，这样会导致队列的顺序错误。这里是否有问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332103482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332104295","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332104295","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332104295,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjEwNDI5NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T06:56:07Z","updated_at":"2017-09-26T06:56:07Z","author_association":"CONTRIBUTOR","body":"对，同时这个队列也记录了request中包含了几个command，response会等收到对应个数的reply后才从_pipeline_q中弹掉对应的元素。你贴的那两个函数没有问题，因为[Socket.StartInputEvent](https://github.com/brpc/brpc/blob/master/src/brpc/socket.cpp#L1831)保证一个socket同时最多被一个线程读。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332104295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332106294","html_url":"https://github.com/apache/brpc/issues/56#issuecomment-332106294","issue_url":"https://api.github.com/repos/apache/brpc/issues/56","id":332106294,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjEwNjI5NA==","user":{"login":"njdragonfly","id":45888,"node_id":"MDQ6VXNlcjQ1ODg4","avatar_url":"https://avatars.githubusercontent.com/u/45888?v=4","gravatar_id":"","url":"https://api.github.com/users/njdragonfly","html_url":"https://github.com/njdragonfly","followers_url":"https://api.github.com/users/njdragonfly/followers","following_url":"https://api.github.com/users/njdragonfly/following{/other_user}","gists_url":"https://api.github.com/users/njdragonfly/gists{/gist_id}","starred_url":"https://api.github.com/users/njdragonfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njdragonfly/subscriptions","organizations_url":"https://api.github.com/users/njdragonfly/orgs","repos_url":"https://api.github.com/users/njdragonfly/repos","events_url":"https://api.github.com/users/njdragonfly/events{/privacy}","received_events_url":"https://api.github.com/users/njdragonfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-26T07:05:58Z","updated_at":"2017-09-26T07:05:58Z","author_association":"NONE","body":"理解了，多谢答复。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332106294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332387949","html_url":"https://github.com/apache/brpc/issues/58#issuecomment-332387949","issue_url":"https://api.github.com/repos/apache/brpc/issues/58","id":332387949,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjM4Nzk0OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-27T02:08:54Z","updated_at":"2017-09-27T02:08:54Z","author_association":"CONTRIBUTOR","body":"什么环境和编译器","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332387949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332388037","html_url":"https://github.com/apache/brpc/issues/60#issuecomment-332388037","issue_url":"https://api.github.com/repos/apache/brpc/issues/60","id":332388037,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjM4ODAzNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-27T02:09:31Z","updated_at":"2017-09-28T06:02:45Z","author_association":"CONTRIBUTOR","body":"原生windows不支持，仍在适配。win10的WSL是支持的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332388037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332396817","html_url":"https://github.com/apache/brpc/issues/61#issuecomment-332396817","issue_url":"https://api.github.com/repos/apache/brpc/issues/61","id":332396817,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjM5NjgxNw==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-27T03:14:10Z","updated_at":"2017-09-27T03:14:10Z","author_association":"MEMBER","body":"几个模块之间存在依赖和耦合，没有单独发布的计划. 你可以连接brpc并单独使用bthread, 这和单独依赖bthread效果类似. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332396817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332417460","html_url":"https://github.com/apache/brpc/issues/50#issuecomment-332417460","issue_url":"https://api.github.com/repos/apache/brpc/issues/50","id":332417460,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjQxNzQ2MA==","user":{"login":"thincal","id":1206509,"node_id":"MDQ6VXNlcjEyMDY1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1206509?v=4","gravatar_id":"","url":"https://api.github.com/users/thincal","html_url":"https://github.com/thincal","followers_url":"https://api.github.com/users/thincal/followers","following_url":"https://api.github.com/users/thincal/following{/other_user}","gists_url":"https://api.github.com/users/thincal/gists{/gist_id}","starred_url":"https://api.github.com/users/thincal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thincal/subscriptions","organizations_url":"https://api.github.com/users/thincal/orgs","repos_url":"https://api.github.com/users/thincal/repos","events_url":"https://api.github.com/users/thincal/events{/privacy}","received_events_url":"https://api.github.com/users/thincal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-27T05:59:59Z","updated_at":"2017-09-27T05:59:59Z","author_association":"NONE","body":"thanks","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332417460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332421875","html_url":"https://github.com/apache/brpc/issues/59#issuecomment-332421875","issue_url":"https://api.github.com/repos/apache/brpc/issues/59","id":332421875,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjQyMTg3NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-27T06:26:44Z","updated_at":"2017-09-27T06:26:44Z","author_association":"CONTRIBUTOR","body":"Read this: https://github.com/brpc/brpc/blob/master/docs/cn/server_push.md","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332421875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332698200","html_url":"https://github.com/apache/brpc/issues/62#issuecomment-332698200","issue_url":"https://api.github.com/repos/apache/brpc/issues/62","id":332698200,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjY5ODIwMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T01:08:45Z","updated_at":"2017-09-28T01:08:45Z","author_association":"CONTRIBUTOR","body":"两个参数分别传什么文档中不是有示例么\r\n https://github.com/brpc/brpc/blob/master/docs/cn/getting_started.md\r\n--headers是所有可能包含头文件的目录，--libs是所有可能包含静态库、动态库的目录","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332698200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332833477","html_url":"https://github.com/apache/brpc/issues/62#issuecomment-332833477","issue_url":"https://api.github.com/repos/apache/brpc/issues/62","id":332833477,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjgzMzQ3Nw==","user":{"login":"encrylife","id":2277083,"node_id":"MDQ6VXNlcjIyNzcwODM=","avatar_url":"https://avatars.githubusercontent.com/u/2277083?v=4","gravatar_id":"","url":"https://api.github.com/users/encrylife","html_url":"https://github.com/encrylife","followers_url":"https://api.github.com/users/encrylife/followers","following_url":"https://api.github.com/users/encrylife/following{/other_user}","gists_url":"https://api.github.com/users/encrylife/gists{/gist_id}","starred_url":"https://api.github.com/users/encrylife/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/encrylife/subscriptions","organizations_url":"https://api.github.com/users/encrylife/orgs","repos_url":"https://api.github.com/users/encrylife/repos","events_url":"https://api.github.com/users/encrylife/events{/privacy}","received_events_url":"https://api.github.com/users/encrylife/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T13:18:55Z","updated_at":"2017-09-28T13:18:55Z","author_association":"NONE","body":"Compiling client.o\r\nclient.cpp:18:27: fatal error: butil/logging.h: 没有那个文件或目录 这个是？\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332833477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332833648","html_url":"https://github.com/apache/brpc/issues/62#issuecomment-332833648","issue_url":"https://api.github.com/repos/apache/brpc/issues/62","id":332833648,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjgzMzY0OA==","user":{"login":"encrylife","id":2277083,"node_id":"MDQ6VXNlcjIyNzcwODM=","avatar_url":"https://avatars.githubusercontent.com/u/2277083?v=4","gravatar_id":"","url":"https://api.github.com/users/encrylife","html_url":"https://github.com/encrylife","followers_url":"https://api.github.com/users/encrylife/followers","following_url":"https://api.github.com/users/encrylife/following{/other_user}","gists_url":"https://api.github.com/users/encrylife/gists{/gist_id}","starred_url":"https://api.github.com/users/encrylife/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/encrylife/subscriptions","organizations_url":"https://api.github.com/users/encrylife/orgs","repos_url":"https://api.github.com/users/encrylife/repos","events_url":"https://api.github.com/users/encrylife/events{/privacy}","received_events_url":"https://api.github.com/users/encrylife/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T13:19:29Z","updated_at":"2017-09-28T13:19:29Z","author_association":"NONE","body":"ubuntu@ubuntu:~/Downloads/brpc-master/example/echo_c++$ make\r\nCompiling client.o\r\nclient.cpp:18:27: fatal error: butil/logging.h: 没有那个文件或目录\r\n #include <butil/logging.h>\r\n                           ^\r\ncompilation terminated.\r\nmake: *** [client.o] 错误 1","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332833648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332839528","html_url":"https://github.com/apache/brpc/issues/62#issuecomment-332839528","issue_url":"https://api.github.com/repos/apache/brpc/issues/62","id":332839528,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjgzOTUyOA==","user":{"login":"encrylife","id":2277083,"node_id":"MDQ6VXNlcjIyNzcwODM=","avatar_url":"https://avatars.githubusercontent.com/u/2277083?v=4","gravatar_id":"","url":"https://api.github.com/users/encrylife","html_url":"https://github.com/encrylife","followers_url":"https://api.github.com/users/encrylife/followers","following_url":"https://api.github.com/users/encrylife/following{/other_user}","gists_url":"https://api.github.com/users/encrylife/gists{/gist_id}","starred_url":"https://api.github.com/users/encrylife/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/encrylife/subscriptions","organizations_url":"https://api.github.com/users/encrylife/orgs","repos_url":"https://api.github.com/users/encrylife/repos","events_url":"https://api.github.com/users/encrylife/events{/privacy}","received_events_url":"https://api.github.com/users/encrylife/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T13:40:34Z","updated_at":"2017-09-28T13:40:34Z","author_association":"NONE","body":"当我修改了client.pp 路径改成了绝对路径 \r\n#include </home/ubuntu/Downloads/brpc-master/src/butil/logging.h>\r\n#include </home/ubuntu/Downloads/brpc-master/src/butil/time.h>\r\n这时候又提示\r\nCompiling client.o\r\nIn file included from client.cpp:20:0:\r\n/home/ubuntu/Downloads/brpc-master/src/butil/logging.h:23:46: fatal error: butil/config.h: 没有那个文件或目录\r\n #include <butil/config.h>   // BRPC_WITH_GLOG\r\n是不是路径有什么问题，C 这块我也不清楚","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332839528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332858107","html_url":"https://github.com/apache/brpc/issues/62#issuecomment-332858107","issue_url":"https://api.github.com/repos/apache/brpc/issues/62","id":332858107,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjg1ODEwNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T14:41:21Z","updated_at":"2017-09-28T14:41:21Z","author_association":"CONTRIBUTOR","body":"要先编译后brpc目录后再去编译example目录下的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332858107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332891552","html_url":"https://github.com/apache/brpc/pull/63#issuecomment-332891552","issue_url":"https://api.github.com/repos/apache/brpc/issues/63","id":332891552,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjg5MTU1Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T16:30:35Z","updated_at":"2017-09-28T16:30:35Z","author_association":"CONTRIBUTOR","body":"third_party in butil is orginated from base/third_party of chromium, it is very special and extensively modified to adapt usages in brpc. Moving into a top-level third_party may confuse users with that: they're still similar with the original ones, however they're not. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332891552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332985497","html_url":"https://github.com/apache/brpc/pull/63#issuecomment-332985497","issue_url":"https://api.github.com/repos/apache/brpc/issues/63","id":332985497,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjk4NTQ5Nw==","user":{"login":"thinkerou","id":4488261,"node_id":"MDQ6VXNlcjQ0ODgyNjE=","avatar_url":"https://avatars.githubusercontent.com/u/4488261?v=4","gravatar_id":"","url":"https://api.github.com/users/thinkerou","html_url":"https://github.com/thinkerou","followers_url":"https://api.github.com/users/thinkerou/followers","following_url":"https://api.github.com/users/thinkerou/following{/other_user}","gists_url":"https://api.github.com/users/thinkerou/gists{/gist_id}","starred_url":"https://api.github.com/users/thinkerou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thinkerou/subscriptions","organizations_url":"https://api.github.com/users/thinkerou/orgs","repos_url":"https://api.github.com/users/thinkerou/repos","events_url":"https://api.github.com/users/thinkerou/events{/privacy}","received_events_url":"https://api.github.com/users/thinkerou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-28T22:53:26Z","updated_at":"2017-09-28T22:53:26Z","author_association":"NONE","body":"OK, thanks @jamesge and I will close the pull request.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/332985497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333073423","html_url":"https://github.com/apache/brpc/issues/64#issuecomment-333073423","issue_url":"https://api.github.com/repos/apache/brpc/issues/64","id":333073423,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzA3MzQyMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T09:06:35Z","updated_at":"2017-09-29T09:06:49Z","author_association":"CONTRIBUTOR","body":"先测试numactl绑核效果，以及结合https://github.com/brpc/brpc/blob/master/docs/cn/server_debugging.md 排查","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333073423/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333158041","html_url":"https://github.com/apache/brpc/issues/59#issuecomment-333158041","issue_url":"https://api.github.com/repos/apache/brpc/issues/59","id":333158041,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzE1ODA0MQ==","user":{"login":"thincal","id":1206509,"node_id":"MDQ6VXNlcjEyMDY1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1206509?v=4","gravatar_id":"","url":"https://api.github.com/users/thincal","html_url":"https://github.com/thincal","followers_url":"https://api.github.com/users/thincal/followers","following_url":"https://api.github.com/users/thincal/following{/other_user}","gists_url":"https://api.github.com/users/thincal/gists{/gist_id}","starred_url":"https://api.github.com/users/thincal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thincal/subscriptions","organizations_url":"https://api.github.com/users/thincal/orgs","repos_url":"https://api.github.com/users/thincal/repos","events_url":"https://api.github.com/users/thincal/events{/privacy}","received_events_url":"https://api.github.com/users/thincal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T15:27:23Z","updated_at":"2017-09-29T15:27:23Z","author_association":"NONE","body":"thanks for your information, but is there any example about this \"server push\" ?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333158041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333279395","html_url":"https://github.com/apache/brpc/issues/41#issuecomment-333279395","issue_url":"https://api.github.com/repos/apache/brpc/issues/41","id":333279395,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI3OTM5NQ==","user":{"login":"rural-panda","id":12998285,"node_id":"MDQ6VXNlcjEyOTk4Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/12998285?v=4","gravatar_id":"","url":"https://api.github.com/users/rural-panda","html_url":"https://github.com/rural-panda","followers_url":"https://api.github.com/users/rural-panda/followers","following_url":"https://api.github.com/users/rural-panda/following{/other_user}","gists_url":"https://api.github.com/users/rural-panda/gists{/gist_id}","starred_url":"https://api.github.com/users/rural-panda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rural-panda/subscriptions","organizations_url":"https://api.github.com/users/rural-panda/orgs","repos_url":"https://api.github.com/users/rural-panda/repos","events_url":"https://api.github.com/users/rural-panda/events{/privacy}","received_events_url":"https://api.github.com/users/rural-panda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T03:21:13Z","updated_at":"2017-09-30T03:21:13Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333279395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333297728","html_url":"https://github.com/apache/brpc/issues/65#issuecomment-333297728","issue_url":"https://api.github.com/repos/apache/brpc/issues/65","id":333297728,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzI5NzcyOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-30T09:53:27Z","updated_at":"2017-09-30T09:53:27Z","author_association":"CONTRIBUTOR","body":"lzma is required by libunwind and should be installed separately.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333297728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333365278","html_url":"https://github.com/apache/brpc/issues/53#issuecomment-333365278","issue_url":"https://api.github.com/repos/apache/brpc/issues/53","id":333365278,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzM2NTI3OA==","user":{"login":"feimat","id":7566490,"node_id":"MDQ6VXNlcjc1NjY0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7566490?v=4","gravatar_id":"","url":"https://api.github.com/users/feimat","html_url":"https://github.com/feimat","followers_url":"https://api.github.com/users/feimat/followers","following_url":"https://api.github.com/users/feimat/following{/other_user}","gists_url":"https://api.github.com/users/feimat/gists{/gist_id}","starred_url":"https://api.github.com/users/feimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feimat/subscriptions","organizations_url":"https://api.github.com/users/feimat/orgs","repos_url":"https://api.github.com/users/feimat/repos","events_url":"https://api.github.com/users/feimat/events{/privacy}","received_events_url":"https://api.github.com/users/feimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-01T09:43:18Z","updated_at":"2017-10-01T09:43:18Z","author_association":"NONE","body":"是的 我们现在的框架就是hook了，项目启动时 分别起n（n=2倍cpu核）个线程和m（m远大于n）个线程，每个线程里再起协程，对于普通io和能hook的代码块默认在n线程上跑，遇到不能hook的就切换到m个线程去执行（切换就一个函数），可新人会忘记切换到m线程的时候，影响就是同时只有n个并发，brpc刚好解决了这个问题，不需要手动切换pthread数","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333365278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333366565","html_url":"https://github.com/apache/brpc/pull/66#issuecomment-333366565","issue_url":"https://api.github.com/repos/apache/brpc/issues/66","id":333366565,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzM2NjU2NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-01T10:12:08Z","updated_at":"2017-10-01T10:12:08Z","author_association":"CONTRIBUTOR","body":"what are you doing?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333366565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333413371","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-333413371","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":333413371,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzQxMzM3MQ==","user":{"login":"wolf0403","id":1390427,"node_id":"MDQ6VXNlcjEzOTA0Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1390427?v=4","gravatar_id":"","url":"https://api.github.com/users/wolf0403","html_url":"https://github.com/wolf0403","followers_url":"https://api.github.com/users/wolf0403/followers","following_url":"https://api.github.com/users/wolf0403/following{/other_user}","gists_url":"https://api.github.com/users/wolf0403/gists{/gist_id}","starred_url":"https://api.github.com/users/wolf0403/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolf0403/subscriptions","organizations_url":"https://api.github.com/users/wolf0403/orgs","repos_url":"https://api.github.com/users/wolf0403/repos","events_url":"https://api.github.com/users/wolf0403/events{/privacy}","received_events_url":"https://api.github.com/users/wolf0403/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-01T23:03:46Z","updated_at":"2017-10-01T23:03:46Z","author_association":"NONE","body":"I'm not sure I understand this discussion correctly, especially the part wrt futex and blocking syscalls.\r\n\r\nA syscall is \"blocked\" means when you call into the kernel (that's what \"syscall\" mean - transferring execution into the kernel), the kernel waits for the whole operation to complete before returning control back to user-space. There is no mutex / futex involved and absolutely nothing you can reimplement in user space to avoid this \"blocking\" behavior, expect if you can find another non-blocking version of the syscall to replace / mimic the blocking version. Golang does this for network read / write but not for other syscalls. If a goroutine calls a blocking syscall (i.e. reads disk file) Golang creates an OS thread (referred to as \"LWP\", I assume?) to park that goroutine and carries on with others.\r\nThere is no mutex / futex calls involved in these cases.\r\nMy understanding is that because brpc has a fixed number of threads, it does not creates OS-threads in this cases so that after a bthread calls a blocking syscall, there will be one less OS-thread to schedule \"bthreads\". \r\n\r\nIf the discussion is about \"calling OS-provided mutex will lock whole OS-thread\" then no, Go sync.Mutex deals with it's scheduler and does not directly calls down to OS provided mutex and locks the whole OS threads. The source is at [1] and it's relatively simple and well documented.\r\n\r\n[1] https://golang.org/src/sync/mutex.go","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333413371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333520382","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-333520382","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":333520382,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzUyMDM4Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T12:32:21Z","updated_at":"2017-10-02T12:32:21Z","author_association":"CONTRIBUTOR","body":"@wolf0403 \"note3\" in above post clarifies that go does have futex-like primitive(sema) and sync.Mutex which is based on the primitive does not block OS-thread. But at the time that bthread was designed, as I remembered, the mutex in go was implemented by os.futex directly.\r\nOn the other hand, after extensive usages of brpc inside Baidu, we know that blocking OS-thread or not isn't a big deal generally, because:\r\n* Threads are mostly blocked by RPCs, which definitely support user threads like bthread. Other blockings are just minor.\r\n* Critical sections in performance-demanding services should be as small as possible, no matter they're running in user threads or OS-threads. A huge critical section is very likely to be a design flaw, generally. When critical sections are small, blocking OS-pthread or not does not matter too much, we actually recommend most users to use pthread mutexes/conditions by default.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333520382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333712808","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-333712808","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":333712808,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxMjgwOA==","user":{"login":"wolf0403","id":1390427,"node_id":"MDQ6VXNlcjEzOTA0Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1390427?v=4","gravatar_id":"","url":"https://api.github.com/users/wolf0403","html_url":"https://github.com/wolf0403","followers_url":"https://api.github.com/users/wolf0403/followers","following_url":"https://api.github.com/users/wolf0403/following{/other_user}","gists_url":"https://api.github.com/users/wolf0403/gists{/gist_id}","starred_url":"https://api.github.com/users/wolf0403/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolf0403/subscriptions","organizations_url":"https://api.github.com/users/wolf0403/orgs","repos_url":"https://api.github.com/users/wolf0403/repos","events_url":"https://api.github.com/users/wolf0403/events{/privacy}","received_events_url":"https://api.github.com/users/wolf0403/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T01:28:54Z","updated_at":"2017-10-03T01:28:54Z","author_association":"NONE","body":"Well, there are different problems here, again - 1) user-program initiated waits (mutex / futex / critical section, whatever) and 2) blocked syscallls.\r\n\r\nI agree that the 1) should be minimized by user program in all cases, and maybe for most of the workload you care about, RPC calls are the majority and any other blocking syscalls are the long tails. The difference is that Go program does not have chance to have called OS mutex and blocked machine thread and large number of Goroutines, while the \"butex\" is opt-in by user programs and is not yet complete.\r\n\r\nThe problem here is that for both 1) and 2), bthreads will have a much larger impact than the current implementation of Go, because you are reducing the total number of OS-threads, or CPU cores that are doing actual computation / scheduling user-level threads. This gets more series when the M:N (go-routine vs OS threads) ratio is high, and it tends to be high for Go programs (1 OS-thread per core, so 32 or 64, while >1,000s or maybe orders of magnitudes higher for Goroutines). \r\n\r\n(FTR: for \"current\" I guess it means after Go1.1 in 2012 after the scheduler change I mentioned earlier - but sync package in 1.0 does not use OS futex [1] already.)\r\n\r\n[1] https://github.com/golang/go/blob/release-branch.go1/src/pkg/sync/mutex.go ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333712808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333717662","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-333717662","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":333717662,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxNzY2Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T02:02:26Z","updated_at":"2017-10-03T02:02:26Z","author_association":"CONTRIBUTOR","body":"Having 10000 goroutines does  not mean that they're blocked by syscalls **at the same time**. To understand the situation better, you have to calculate \"concurrency\" which is the multiply of **latency** and **throughput** (qps), and which is comparable to number of OS-threads. There're a lot of programs that have a lot of user threads(>10000) are actually low at concurrency (several), as we saw in miscellaneous systems inside Baidu. The root cause, as we agreed, is that synchronous RPCs contribute most of the blocking. Left blocking just adds a small fraction to the \"concurrency\". \r\nIn addition, butex is not related to \"fixed number of OS-threads\". Actually some variants of bthreads do support auto-adaptive number of OS-threads. The opensource version also can manually change number of workers at run-time.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333717662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333724158","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-333724158","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":333724158,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcyNDE1OA==","user":{"login":"wolf0403","id":1390427,"node_id":"MDQ6VXNlcjEzOTA0Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1390427?v=4","gravatar_id":"","url":"https://api.github.com/users/wolf0403","html_url":"https://github.com/wolf0403","followers_url":"https://api.github.com/users/wolf0403/followers","following_url":"https://api.github.com/users/wolf0403/following{/other_user}","gists_url":"https://api.github.com/users/wolf0403/gists{/gist_id}","starred_url":"https://api.github.com/users/wolf0403/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolf0403/subscriptions","organizations_url":"https://api.github.com/users/wolf0403/orgs","repos_url":"https://api.github.com/users/wolf0403/repos","events_url":"https://api.github.com/users/wolf0403/events{/privacy}","received_events_url":"https://api.github.com/users/wolf0403/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T02:52:25Z","updated_at":"2017-10-03T02:52:25Z","author_association":"NONE","body":"Having 10,000 goroutines on 16 core systems means... when a goroutine makes a blocking system call, it's blocking 1 goroutine while there are still 16 cores scheduling the rest 9,999 goroutines.\r\nMy understanding of bthreads is that you will have only 15 cores scheduling the other bthreads - be that 9375 or 9999 (which you need to do a lot of work stealing).\r\n\r\nSure, as I've mentioned earlier it may not be important for your particular workload (either your user-threads are doing long waits on network I/O, or similar). I've handled large number of low traffic, long pooling requests with gevents and they are also fine for my particular case, but clearly gevent is nothing near Golang in completeness, robustness, etc.\r\nFor the demanding workload which really need to push it, Golang clearly has done (not \"potentially doing\", but actually delivered) better jobs, but YMMV.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333724158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333743452","html_url":"https://github.com/apache/brpc/issues/45#issuecomment-333743452","issue_url":"https://api.github.com/repos/apache/brpc/issues/45","id":333743452,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzc0MzQ1Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T05:30:50Z","updated_at":"2017-10-03T05:34:41Z","author_association":"CONTRIBUTOR","body":"“you will have only 15 cores scheduling the other bthreads - be that 9375 or 9999”. yes and it even has advantages: the work stealing and TLS-related stuff will be more efficient. OS-threads are not that easy to be blocked one-by-one and finally get exhausted as you expected. Of course it's easy to construct edge cases to block all OS-threads, but in real applications, as long as the blocking operations(except RPC) only block for a reasonable amount of time, the blocking problem is more like calculating an expectation: \"how many OS-threads will be blocked in average?\", which is just the \"concurrency\" calculated above (according to [little's law](https://en.wikipedia.org/wiki/Little%27s_law)). \r\n\r\nBesides, bthread offers bthread_mutex_t and bthread_condition_t which are nearly drop-in replacements for pthread-equivalences. It's users' decisions to use them or not. Designing like this because: It's **much** more dangerous to override blocking operations in C++ than in Go, which has full control of what user can do.\r\n\r\ngoroutines also need to balance different factors in overriding a blocking operation. If a user thread wants to override read/write, the only choice under linux is to use a epoll. As a result, the overridden read/write need to pay the price for epoll_ctl, which is not very efficient in multi-threaded environment. Thus the designer faces a dilemma: the overridden read/write are more concurrent in calls that block for a long time, however they take more time in calls that just block for a while or not block. Designers of a new language surely have more freedom, but they still need to make a choice. A common method is to find out the time that read/write may take in average, and make decisions based on that. As you see, this is also a decision according to probabilities. Or designers make a compromise between performance and other factors (like simplicity of code), which is another issue.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333743452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333843065","html_url":"https://github.com/apache/brpc/issues/28#issuecomment-333843065","issue_url":"https://api.github.com/repos/apache/brpc/issues/28","id":333843065,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg0MzA2NQ==","user":{"login":"allencloud","id":9465626,"node_id":"MDQ6VXNlcjk0NjU2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/9465626?v=4","gravatar_id":"","url":"https://api.github.com/users/allencloud","html_url":"https://github.com/allencloud","followers_url":"https://api.github.com/users/allencloud/followers","following_url":"https://api.github.com/users/allencloud/following{/other_user}","gists_url":"https://api.github.com/users/allencloud/gists{/gist_id}","starred_url":"https://api.github.com/users/allencloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allencloud/subscriptions","organizations_url":"https://api.github.com/users/allencloud/orgs","repos_url":"https://api.github.com/users/allencloud/repos","events_url":"https://api.github.com/users/allencloud/events{/privacy}","received_events_url":"https://api.github.com/users/allencloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T13:33:34Z","updated_at":"2017-10-03T13:33:34Z","author_association":"NONE","body":"Thanks a lot. Be waiting...\r\nClosing this.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/333843065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/334916034","html_url":"https://github.com/apache/brpc/issues/29#issuecomment-334916034","issue_url":"https://api.github.com/repos/apache/brpc/issues/29","id":334916034,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxNjAzNA==","user":{"login":"liu946","id":7871150,"node_id":"MDQ6VXNlcjc4NzExNTA=","avatar_url":"https://avatars.githubusercontent.com/u/7871150?v=4","gravatar_id":"","url":"https://api.github.com/users/liu946","html_url":"https://github.com/liu946","followers_url":"https://api.github.com/users/liu946/followers","following_url":"https://api.github.com/users/liu946/following{/other_user}","gists_url":"https://api.github.com/users/liu946/gists{/gist_id}","starred_url":"https://api.github.com/users/liu946/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu946/subscriptions","organizations_url":"https://api.github.com/users/liu946/orgs","repos_url":"https://api.github.com/users/liu946/repos","events_url":"https://api.github.com/users/liu946/events{/privacy}","received_events_url":"https://api.github.com/users/liu946/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T07:18:00Z","updated_at":"2017-10-07T07:18:00Z","author_association":"NONE","body":"能否给一个官方的CMakeList配置示例？自己写Makefile的话不好在IDE上开发啊。希望能脱敏一个CMake的项目示例加在Example里。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/334916034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335344555","html_url":"https://github.com/apache/brpc/issues/67#issuecomment-335344555","issue_url":"https://api.github.com/repos/apache/brpc/issues/67","id":335344555,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTM0NDU1NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T02:51:45Z","updated_at":"2017-10-10T02:52:00Z","author_association":"CONTRIBUTOR","body":"PR is always welcome, especially those on adapting different OS/compiler/deps/building etc. Currently compilation of brpc is still somewhat straightforward, you can have a try on building with bazel and send the PR to us.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335344555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335351614","html_url":"https://github.com/apache/brpc/issues/68#issuecomment-335351614","issue_url":"https://api.github.com/repos/apache/brpc/issues/68","id":335351614,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTM1MTYxNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T03:40:09Z","updated_at":"2017-10-10T03:40:09Z","author_association":"CONTRIBUTOR","body":"3.4是可以的，proto生成相关的错误可以尝试删下*.pb.h *.pb.cc","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335351614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335409636","html_url":"https://github.com/apache/brpc/issues/64#issuecomment-335409636","issue_url":"https://api.github.com/repos/apache/brpc/issues/64","id":335409636,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQwOTYzNg==","user":{"login":"kenshinxf","id":7056720,"node_id":"MDQ6VXNlcjcwNTY3MjA=","avatar_url":"https://avatars.githubusercontent.com/u/7056720?v=4","gravatar_id":"","url":"https://api.github.com/users/kenshinxf","html_url":"https://github.com/kenshinxf","followers_url":"https://api.github.com/users/kenshinxf/followers","following_url":"https://api.github.com/users/kenshinxf/following{/other_user}","gists_url":"https://api.github.com/users/kenshinxf/gists{/gist_id}","starred_url":"https://api.github.com/users/kenshinxf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kenshinxf/subscriptions","organizations_url":"https://api.github.com/users/kenshinxf/orgs","repos_url":"https://api.github.com/users/kenshinxf/repos","events_url":"https://api.github.com/users/kenshinxf/events{/privacy}","received_events_url":"https://api.github.com/users/kenshinxf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T09:06:43Z","updated_at":"2017-10-10T09:06:43Z","author_association":"NONE","body":"经过测试和沟通, 发现是rpc_press工具设置的问题, rpc_press工具默认thread_num=1, 在QPS比较高的情况下, 可能有队列堆积, 所以看到的平响会缓缓上升, 设置thread_num=50后, 经过一晚上压测, 没有发现问题.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335409636/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335789099","html_url":"https://github.com/apache/brpc/issues/69#issuecomment-335789099","issue_url":"https://api.github.com/repos/apache/brpc/issues/69","id":335789099,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTc4OTA5OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T12:10:52Z","updated_at":"2017-10-11T12:10:52Z","author_association":"CONTRIBUTOR","body":"这两件事情不在一个层级上，brpc在linux下使用的就是epoll。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335789099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335803777","html_url":"https://github.com/apache/brpc/issues/70#issuecomment-335803777","issue_url":"https://api.github.com/repos/apache/brpc/issues/70","id":335803777,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTgwMzc3Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T13:08:55Z","updated_at":"2017-10-11T13:08:55Z","author_association":"CONTRIBUTOR","body":"Are you using the latest version of brpc? [config_brpc.sh](https://github.com/brpc/brpc/blob/master/config_brpc.sh#L263) uses ldd to test if libtcmalloc depends on libunwind and only statically link libtcmlloc when libunwind.a and liblzma.a (required by libunwind) are present. The issue you met is just that the program tries to statically link libtcmalloc without the 2 libs.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335803777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335825447","html_url":"https://github.com/apache/brpc/issues/70#issuecomment-335825447","issue_url":"https://api.github.com/repos/apache/brpc/issues/70","id":335825447,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTgyNTQ0Nw==","user":{"login":"duanmeng","id":5107360,"node_id":"MDQ6VXNlcjUxMDczNjA=","avatar_url":"https://avatars.githubusercontent.com/u/5107360?v=4","gravatar_id":"","url":"https://api.github.com/users/duanmeng","html_url":"https://github.com/duanmeng","followers_url":"https://api.github.com/users/duanmeng/followers","following_url":"https://api.github.com/users/duanmeng/following{/other_user}","gists_url":"https://api.github.com/users/duanmeng/gists{/gist_id}","starred_url":"https://api.github.com/users/duanmeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duanmeng/subscriptions","organizations_url":"https://api.github.com/users/duanmeng/orgs","repos_url":"https://api.github.com/users/duanmeng/repos","events_url":"https://api.github.com/users/duanmeng/events{/privacy}","received_events_url":"https://api.github.com/users/duanmeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T14:17:10Z","updated_at":"2017-10-11T14:17:10Z","author_association":"NONE","body":"I use the latest version. It's my mistake not to include config.mk and install lzma, thanks a lot:)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/335825447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336010974","html_url":"https://github.com/apache/brpc/issues/69#issuecomment-336010974","issue_url":"https://api.github.com/repos/apache/brpc/issues/69","id":336010974,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjAxMDk3NA==","user":{"login":"E-HERO","id":15317336,"node_id":"MDQ6VXNlcjE1MzE3MzM2","avatar_url":"https://avatars.githubusercontent.com/u/15317336?v=4","gravatar_id":"","url":"https://api.github.com/users/E-HERO","html_url":"https://github.com/E-HERO","followers_url":"https://api.github.com/users/E-HERO/followers","following_url":"https://api.github.com/users/E-HERO/following{/other_user}","gists_url":"https://api.github.com/users/E-HERO/gists{/gist_id}","starred_url":"https://api.github.com/users/E-HERO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/E-HERO/subscriptions","organizations_url":"https://api.github.com/users/E-HERO/orgs","repos_url":"https://api.github.com/users/E-HERO/repos","events_url":"https://api.github.com/users/E-HERO/events{/privacy}","received_events_url":"https://api.github.com/users/E-HERO/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-12T03:30:27Z","updated_at":"2017-10-12T03:30:27Z","author_association":"NONE","body":"看一下baidu-rpc的源码就知道了，rpc就是用epoll来实现socket事件提醒的，在event_dispatcher里面","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336010974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336027794","html_url":"https://github.com/apache/brpc/issues/69#issuecomment-336027794","issue_url":"https://api.github.com/repos/apache/brpc/issues/69","id":336027794,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjAyNzc5NA==","user":{"login":"feng-y","id":1547384,"node_id":"MDQ6VXNlcjE1NDczODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1547384?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-y","html_url":"https://github.com/feng-y","followers_url":"https://api.github.com/users/feng-y/followers","following_url":"https://api.github.com/users/feng-y/following{/other_user}","gists_url":"https://api.github.com/users/feng-y/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-y/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-y/subscriptions","organizations_url":"https://api.github.com/users/feng-y/orgs","repos_url":"https://api.github.com/users/feng-y/repos","events_url":"https://api.github.com/users/feng-y/events{/privacy}","received_events_url":"https://api.github.com/users/feng-y/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-12T05:51:10Z","updated_at":"2017-10-12T05:51:10Z","author_association":"NONE","body":"可能没有说清楚，是想问现在使用了libev，想使用brpc，是想问brpc结合libev使用","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336027794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336196787","html_url":"https://github.com/apache/brpc/issues/69#issuecomment-336196787","issue_url":"https://api.github.com/repos/apache/brpc/issues/69","id":336196787,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjE5Njc4Nw==","user":{"login":"moxiami","id":12235818,"node_id":"MDQ6VXNlcjEyMjM1ODE4","avatar_url":"https://avatars.githubusercontent.com/u/12235818?v=4","gravatar_id":"","url":"https://api.github.com/users/moxiami","html_url":"https://github.com/moxiami","followers_url":"https://api.github.com/users/moxiami/followers","following_url":"https://api.github.com/users/moxiami/following{/other_user}","gists_url":"https://api.github.com/users/moxiami/gists{/gist_id}","starred_url":"https://api.github.com/users/moxiami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moxiami/subscriptions","organizations_url":"https://api.github.com/users/moxiami/orgs","repos_url":"https://api.github.com/users/moxiami/repos","events_url":"https://api.github.com/users/moxiami/events{/privacy}","received_events_url":"https://api.github.com/users/moxiami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-12T16:48:26Z","updated_at":"2017-10-12T16:48:26Z","author_association":"NONE","body":"重新写个channel","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336196787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336455916","html_url":"https://github.com/apache/brpc/issues/72#issuecomment-336455916","issue_url":"https://api.github.com/repos/apache/brpc/issues/72","id":336455916,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjQ1NTkxNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T13:42:20Z","updated_at":"2017-10-13T13:43:46Z","author_association":"CONTRIBUTOR","body":"The code is OK. The technique used here is to avoid calling pthread_once each time, and described in [this comment](https://github.com/brpc/brpc/blob/master/src/bthread/mutex.cpp#L364). You can comment the overridden pthread_mutex_lock/pthread_mutex_unlock to see if the crash is still there. \r\n\r\nTry to check lifetime of related objects as I see `yaraft::MemoryStorage::SetHardState (this=0x0...` in the bt.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/336455916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]