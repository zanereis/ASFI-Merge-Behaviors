[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656112956","html_url":"https://github.com/apache/accumulo/issues/3430#issuecomment-1656112956","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3430","id":1656112956,"node_id":"IC_kwDOACaFSM5itkc8","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T17:59:43Z","updated_at":"2023-07-28T17:59:43Z","author_association":"CONTRIBUTOR","body":"Closed by #3447","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656112956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656237480","html_url":"https://github.com/apache/accumulo/issues/3666#issuecomment-1656237480","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3666","id":1656237480,"node_id":"IC_kwDOACaFSM5iuC2o","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-28T19:49:09Z","updated_at":"2023-07-28T19:49:35Z","author_association":"CONTRIBUTOR","body":"Regarding the changes that were added to the ManagerClientServiceHandler in #3447 , I don't think that the TabletGroupWatcher waits for the full interval because an event is sent to the EventCoordinator [here](https://github.com/apache/accumulo/blob/elasticity/server/manager/src/main/java/org/apache/accumulo/manager/ManagerClientServiceHandler.java#L701).\r\n\r\n> Could the TGW be modified to only scan the new queue introduced in 3447 when its time period has not elapsed?\r\n\r\nI think it does *not* wait for the time period to elapse if the EventCoordinator is notified. Maybe we could make this more explicit by invoking the EventCoordinator in TabletStateStore.addTabletStateChange implementations. In that case I think you would want the opposite, where you don't scan the metadata unless the time has elapsed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1656237480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1657250149","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1657250149","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1657250149,"node_id":"IC_kwDOACaFSM5ix6Fl","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-30T19:42:25Z","updated_at":"2023-07-30T19:42:25Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I spent some time today just looking at how to update metadata to avoid chop compactions for deletions of ranges in tables (I'll look at getting rid of splits after that). I have some stuff locally where i was just doing a lot of testing to understand how things work. \r\n\r\nI ran into one thing that I got stuck on and haven't had time to figure out what's going on so was wondering if you might have some insight to save me some time. There is an IT for row deletion already called DeleteRowsIT and there is a test called [testManyRows](https://github.com/apache/accumulo/blob/4ec6dd2054d6a588dfc5a9a5f139d32799c90e83/test/src/main/java/org/apache/accumulo/test/functional/DeleteRowsIT.java#L83) and it hangs when chop compactions are disabled. If you run that test against this branch it hangs when scanning inside the testSplit() method when it its verifying the deleted rows and gets to the metadata. Here is the thread dump from the client where it's stuck:\r\n\r\n```\r\n\"junit-timeout-thread-3\" #35 prio=5 os_prio=0 cpu=200.01ms elapsed=7.10s tid=0x00007f509c51c800 nid=0x17f17 waiting on condition  [0x00007f506c1de000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat jdk.internal.misc.Unsafe.park(java.base@11.0.20/Native Method)\r\n\t- parking to wait for  <0x00000000fb469f88> (a java.util.concurrent.FutureTask)\r\n\tat java.util.concurrent.locks.LockSupport.park(java.base@11.0.20/LockSupport.java:194)\r\n\tat java.util.concurrent.FutureTask.awaitDone(java.base@11.0.20/FutureTask.java:447)\r\n\tat java.util.concurrent.FutureTask.get(java.base@11.0.20/FutureTask.java:190)\r\n\tat org.apache.accumulo.core.clientImpl.ScannerIterator.getNextBatch(ScannerIterator.java:179)\r\n\tat org.apache.accumulo.core.clientImpl.ScannerIterator.hasNext(ScannerIterator.java:111)\r\n\tat org.apache.accumulo.test.functional.DeleteRowsIT.testSplit(DeleteRowsIT.java:147)\r\n\tat org.apache.accumulo.test.functional.DeleteRowsIT.testManyRows(DeleteRowsIT.java:89)\r\n```\r\nWhat's interesting is there are no errors that I can see anywhere. I checked all the logs in the mini accumulo directory and there's no exceptions or anything in the Tablet server, Manager, etc logs so I'm not sure what's up. If you re-enable chop compactions by uncommenting out the code inside of `needsToBeChopped` in `MergeInfo` then everything is fine and the test passes using this branch. There is a comment in that method that says \"During a delete, the block after the merge will be stretched to cover the deleted area. Therefore, it needs to be chopped\" so I am wondering what exactly that means and if that's the issue here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1657250149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1657251738","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1657251738","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1657251738,"node_id":"IC_kwDOACaFSM5ix6ea","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-30T19:52:07Z","updated_at":"2023-07-30T19:52:07Z","author_association":"CONTRIBUTOR","body":"Also, after looking at things in detail it seems like the changes for avoid chop compactions for deletions are not trivial (delete doesn't seem to update metadata already like merges do) so code has to be written to add ranges for RFiles on delete and also we need to update ranges to avoid splits. \r\n\r\nSo instead of trying to do everything at once I am thinking maybe it's best to keep the scope here to just changing merges to avoid chop compactions and leave deletions alone (would still do chops and splits). Then we can have a follow on issue to tackle the deletion case next so that we can hopefully get rid of chop compaction code entirely and also remove the need to do splits on deletion for elasticity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1657251738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658608897","html_url":"https://github.com/apache/accumulo/issues/3668#issuecomment-1658608897","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3668","id":1658608897,"node_id":"IC_kwDOACaFSM5i3F0B","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T15:32:15Z","updated_at":"2023-07-31T15:32:15Z","author_association":"CONTRIBUTOR","body":"I would expect that this is certainly the case.  What is more interesting is that if the lock fails to be acquired or some failure occurs after updating the metadata but before the datafileSizes gets updated.  In that case the metadata will continually show to be different than the in-memory.  Is there additional error recovery that can be done to handle that situation?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658608897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658647765","html_url":"https://github.com/apache/accumulo/issues/3668#issuecomment-1658647765","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3668","id":1658647765,"node_id":"IC_kwDOACaFSM5i3PTV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T15:50:32Z","updated_at":"2023-07-31T15:50:32Z","author_association":"CONTRIBUTOR","body":"Any other thing that grabs the tablet lock, not just the call to `compareTabletInfo`, could hold up a bulk import and leave the tablet in a state where datafileSizes is out of sync with the tablet metadata. If the Thrift RPC that calls `importMapFiles` times out while waiting for the tablet lock, then this would be bad, right? I think we might want to update that metadata table inside the tablet lock.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658647765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658658651","html_url":"https://github.com/apache/accumulo/issues/3668#issuecomment-1658658651","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3668","id":1658658651,"node_id":"IC_kwDOACaFSM5i3R9b","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T15:54:59Z","updated_at":"2023-07-31T15:55:29Z","author_association":"CONTRIBUTOR","body":"> Does updating the tablet metadata outside of the tablet lock in importMapFiles make it more likely that the compareTabletInfo check would see a file in the tablet metadata but not in datafileSizes?\r\n\r\ncompareTabletInfo relies not on the tablet lock, but on counters [incremented here](https://github.com/apache/accumulo/blob/e4df61206245cd4b454debfeef2f62973cc4531b/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/DatafileManager.java#L246) and [incremented here](https://github.com/apache/accumulo/blob/e4df61206245cd4b454debfeef2f62973cc4531b/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/DatafileManager.java#L287).\r\n\r\ncompareTabletInfo does the following.\r\n\r\n 1. Get a copy of a tablets update counters\r\n 2. Read the tablets metadata\r\n 3. compare metadata read to what tablet has in memory\r\n 4. Get another copy of the tablets update counters\r\n 5. If the counters are exactly the same it knows its check did not overlap in time with an update.  If it did not overlap in time with an update and things differ then it logs an error message.\r\n\r\nThe counter increments must cover the in memory update update and metadata update.  There was a problem where the counter increments were not covering everything that was fixed in #3392. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658658651/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658704950","html_url":"https://github.com/apache/accumulo/issues/3668#issuecomment-1658704950","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3668","id":1658704950,"node_id":"IC_kwDOACaFSM5i3dQ2","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T16:13:15Z","updated_at":"2023-07-31T16:13:52Z","author_association":"CONTRIBUTOR","body":">  If the Thrift RPC that calls importMapFiles times out while waiting for the tablet lock, then this would be bad, right? I think we might want to update that metadata table inside the tablet lock.\r\n\r\nThe intention is to avoid any I/O while holding the tablet lock and only do non blocking things like update in memory data structs.  All scans get the tablet lock when they start to determine what files and in memory maps to use and also reserve those resources while holding the lock.  Anything that did I/O while holding the tablet lock would negatively impact scans.  While the intention is not do I/O while holding the tablet lock its hard to analyze the code and ensure this does not happen because code gets the lock and then calls functions.  Over time one of these functions calls could have I/O added.   A lot of code logs using log4j while holding the tablet lock, its possible log4j could block on I/O also.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1658704950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659058057","html_url":"https://github.com/apache/accumulo/issues/3486#issuecomment-1659058057","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3486","id":1659058057,"node_id":"IC_kwDOACaFSM5i4zeJ","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T20:07:11Z","updated_at":"2023-07-31T20:11:06Z","author_association":"MEMBER","body":"I am working on adding these tests and ran into something that I am a bit confused about and was hoping someone could help clear up for me.\r\n\r\nThe impl of `isPropertySet` in `DefaultConfiguration` just returns false:\r\nhttps://github.com/apache/accumulo/blob/4ec6dd2054d6a588dfc5a9a5f139d32799c90e83/core/src/main/java/org/apache/accumulo/core/conf/DefaultConfiguration.java#L63-L66\r\nIt is not evident to me why this is the case and seems odd that it returns false even when the property exists within the `Map<String,String>` of properties. This affects the behavior of other implementations as well, for example `SiteConfiguration.isPropertySet` which checks its `parent` config which is a `DefaultConfiguration` resulting in similar behavior as describes above in certain scenarios:\r\nhttps://github.com/apache/accumulo/blob/4ec6dd2054d6a588dfc5a9a5f139d32799c90e83/core/src/main/java/org/apache/accumulo/core/conf/SiteConfiguration.java#L248-L251\r\n\r\nWhy is `DefaultConfiguration.isPropertySet` implemented this way?\r\n\r\nEdit: To add some additional context, the `get` method returns the value for a `Property` that is set and then returns false on a call to `isPropertySet()` for that same `Property`. It seems to me that these two methods should be on the same page.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659058057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659082549","html_url":"https://github.com/apache/accumulo/pull/3671#issuecomment-1659082549","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3671","id":1659082549,"node_id":"IC_kwDOACaFSM5i45c1","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T20:21:20Z","updated_at":"2023-07-31T20:21:20Z","author_association":"CONTRIBUTOR","body":"I am not sure of the best way to to test this change. The only thing I could think of is manually modifying the code for one time test and adding some code that throws a run time exception.  These changes would likely not be exercised by any of the ITs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659082549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659121707","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1659121707","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1659121707,"node_id":"IC_kwDOACaFSM5i5DAr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T20:32:34Z","updated_at":"2023-07-31T20:32:34Z","author_association":"CONTRIBUTOR","body":"Pushing the delete range work off to its own PR seems like a good plan to me.  For something like this I usually open a follow on issue before closing the PR so that I don't forget about it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659121707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659135195","html_url":"https://github.com/apache/accumulo/issues/3486#issuecomment-1659135195","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3486","id":1659135195,"node_id":"IC_kwDOACaFSM5i5GTb","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T20:44:02Z","updated_at":"2023-07-31T20:44:02Z","author_association":"CONTRIBUTOR","body":"> Why is DefaultConfiguration.isPropertySet implemented this way?\r\n\r\nThe goal of the method is to determine if a user explicitly set a given property.  The reason DefaultConfiguration always returns false is that a user can not explicitly set a prop on it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659135195/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659213338","html_url":"https://github.com/apache/accumulo/issues/3666#issuecomment-1659213338","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3666","id":1659213338,"node_id":"IC_kwDOACaFSM5i5ZYa","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-31T21:40:21Z","updated_at":"2023-07-31T21:41:53Z","author_association":"CONTRIBUTOR","body":"The approach I am working on at the moment is making the event coordinator accept different types of events so that the TGW can respond accordingly.  Currently have the following events types.\r\n\r\n * ALL : an event that impacts all datalevels off accumulo.  Like a tserver dying.  This kind of event will make all the TGWs do a full scan.\r\n * DATALEVEL : An event that impacts an entire datalevel.  This happens when the TGW has made changes and wants to immediately run again.  This type of event will only make one TGW do a full scan.\r\n * TABLE: An even that impacts an entire table.  This happens after something like table creation.  Only one TGW will respond to this event and it may only scan the data for that table.\r\n * TABLE_RANGE : An event that impacts a range within a table.  This happens with things like compaction, split, and on demand hosting request. Only one TGW will respond to this event and it may only scan the data in a that range of the table.\r\n\r\nI am working to make the TGW have different behavior depending on the type events that have happened and the time since it last full scan.  So if a TABLE_RANGE event comes in and its only been a few seconds since the last full scan, then the TGW will just handle the tablets in that range and not do another full scan.\r\n\r\nWhen the TGW does do a full scan, still want the behavior introduced in #3447 where the more targeted events above (TABLE_RANGE and TABLE) are injected for immediate processing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1659213338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1660199610","html_url":"https://github.com/apache/accumulo/issues/3668#issuecomment-1660199610","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3668","id":1660199610,"node_id":"IC_kwDOACaFSM5i9KK6","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-01T12:18:24Z","updated_at":"2023-08-01T12:18:24Z","author_association":"CONTRIBUTOR","body":"Whatever the case is here, there will always be the possibility that the metadata may get updated but the in-memory data files will not.  In the case that I have witnessed, the metadata tablet was extremely busy.  The result was that the metadata got updated however the socket timed out on the client side and hence the client did not update the in-memory.  I am wondering if there is a way in which the tserver can remedy this situation when it is detected.  Alternatively, the metadata update is actually the trigger for the tserver to update its in-memory view.  Then maybe we can avoid this half-brain scenario.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1660199610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1660255178","html_url":"https://github.com/apache/accumulo/issues/3670#issuecomment-1660255178","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3670","id":1660255178,"node_id":"IC_kwDOACaFSM5i9XvK","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-01T12:54:16Z","updated_at":"2023-08-01T12:54:16Z","author_association":"CONTRIBUTOR","body":"Should this target an earlier branch? Maybe even a 2.1.x?  While it may be easier to implement for elasticity, if this is addressing a source of possible race conditions (so, a bug fix) or reduces the change of introducing errors, having this earlier would benefit users (and help us) until elasticity is adopted.  2.1.x is an LTM release, so we are going to need to support it for quite a while.\r\n\r\nThis may be more complicated for something targeting 2.1.2, but targeting a 2.1.3 and then merging forward seems that it could provide long-term improvements for this complicated code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1660255178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1660295719","html_url":"https://github.com/apache/accumulo/issues/3674#issuecomment-1660295719","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3674","id":1660295719,"node_id":"IC_kwDOACaFSM5i9hon","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-01T13:16:41Z","updated_at":"2023-08-01T13:16:41Z","author_association":"CONTRIBUTOR","body":"There are several table properties (classloader context, compaction service) that reference system-level properties. Validating that these table properties reference valid system-level properties will help alleviate some of these issues and provide a better user experience. A ClassNotFoundError being raised by a correctly configured classloader context would still cause this issue, but I'm not sure that we should try to fix that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1660295719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661422035","html_url":"https://github.com/apache/accumulo/pull/3672#issuecomment-1661422035","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3672","id":1661422035,"node_id":"IC_kwDOACaFSM5jB0nT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T03:09:31Z","updated_at":"2023-08-02T03:09:31Z","author_association":"MEMBER","body":"Forget my comment. This is trivial to merge... will just merge it to main using `-sours`. The main branch should stay the same as it is now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661422035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661431768","html_url":"https://github.com/apache/accumulo/issues/3674#issuecomment-1661431768","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3674","id":1661431768,"node_id":"IC_kwDOACaFSM5jB2_Y","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T03:24:29Z","updated_at":"2023-08-02T03:24:29Z","author_association":"MEMBER","body":"It would be nice to make the split abort if the minc can't complete successfully, so the tablet is not left in a bad state.\r\n\r\nI think that should be attempted, regardless of what additional things we do to try to validate the user configuration.\r\n\r\nI'm guessing this would have caused issues for a regular flush/minc or compaction/majc, as well, even if a split was not attempted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661431768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661435384","html_url":"https://github.com/apache/accumulo/issues/3625#issuecomment-1661435384","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3625","id":1661435384,"node_id":"IC_kwDOACaFSM5jB334","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T03:28:52Z","updated_at":"2023-08-02T03:28:52Z","author_association":"MEMBER","body":"This looks closed by #3634 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661435384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661442348","html_url":"https://github.com/apache/accumulo/issues/3590#issuecomment-1661442348","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3590","id":1661442348,"node_id":"IC_kwDOACaFSM5jB5ks","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T03:41:35Z","updated_at":"2023-08-02T03:41:35Z","author_association":"MEMBER","body":"It looks like this was fixed by #3603 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661442348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661718870","html_url":"https://github.com/apache/accumulo/issues/2872#issuecomment-1661718870","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2872","id":1661718870,"node_id":"IC_kwDOACaFSM5jC9FW","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T08:12:03Z","updated_at":"2023-08-02T08:12:03Z","author_association":"MEMBER","body":"In discussions on #3228, I've become aware that the term \"Volume aware\" isn't quite the right terminology for what is needed. What it needs to be is \"FileSystem aware\". Files need to be grouped by Hadoop FileSystem instances (not just FileSystem types), regardless of how they map to Accumulo Volume instances. The limitation on distcp is copying across Hadoop FileSystems. DistCp has no knowledge of, or concept of, Accumulo Volumes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661718870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661728151","html_url":"https://github.com/apache/accumulo/issues/3658#issuecomment-1661728151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3658","id":1661728151,"node_id":"IC_kwDOACaFSM5jC_WX","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T08:18:09Z","updated_at":"2023-08-02T08:18:09Z","author_association":"MEMBER","body":"> Java serialization is a bit iffy from a security perspective\r\n\r\nJava 17 records should be safer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661728151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661731731","html_url":"https://github.com/apache/accumulo/issues/3660#issuecomment-1661731731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3660","id":1661731731,"node_id":"IC_kwDOACaFSM5jDAOT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T08:20:38Z","updated_at":"2023-08-02T08:20:38Z","author_association":"MEMBER","body":"Changing the overall serialization should be done in a major release. If this ticket is targeting something more narrow for 2.1 only, that might be nice. But it still may be a lot of effort without much return, if we're going to change to a safer serialization strategy anyway after 2.1/3.0, which I'd love to do for 3.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661731731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661751469","html_url":"https://github.com/apache/accumulo/issues/3646#issuecomment-1661751469","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3646","id":1661751469,"node_id":"IC_kwDOACaFSM5jDFCt","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T08:34:08Z","updated_at":"2023-08-02T08:34:30Z","author_association":"MEMBER","body":"> > As a long running test, would this be more fitting to move to AccumuloTesting? Or do you think it should stay here?\r\n> \r\n> I think its nice to have as an IT that stresses a lot of functionality together that's always expected to work (that is why I added it as a sunny day test). So I think its nice to leave it here.\r\n\r\nI think the point of the sunny day test suite is that they test base functionality, and is something that gives us a quick \"yes\" or \"no\" on mergability for any particular patch or contribution. If one of those tests fails, it means Accumulo stopped doing basic things, like starting up, or communicating between server types. These are tests we expect a contributor to have not broken, and should be fast enough to run the whole batch of them on a modest developer hardware, like a contributor's personal laptop. I don't think we should be putting stress tests in there, or edge case coverage, or anything that is nondeterministic or flaky. Of those, I'd consider this test \"edge case coverage\", and don't think it warrants making sunny take longer to execute. But, I think it's fine to leave here, rather than move it to the testing repo.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661751469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661788938","html_url":"https://github.com/apache/accumulo/issues/3596#issuecomment-1661788938","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3596","id":1661788938,"node_id":"IC_kwDOACaFSM5jDOMK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T08:47:22Z","updated_at":"2023-08-02T08:47:22Z","author_association":"MEMBER","body":"While it may still have an effect, and could still be useful, I would like to point out that the reason the property exists was mainly to change the default assignment behavior to the `assignment` mode. Prior to this property existing, the default behavior was hard-coded in the `compaction` mode. The compaction mode itself was a best-effort to achieve data locality. It's not clear that the benefits were very substantial, though. Tablets can migrate around, and the location where data was most recently compacted may not even be the location where most of the tablet's data is stored. It's also possible that none of the user's data is local, even with the mode set to compaction... as that's dependent on very specific assumptions about HDFS behavior that may not hold (the assumption that there's a local copy made for each block replica). A lot of those assumptions fall through when you consider erasure coding instead of replication, data S3 instead of HDFS, differences in user configuration for replication, the fact that a data node might not even be running on the same node as the tserver, etc.\r\n\r\nI think this property could be removed if users have more metrics about where tablet files are being compacted, and could use that information to exercise fine-grained control over tablet assignments by some other means. Then again, in a world where most of Accumulo is offline and hosted only ondemand, I'm not sure it's really going to matter, because we're no longer going to care as much about balancing thrashing or churn on assignment locations due to rebooting a cluster.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661788938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661815769","html_url":"https://github.com/apache/accumulo/pull/3561#issuecomment-1661815769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3561","id":1661815769,"node_id":"IC_kwDOACaFSM5jDUvZ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T08:59:40Z","updated_at":"2023-08-02T08:59:40Z","author_association":"MEMBER","body":"> Here are some updated screenshots. Let me know if there are any other specific cases that you might want to see.\r\n\r\n@DomGarguilo Thanks for that. I personally like this, but @ivakegg said that it could go ignored if it was just a yellow dot in the rolled up version, because it's common for the Servers dot to be yellow due to some TServers being offline, rather than anything to do with the Manager. So, that's why I had proposed using a unique visual element that got rolled up when the Manager is in safe mode, so it's distinguishable from the common situation where it's merely yellow because a few tservers are offline. Yellow is still good to use, but instead of a dot, it could be a different icon.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661815769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661831042","html_url":"https://github.com/apache/accumulo/issues/3383#issuecomment-1661831042","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3383","id":1661831042,"node_id":"IC_kwDOACaFSM5jDYeC","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T09:09:32Z","updated_at":"2023-08-02T09:09:32Z","author_association":"MEMBER","body":"If I understand things correctly, the user initially set the old property. This got converted to the new property automatically. Now, they want to change the old property to a different value, but since the new property is set, the old property is ignored, in favor of the value in the new property. Is that correct?\r\n\r\nI think I like @EdColeman 's suggestion to auto-convert attempts to set the old property, and display a warning about the conversion, if there's a place that makes sense to do that with not a lot of code. I am also fine with doing nothing to the code and advising users to use the new properties only.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1661831042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1662071625","html_url":"https://github.com/apache/accumulo/issues/3674#issuecomment-1662071625","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3674","id":1662071625,"node_id":"IC_kwDOACaFSM5jETNJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T11:53:12Z","updated_at":"2023-08-02T11:53:48Z","author_association":"CONTRIBUTOR","body":"An invalid context name is going to wreck a lot of things. In any location where we load classes using the context classloader (scan, minc, majc, balancing, pluggable volume chooser, etc.) an invalid context name will cause an issue even loading classes from Accumulo jars because it can't get a classloader at all. Validating that the property is valid will go a long way to providing a better user experience, but I can look to see if we can wait for minc to complete earlier in the split code.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1662071625/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1662515620","html_url":"https://github.com/apache/accumulo/pull/3673#issuecomment-1662515620","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3673","id":1662515620,"node_id":"IC_kwDOACaFSM5jF_mk","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T16:16:37Z","updated_at":"2023-08-02T16:16:37Z","author_association":"CONTRIBUTOR","body":"Converted this PR to draft because I thought of a better way to do one aspect of this.  This PR is currently throwing away lookups done by the batch scanner sometimes when a queue is full.   May be able to avoid throwing this work away.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1662515620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1662773760","html_url":"https://github.com/apache/accumulo/issues/3486#issuecomment-1662773760","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3486","id":1662773760,"node_id":"IC_kwDOACaFSM5jG-oA","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T18:46:34Z","updated_at":"2023-08-02T18:46:34Z","author_association":"MEMBER","body":"> > Why is DefaultConfiguration.isPropertySet implemented this way?\r\n> \r\n> The goal of the method is to determine if a user explicitly set a given property. The reason DefaultConfiguration always returns false is that a user can not explicitly set a prop on it.\r\n\r\nThat makes sense. In #3676 I added some javadoc to `isPropertySet()` to explain this.\r\n\r\nOn another note, I am wondering (for what seems like the rest of the AccumuloConfiguration implementations) if the `isPropertySet()` and the `get()` method implementations should be more tightly coupled? Maybe the `isPropertySet()` checks the property against the return value of `get()` for null so that the two do not diverge accidentally at somepoint.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1662773760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1663097151","html_url":"https://github.com/apache/accumulo/issues/3486#issuecomment-1663097151","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3486","id":1663097151,"node_id":"IC_kwDOACaFSM5jINk_","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-02T23:34:51Z","updated_at":"2023-08-02T23:34:51Z","author_association":"MEMBER","body":"> Maybe the `isPropertySet()` checks the property against the return value of `get()` for null so that the two do not diverge accidentally at somepoint.\r\n\r\nThe point of `isPropertySet()` is completely independent of the null-ness of the return value of `get()`. There's no synchronicity between them to check. They are already divergent. Null or not null just means that's the current value. It says nothing about whether a user set that value or if that's the default. That's why `isPropertySet()` was created... to intentionally keep it independent from the value returned from `get()`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1663097151/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664229833","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1664229833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1664229833,"node_id":"IC_kwDOACaFSM5jMiHJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-03T15:49:19Z","updated_at":"2023-08-03T15:49:19Z","author_association":"CONTRIBUTOR","body":"Kicked off full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664229833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664243646","html_url":"https://github.com/apache/accumulo/issues/3668#issuecomment-1664243646","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3668","id":1664243646,"node_id":"IC_kwDOACaFSM5jMle-","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-03T15:58:38Z","updated_at":"2023-08-03T15:58:38Z","author_association":"CONTRIBUTOR","body":"I believe the issue here is an exception happening between line 265 and line 274. I think the simplest way to handle an exception here is to unload the tablet.\r\n\r\nhttps://github.com/apache/accumulo/blob/26a71d062702ad703f445ab144880c4c0e323c6e/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/DatafileManager.java#L248C10-L280","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664243646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664376454","html_url":"https://github.com/apache/accumulo/pull/3678#issuecomment-1664376454","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3678","id":1664376454,"node_id":"IC_kwDOACaFSM5jNF6G","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-03T17:38:12Z","updated_at":"2023-08-03T17:38:12Z","author_association":"CONTRIBUTOR","body":"SunnyDay ITs passed, going to kick off full IT build to see if there are tests where this causes a failure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664376454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664516280","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1664516280","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1664516280,"node_id":"IC_kwDOACaFSM5jNoC4","user":{"login":"dtspence","id":33552925,"node_id":"MDQ6VXNlcjMzNTUyOTI1","avatar_url":"https://avatars.githubusercontent.com/u/33552925?v=4","gravatar_id":"","url":"https://api.github.com/users/dtspence","html_url":"https://github.com/dtspence","followers_url":"https://api.github.com/users/dtspence/followers","following_url":"https://api.github.com/users/dtspence/following{/other_user}","gists_url":"https://api.github.com/users/dtspence/gists{/gist_id}","starred_url":"https://api.github.com/users/dtspence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtspence/subscriptions","organizations_url":"https://api.github.com/users/dtspence/orgs","repos_url":"https://api.github.com/users/dtspence/repos","events_url":"https://api.github.com/users/dtspence/events{/privacy}","received_events_url":"https://api.github.com/users/dtspence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-03T19:28:01Z","updated_at":"2023-08-03T19:28:01Z","author_association":"CONTRIBUTOR","body":"@dlmarion We believe we found a code path that produces a test timeout. It appeared to be related to a minc thread exiting due to not being able to obtain a mapfile (i.e. volume chooser seeing invalid context). The code-path in the integration test saw an error within the `MinorCompactor` and logged a retrying minc operation (possibly leaving minc thread active).\r\n\r\nThe calling path that causes the thread to end (i.e. context error w/volume-chooser) logged the tablets were unable to unload.\r\n\r\nThe logs report the following (w/minc thread exit path) when attempting to shutdown:\r\n```\r\n2023-08-03T16:03:32,503 [tserver.UnloadTabletHandler] INFO : Tablet unload for extent 1<< requested.\r\n2023-08-03T16:03:32,503 [tablet.Tablet] DEBUG: 1<< closeState OPEN tabletMemory.memoryReservedForMinC() true tabletMemory.getMemTable().getNumEntries() 0 updatingFlushID false\r\n2023-08-03T16:03:32,503 [tablet.Tablet] WARN : Unable to initiate minc for close on 1<<. Tablet might be closed or deleting.\r\n2023-08-03T16:03:32,503 [tserver.UnloadTabletHandler] ERROR: Failed to close tablet 1<<... Aborting migration\r\njava.lang.RuntimeException: Unable to initiate minc for close on 1<<. Tablet might be closed or deleting.\r\n        at org.apache.accumulo.tserver.tablet.Tablet.initiateClose(Tablet.java:925) ~[classes/:?]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.close(Tablet.java:898) ~[classes/:?]\r\n        at org.apache.accumulo.tserver.UnloadTabletHandler.run(UnloadTabletHandler.java:92) [classes/:?]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) [classes/:?]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) [classes/:?]\r\n        at java.lang.Thread.run(Thread.java:829) [?:?]\r\n```\r\n\r\nTo replicate, the following is needed as base configuration:\r\n\r\n```java\r\n    @Override\r\n    public void configureMiniCluster(MiniAccumuloConfigImpl cfg, Configuration coreSite) {\r\n      cfg.setNumTservers(1);\r\n      cfg.setProperty(\"general.volume.chooser\", \"org.apache.accumulo.core.spi.fs.DelegatingChooser\");\r\n      cfg.setProperty(\"general.custom.volume.chooser.default\",\r\n              \"org.apache.accumulo.core.spi.fs.PreferredVolumeChooser\");\r\n      cfg.setProperty(\"general.custom.volume.preferred.default\", \"file:/home/dtspen2/dev/git/dlmarion/accumulo/test/target/mini-tests/org.apache.accumulo.test.functional.HalfClosedTabletIT_SharedMiniClusterBase/accumulo\");\r\n    }\r\n```\r\n\r\nThen a `flush()` operation which caused the minc thread to end:\r\n```java\r\n      tops.setProperty(tableName, Property.TABLE_CLASSLOADER_CONTEXT.getKey(), \"invalid\");\r\n\r\n      tops.flush(tableName);\r\n\r\n      Thread.sleep(500);\r\n\r\n      // This should fail to split, but not leave the tablets in a state where they can't\r\n      // be unloaded\r\n      assertThrows(AccumuloServerException.class,\r\n          () -> tops.addSplits(tableName, Sets.newTreeSet(List.of(new Text(\"b\")))));\r\n\r\n      tops.removeProperty(tableName, Property.TABLE_CLASSLOADER_CONTEXT.getKey());\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664516280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664789927","html_url":"https://github.com/apache/accumulo/pull/3678#issuecomment-1664789927","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3678","id":1664789927,"node_id":"IC_kwDOACaFSM5jOq2n","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T00:16:56Z","updated_at":"2023-08-04T00:16:56Z","author_association":"CONTRIBUTOR","body":"I provided a PR against Dave's branch to add a test to ShellServerIT that shows that setting a system, namespace or table property with an invalid class-loader context value throws an AccumuloException. Also verified running this in uno.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1664789927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665439672","html_url":"https://github.com/apache/accumulo/pull/3678#issuecomment-1665439672","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3678","id":1665439672,"node_id":"IC_kwDOACaFSM5jRJe4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T11:11:21Z","updated_at":"2023-08-04T11:11:21Z","author_association":"CONTRIBUTOR","body":"Full IT build ran successfully. We must not be setting any invalid contexts in our tests. I am doing this in PR #3677 , so I'll have to try and figure out a replacement when this is merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665439672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665451614","html_url":"https://github.com/apache/accumulo/pull/3678#issuecomment-1665451614","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3678","id":1665451614,"node_id":"IC_kwDOACaFSM5jRMZe","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T11:21:58Z","updated_at":"2023-08-04T11:21:58Z","author_association":"CONTRIBUTOR","body":"Kicked off another full IT build. Probably not necessary, but...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665451614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665504458","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1665504458","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1665504458,"node_id":"IC_kwDOACaFSM5jRZTK","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T12:06:51Z","updated_at":"2023-08-04T12:06:51Z","author_association":"CONTRIBUTOR","body":"> Pushing the delete range work off to its own PR seems like a good plan to me. For something like this I usually open a follow on issue before closing the PR so that I don't forget about it.\r\n\r\nCreated: https://github.com/apache/accumulo/issues/3679","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665504458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665542495","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1665542495","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1665542495,"node_id":"IC_kwDOACaFSM5jRilf","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T12:38:31Z","updated_at":"2023-08-04T12:38:31Z","author_association":"CONTRIBUTOR","body":"I looked into this path where the minor compaction thread was dying because an invalid classloader context could not load the volume chooser to create the minor compaction output file.  The issue is more serious that what I initially thought, but thankfully the fix is easy.\r\n\r\nTLDR - A failed minor compaction thread might likely mean that subsequent minor compactions for a Tablet will **not** occur.  The fix is to catch `Exception` rather than `IOException` in `MinorCompactionTask` when creating the output file as in this scenario a `RuntimeException` is thrown.\r\n\r\n\r\nLonger analysis\r\n---\r\n\r\n`TableOperationsImpl.flush` calls `ManagerClientServiceHandler.initiateFlush` which increments\r\nthe value of the tables `ZTABLE_FLUSH_ID` node in ZooKeeper, and returns the new value. Then\r\n`TableOperationsImpl.flush` calls `ManagerClientServiceHandler.waitForFlush` passing in the flushId.\r\n`ManagerClientServiceHandler.waitForFlush` initially calls `TabletClientHandler.flush` on *every tablet server in the cluster*. If the client is not waiting for the flush to return then this returns and `TableOperationsImpl.flush` is done. If the client is waiting, then `ManagerClientServiceHandler` looks for tablets that are hosted or has walogs and whose flushId in the tablet metadata is less than the flushId returned from `initiateFlush`. Then `waitForFlush` continues to call `TabletClientHandler.flush` on the hosts that have tablets that meet this criteria for Long.MAX_VALUE iterations.\r\n\r\n`TabletClientHandler.flush` does nothing if the TabletServer does not have any tablets for the table. Otherwise it gets the current value of the tables `ZTABLE_FLUSH_ID`, which should be the same as the flushId returned at the beginning of this process. `Tablet.flush` is called on each of the Tablets for the Table on this TabletServer.\r\n\r\nIf the Tablet has no entries in memory, then the tablet metadata is updated with the flushId and the variable `lastFlushID` is set to the flushId. If `Tablet.flush()` was called again on this Tablet with the same flushID, then it would do nothing.\r\n\r\nIf the Tablet has entries in memory, then `Tablet.initiateMinorCompaction` is called, which may or may not create a MinorCompactionTask. If one is created, then it is executed in the minorCompactionThreadPool. `Tablet.initiateMinorCompaction` will not return a MinorCompactionTask if the tablet is closing, is closed, if there are no entries in memory, if there is another thread updating `lastFlushID`, or if the Tablets memory is already reserved for a minor compaction (meaning if one is already running).\r\n\r\nMinorCompactionTask when executed will create a new output file and call `TabletServer.minorCompactionStarted`, then it calls `Tablet.minorCompact()`. `Tablet.minorCompact` performs the minor compaction, then brings the minor compaction online by calling `DatafileManager.bringMinorCompactionOnline`, then calls `TabletMemory.finalizeMinC`. `DatafileManager.bringMinorCompactionOnline` sets `lastFlushID` and calls `Tablet.flushComplete` which sets `lastFlushID` and calls `TabletMemory.finishedMinC`.\r\n\r\nIf `TabletMemory.finalizeMinC` and `TabletMemory.finishedMinC` are not called, then it appears that the tablet memory is already reserved for a minor compaction and a subsequent minor compaction will *never* start. This appears to be what is happening when there is an invalid context on the table as the call to create a new output file returns a RuntimeException. Only IOExceptions are caught at this location and the Thread dies due to the uncaught exception.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665542495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665975287","html_url":"https://github.com/apache/accumulo/pull/3678#issuecomment-1665975287","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3678","id":1665975287,"node_id":"IC_kwDOACaFSM5jTMP3","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T17:48:07Z","updated_at":"2023-08-04T17:48:07Z","author_association":"CONTRIBUTOR","body":"Full IT passed successfully","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1665975287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1666177110","html_url":"https://github.com/apache/accumulo/issues/3658#issuecomment-1666177110","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3658","id":1666177110,"node_id":"IC_kwDOACaFSM5jT9hW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T21:02:27Z","updated_at":"2023-08-04T21:02:27Z","author_association":"CONTRIBUTOR","body":"I have been doing research trying to find a cross-language solution so that others can write task workers in other languages or frameworks. The problem that I'm finding is that I can't create a generic message type, but then enforce specific attribute values in certain cases.\r\n\r\nA Thrift example of this would be something like:\r\n```\r\nenum TaskMessageType {\r\n  COMPACTION_JOB_REQUEST,\r\n  COMPACTION_JOB_RESPONSE,\r\n  COMPACTION_STATUS_MSG,\r\n  COMPACTION_COMPLETED_MSG,\r\n  COMPACTION_FAILED_MSG\r\n  COMPACTIONS_COMPLETED_RESPONSE\r\n}\r\n\r\nstruct TaskMessage {\r\n  1:TaskMessageType messageType\r\n  1:binary serializedMessage\r\n}\r\n\r\nservice TaskManager {\r\n\r\n  TaskObject getTask(\r\n    1:client.TInfo tinfo\r\n    2:security.TCredentials credentials  \r\n    3:TaskMessage message\r\n    4:string taskID  \r\n  )\r\n\r\n  void taskCompleted(\r\n    1:client.TInfo tinfo\r\n    2:security.TCredentials credentials  \r\n    3:TaskMessage message\r\n  )\r\n\r\n  void taskFailed(\r\n    1:client.TInfo tinfo\r\n    2:security.TCredentials credentials  \r\n    3:TaskMessage message\r\n  )\r\n  \r\n}\r\n```\r\nWith this structure above, there is no way to enforce that when `taskCompleted` is called that the TaskMessageType is `COMPACTION_COMPLETED_MSG` in the TaskMessage. Even if we were to move the enum out of TaskMessage and add it as a field on `taskFailed`, there is no way to enforce that it has that value. In addition to Thrift, I looked at GRPC which uses ProtocolBuffers, and I don't see a way to do it there either. Obviously if we write the server component we can enforce the message type in the service method implementation. But if someone were to write a worker implementation in Go for example, it would not be clear to them from the Thrift IDL what message types are acceptable for the different service methods. My initial thought is to abandon the idea of supporting cross-language or user-supplied workers in any easy manner. I think that I can use a structure like this for the manager and worker implementations that we write. Thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1666177110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1666194054","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1666194054","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1666194054,"node_id":"IC_kwDOACaFSM5jUBqG","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-04T21:23:29Z","updated_at":"2023-08-04T21:23:29Z","author_association":"CONTRIBUTOR","body":"Latest commit adds some more tests to demonstrate split, delete, merge and then split and merge a second time to verify that files that have ranges already can be merged. I had to make some tweaks to make sure the proper ranges were carried forward if existing. Also I had to force push as I had to fix things after merging in the wrong branch but should be good now. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1666194054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1666443934","html_url":"https://github.com/apache/accumulo/issues/3658#issuecomment-1666443934","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3658","id":1666443934,"node_id":"IC_kwDOACaFSM5jU-qe","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-05T08:47:59Z","updated_at":"2023-08-05T08:47:59Z","author_association":"MEMBER","body":"> I have been doing research trying to find a cross-language solution so that others can write task workers in other languages or frameworks.\r\n\r\nInstead of trying to solve this at the RPC layer, it'd be better to just have a pluggable component, with an SPI. Users can plug in their own implementation, using whatever RPC they want for that. I don't think we need to provide a cross-language RPC for this. Cross-language RPC libraries seem to come with a lot of baggage and introduce a lot of complexity that we don't need to be tied to. Creating a pluggable SPI means the user can deploy as simple or as complex an implementation as they wish, and we just call the local interface. What it does after that is implementation details we don't need to be concerned with.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1666443934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1671887543","html_url":"https://github.com/apache/accumulo/pull/3680#issuecomment-1671887543","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3680","id":1671887543,"node_id":"IC_kwDOACaFSM5jpvq3","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-09T17:54:27Z","updated_at":"2023-08-09T17:54:27Z","author_association":"CONTRIBUTOR","body":"I ran a complete verify locally that passed.  Running as a GitHub action, the CloseScannerIT failed 3 times. Running in an IDE and locally, the test passes. Because the test can pass, it seems that this change is not related to using a deprecated property (that would require adding the --force flag) and causing the failure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1671887543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673518717","html_url":"https://github.com/apache/accumulo/issues/3503#issuecomment-1673518717","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3503","id":1673518717,"node_id":"IC_kwDOACaFSM5jv959","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-10T16:10:37Z","updated_at":"2023-08-10T16:10:37Z","author_association":"CONTRIBUTOR","body":"Closed by #3645 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673518717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673897991","html_url":"https://github.com/apache/accumulo/pull/3682#issuecomment-1673897991","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3682","id":1673897991,"node_id":"IC_kwDOACaFSM5jxagH","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-10T20:48:48Z","updated_at":"2023-08-10T20:48:48Z","author_association":"CONTRIBUTOR","body":"I opened #3683 as an alternative to this if we want to pursue a more targeted fix for the problem of the context not being verified at the time when its set.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673897991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673913303","html_url":"https://github.com/apache/accumulo/pull/3684#issuecomment-1673913303","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3684","id":1673913303,"node_id":"IC_kwDOACaFSM5jxePX","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-10T21:00:55Z","updated_at":"2023-08-10T21:00:55Z","author_association":"CONTRIBUTOR","body":"There is one usage in DeleteFormatter that is prompting y/n but seems to be following a different pattern was left alone for now and is *not* part of this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673913303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673928306","html_url":"https://github.com/apache/accumulo/pull/3683#issuecomment-1673928306","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3683","id":1673928306,"node_id":"IC_kwDOACaFSM5jxh5y","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-10T21:13:41Z","updated_at":"2023-08-10T21:13:41Z","author_association":"CONTRIBUTOR","body":"> These changes look okay - but I am lost were these fit into relation to the other, similar changes (https://github.com/apache/accumulo/pull/3682 in particular)\r\n\r\n@EdColeman  I added a comment on #3682 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1673928306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1674035784","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1674035784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1674035784,"node_id":"IC_kwDOACaFSM5jx8JI","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-10T23:09:11Z","updated_at":"2023-08-10T23:09:11Z","author_association":"CONTRIBUTOR","body":"#3685 moves the first minor compaction in tablet close to happen before any variables are set that begin the close process.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1674035784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1674097987","html_url":"https://github.com/apache/accumulo/pull/3684#issuecomment-1674097987","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3684","id":1674097987,"node_id":"IC_kwDOACaFSM5jyLVD","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T00:52:01Z","updated_at":"2023-08-11T00:52:01Z","author_association":"CONTRIBUTOR","body":"Set this a draft - there may be an issue in ShellIT - this should not be merged until that is resolved","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1674097987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675042680","html_url":"https://github.com/apache/accumulo/pull/3682#issuecomment-1675042680","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3682","id":1675042680,"node_id":"IC_kwDOACaFSM5j1x94","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T16:19:43Z","updated_at":"2023-08-11T16:19:43Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #3683 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675042680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675103178","html_url":"https://github.com/apache/accumulo/pull/3684#issuecomment-1675103178","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3684","id":1675103178,"node_id":"IC_kwDOACaFSM5j2AvK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T17:03:31Z","updated_at":"2023-08-11T17:03:31Z","author_association":"MEMBER","body":"> There is one usage in DeleteFormatter that is prompting y/n but seems to be following a different pattern was left alone for now and is _not_ part of this PR.\r\n\r\nI think the main thing about that one is that it catches EndOfFileException, which I think handles things like `Ctrl-C`, and aborts (like returning false). That could be baked into the behavior of the consolidated implementation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675103178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675142797","html_url":"https://github.com/apache/accumulo/pull/3683#issuecomment-1675142797","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3683","id":1675142797,"node_id":"IC_kwDOACaFSM5j2KaN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T17:31:14Z","updated_at":"2023-08-11T17:31:14Z","author_association":"CONTRIBUTOR","body":"I created two commits (a revert and then the changes) and pushed those to the 2.1 branch manually (can not do a fast forward merge in GH).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675142797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675257235","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1675257235","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1675257235,"node_id":"IC_kwDOACaFSM5j2mWT","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T19:21:34Z","updated_at":"2023-08-11T19:21:34Z","author_association":"CONTRIBUTOR","body":"I re-ran the tests after #3683 and #3685 were merged into 2.1. Everything appears to be working. However, it's possible that the tests could pass without the minor compactions failing. This could happen if, for example, the minor compaction kicks off before the tablet server gets the property update to set an invalid context. I verified via log inspection that failures were happening and that it recovered. It would be good in the future to add some metrics or something that can be checked in the test to confirm that failures do happen on the minc before the configuration is corrected.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675257235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675394663","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1675394663","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1675394663,"node_id":"IC_kwDOACaFSM5j3H5n","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T20:56:33Z","updated_at":"2023-08-11T20:56:33Z","author_association":"CONTRIBUTOR","body":"> It would be good in the future to add some metrics or something that can be checked in the test to confirm that failures do happen on the minc before the configuration is corrected.\r\n\r\nWondering if a metric that counts failed minor compactions would be useful.  Should normally be zero.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675394663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675396938","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1675396938","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1675396938,"node_id":"IC_kwDOACaFSM5j3IdK","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T20:59:18Z","updated_at":"2023-08-11T20:59:18Z","author_association":"CONTRIBUTOR","body":"> > It would be good in the future to add some metrics or something that can be checked in the test to confirm that failures do happen on the minc before the configuration is corrected.\r\n> \r\n> Wondering if a metric that counts failed minor compactions would be useful. Should normally be zero.\r\n\r\nYeah, that's what I'm thinking. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675396938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675400077","html_url":"https://github.com/apache/accumulo/pull/3677#issuecomment-1675400077","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3677","id":1675400077,"node_id":"IC_kwDOACaFSM5j3JON","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T21:03:12Z","updated_at":"2023-08-11T21:03:12Z","author_association":"CONTRIBUTOR","body":"> Yeah, that's what I'm thinking.\r\n\r\nOk, that is a good idea.  Are you going to open an issue?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675400077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675408576","html_url":"https://github.com/apache/accumulo/issues/3686#issuecomment-1675408576","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3686","id":1675408576,"node_id":"IC_kwDOACaFSM5j3LTA","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T21:13:50Z","updated_at":"2023-08-11T21:13:50Z","author_association":"CONTRIBUTOR","body":"A similar metric for major compaction failures would also be useful.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675408576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675414310","html_url":"https://github.com/apache/accumulo/issues/3674#issuecomment-1675414310","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3674","id":1675414310,"node_id":"IC_kwDOACaFSM5j3Msm","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-11T21:20:56Z","updated_at":"2023-08-11T21:20:56Z","author_association":"CONTRIBUTOR","body":"Closed by #3677","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1675414310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676213191","html_url":"https://github.com/apache/accumulo/pull/3684#issuecomment-1676213191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3684","id":1676213191,"node_id":"IC_kwDOACaFSM5j6PvH","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-13T03:56:03Z","updated_at":"2023-08-13T03:56:03Z","author_association":"CONTRIBUTOR","body":"> Set this a draft - there may be an issue in ShellIT - this should not be merged until that is resolved\r\n\r\nFound the issue in ShellIT was due to the forceOpt handling in the `ConfigCommand`\r\n\r\nIssue could be replicated by checking out [5ac8ac](https://github.com/apache/accumulo/pull/3684/commits/5ac8ac443afadc2466406012ad998db0bfcb091b) and running the following test\r\n```\r\nmvn clean verify -Dit.test=org.apache.accumulo.test.shell.ShellIT#configTest -Dtest=foo -Dspotbugs.skip\r\n```\r\n\r\nThis issue has been fixed in [ea20d0](https://github.com/apache/accumulo/pull/3684/commits/ea20d048d5c138dec77092a017e03bfd983aa5fd)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676213191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676411868","html_url":"https://github.com/apache/accumulo/pull/3687#issuecomment-1676411868","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3687","id":1676411868,"node_id":"IC_kwDOACaFSM5j7APc","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-13T16:55:16Z","updated_at":"2023-08-13T16:55:16Z","author_association":"CONTRIBUTOR","body":"I plan to go ahead and just merge this once the QA checks pass as I want to run a full IT build on #3640 and this is causing a failure","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676411868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676419604","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1676419604","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1676419604,"node_id":"IC_kwDOACaFSM5j7CIU","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-13T17:31:03Z","updated_at":"2023-08-13T17:31:03Z","author_association":"CONTRIBUTOR","body":"@keith-turner - This is probably ready for another review. It still needs more tests and probably some stuff needs to be cleaned up but I am curious what you think after the latest tweaks I made on Friday.\r\n\r\nI have been testing things against this PR today and on Friday and so far things are looking pretty good. I ran all the ITs that do merges and everything passes. I also modified ScanConsistencyIT (which does random flushes, compactions, merges, etc) to run for 15 minutes and there were no errors.\r\n\r\nI've also been running some tests using accumulo-testing and Uno. I just ran a test with continuous ingest where I created a table with 20 tablets and ingested about 50 million entries with no deletes (about 1.8 gigs of data). I then created 200 splits and I ran a merge on the table. Using main (so chop compactions were needed) it took ~50 seconds to complete the merge. Running the same test with my no-chop merge prototype and it took ~3 seconds. After I ran verify which completely successfully. So pretty cool to see the time drop so drastically for a merge and that difference will be even greater with more servers and data. Merge should also be even faster with Elasticity and offline tablets when not having to unload things.\r\n\r\nI just started a full IT to see what the results look like and will report back when it is finished.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676419604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676613461","html_url":"https://github.com/apache/accumulo/pull/3561#issuecomment-1676613461","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3561","id":1676613461,"node_id":"IC_kwDOACaFSM5j7xdV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T03:20:42Z","updated_at":"2023-08-14T03:20:42Z","author_association":"MEMBER","body":"@DomGarguilo I'm going to go ahead and include this in 2.1.2, because I think it gets us closer to what we want. But I will create a new issue for subsequent work to create a distinct visual indicator for the rollup when the manager's indicator is yellow vs. the tservers' being yellow, so you don't have to expand the menu to notice the manager is yellow.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676613461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676620970","html_url":"https://github.com/apache/accumulo/issues/3689#issuecomment-1676620970","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3689","id":1676620970,"node_id":"IC_kwDOACaFSM5j7zSq","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T03:34:37Z","updated_at":"2023-08-14T03:34:37Z","author_association":"MEMBER","body":"This should only be done in the main branch. It doesn't need to be done for earlier branches. It's also low-priority.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676620970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676633006","html_url":"https://github.com/apache/accumulo/issues/3485#issuecomment-1676633006","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3485","id":1676633006,"node_id":"IC_kwDOACaFSM5j72Ou","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T03:53:59Z","updated_at":"2023-08-14T03:55:21Z","author_association":"MEMBER","body":"The underlying issue should be fixed in 3.23.1 (in https://github.com/jline/jline3/pull/854), but JLine hasn't released that version yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676633006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676636237","html_url":"https://github.com/apache/accumulo/issues/3383#issuecomment-1676636237","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3383","id":1676636237,"node_id":"IC_kwDOACaFSM5j73BN","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T03:59:20Z","updated_at":"2023-08-14T03:59:20Z","author_association":"MEMBER","body":"I think this is probably sufficiently resolved by #3680 , but can be reopened if there's more to be done here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676636237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676642139","html_url":"https://github.com/apache/accumulo/pull/3561#issuecomment-1676642139","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3561","id":1676642139,"node_id":"IC_kwDOACaFSM5j74db","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T04:08:44Z","updated_at":"2023-08-14T04:08:44Z","author_association":"MEMBER","body":"Didn't realize the PR was against main before I merged this, so I needed to cherry-pick it to 2.1 to backport it, in commit 313238b5e8887f3e70809d920c1d359fc1b29010","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676642139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676833358","html_url":"https://github.com/apache/accumulo/pull/3362#issuecomment-1676833358","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3362","id":1676833358,"node_id":"IC_kwDOACaFSM5j8nJO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:42:40Z","updated_at":"2023-08-14T07:42:40Z","author_association":"MEMBER","body":"Backported to 2.1.2 as b59dfa9564da59a3e7dff79dd0220aae45af25bf","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676833358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676836433","html_url":"https://github.com/apache/accumulo/pull/3419#issuecomment-1676836433","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3419","id":1676836433,"node_id":"IC_kwDOACaFSM5j8n5R","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:45:07Z","updated_at":"2023-08-14T07:45:07Z","author_association":"MEMBER","body":"Backported to 2.1.2 as a07499e07adf1215b916d1e30b329acb7add1233","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676836433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676837434","html_url":"https://github.com/apache/accumulo/pull/3426#issuecomment-1676837434","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3426","id":1676837434,"node_id":"IC_kwDOACaFSM5j8oI6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:45:48Z","updated_at":"2023-08-14T07:45:48Z","author_association":"MEMBER","body":"Backported to 2.1.2 as 4f5d358dcc169d08a507e9f3637d336143d34623","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676837434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676841407","html_url":"https://github.com/apache/accumulo/pull/3457#issuecomment-1676841407","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3457","id":1676841407,"node_id":"IC_kwDOACaFSM5j8pG_","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:49:07Z","updated_at":"2023-08-14T07:49:07Z","author_association":"MEMBER","body":"Backport to 2.1.2 as 497d741f7acdbfb5e6431214063308e87c7d2df5","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676841407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676842522","html_url":"https://github.com/apache/accumulo/pull/3498#issuecomment-1676842522","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3498","id":1676842522,"node_id":"IC_kwDOACaFSM5j8pYa","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:50:04Z","updated_at":"2023-08-14T07:50:04Z","author_association":"MEMBER","body":"Applied to 2.1.2 as c1ed35411bcdcc56c451a5275a87b32cf60be5b3","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676842522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676843629","html_url":"https://github.com/apache/accumulo/pull/3497#issuecomment-1676843629","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3497","id":1676843629,"node_id":"IC_kwDOACaFSM5j8ppt","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:50:50Z","updated_at":"2023-08-14T07:50:50Z","author_association":"MEMBER","body":"Applied to 2.1.2 as c6024b2b62e54f743711b0a8a7d2a5d56362c11b","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676843629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676848335","html_url":"https://github.com/apache/accumulo/pull/3550#issuecomment-1676848335","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3550","id":1676848335,"node_id":"IC_kwDOACaFSM5j8qzP","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:54:05Z","updated_at":"2023-08-14T07:54:05Z","author_association":"MEMBER","body":"Applied to 2.1.2 as 9e8b59caa131ec3d5f6443665801aa0d3030e093 in prep for 2.1.2-rc1, as this includes a lot of build quality fixes and a few CVE fixes in our dependencies.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676848335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676851606","html_url":"https://github.com/apache/accumulo/issues/3690#issuecomment-1676851606","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3690","id":1676851606,"node_id":"IC_kwDOACaFSM5j8rmW","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T07:56:12Z","updated_at":"2023-08-14T07:56:12Z","author_association":"MEMBER","body":"Done in c38c10fec1e44b840650b8a7b31f60b428b96d3e","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676851606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676896659","html_url":"https://github.com/apache/accumulo/issues/3098#issuecomment-1676896659","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3098","id":1676896659,"node_id":"IC_kwDOACaFSM5j82mT","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T08:22:39Z","updated_at":"2023-08-14T08:22:39Z","author_association":"MEMBER","body":"This was done with #3160","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1676896659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677154880","html_url":"https://github.com/apache/accumulo/pull/3640#issuecomment-1677154880","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3640","id":1677154880,"node_id":"IC_kwDOACaFSM5j91pA","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T11:32:35Z","updated_at":"2023-08-14T11:32:35Z","author_association":"CONTRIBUTOR","body":"Full IT build ran and passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677154880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677262133","html_url":"https://github.com/apache/accumulo/pull/3550#issuecomment-1677262133","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3550","id":1677262133,"node_id":"IC_kwDOACaFSM5j-P01","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T12:54:07Z","updated_at":"2023-08-14T12:54:07Z","author_association":"CONTRIBUTOR","body":"Looks like this finds an issue in one of the tests, so the `errorprone` profile fails to build successfully.\r\n\r\n```\r\ntest/src/main/java/org/apache/accumulo/test/mapreduce/AccumuloInputFormatIT.java:[193,9] [UseCorrectAssertInTests] Java assert is used in testing code. For testing purposes, prefer using Truth-based assertions.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677262133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677274324","html_url":"https://github.com/apache/accumulo/pull/3692#issuecomment-1677274324","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3692","id":1677274324,"node_id":"IC_kwDOACaFSM5j-SzU","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T13:01:48Z","updated_at":"2023-08-14T13:01:48Z","author_association":"CONTRIBUTOR","body":"The backport of #3550 into the 2.1 branch for the 2.1.2 release found an issue in AccumuloInputFormatIT.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677274324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677418041","html_url":"https://github.com/apache/accumulo/pull/3692#issuecomment-1677418041","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3692","id":1677418041,"node_id":"IC_kwDOACaFSM5j-145","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T14:23:06Z","updated_at":"2023-08-14T14:23:06Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #3691, I didn't realize that this file was fixed in that PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677418041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677654713","html_url":"https://github.com/apache/accumulo/pull/3561#issuecomment-1677654713","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3561","id":1677654713,"node_id":"IC_kwDOACaFSM5j_vq5","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T16:23:12Z","updated_at":"2023-08-14T16:23:12Z","author_association":"MEMBER","body":"> @DomGarguilo I'm going to go ahead and include this in 2.1.2, because I think it gets us closer to what we want. But I will create a new issue for subsequent work to create a distinct visual indicator for the rollup when the manager's indicator is yellow vs. the tservers' being yellow, so you don't have to expand the menu to notice the manager is yellow.\r\n\r\nOkay sounds good. I'm working on some changes on this branch to get a different icon to display for when the manager is in a non-normal state. It's taking longer than I originally thought it would but I'm getting closer and will make a new PR when its ready.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677654713/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677798255","html_url":"https://github.com/apache/accumulo/pull/3561#issuecomment-1677798255","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3561","id":1677798255,"node_id":"IC_kwDOACaFSM5kAStv","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T17:42:43Z","updated_at":"2023-08-14T17:42:43Z","author_association":"MEMBER","body":"The follow-on ticket is #3688","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677798255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677802495","html_url":"https://github.com/apache/accumulo/pull/3550#issuecomment-1677802495","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3550","id":1677802495,"node_id":"IC_kwDOACaFSM5kATv_","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-14T17:45:49Z","updated_at":"2023-08-14T17:45:49Z","author_association":"MEMBER","body":"> Looks like this finds an issue in one of the tests, so the `errorprone` profile fails to build successfully.\r\n\r\nYep, already fixed in #3691, a few hours before this comment.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1677802495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679327784","html_url":"https://github.com/apache/accumulo/issues/3648#issuecomment-1679327784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3648","id":1679327784,"node_id":"IC_kwDOACaFSM5kGIIo","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T17:24:04Z","updated_at":"2023-08-15T17:24:04Z","author_association":"CONTRIBUTOR","body":"This ticket complements #3693","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679327784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679346270","html_url":"https://github.com/apache/accumulo/issues/3695#issuecomment-1679346270","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3695","id":1679346270,"node_id":"IC_kwDOACaFSM5kGMpe","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T17:40:19Z","updated_at":"2023-08-15T17:40:19Z","author_association":"CONTRIBUTOR","body":"This ticket is a sub-task for #3694","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679346270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679350820","html_url":"https://github.com/apache/accumulo/issues/3694#issuecomment-1679350820","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3694","id":1679350820,"node_id":"IC_kwDOACaFSM5kGNwk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T17:44:50Z","updated_at":"2023-08-15T17:49:15Z","author_association":"CONTRIBUTOR","body":"So many questions:\r\n\r\nYou are saying that HDFS is returning a zero byte file block and the RFile Reader does not fail?\r\nDoes the DataNode log any error in this case?\r\nWhat does `fsck` say about the file?\r\nIs this a transient issue?\r\nAre other copies of the block correct?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679350820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679407074","html_url":"https://github.com/apache/accumulo/issues/3694#issuecomment-1679407074","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3694","id":1679407074,"node_id":"IC_kwDOACaFSM5kGbfi","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T18:29:15Z","updated_at":"2023-08-15T18:29:41Z","author_association":"CONTRIBUTOR","body":"> You are saying that HDFS is returning a zero byte file block and the RFile Reader does not fail?\r\n\r\nThe RFile Reader does not fail and the HDFS contents are currently speculated to be empty.\r\nDmesg reports IO errors for the disk that hosted the rfile block.\r\n\r\n>Does the DataNode log any error in this case?\r\n\r\nThe DataNode log does report `Slow flushOrSync` operations for the drive that contained the requested rfile block.\r\n\r\n> What does fsck say about the file?\r\n\r\nCurrently unknown\r\n\r\n> Is this a transient issue?\r\n\r\nYes, on subsequent reads, the rfile contents are returned correctly.\r\n\r\n> Are other copies of the block correct?\r\n\r\nUnknown, but is speculated that HDFS did not attempt to query the other block locations. \r\n\r\n--- \r\nThis issue is an attempt to chase down a transient bug with the AccumuloGC. \r\nFor this situation, the metadata table is separated into different locality groups  `groupA: loc,~tab`, `groupB: file,log,srv,future`. \r\n\r\nThe tserver that hosted the groupB locality group reported disk errors.\r\n\r\nThe AccumuloGC queried the metadata table to find file references for deletion candidates.\r\nThe metadata table scan returned `~tab:~pr` entries but failed to return any `srv` or `file` entries.\r\n\r\nBecause of this, the GC concluded that no file references existed for a collection of deletion candidates and then removed files from HDFS that had valid references on the metadata table. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679407074/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679577930","html_url":"https://github.com/apache/accumulo/issues/3696#issuecomment-1679577930","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3696","id":1679577930,"node_id":"IC_kwDOACaFSM5kHFNK","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T20:38:13Z","updated_at":"2023-08-15T20:44:42Z","author_association":"CONTRIBUTOR","body":"This is the [code](https://github.com/apache/accumulo/blob/57903f4636197202489f057fdbd0e2bb8f99a2f1/server/gc/src/main/java/org/apache/accumulo/gc/GCRun.java#L167) that currently ignores null dir columns.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679577930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679580795","html_url":"https://github.com/apache/accumulo/issues/3695#issuecomment-1679580795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3695","id":1679580795,"node_id":"IC_kwDOACaFSM5kHF57","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T20:40:13Z","updated_at":"2023-08-15T20:40:13Z","author_association":"MEMBER","body":"@keith-turner suggested possibly using our own test FileSystem implementation that throws exceptions as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679580795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679585813","html_url":"https://github.com/apache/accumulo/issues/3696#issuecomment-1679585813","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3696","id":1679585813,"node_id":"IC_kwDOACaFSM5kHHIV","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-15T20:43:59Z","updated_at":"2023-08-15T20:43:59Z","author_association":"CONTRIBUTOR","body":"The 1.10 code is different, it checks the dir [here](https://github.com/apache/accumulo/blob/3cc35be0379068e51a0ba3ac709b726f43ab392f/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectionAlgorithm.java#L203).  It seems like the 1.10 code would also not complain if the dir column was absent.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1679585813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1680203415","html_url":"https://github.com/apache/accumulo/issues/3694#issuecomment-1680203415","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3694","id":1680203415,"node_id":"IC_kwDOACaFSM5kJd6X","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T08:42:55Z","updated_at":"2023-08-16T08:42:55Z","author_association":"MEMBER","body":"> The AccumuloGC queried the metadata table to find file references for deletion candidates. The metadata table scan returned `~tab:~pr` entries but failed to return any `srv` or `file` entries.\r\n> \r\n> Because of this, the GC concluded that no file references existed for a collection of deletion candidates and then removed files from HDFS that had valid references on the metadata table.\r\n\r\nThis implies that one measure to try to prevent this from happening again could be to remove the locality groups in the metadata, so the file entries are in the same locality group as the file entries. However, this comes with its own problems: First, you'd have to force a full major compaction on the metadata table to force this to take effect (and that could be costly... and the IO could stress whatever underlying filesystem or disk errors are causing the problem in the first place). Second, this could cause slower metadata performance. Third, there may still be weird behavior where file entries and prev row entries are in different RFile blocks or different HDFS blocks, and there could still be hidden errors when one block is read and not when the other is read... it's not clear to me how that would actually manifest itself, though (because it's not clear to me why HDFS errors are failing to propagate up into our code to begin with).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1680203415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1680923726","html_url":"https://github.com/apache/accumulo/issues/3697#issuecomment-1680923726","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3697","id":1680923726,"node_id":"IC_kwDOACaFSM5kMNxO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T16:30:58Z","updated_at":"2023-08-16T16:30:58Z","author_association":"MEMBER","body":"This may be intended. It is hard for me to remember exactly the reason for making this a scalar, but I think it's related to the fact that it's not possible to export an array in bash.\r\n\r\nThe workaround (and perhaps the intended behavior) is for the user to write their own prefix command that incorporates all the flags and options they need, and executes with `\"$@\"`.\r\n\r\nSo, for example, instead of doing `ACCUMULO_JAVA_PREFIX=\"numactl --all\"`, you could instead do `ACCUMULO_JAVA_PREFIX=\"mynumactl.sh\"` and the contents of `mynumactl.sh` would be `numactl --all \"$@\"`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1680923726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1680928801","html_url":"https://github.com/apache/accumulo/issues/3697#issuecomment-1680928801","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3697","id":1680928801,"node_id":"IC_kwDOACaFSM5kMPAh","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T16:34:47Z","updated_at":"2023-08-16T16:34:47Z","author_association":"MEMBER","body":"I will continue to look into this to see if there's something we should do to change this, so you can use an array. But there are trade-offs here that make no option perfect. If we use an array, you can't export it, and if you unintentionally set a scalar when we expect an array, we might not parse it correctly. If we expect a scalar and split it on IFS, then that could be a huge problem for quoting, requiring a bunch of convoluted quoting escapes, and assumptions about how the args are flattened when our script uses the environment variable. There's a good chance that the best option is to leave it as-is, and interpret it as a single scalar, requiring users to put multiple arguments into a script as suggested above.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1680928801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681012629","html_url":"https://github.com/apache/accumulo/issues/3700#issuecomment-1681012629","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3700","id":1681012629,"node_id":"IC_kwDOACaFSM5kMjeV","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T17:29:46Z","updated_at":"2023-08-16T17:29:46Z","author_association":"CONTRIBUTOR","body":"Can #2729 be closed in favor of this issue?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681012629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681175806","html_url":"https://github.com/apache/accumulo/issues/3697#issuecomment-1681175806","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3697","id":1681175806,"node_id":"IC_kwDOACaFSM5kNLT-","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T19:42:00Z","updated_at":"2023-08-16T19:52:03Z","author_association":"MEMBER","body":"As it turns out, you can jump through hoops to effectively export an array variable, but it's not pretty (note: this still won't work without the patch in #3701, and the workaround above is still needed. I only mention this here because it provides a means to demonstrate that users can do some wild things and set these variables to things we don't expect, so we want to try to take that into account):\r\n\r\n```bash\r\nBASH_ENV=<(echo \"declare -a ACCUMULO_JAVA_PREFIX='(numactl --all)'\") bin/accumulo\r\n```\r\n\r\nIf you set the variable as an array in the environment, but then try to set it as a scalar in the script, then the scalar will only override the first item in the array. This can result in some confusing behavior. I added a sensible check with `declare -p` in my PR #3701 to fix this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681175806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681180056","html_url":"https://github.com/apache/accumulo/issues/3700#issuecomment-1681180056","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3700","id":1681180056,"node_id":"IC_kwDOACaFSM5kNMWY","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T19:45:47Z","updated_at":"2023-08-16T19:45:47Z","author_association":"MEMBER","body":"> Can #2729 be closed in favor of this issue?\r\n\r\nApparently I accidentally created a duplicate. I'll close this one. It's the same issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681180056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681181086","html_url":"https://github.com/apache/accumulo/issues/2729#issuecomment-1681181086","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2729","id":1681181086,"node_id":"IC_kwDOACaFSM5kNMme","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T19:46:41Z","updated_at":"2023-08-16T19:46:41Z","author_association":"MEMBER","body":"#3700 was created as a duplicate, and expands on a few details, but is otherwise is suggesting the identical solution.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681181086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681183574","html_url":"https://github.com/apache/accumulo/issues/2729#issuecomment-1681183574","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2729","id":1681183574,"node_id":"IC_kwDOACaFSM5kNNNW","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T19:49:00Z","updated_at":"2023-08-16T19:49:00Z","author_association":"MEMBER","body":"I don't know if it's true, but some documentation I read indicated that a simple copy in the HDFS on the same filesystem is essentially a hard link already. I don't know if we can rely on that, though, because some FileSystem implementations may do IO. If there's an API specific to using hard links, that would be safer to use than to rely on a particular copy behavior.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681183574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681270679","html_url":"https://github.com/apache/accumulo/pull/3702#issuecomment-1681270679","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3702","id":1681270679,"node_id":"IC_kwDOACaFSM5kNieX","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-16T21:05:28Z","updated_at":"2023-08-16T21:05:28Z","author_association":"MEMBER","body":"These changes are trivial. I'm just putting them up here to make sure the build and full ITs still work fine. That weird minicluster properties file was not referenced anywhere, but maybe an IT used it indirectly... I don't think so, but I'll run the full ITs and check back tomorrow before merging this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1681270679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]