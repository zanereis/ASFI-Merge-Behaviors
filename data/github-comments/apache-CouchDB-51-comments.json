[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407286867","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407286867","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407286867,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzI4Njg2Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T05:36:54Z","updated_at":"2018-07-24T05:37:32Z","author_association":"MEMBER","body":"@janl you asked about my process for creating release notes - I wrote it up - maybe this will help you:\r\n\r\n-----------\r\n\r\nGet a list of things to care about:\r\n`git show-branch --sha1-name master X.X.X|more`\r\n* use this to find common ancestor (very last thing in the output)\r\n* use this to make sure everything on X.X.X has been pulled fwd to master\r\n* use this to eliminate anything that \"looks the same\" on X.X.X branch and master\r\n    * cannot use sha-1s because they will be different on each branch\r\n    * research if there is a way to auto-eliminate cherry picked stuff?\r\n\r\nFor each remaining commit on master:\r\n1. use GH web UI to find the commit's related PRs or issues and write up\r\n   something nice\r\n1. sort by GH issue/PR number\r\n1. any issues that merge without a useful GH/PR number should go either at the\r\n   very top or bottom of the list, depending on importance of issue\r\n1. do not explicitly list out things like Jenkins/Travis/rebar.config changes\r\n   unless they are significant in some fashion\r\n\r\nNow do the same thing as above, but for documentation and fauxton. Pull out only\r\nthe big-ticket items.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407286867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407373671","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407373671","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407373671,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzM3MzY3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T11:30:46Z","updated_at":"2018-07-24T11:30:46Z","author_association":"MEMBER","body":"Ready to go - just bumping the docs dependency now, then I'll make the 2.2.x branch.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407373671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407402234","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407402234","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407402234,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzQwMjIzNA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T13:15:38Z","updated_at":"2018-07-24T13:15:38Z","author_association":"MEMBER","body":"@jvegaseg we can't help if you don't answer our questions :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407402234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407424409","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407424409","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407424409,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzQyNDQwOQ==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T14:21:54Z","updated_at":"2018-07-24T14:21:54Z","author_association":"NONE","body":"Sorry @janl but I have no answer for your question because I am compacting nothing. I would expect from couchdb \"be relaxed\" and not having to do maintenance tasks.\r\n\r\nIt has no sense a new replication having more data than needed, it is a waste of resources, performance and time to complete.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407424409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407469173","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-407469173","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":407469173,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzQ2OTE3Mw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T16:30:07Z","updated_at":"2018-07-24T16:30:07Z","author_association":"MEMBER","body":"Up to you whether you want to keep it open or closed. We can always re-open later if you get more time for perf testing as well. Also agree that I would have expected a much starker difference which suggests we're either missing something (like maybe that timeout you found) or there's some other bottleneck that prevents this from having a noticeable effect. Doesn't mean we don't want to pursue this, just that we need to investigate more to figure out what's up before we can merge it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407469173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407529211","html_url":"https://github.com/apache/couchdb/pull/1406#issuecomment-407529211","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1406","id":407529211,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzUyOTIxMQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T19:47:13Z","updated_at":"2018-07-24T19:47:13Z","author_association":"CONTRIBUTOR","body":"> wohali: meaning that the Debian version of elixir isn't compatible with the newer packaged versions of Erlang from erlang-solutions.\r\n\r\n@wohali an attempt to solve this issue is in https://github.com/apache/couchdb/pull/1466. Unfortunately windows side of things most likely doesn't work and need some love. I might get to it, but cannot promise.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407529211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407531273","html_url":"https://github.com/apache/couchdb/pull/1466#issuecomment-407531273","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1466","id":407531273,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzUzMTI3Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T19:54:35Z","updated_at":"2018-07-24T19:54:35Z","author_association":"MEMBER","body":"@iilyak -1, I'd rather see this land in https://github.com/apache/couchdb-ci, where we already have scripts to install dependencies, and reference this in `README-DEV.rst`.\r\n\r\nJust port this over to the framework (there it's amazingly simple!) into a new binary like `bin/install-elixir.sh`. This will help us get a leg up on the CI process as well, and won't pollute our main repo with helper stuff (a decision we took a while back to get as much of that out of the main couchdb repo as possible).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407531273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407537016","html_url":"https://github.com/apache/couchdb/pull/1466#issuecomment-407537016","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1466","id":407537016,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzUzNzAxNg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T20:14:30Z","updated_at":"2018-07-24T20:14:30Z","author_association":"CONTRIBUTOR","body":"> @iilyak -1, I'd rather see this land in https://github.com/apache/couchdb-ci, where we already have scripts to install dependencies, and reference this in README-DEV.rst.\r\n\r\nI see your point about minimizing the amount of code in main repository.\r\nThe question is what we would do when all JS tests are ported over? How we would integrate it into `make check`? \r\n\r\nI worked under the assumption that it is not OK to ask developers to install two versions of Erlang manually. Also as you pointed out debian has outdated version of Elixir. \r\n\r\nI am sure there are better ways to do it. Any feedback is welcome. I am happy to move this into https://github.com/apache/couchdb-ci if we wouldn't find a better solution.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407537016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407539679","html_url":"https://github.com/apache/couchdb/pull/1466#issuecomment-407539679","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1466","id":407539679,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzUzOTY3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T20:23:29Z","updated_at":"2018-07-24T20:23:29Z","author_association":"MEMBER","body":"I do think that having to have two versions of Erlang is probably too much trouble, agreed, even if we do it with `kerl` (something I'm trying to avoid assiduously in the couchdbdev Docker images, since it bloats the image size considerably).\r\n\r\nIf we need to insist on a newer version of Erlang, so be it. Debian `stretch` now ships with 19.2, is that new enough? There's been multiple discussions on IRC and the mailing lists now about bumping up past our current minimum of 17.0, and we just dropped R16 support. 2.3.0 development can almost certainly go to 19.0 as a minimum, is that sufficient?\r\n\r\nWe don't currently make it easy for people to install the right version of libicu or libmozjs185 directly from scripts/makefiles in the main repo anyway, and without those, `make check` will fail too...so this isn't a regression at least.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407539679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407543937","html_url":"https://github.com/apache/couchdb/pull/1466#issuecomment-407543937","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1466","id":407543937,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU0MzkzNw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T20:38:09Z","updated_at":"2018-07-24T20:38:09Z","author_association":"CONTRIBUTOR","body":"> If we need to insist on a newer version of Erlang, so be it. \r\n\r\nThat would be great from developers perspective. However it might affect existent users. \r\n\r\n> From elixir home page\r\n\r\nElixir v1.6 requires Erlang 19.0 or later. \r\n\r\nAlthough exact version we would want to bump our requirements needs some thought and discussion in ML:\r\n- 20.0 is first erlang version which supports FIPS complaint build dependencies\r\n- 20.x Dirty schedulers enabled by default\r\n- 20.x Performance improvements in ets tables\r\n- 20.x ets:select_replace/2 which performs atomic \"compare-and-swap\" operations for ETS objects","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407543937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407571805","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407571805","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407571805,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU3MTgwNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T22:24:27Z","updated_at":"2018-07-24T22:24:27Z","author_association":"MEMBER","body":"https://github.com/apache/couchdb/releases/tag/2.2.0-RC1\r\n\r\npushing to SVN now then emailing the list","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407571805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407575066","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407575066","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407575066,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU3NTA2Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T22:40:08Z","updated_at":"2018-07-24T22:40:08Z","author_association":"MEMBER","body":"done\r\n\r\n> Dear community,\r\n> \r\n> I would like to release Apache CouchDB 2.2.0-RC1.\r\n> \r\n> Changes since last round:\r\n> \r\n>  * https://github.com/apache/couchdb/compare/2.1.2...2.2.0-RC1\r\n> \r\n> Release notes:\r\n> \r\n>  * http://docs.couchdb.org/en/latest/whatsnew/2.2.html\r\n> \r\n> This is a big release, so your attention to detail is very much appreciated.\r\n> \r\n> We encourage the whole community to download and test these release artefacts so that any critical issues can be resolved before the release is made. Everyone is free to vote on this release, so dig right in!\r\n> \r\n> The release artefacts we are voting on are available here:\r\n> \r\n>     https://dist.apache.org/repos/dist/dev/couchdb/source/2.2.0/rc.1/\r\n> \r\n> There, you will find a tarball, a GPG signature, and SHA256/SHA512 checksums.\r\n> \r\n> Please follow the test procedure here:\r\n> \r\n>     https://cwiki.apache.org/confluence/display/COUCHDB/Testing+a+Source+Release\r\n> \r\n> Please remember that \"RC1\" is an annotation. If the vote passes, these artefacts will be released as Apache CouchDB 2.2.0.\r\n> Please cast your votes now.\r\n> \r\n> Thanks,\r\n> Joan \"release all the things!\" Touzet\r\n> Apache CouchDB PMC","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407575066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407585088","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407585088","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407585088,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzU4NTA4OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-24T23:33:05Z","updated_at":"2018-07-24T23:33:05Z","author_association":"MEMBER","body":"binaries are up for windows rc1\r\n\r\nhttps://dist.apache.org/repos/dist/dev/couchdb/binary/win/2.2.0/rc.1/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407585088/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407650750","html_url":"https://github.com/apache/couchdb/issues/1460#issuecomment-407650750","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1460","id":407650750,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzY1MDc1MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T06:43:11Z","updated_at":"2018-07-25T06:43:11Z","author_association":"MEMBER","body":"If you want us to help find out what the issue is, we need more information. Iâ€™m closing this issue until we have that info. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407650750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407729938","html_url":"https://github.com/apache/couchdb/issues/1453#issuecomment-407729938","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1453","id":407729938,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzcyOTkzOA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T12:01:35Z","updated_at":"2018-07-25T12:01:35Z","author_association":"MEMBER","body":"and mac: https://dist.apache.org/repos/dist/dev/couchdb/binary/mac/2.2.0/rc.1/\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407729938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407829047","html_url":"https://github.com/apache/couchdb/pull/1466#issuecomment-407829047","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1466","id":407829047,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzgyOTA0Nw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T17:14:07Z","updated_at":"2018-07-25T17:14:07Z","author_association":"CONTRIBUTOR","body":"Closing in favor of https://github.com/apache/couchdb-ci/pull/5","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407829047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407921650","html_url":"https://github.com/apache/couchdb/issues/1316#issuecomment-407921650","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1316","id":407921650,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkyMTY1MA==","user":{"login":"asterisks007","id":27955001,"node_id":"MDQ6VXNlcjI3OTU1MDAx","avatar_url":"https://avatars.githubusercontent.com/u/27955001?v=4","gravatar_id":"","url":"https://api.github.com/users/asterisks007","html_url":"https://github.com/asterisks007","followers_url":"https://api.github.com/users/asterisks007/followers","following_url":"https://api.github.com/users/asterisks007/following{/other_user}","gists_url":"https://api.github.com/users/asterisks007/gists{/gist_id}","starred_url":"https://api.github.com/users/asterisks007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asterisks007/subscriptions","organizations_url":"https://api.github.com/users/asterisks007/orgs","repos_url":"https://api.github.com/users/asterisks007/repos","events_url":"https://api.github.com/users/asterisks007/events{/privacy}","received_events_url":"https://api.github.com/users/asterisks007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T22:53:07Z","updated_at":"2018-07-25T22:53:07Z","author_association":"NONE","body":"Hi @wohali,\r\n\r\nI followed guidelines in https://github.com/apache/couchdb-pkg. Still it's failing while Lookout for jsapi.h while executing\r\n\"\"\"$ cd couchdb-pkg && make build-couch $(lsb_release -cs) PLATFORM=$(lsb_release -cs)\"\"\"\r\nin Ubuntu 18.04.\r\nAlso I feel the documentation on quickstart should start with \r\n1.cloning of couchdb-pkg repo https://github.com/apache/couchdb-pkg\r\n2. Cloning of https://github.com/apache/couchdb\r\n3. Configuring of couchdb clone ./configure - c\r\n4. cd couchdb-pkg && make build-couch $(lsb_release -cs) PLATFORM=$(lsb_release -cs)\r\nSince I received error of jsapi.h again because couchdb-libmozjs185-1.0 is still not formed and installed and rebarconfig script CFLAG location not yet changed pointing to location of jsapi.h,\r\n\r\nSo I tried your suggestion for building couchdb supplied ibmozjs185 using command\r\n  \r\nmake couch-js-debs PLATFORM=bionic\r\n\r\nThis executed successfully and couch-libmozjs185-1.0 and couch-libmozjs185-dev were created. \r\nBut I was not able to install them using dpkg or sudo apt-get install command.\r\nPlease kindly help on getting this built libmozjs185 installed. Please share how do I install them.\r\nAlso could you please help raise PR for the same. \r\nThanks a lot in advance. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407921650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407930069","html_url":"https://github.com/apache/couchdb/issues/1316#issuecomment-407930069","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1316","id":407930069,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzkzMDA2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-25T23:39:50Z","updated_at":"2018-07-25T23:59:46Z","author_association":"MEMBER","body":"If you're building yourself entirely from scratch, you'll have to create your own repo and install the `couch-libmozjs185-dev` and `-1.0` packages yourself. Under 18.04 you should be able to use the command `apt install ./path/to/file1.dpkg ./path/to/file2.dpkg` without the repo, but it's recommended to create your own repo.\r\n\r\nThese packages must be built and installed before building the Couch packages, as they are dependencies of the build process.\r\n\r\nNo PR is pending for this work - we've published the scripts we use, and we've also published convenience binary packages for your use, which is documented in the usual place (docs.couchdb.org). Is there a reason the `couch-libmozjs185-*` packages we built and published for 18.04 are not acceptable to use?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407930069/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407989555","html_url":"https://github.com/apache/couchdb/issues/1316#issuecomment-407989555","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1316","id":407989555,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzk4OTU1NQ==","user":{"login":"asterisks007","id":27955001,"node_id":"MDQ6VXNlcjI3OTU1MDAx","avatar_url":"https://avatars.githubusercontent.com/u/27955001?v=4","gravatar_id":"","url":"https://api.github.com/users/asterisks007","html_url":"https://github.com/asterisks007","followers_url":"https://api.github.com/users/asterisks007/followers","following_url":"https://api.github.com/users/asterisks007/following{/other_user}","gists_url":"https://api.github.com/users/asterisks007/gists{/gist_id}","starred_url":"https://api.github.com/users/asterisks007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asterisks007/subscriptions","organizations_url":"https://api.github.com/users/asterisks007/orgs","repos_url":"https://api.github.com/users/asterisks007/repos","events_url":"https://api.github.com/users/asterisks007/events{/privacy}","received_events_url":"https://api.github.com/users/asterisks007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T06:21:53Z","updated_at":"2018-07-26T06:21:53Z","author_association":"NONE","body":"Thanks a lot @wohali \r\nThanks for publishing convenience binary package, which I was able to install to ubuntu 18.04. Earlier I was unable to install with convenience binary package for Ubuntu 18.04\r\nSo I tried to build couchdb from source, but failed for jsapi.h lookout \r\nThen I found this thread where you had mentioned to use couchdb-pkg and built the libmozjs185 supplied along with couchdb-pkg repo. I was stuck after the step \"make couch-js-debs PLATFORM=bionic\".\r\nI will try to install couchdb supplied couch-libmozjs185-* and let you know the result.\r\nThank you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/407989555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408140030","html_url":"https://github.com/apache/couchdb/pull/1469#issuecomment-408140030","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1469","id":408140030,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODE0MDAzMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T15:38:46Z","updated_at":"2018-07-26T15:38:46Z","author_association":"MEMBER","body":"Assuming this is always only in the test harness, +1, I know @kocolosk was trying to eliminate multiline logging elements from couch.log proper","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408140030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408143807","html_url":"https://github.com/apache/couchdb/pull/1469#issuecomment-408143807","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1469","id":408143807,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODE0MzgwNw==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T15:49:48Z","updated_at":"2018-07-26T15:49:48Z","author_association":"MEMBER","body":"Yeah that work is stalled a bit, need to think through the architecture to ensure we don't have any performance regressions moving towards more structured logging. I wouldn't worry about it at the moment.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408143807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408161436","html_url":"https://github.com/apache/couchdb/pull/1432#issuecomment-408161436","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1432","id":408161436,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODE2MTQzNg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T16:47:20Z","updated_at":"2018-07-26T16:47:20Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408161436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408452048","html_url":"https://github.com/apache/couchdb/issues/1119#issuecomment-408452048","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1119","id":408452048,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODQ1MjA0OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T15:22:56Z","updated_at":"2018-07-27T15:22:56Z","author_association":"NONE","body":"Is the working theory still that this is Docker-related? I'm unaware of any virtualization going on with Docker on Linux (it's kernel namespacing, and we've verified by hand in C that normal file operations such as `open(2)`, `write(2)`, `read(2)`, and `fsync(2)` work as expected in-container and perform at native speeds).\r\n\r\nWe're experiencing this issue and cannot come up with a theory as to why a database-level RPC failure would be related to Docker's namespacing/isolation.\r\n\r\nIs there any more information available here, or could you perhaps share any working theories on what specifically might be causing this and what subsystem(s) (e.g. at the CouchDB level, at the Erlang level, at the system level) you currently suspect?\r\n\r\nThanks in advance.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408452048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408491739","html_url":"https://github.com/apache/couchdb/issues/1119#issuecomment-408491739","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1119","id":408491739,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODQ5MTczOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T17:49:22Z","updated_at":"2018-07-27T17:49:22Z","author_association":"MEMBER","body":"@browndav If you could try the same scenario outside of Docker to rule out it being Docker-specific great.\r\n\r\nThere are continuing issues around Docker and CouchDB that are ill-defined, especially when it comes to AUFS (see thread above) so we prefer to rule that out first.\r\n\r\nIf you're unable to rule this out with 2.2.0 outside of Docker, I'm afraid it may be some time before we have any solid answer here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408491739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408492103","html_url":"https://github.com/apache/couchdb/issues/1119#issuecomment-408492103","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1119","id":408492103,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODQ5MjEwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T17:50:44Z","updated_at":"2018-07-27T17:50:44Z","author_association":"MEMBER","body":"@browndav Looked at your linked issue and see it's not exactly the same as the OP.\r\n\r\nFYI rexi timeouts are a more general error indicating, in general, you are overloading your cluster. Recommend increasing the # of nodes, amount of CPU cores and RAM as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408492103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408688603","html_url":"https://github.com/apache/couchdb/pull/1470#issuecomment-408688603","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1470","id":408688603,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODY4ODYwMw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-29T16:20:32Z","updated_at":"2018-07-29T16:20:32Z","author_association":"MEMBER","body":"@davisp ping. Does this look like a valid fix or am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/408688603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409003334","html_url":"https://github.com/apache/couchdb/issues/1119#issuecomment-409003334","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1119","id":409003334,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTAwMzMzNA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T20:42:58Z","updated_at":"2018-07-30T20:42:58Z","author_association":"NONE","body":"The instance and cluster are essentially idle (load average 0.01) when we're encountering these errors, and they're occurring seconds after startup. Further, even if the server were loaded, it doesn't seem like a database system should fail purely because of increased I/O latency or availability of scheduler timeslices â€“ in my past experience with database systems, overloaded machines would continue to attempt the work they were asked to perform rather than aborting or crashing.\r\n\r\nThere are a lot of threads above: would you mind linking to any of the specific evidence/discussion/theories that would implicate AUFS as a potential cause? In the mean time we'll work to reproduce the issue in a variety of environments and on a variety of filesystems, and can definitely help rule out (or in) filesystem-specific issues from these tests.\r\n\r\nWe're extremely interested in getting to the bottom of this issue, as our production infrastructure's reliability hinges on the stability of CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409003334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409013996","html_url":"https://github.com/apache/couchdb/issues/1316#issuecomment-409013996","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1316","id":409013996,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTAxMzk5Ng==","user":{"login":"asterisks007","id":27955001,"node_id":"MDQ6VXNlcjI3OTU1MDAx","avatar_url":"https://avatars.githubusercontent.com/u/27955001?v=4","gravatar_id":"","url":"https://api.github.com/users/asterisks007","html_url":"https://github.com/asterisks007","followers_url":"https://api.github.com/users/asterisks007/followers","following_url":"https://api.github.com/users/asterisks007/following{/other_user}","gists_url":"https://api.github.com/users/asterisks007/gists{/gist_id}","starred_url":"https://api.github.com/users/asterisks007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asterisks007/subscriptions","organizations_url":"https://api.github.com/users/asterisks007/orgs","repos_url":"https://api.github.com/users/asterisks007/repos","events_url":"https://api.github.com/users/asterisks007/events{/privacy}","received_events_url":"https://api.github.com/users/asterisks007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T21:18:46Z","updated_at":"2018-07-30T21:18:46Z","author_association":"NONE","body":"Hi @wohali \r\nI was able to install couch-libmozjs185-*.deb file formed under couchdb-pkg/js folder using your suggested query:\r\nsudo apt install /pathtodeb package/couch-libmozjs185-*.deb\r\n\r\nThank you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409013996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409070521","html_url":"https://github.com/apache/couchdb/issues/1183#issuecomment-409070521","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1183","id":409070521,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTA3MDUyMQ==","user":{"login":"whittaker007","id":1250821,"node_id":"MDQ6VXNlcjEyNTA4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1250821?v=4","gravatar_id":"","url":"https://api.github.com/users/whittaker007","html_url":"https://github.com/whittaker007","followers_url":"https://api.github.com/users/whittaker007/followers","following_url":"https://api.github.com/users/whittaker007/following{/other_user}","gists_url":"https://api.github.com/users/whittaker007/gists{/gist_id}","starred_url":"https://api.github.com/users/whittaker007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whittaker007/subscriptions","organizations_url":"https://api.github.com/users/whittaker007/orgs","repos_url":"https://api.github.com/users/whittaker007/repos","events_url":"https://api.github.com/users/whittaker007/events{/privacy}","received_events_url":"https://api.github.com/users/whittaker007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T02:11:09Z","updated_at":"2018-07-31T02:11:09Z","author_association":"NONE","body":"Sorry I'm a bit confused. The last comment says issue is fixed in apache/couchdb-documentation#291, but a review of that issue just shows a tiny bit of documentation to reference the token as being a SHA1 of the username using the secret as key.\r\n\r\nBut the issue (that authentication always fails if you try to use this feature) is not fixed at all. Issue #1174 has also been closed with no resolution that I could see.\r\n\r\nSo is there some secret fix that I've missed? Or is this broken functionality now intended? If so should all documentation relating to proxy auth with these headers be removed so people don't try to use them thinking they should work?\r\n\r\nFinally, is the expected behaviour of proxy auth that you only need the couch username (and maybe roles?) to access Couch content without a password or hash or anything? This seems to be the current state since with \"proxy_use_secret = true\" I cannot auth, and without it I can auth with nothing but \"X-Auth-CouchDB-UserName\" and \"X-Auth-CouchDB-Roles\" and no other auth.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409070521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409085107","html_url":"https://github.com/apache/couchdb/issues/1183#issuecomment-409085107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1183","id":409085107,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTA4NTEwNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T03:46:34Z","updated_at":"2018-07-31T03:46:34Z","author_association":"MEMBER","body":"> \"The only thing that's confusing is that you have to send the SHA-1 sum of the username using the secret instead of the secret directly:\"","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409085107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409085225","html_url":"https://github.com/apache/couchdb/issues/1183#issuecomment-409085225","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1183","id":409085225,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTA4NTIyNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T03:47:32Z","updated_at":"2018-07-31T03:47:32Z","author_association":"MEMBER","body":"If you want to propose a PR with a fix that restores things to the way they were in 1.x, be our guests :) Until then, we'll just document the current behaviour as how it's going to work for now, I'm afraid.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409085225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409088180","html_url":"https://github.com/apache/couchdb/issues/1472#issuecomment-409088180","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1472","id":409088180,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTA4ODE4MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T04:08:40Z","updated_at":"2018-07-31T04:08:40Z","author_association":"MEMBER","body":"@ermouth I *think* this was fixed for 2.2.0, see https://github.com/apache/couchdb/pull/961","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409088180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409088199","html_url":"https://github.com/apache/couchdb/issues/1472#issuecomment-409088199","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1472","id":409088199,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTA4ODE5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T04:08:49Z","updated_at":"2018-07-31T04:08:49Z","author_association":"MEMBER","body":"if not let me know and we can reopen","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409088199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409125141","html_url":"https://github.com/apache/couchdb/issues/1183#issuecomment-409125141","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1183","id":409125141,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTEyNTE0MQ==","user":{"login":"whittaker007","id":1250821,"node_id":"MDQ6VXNlcjEyNTA4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1250821?v=4","gravatar_id":"","url":"https://api.github.com/users/whittaker007","html_url":"https://github.com/whittaker007","followers_url":"https://api.github.com/users/whittaker007/followers","following_url":"https://api.github.com/users/whittaker007/following{/other_user}","gists_url":"https://api.github.com/users/whittaker007/gists{/gist_id}","starred_url":"https://api.github.com/users/whittaker007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whittaker007/subscriptions","organizations_url":"https://api.github.com/users/whittaker007/orgs","repos_url":"https://api.github.com/users/whittaker007/repos","events_url":"https://api.github.com/users/whittaker007/events{/privacy}","received_events_url":"https://api.github.com/users/whittaker007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T07:35:09Z","updated_at":"2018-07-31T07:35:09Z","author_association":"NONE","body":"OK thanks, just checking I'm not missing something. Doesn't look like the secret is required at this point, only the username. I guess since in this setup Couch is only open to localhost requests proxied through another service the security doesn't need to be strong.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409125141/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409191370","html_url":"https://github.com/apache/couchdb/issues/1472#issuecomment-409191370","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1472","id":409191370,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTE5MTM3MA==","user":{"login":"ermouth","id":1540047,"node_id":"MDQ6VXNlcjE1NDAwNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1540047?v=4","gravatar_id":"","url":"https://api.github.com/users/ermouth","html_url":"https://github.com/ermouth","followers_url":"https://api.github.com/users/ermouth/followers","following_url":"https://api.github.com/users/ermouth/following{/other_user}","gists_url":"https://api.github.com/users/ermouth/gists{/gist_id}","starred_url":"https://api.github.com/users/ermouth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ermouth/subscriptions","organizations_url":"https://api.github.com/users/ermouth/orgs","repos_url":"https://api.github.com/users/ermouth/repos","events_url":"https://api.github.com/users/ermouth/events{/privacy}","received_events_url":"https://api.github.com/users/ermouth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T11:44:27Z","updated_at":"2018-07-31T11:44:27Z","author_association":"CONTRIBUTOR","body":"#961 is unrelated. Letting you know it is not fixed in 2.2.x branch. Just built 2.2.0 from sources to check it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409191370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409251556","html_url":"https://github.com/apache/couchdb/issues/1378#issuecomment-409251556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1378","id":409251556,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTI1MTU1Ng==","user":{"login":"jlami","id":8522993,"node_id":"MDQ6VXNlcjg1MjI5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/8522993?v=4","gravatar_id":"","url":"https://api.github.com/users/jlami","html_url":"https://github.com/jlami","followers_url":"https://api.github.com/users/jlami/followers","following_url":"https://api.github.com/users/jlami/following{/other_user}","gists_url":"https://api.github.com/users/jlami/gists{/gist_id}","starred_url":"https://api.github.com/users/jlami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlami/subscriptions","organizations_url":"https://api.github.com/users/jlami/orgs","repos_url":"https://api.github.com/users/jlami/repos","events_url":"https://api.github.com/users/jlami/events{/privacy}","received_events_url":"https://api.github.com/users/jlami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T14:57:33Z","updated_at":"2018-07-31T14:57:33Z","author_association":"NONE","body":"I'm also a user not not familiar with ERL. So a public api for `_purge` would be very helpful in complying with GDPR.\r\nAny status update for this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409251556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409252144","html_url":"https://github.com/apache/couchdb/issues/1378#issuecomment-409252144","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1378","id":409252144,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTI1MjE0NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T14:59:06Z","updated_at":"2018-07-31T14:59:06Z","author_association":"MEMBER","body":"No sooner than CouchDB 2.3.0.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409252144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409252346","html_url":"https://github.com/apache/couchdb/issues/1378#issuecomment-409252346","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1378","id":409252346,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTI1MjM0Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T14:59:44Z","updated_at":"2018-07-31T14:59:44Z","author_association":"MEMBER","body":"@jlami Also, remember that a delete followed by a compact will remove all record of a document except for the _id and _rev fields. You only need purge for GDPR if you have sensitive data in the _id field itself.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409252346/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409255137","html_url":"https://github.com/apache/couchdb/issues/1378#issuecomment-409255137","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1378","id":409255137,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTI1NTEzNw==","user":{"login":"jlami","id":8522993,"node_id":"MDQ6VXNlcjg1MjI5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/8522993?v=4","gravatar_id":"","url":"https://api.github.com/users/jlami","html_url":"https://github.com/jlami","followers_url":"https://api.github.com/users/jlami/followers","following_url":"https://api.github.com/users/jlami/following{/other_user}","gists_url":"https://api.github.com/users/jlami/gists{/gist_id}","starred_url":"https://api.github.com/users/jlami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlami/subscriptions","organizations_url":"https://api.github.com/users/jlami/orgs","repos_url":"https://api.github.com/users/jlami/repos","events_url":"https://api.github.com/users/jlami/events{/privacy}","received_events_url":"https://api.github.com/users/jlami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T15:07:13Z","updated_at":"2018-07-31T15:11:12Z","author_association":"NONE","body":"But for now we are disabling compaction to use the revisions for history. I know, misuse of a feature. But it seemed like a good thing at the time.\r\n\r\nCompaction can't really be triggered manually can it?\r\n[edit] Aaaah, sure: `/{db}/_compact` works","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409255137/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409284332","html_url":"https://github.com/apache/couchdb/issues/592#issuecomment-409284332","issue_url":"https://api.github.com/repos/apache/couchdb/issues/592","id":409284332,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTI4NDMzMg==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T16:31:33Z","updated_at":"2019-06-13T08:57:52Z","author_association":"CONTRIBUTOR","body":"Hi @eiri  \r\nI don't want to escalate and create a separate issue for a behaviour which just seems confusing to me and probably is not a bug at all therefore I decided to ask here.\r\nSo I have a document in the db which I delete either via `DELETE /db/doc?rev=1-aa...` or via `PUT db/doc?rev=1-aa...  -d \"{_deleted\":true}\"`. \r\nAnd now I want to \"undelete\" it via `PUT db/doc?rev=2-aa... -d \"{_deleted\":false}\"`. This was working fine in the CouchDB 1.x and is something what I'd expect to work in 2.x too, because when updating an existing document, the current document revision must be included in the document for an obvious reason (updater has to know a node in the revision tree). But now in CouchDB 2.x I receive:\r\n```erlang\r\n{\"error\":\"conflict\",\"reason\":\"Document update conflict.\"}\r\n```\r\nThis works fine if I'm not including document revision in the request for the case when I \"undelete\" the doc. So, the actual logic still works and I see all the corresponding revisions via `revs_info=true`. My question is this an expected behaviour? And if yes what were the reasons behind this? I think this has something to do with the new logic in the `couch_db_updater` related to the merging of revision trees.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409284332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409474178","html_url":"https://github.com/apache/couchdb/issues/1475#issuecomment-409474178","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1475","id":409474178,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ3NDE3OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T07:14:01Z","updated_at":"2018-08-01T07:14:01Z","author_association":"CONTRIBUTOR","body":"Hi @empeje \r\n\r\nThank you for your report. A few questions and comments:\r\n\r\n * Regarding the 3Gb files, are those sizes for single document bodies? Are those attachments? Individual or total? Usually storing large individual documents or attachments in that range is considered an anti-pattern for CouchDB. Is there any way to break those up into smaller documents?\r\n\r\n * Is it a single replication or are there others (many) running at the same time?\r\n\r\n* Noticed that max http request size and max client body size are set to 1Gb and CouchDB's max document size is set to 4Gb.  Perhaps adjust the request size in both Nginx and CouchDb to a large value. For max request size, you'd want it greater than the sum of all the document's revisions and the total size of its attachments.\r\n\r\n* Regarding Experiment 1, with 2.1.2 release, should apply some of those max size configs, as opposed to using the defaults. In that release max request size was 64Mb so the default values won't work, especially if you have individual doc revisions + attachment sizes that exceed that.\r\n\r\n* Do you know if smaller sizes work, what are the limits that work (1Gb, 100Mb,...)?\r\n\r\n* Perhaps try replicating on a local network without SSL or Nginx as a debugging experiment...\r\n\r\n* Inspect the logs on source and target. Do you see 413 http errors, timeouts? Especially see if you can notice the part when errors start happening. A 413 error, either sent by CouchDB or Nginx, might indicate that some of the max size limits might be applied.\r\n\r\n* `use_checkpoints = true` is the default for the replicator, no need to set it explicitly.\r\n\r\n* There is also http://docs.couchdb.org/en/stable/config/replicator.html#replicator/connection_timeout setting, maybe adjusting that up a bit might help.\r\n\r\n * Checkpoints are usually not that expensive, just an update of a local document on target and source. Try not to delay it too much. I would reduce that to something closer to the default.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409474178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409477877","html_url":"https://github.com/apache/couchdb/issues/546#issuecomment-409477877","issue_url":"https://api.github.com/repos/apache/couchdb/issues/546","id":409477877,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ3Nzg3Nw==","user":{"login":"lag-linaro","id":613036,"node_id":"MDQ6VXNlcjYxMzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/613036?v=4","gravatar_id":"","url":"https://api.github.com/users/lag-linaro","html_url":"https://github.com/lag-linaro","followers_url":"https://api.github.com/users/lag-linaro/followers","following_url":"https://api.github.com/users/lag-linaro/following{/other_user}","gists_url":"https://api.github.com/users/lag-linaro/gists{/gist_id}","starred_url":"https://api.github.com/users/lag-linaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lag-linaro/subscriptions","organizations_url":"https://api.github.com/users/lag-linaro/orgs","repos_url":"https://api.github.com/users/lag-linaro/repos","events_url":"https://api.github.com/users/lag-linaro/events{/privacy}","received_events_url":"https://api.github.com/users/lag-linaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T07:28:40Z","updated_at":"2018-08-01T07:28:40Z","author_association":"CONTRIBUTOR","body":"@wohali do you have a time-line for this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409477877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409553130","html_url":"https://github.com/apache/couchdb/issues/546#issuecomment-409553130","issue_url":"https://api.github.com/repos/apache/couchdb/issues/546","id":409553130,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU1MzEzMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T12:10:00Z","updated_at":"2018-08-01T12:10:00Z","author_association":"MEMBER","body":"@lag-linaro already done for 2.1.2","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409553130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409553251","html_url":"https://github.com/apache/couchdb/issues/546#issuecomment-409553251","issue_url":"https://api.github.com/repos/apache/couchdb/issues/546","id":409553251,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU1MzI1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T12:10:32Z","updated_at":"2018-08-01T12:10:32Z","author_association":"MEMBER","body":"see http://docs.couchdb.org/en/2.1.2/install/unix.html#installation-using-the-apache-couchdb-convenience-binary-packages","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409553251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409554240","html_url":"https://github.com/apache/couchdb/pull/1480#issuecomment-409554240","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1480","id":409554240,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU1NDI0MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T12:14:42Z","updated_at":"2018-08-01T12:14:42Z","author_association":"MEMBER","body":"I know this is for user-specified partitions, but I wonder what endpoint we're exposing for per-shards at :5984 (necessary to deprecate :5986 once and for all), and whether this endpoint will cause confusion.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409554240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409562225","html_url":"https://github.com/apache/couchdb/issues/1481#issuecomment-409562225","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1481","id":409562225,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU2MjIyNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T12:46:23Z","updated_at":"2018-08-01T12:46:23Z","author_association":"MEMBER","body":"@ondra-novak have you checked the new `POST /{db}/_all_docs/queries` endpoint to see if it helps?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409562225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409565736","html_url":"https://github.com/apache/couchdb/pull/1480#issuecomment-409565736","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1480","id":409565736,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU2NTczNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T12:58:44Z","updated_at":"2018-08-01T12:58:44Z","author_association":"MEMBER","body":"```\r\n08:48 <garren> Wohali: I don't quite follow what you mean here\r\n               https://github.com/apache/couchdb/pull/1480#issuecomment-409554240\r\n08:51 <-- ASFBot (~ASFBot@apache/bot/asfbot) has quit (Ping timeout: 260 seconds)\r\n08:51 <@Wohali> I mean, rnewson and i have had a long standing discussiona bout\r\n                introducing a new endpoint on 5984 for shard-level queries\r\n08:52 <@Wohali> we haven't been able to come up with the right endpoint yet\r\n08:52 <@Wohali> but it eventually needs to exist\r\n08:52 <@Wohali> and i just want to ensure that by introducing the new concept of a\r\n                _partition we aren't further confusing people\r\n08:52 <@Wohali> because I wouldn't be surprised to see an endpoint like\r\n                /db/_shard/000000-1ffffff/...\r\n08:53 <@Wohali> and then the question becomes: is this a db partition, or a view partition\r\n                you are proposing?\r\n08:53 <@Wohali> if the latter, then why not /db/_ddoc/name/_view/viewname/_partition\r\n08:53 <@Wohali> i'm trying not to bikeshed, but our ui is already somewhat complex, and\r\n                it's only going to get worse, that's all\r\n08:53 <@Wohali> does that make sense?\r\n08:55 <garren> Yes that makes sense thanks.\r\n08:55 <@Wohali> i 100% guarantee you that people will not understand the difference\r\n                between a db shard and a db partition if we introduce both concepts\r\n                without careful thought :)\r\n08:55 <garren> THe one thing is that a shard can hold multiple partitions. So they are\r\n               related but not that related to shards\r\n08:55 <@Wohali> subtle.\r\n08:55 <garren> Yeah I agree 100%\r\n08:57 <@rnewson> hasn't the partition proposal been on dev@ yet?\r\n08:57 <@rnewson> cause I'm deep into implementation at this point and so is garren\r\n08:57 <@Wohali> changing the endpoint is minor\r\n08:57 <@Wohali> i'm fine with the concept\r\n08:58 <@Wohali> i am not happy with the partition being at the 2nd level in the route,\r\n                though\r\n08:58 <@Wohali> i am not happy with the partition being at the 2nd level in the route,\r\n                though\r\n08:58 <@rnewson> can you respond to the thread saying so then?\r\n08:58 <@Wohali> yes\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409565736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409578831","html_url":"https://github.com/apache/couchdb/issues/1481#issuecomment-409578831","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1481","id":409578831,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU3ODgzMQ==","user":{"login":"ondra-novak","id":9439234,"node_id":"MDQ6VXNlcjk0MzkyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9439234?v=4","gravatar_id":"","url":"https://api.github.com/users/ondra-novak","html_url":"https://github.com/ondra-novak","followers_url":"https://api.github.com/users/ondra-novak/followers","following_url":"https://api.github.com/users/ondra-novak/following{/other_user}","gists_url":"https://api.github.com/users/ondra-novak/gists{/gist_id}","starred_url":"https://api.github.com/users/ondra-novak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ondra-novak/subscriptions","organizations_url":"https://api.github.com/users/ondra-novak/orgs","repos_url":"https://api.github.com/users/ondra-novak/repos","events_url":"https://api.github.com/users/ondra-novak/events{/privacy}","received_events_url":"https://api.github.com/users/ondra-novak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T13:42:26Z","updated_at":"2018-08-01T13:42:26Z","author_association":"NONE","body":"No, but i have found another endpoint `_bulk_get`. It is still not the what I need exactly, but it is much better than requesting documents one by one.\r\n\r\nApparently this endpoint is new in 2.x , i cannot find it on my old installation with 1.7.x\r\n\r\nTY!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409578831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409646315","html_url":"https://github.com/apache/couchdb/issues/592#issuecomment-409646315","issue_url":"https://api.github.com/repos/apache/couchdb/issues/592","id":409646315,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTY0NjMxNQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T16:58:52Z","updated_at":"2018-08-01T16:58:52Z","author_association":"MEMBER","body":"@AlexanderKaraberov Ah, this happened before of my time, so it took a bit of digging through the old commits to see what's going on here.\r\n\r\nYes, this is an intentional change and it was done to address [this bug](https://issues.apache.org/jira/browse/COUCHDB-1415). Short version is that the previous version of `merge_rev_trees` relied on equality of the old rev tree and the merged rev tree in order to know when the update is a document recreation. If body of the deleted document been compacted away then at recreation you've been getting into situation when the old rev tree and the new rev tree different in content but identical in structure.\r\n\r\nTo address that `merge_rev_trees` was essentially rewritten completely in [this commit](https://github.com/apache/couchdb/commit/39df1d5e78a3ffd855cc9c2a6aa257237d4444da). So now when you are trying to recreate with `rev` you are ending up in [this codepath](https://github.com/apache/couchdb/blob/master/src/couch/src/couch_db_updater.erl#L589), because your rev's depth bigger than 1.\r\n\r\nThis is all a bit esoteric, so I hope it makes sense to you.   ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409646315/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409646810","html_url":"https://github.com/apache/couchdb/issues/592#issuecomment-409646810","issue_url":"https://api.github.com/repos/apache/couchdb/issues/592","id":409646810,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTY0NjgxMA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T17:00:21Z","updated_at":"2018-08-01T17:00:21Z","author_association":"MEMBER","body":"After discussion dev@ mail list we decided to just remove this implementation of view's changes and redoing it later from a scratch.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409646810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409654163","html_url":"https://github.com/apache/couchdb/issues/1475#issuecomment-409654163","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1475","id":409654163,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTY1NDE2Mw==","user":{"login":"empeje","id":11813607,"node_id":"MDQ6VXNlcjExODEzNjA3","avatar_url":"https://avatars.githubusercontent.com/u/11813607?v=4","gravatar_id":"","url":"https://api.github.com/users/empeje","html_url":"https://github.com/empeje","followers_url":"https://api.github.com/users/empeje/followers","following_url":"https://api.github.com/users/empeje/following{/other_user}","gists_url":"https://api.github.com/users/empeje/gists{/gist_id}","starred_url":"https://api.github.com/users/empeje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/empeje/subscriptions","organizations_url":"https://api.github.com/users/empeje/orgs","repos_url":"https://api.github.com/users/empeje/repos","events_url":"https://api.github.com/users/empeje/events{/privacy}","received_events_url":"https://api.github.com/users/empeje/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T17:23:35Z","updated_at":"2018-08-01T17:23:35Z","author_association":"NONE","body":"Thanks for your answer @nickva.\r\n\r\nSo many things to address here.\r\n\r\n>Regarding the 3Gb files, are those sizes for single document bodies? Are those attachments? Individual or total? Usually storing large individual documents or attachments in that range is considered an anti-pattern for CouchDB. Is there any way to break those up into smaller documents?\r\n\r\nIt is mostly an attachment. We are distributing learning resource data via CouchDB. I know it is anti-pattern, but we take this risk because it is one of the simplest way to create federated system with low human resource in a social benefit organization like us. Our goal is at least able to replicate 1GB of attachment.\r\n\r\n>Is it a single replication or are there others (many) running at the same time?\r\n\r\nOur server may receives multiple replication request at a time.\r\n\r\n>Noticed that max http request size and max client body size are set to 1Gb and CouchDB's max document size is set to 4Gb. Perhaps adjust the request size in both Nginx and CouchDb to a large value. For max request size, you'd want it greater than the sum of all the document's revisions and the total size of its attachments.\r\n\r\nThank you for catching this, but we also got a problem when we replicate data under 1 GB. What I say 2.7 GB here is basically a complete database consists of several record with its attachment.\r\n\r\n>Regarding Experiment 1, with 2.1.2 release, should apply some of those max size configs, as opposed to using the defaults. In that release max request size was 64Mb so the default values won't work, especially if you have individual doc revisions + attachment sizes that exceed that.\r\n\r\nThats why we led to Experiment 2, we still got a problem when we increase the max request size.\r\n\r\n>Do you know if smaller sizes work, what are the limits that work (1Gb, 100Mb,...)?\r\n\r\nFor sure we have success replicating 121 MB record with 120 MB portion in form of attachment.\r\n\r\n>Perhaps try replicating on a local network without SSL or Nginx as a debugging experiment...\r\n\r\nWe are on the way to debug this, will update the result later.\r\n\r\n>Inspect the logs on source and target. Do you see 413 http errors, timeouts? Especially see if you can notice the part when errors start happening. A 413 error, either sent by CouchDB or Nginx, might indicate that some of the max size limits might be applied.\r\n\r\nWe haven't notice the `413` error but good to know this, so I can debug further.\r\n\r\n>use_checkpoints = true is the default for the replicator, no need to set it explicitly.\r\n\r\nThanks, good to know this. We're little bit desperate with this result so we try various way hoping some of them work.\r\n\r\n> There is also http://docs.couchdb.org/en/stable/config/replicator.html#replicator/connection_timeout setting, maybe adjusting that up a bit might help.\r\n\r\nThanks\r\n\r\n> Checkpoints are usually not that expensive, just an update of a local document on target and source. Try not to delay it too much. I would reduce that to something closer to the default.\r\n\r\nI tried, but wonder if checkpoint is also working with attachment?\r\n\r\n***\r\n\r\nThanks for the support. We are currently experimenting with plain no SSL setup in local and with HAProxy, and also will try some of your suggestion. Hope some of them work and then I able to share here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409654163/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409692120","html_url":"https://github.com/apache/couchdb/issues/1483#issuecomment-409692120","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1483","id":409692120,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTY5MjEyMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T19:22:58Z","updated_at":"2018-08-01T19:22:58Z","author_association":"MEMBER","body":"Only if you turn on `require_valid_user` and enable the forced header\r\n\r\nSee: https://github.com/apache/couchdb/blob/master/rel/overlay/etc/local.ini#L32-L53","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/409692120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410020700","html_url":"https://github.com/apache/couchdb/issues/1475#issuecomment-410020700","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1475","id":410020700,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDAyMDcwMA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T18:17:28Z","updated_at":"2018-08-02T18:17:28Z","author_association":"CONTRIBUTOR","body":"Also the new release (2.2) which is being finalized  has some replication improvements relating to attachment uploads.\r\n\r\nhttp://docs.couchdb.org/en/2.2.0/whatsnew/2.2.html#version-2-2-0\r\n\r\nYou could wait till the release is out or try building it during your testing, to see if improvements help.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410020700/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410035305","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410035305","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410035305,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDAzNTMwNQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T19:07:39Z","updated_at":"2018-08-02T19:07:39Z","author_association":"CONTRIBUTOR","body":"I am getting \r\n```\r\ncode:  assert resp.status_code() == 201\r\n     left:  202\r\n     right: 201\r\n     stacktrace:\r\n       test/bulk_docs_test.exs:2: BulkDocsTest.create_db/1\r\n       test/bulk_docs_test.exs:2: BulkDocsTest.set_db_context/1\r\n       (elixir) lib/enum.ex:1899: Enum.\"-reduce/3-lists^foldl/2-0-\"/3\r\n       test/bulk_docs_test.exs:2: BulkDocsTest.__ex_unit_setup_0/1\r\n       test/bulk_docs_test.exs:1: BulkDocsTest.__ex_unit__/2\r\n```\r\n\r\nI think we need to update https://github.com/apache/couchdb/blob/elixir-suite/test/elixir/test/test_helper.exs#L157","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410035305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410050302","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410050302","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410050302,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA1MDMwMg==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T20:02:25Z","updated_at":"2018-08-02T20:02:25Z","author_association":"CONTRIBUTOR","body":"@iilyak those line numbers on your stack trace are confusing, but it sounds like you think we should allow 202 for successful db creation. The docs don't mention 202 as a valid response from PUT /{db} however: http://docs.couchdb.org/en/latest/api/database/common.html#put--db -- is that a documentation problem?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410050302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410051455","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410051455","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410051455,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA1MTQ1NQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T20:06:34Z","updated_at":"2018-08-02T20:09:22Z","author_association":"CONTRIBUTOR","body":"It was a problem with my setup. I had just one node running. In such case some operations return \"no quorum\" or accepted. See here:\r\n- https://github.com/apache/couchdb/blob/master/src/chttpd/src/chttpd_db.erl#L298\r\n- https://github.com/apache/couchdb/blob/master/src/chttpd/src/chttpd_db.erl#L311\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410051455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410052517","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410052517","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410052517,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA1MjUxNw==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T20:10:26Z","updated_at":"2018-08-02T20:10:26Z","author_association":"CONTRIBUTOR","body":"Hmm, I guess that begs the question of whether we should assume these tests will only pass on a fully connected 3-node cluster? That was my assumption in any case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410052517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410053449","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410053449","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410053449,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA1MzQ0OQ==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T20:13:37Z","updated_at":"2018-08-02T20:13:37Z","author_association":"CONTRIBUTOR","body":"@jaydoane Agree it was a local problem so no need to change anything. We might add some safety checks at some point to detect possible problems with setup, but it out of the scope for this PR I think.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410053449/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410059282","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410059282","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410059282,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA1OTI4Mg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T20:34:08Z","updated_at":"2018-08-02T20:34:08Z","author_association":"CONTRIBUTOR","body":"I think \"test bulk docs can detect conflicts\" is flaky. Out of 20 executions it failed 4 times with following exception:\r\n```\r\n  1) test bulk docs can detect conflicts (BulkDocsTest)\r\n     test/bulk_docs_test.exs:45\r\n     Expected truthy, got false\r\n     code: assert resp.status_code() == 201 and length(resp.body()) == length(docs)\r\n     stacktrace:\r\n       test/bulk_docs_test.exs:135: BulkDocsTest.bulk_post/2\r\n       test/bulk_docs_test.exs:57: (test)\r\n```\r\n\r\nI added a debug printout to print the response we get. It is the following:\r\n```\r\n%HTTPotion.Response{\r\n   body: [\r\n       %{\"accepted\" => true, \"id\" => \"1\", \"ok\" => true, \"rev\" => \"2-59422af42db146a6a87b76e5edbeeb44\"}, \r\n       %{\"id\" => \"2\", \"ok\" => true, \"rev\" => \"2-0450643c5eb507fee080a4298e102c9a\"}, \r\n       %{\"id\" => \"3\", \"ok\" => true, \"rev\" => \"2-7c9bd31172bbb3d4097fa45e3a6e2c85\"}, \r\n       %{\"id\" => \"4\", \"ok\" => true, \"rev\" => \"2-2fd866cc031a23ac8ccccb49952a2666\"}, \r\n       %{\"id\" => \"5\", \"ok\" => true, \"rev\" => \"2-3af34b0749ed8322340556d497581836\"}\r\n   ], \r\n   headers: %HTTPotion.Headers{\r\n       hdrs: %{\r\n           \"cache-control\" => \"must-revalidate\", \r\n           \"content-length\" => \"338\", \r\n           \"content-type\" => \"application/json\", \r\n           \"date\" => \"Thu, 02 Aug 2018 20:27:43 GMT\", \r\n           \"server\" => \"CouchDB/2.1.1 (Erlang OTP/19)\", \r\n           \"x-couch-request-id\" => \"5bd040d9ec\", \r\n           \"x-couchdb-body-time\" => \"0\"\r\n       }\r\n    }, \r\n    status_code: 202\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410059282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410096690","html_url":"https://github.com/apache/couchdb/issues/1119#issuecomment-410096690","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1119","id":410096690,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA5NjY5MA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T23:15:22Z","updated_at":"2018-08-02T23:15:22Z","author_association":"NONE","body":"FWIW, we're seeing the identical issue with our CouchDB datastore placed on bind mounts and non-AUFS Docker volumes. Unless the issue has to do with CouchDB binaries and/or Erlang itself being on AUFS, I'd be suspect of the filesystem-specific theory.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410096690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410099994","html_url":"https://github.com/apache/couchdb/pull/1468#issuecomment-410099994","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1468","id":410099994,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA5OTk5NA==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T23:36:41Z","updated_at":"2018-08-02T23:55:10Z","author_association":"CONTRIBUTOR","body":"@iilyak interesting that you got a 202 from a POST to _bulk_docs, since the docs don't say that's an expected result: http://docs.couchdb.org/en/latest/api/database/bulk-api.html#db-bulk-docs. I take it that you double checked you had all nodes up and connected?\r\n\r\nI ran that test over 100 times using `for i in {1..100}; do mix test --trace test/bulk_docs_test.exs:45 || break; done` and did not see any errors. However, if you think we should also expect 202 from _bulk_docs POST, I can relax the assertion constraints.\r\n\r\nAlso, if you replace the failing assertion with e.g.\r\n`    assert Enum.member?([201, 202], resp.status_code) and length(resp.body) == length(docs)`\r\ndoes the test still fail elsewhere, or does it pass?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410099994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410100443","html_url":"https://github.com/apache/couchdb/issues/819#issuecomment-410100443","issue_url":"https://api.github.com/repos/apache/couchdb/issues/819","id":410100443,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDEwMDQ0Mw==","user":{"login":"ceremcem","id":6639874,"node_id":"MDQ6VXNlcjY2Mzk4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6639874?v=4","gravatar_id":"","url":"https://api.github.com/users/ceremcem","html_url":"https://github.com/ceremcem","followers_url":"https://api.github.com/users/ceremcem/followers","following_url":"https://api.github.com/users/ceremcem/following{/other_user}","gists_url":"https://api.github.com/users/ceremcem/gists{/gist_id}","starred_url":"https://api.github.com/users/ceremcem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ceremcem/subscriptions","organizations_url":"https://api.github.com/users/ceremcem/orgs","repos_url":"https://api.github.com/users/ceremcem/repos","events_url":"https://api.github.com/users/ceremcem/events{/privacy}","received_events_url":"https://api.github.com/users/ceremcem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T23:39:24Z","updated_at":"2018-08-02T23:39:24Z","author_association":"CONTRIBUTOR","body":"FYI: My current workaround is that I created an LXC container from my current distro[*](https://github.com/aktos-io/lxc-to-the-future), downgraded it to stretch, installed CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410100443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410144576","html_url":"https://github.com/apache/couchdb/issues/819#issuecomment-410144576","issue_url":"https://api.github.com/repos/apache/couchdb/issues/819","id":410144576,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDE0NDU3Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T04:57:10Z","updated_at":"2018-08-03T04:57:10Z","author_association":"MEMBER","body":"Packages for debian stretch are now available.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410144576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410144669","html_url":"https://github.com/apache/couchdb/issues/1119#issuecomment-410144669","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1119","id":410144669,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDE0NDY2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T04:58:08Z","updated_at":"2018-08-03T04:58:08Z","author_association":"MEMBER","body":"@browndav as stated, rexi timeouts are a more general error indicating, in general, you are overloading your cluster. Recommend increasing the # of nodes, amount of CPU cores and RAM as well.\r\n\r\nSorry this is something I don't have any more time for in open source CouchDB Support, if you need a paid support offering for CouchDB Support, those are available from various third parties.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410144669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410297951","html_url":"https://github.com/apache/couchdb/issues/1485#issuecomment-410297951","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1485","id":410297951,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDI5Nzk1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T15:57:41Z","updated_at":"2018-08-03T15:57:41Z","author_association":"MEMBER","body":"There are a number of these minor inconsistencies in the documentation. Pull requests welcome.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410297951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410452879","html_url":"https://github.com/apache/couchdb/issues/502#issuecomment-410452879","issue_url":"https://api.github.com/repos/apache/couchdb/issues/502","id":410452879,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQ1Mjg3OQ==","user":{"login":"nintra","id":1950290,"node_id":"MDQ6VXNlcjE5NTAyOTA=","avatar_url":"https://avatars.githubusercontent.com/u/1950290?v=4","gravatar_id":"","url":"https://api.github.com/users/nintra","html_url":"https://github.com/nintra","followers_url":"https://api.github.com/users/nintra/followers","following_url":"https://api.github.com/users/nintra/following{/other_user}","gists_url":"https://api.github.com/users/nintra/gists{/gist_id}","starred_url":"https://api.github.com/users/nintra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nintra/subscriptions","organizations_url":"https://api.github.com/users/nintra/orgs","repos_url":"https://api.github.com/users/nintra/repos","events_url":"https://api.github.com/users/nintra/events{/privacy}","received_events_url":"https://api.github.com/users/nintra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-04T14:21:05Z","updated_at":"2018-08-04T14:21:05Z","author_association":"NONE","body":"I guess I never changed this value in the configuration and after some months in production the count of user dbs was higher than this value. My logs were flooded with this \"badmatch\" errors. And I had no clue how to fix it. I think the problem is not that these errors occur but that the description is cryptic and doesn't point you in the right direction. An error like: \"Can't process request: max_dbs_open limit reached.\" would be helpful.\r\nI'm using the 1.x.x version.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410452879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410489942","html_url":"https://github.com/apache/couchdb/issues/502#issuecomment-410489942","issue_url":"https://api.github.com/repos/apache/couchdb/issues/502","id":410489942,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQ4OTk0Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T01:58:17Z","updated_at":"2018-08-05T01:58:17Z","author_association":"MEMBER","body":"@nintra sadly, 1.x is no longer supported. If you find the error message in CouchDB 2.x misleading/unwelcoming, let us know.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410489942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410489982","html_url":"https://github.com/apache/couchdb/pull/1488#issuecomment-410489982","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1488","id":410489982,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQ4OTk4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T01:59:30Z","updated_at":"2018-08-05T01:59:30Z","author_association":"MEMBER","body":"@shevelevs Thank you for your contribution to CouchDB! :D :dancer: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410489982/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410520638","html_url":"https://github.com/apache/couchdb/issues/1491#issuecomment-410520638","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1491","id":410520638,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDUyMDYzOA==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T13:35:19Z","updated_at":"2018-08-05T13:35:19Z","author_association":"MEMBER","body":"You should move this issue to https://github.com/apache/couchdb-fauxton","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410520638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410525595","html_url":"https://github.com/apache/couchdb/issues/1491#issuecomment-410525595","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1491","id":410525595,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDUyNTU5NQ==","user":{"login":"ceremcem","id":6639874,"node_id":"MDQ6VXNlcjY2Mzk4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6639874?v=4","gravatar_id":"","url":"https://api.github.com/users/ceremcem","html_url":"https://github.com/ceremcem","followers_url":"https://api.github.com/users/ceremcem/followers","following_url":"https://api.github.com/users/ceremcem/following{/other_user}","gists_url":"https://api.github.com/users/ceremcem/gists{/gist_id}","starred_url":"https://api.github.com/users/ceremcem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ceremcem/subscriptions","organizations_url":"https://api.github.com/users/ceremcem/orgs","repos_url":"https://api.github.com/users/ceremcem/repos","events_url":"https://api.github.com/users/ceremcem/events{/privacy}","received_events_url":"https://api.github.com/users/ceremcem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T14:56:07Z","updated_at":"2018-08-05T14:56:07Z","author_association":"CONTRIBUTOR","body":"Sorry, my mistake. Moved to https://github.com/apache/couchdb-fauxton/issues/1118","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410525595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410527396","html_url":"https://github.com/apache/couchdb/pull/1489#issuecomment-410527396","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1489","id":410527396,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDUyNzM5Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T15:24:05Z","updated_at":"2018-08-05T15:24:05Z","author_association":"MEMBER","body":"OK for now.\r\n\r\nWe're going to eventually just tell people to use https://github.com/apache/couchdb-ci/ 's `bin/install-dependencies.sh` script.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410527396/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410527469","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410527469","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410527469,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDUyNzQ2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T15:25:17Z","updated_at":"2018-08-05T15:25:17Z","author_association":"MEMBER","body":"This is \"normal\" per the CouchDB 1.x-2.x security model.\r\n\r\nWe will be changing how security works in the 3.x release.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410527469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410528351","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410528351","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410528351,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDUyODM1MQ==","user":{"login":"ceremcem","id":6639874,"node_id":"MDQ6VXNlcjY2Mzk4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6639874?v=4","gravatar_id":"","url":"https://api.github.com/users/ceremcem","html_url":"https://github.com/ceremcem","followers_url":"https://api.github.com/users/ceremcem/followers","following_url":"https://api.github.com/users/ceremcem/following{/other_user}","gists_url":"https://api.github.com/users/ceremcem/gists{/gist_id}","starred_url":"https://api.github.com/users/ceremcem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ceremcem/subscriptions","organizations_url":"https://api.github.com/users/ceremcem/orgs","repos_url":"https://api.github.com/users/ceremcem/repos","events_url":"https://api.github.com/users/ceremcem/events{/privacy}","received_events_url":"https://api.github.com/users/ceremcem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T15:39:29Z","updated_at":"2018-08-05T15:39:29Z","author_association":"CONTRIBUTOR","body":"Is there any reference/*warning* to this *normal* behaviour in the documentation? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410528351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410544150","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410544150","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410544150,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU0NDE1MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T20:02:26Z","updated_at":"2018-08-05T20:02:52Z","author_association":"MEMBER","body":"Yes:\r\n\r\nhttp://docs.couchdb.org/en/2.1.2/api/database/security.html\r\n\r\n> If both the names and roles fields of either the admins or members properties are empty arrays, or are not existent, it means the database has no admins or members.\r\n\r\n> Having no admins, only server admins (with the reserved _admin role) are able to update design document and make other admin level changes.\r\n\r\n> Having no members, any user can write regular documents (any non-design document) and read documents from the database.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410544150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410545723","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410545723","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410545723,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU0NTcyMw==","user":{"login":"ceremcem","id":6639874,"node_id":"MDQ6VXNlcjY2Mzk4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6639874?v=4","gravatar_id":"","url":"https://api.github.com/users/ceremcem","html_url":"https://github.com/ceremcem","followers_url":"https://api.github.com/users/ceremcem/followers","following_url":"https://api.github.com/users/ceremcem/following{/other_user}","gists_url":"https://api.github.com/users/ceremcem/gists{/gist_id}","starred_url":"https://api.github.com/users/ceremcem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ceremcem/subscriptions","organizations_url":"https://api.github.com/users/ceremcem/orgs","repos_url":"https://api.github.com/users/ceremcem/repos","events_url":"https://api.github.com/users/ceremcem/events{/privacy}","received_events_url":"https://api.github.com/users/ceremcem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T20:28:25Z","updated_at":"2018-08-05T20:31:06Z","author_association":"CONTRIBUTOR","body":"Apparently it was written. It's just unobtrusive IMHO and still seems like a wrong design decision, thus a bug by design. \r\n\r\nIf something is only reachable to the explicitly specified members, if that thing becomes unreachable for a member that I just removed then this would mean if I remove all members, then that thing becomes unreachable to any user, can't be magically public.\r\n\r\nWhere is the 3.x security design discussion taking place?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410545723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410549045","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410549045","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410549045,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU0OTA0NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T21:23:07Z","updated_at":"2018-08-05T21:23:07Z","author_association":"MEMBER","body":"On the mailing lists.\r\n\r\nYou can be assured that \"closed by default\" will be the approach for 3.x.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410549045/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410729657","html_url":"https://github.com/apache/couchdb/pull/1146#issuecomment-410729657","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1146","id":410729657,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDcyOTY1Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:35:19Z","updated_at":"2018-08-06T14:35:19Z","author_association":"MEMBER","body":"Hi @abc3, is there any chance of doing what @rnewson says above and putting the Erlang into a proper module rather than as a macro?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410729657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410730274","html_url":"https://github.com/apache/couchdb/pull/1182#issuecomment-410730274","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1182","id":410730274,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDczMDI3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:37:12Z","updated_at":"2018-08-06T14:37:12Z","author_association":"MEMBER","body":"@davisp can you review this one again please?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410730274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410730546","html_url":"https://github.com/apache/couchdb/pull/1186#issuecomment-410730546","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1186","id":410730546,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDczMDU0Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:38:07Z","updated_at":"2018-08-06T14:38:07Z","author_association":"MEMBER","body":"@jiangphcn FYI you can land this and the other PRs anytime, 2.2.x has been forked off of master.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410730546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410731130","html_url":"https://github.com/apache/couchdb/pull/1195#issuecomment-410731130","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1195","id":410731130,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDczMTEzMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:39:47Z","updated_at":"2018-08-06T14:39:47Z","author_association":"MEMBER","body":"@AlexanderKaraberov Sorry about not being able to get this included in 2.2.0, but it might land for 2.2.1 or 2.3.0.\r\n\r\n@mikerhodes @davisp another one that could use your reviews. Would also love any comments from the PouchDB crew e.g. @garrensmith @daleharvey ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410731130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410735251","html_url":"https://github.com/apache/couchdb/pull/1405#issuecomment-410735251","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1405","id":410735251,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDczNTI1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:51:47Z","updated_at":"2018-08-06T14:51:47Z","author_association":"MEMBER","body":"@davisp that PR landed, but see https://github.com/mochi/mochiweb/pull/201 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410735251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410741316","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410741316","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410741316,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc0MTMxNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T15:08:44Z","updated_at":"2018-08-06T15:08:44Z","author_association":"MEMBER","body":"@ceremcem you can adopt the 3.0 default now:\r\n\r\nhttps://github.com/apache/couchdb/blob/master/rel/overlay/etc/default.ini#L26-L31\r\n\r\nset this to `admin_only`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410741316/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410745125","html_url":"https://github.com/apache/couchdb/issues/1490#issuecomment-410745125","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1490","id":410745125,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc0NTEyNQ==","user":{"login":"ceremcem","id":6639874,"node_id":"MDQ6VXNlcjY2Mzk4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6639874?v=4","gravatar_id":"","url":"https://api.github.com/users/ceremcem","html_url":"https://github.com/ceremcem","followers_url":"https://api.github.com/users/ceremcem/followers","following_url":"https://api.github.com/users/ceremcem/following{/other_user}","gists_url":"https://api.github.com/users/ceremcem/gists{/gist_id}","starred_url":"https://api.github.com/users/ceremcem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ceremcem/subscriptions","organizations_url":"https://api.github.com/users/ceremcem/orgs","repos_url":"https://api.github.com/users/ceremcem/repos","events_url":"https://api.github.com/users/ceremcem/events{/privacy}","received_events_url":"https://api.github.com/users/ceremcem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T15:19:54Z","updated_at":"2018-08-06T15:19:54Z","author_association":"CONTRIBUTOR","body":"That's very handy for preventing db to become public by a typo. Thank you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410745125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410760069","html_url":"https://github.com/apache/couchdb/pull/1432#issuecomment-410760069","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1432","id":410760069,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc2MDA2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T16:04:19Z","updated_at":"2018-08-06T16:04:19Z","author_association":"MEMBER","body":"@iilyak you are unblocked, merge to master when ready","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410760069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410906116","html_url":"https://github.com/apache/couchdb/pull/1186#issuecomment-410906116","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1186","id":410906116,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDkwNjExNg==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T01:47:13Z","updated_at":"2018-08-07T01:47:13Z","author_association":"CONTRIBUTOR","body":"Thanks @wohali for your information. It is cool that 2.2. is final. I will double check with Paul and then merge clustered purge PRs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410906116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410933908","html_url":"https://github.com/apache/couchdb/issues/1494#issuecomment-410933908","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1494","id":410933908,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDkzMzkwOA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T05:01:36Z","updated_at":"2018-08-07T05:01:36Z","author_association":"CONTRIBUTOR","body":"Hi @monica18p,\r\n\r\nThe replicated DB is a new copy. In the most general terms, it takes all the documents and attachments in the original DB (called the `source`) and puts them into a new DB (called the `target`). \r\n\r\nIf the replication is  a `continuous replication`, then the `source` is also then monitored for any new changes, and, if they are any, those change are copied to the `target` as well.\r\n\r\nHope this helps,\r\nCheers","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410933908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410936510","html_url":"https://github.com/apache/couchdb/issues/1399#issuecomment-410936510","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1399","id":410936510,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDkzNjUxMA==","user":{"login":"nerdvegas","id":1632842,"node_id":"MDQ6VXNlcjE2MzI4NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1632842?v=4","gravatar_id":"","url":"https://api.github.com/users/nerdvegas","html_url":"https://github.com/nerdvegas","followers_url":"https://api.github.com/users/nerdvegas/followers","following_url":"https://api.github.com/users/nerdvegas/following{/other_user}","gists_url":"https://api.github.com/users/nerdvegas/gists{/gist_id}","starred_url":"https://api.github.com/users/nerdvegas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nerdvegas/subscriptions","organizations_url":"https://api.github.com/users/nerdvegas/orgs","repos_url":"https://api.github.com/users/nerdvegas/repos","events_url":"https://api.github.com/users/nerdvegas/events{/privacy}","received_events_url":"https://api.github.com/users/nerdvegas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T05:20:19Z","updated_at":"2018-08-07T05:20:19Z","author_association":"NONE","body":"Hi,\n\nSetting max_history appears to have worked, thanks.\n\nAllan\n\n\nOn Wed, Jul 18, 2018 at 7:36 AM, Allan Johns <nerdvegas@gmail.com> wrote:\n\n> Hi,\n>\n> I'm going to be testing this out pretty soon, I will keep you posted.\n>\n> Thx\n> Allan\n>\n>\n> On Tue, Jul 17, 2018 at 11:38 PM, Nick Vatamaniuc <\n> notifications@github.com> wrote:\n>\n>> @nerdvegas <https://github.com/nerdvegas> did max_history and\n>> retries_per_request help solve the problem?\n>>\n>> â€”\n>> You are receiving this because you were mentioned.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/apache/couchdb/issues/1399#issuecomment-405584672>,\n>> or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/ABjqSi3r9ZRSF_po9jLwMET6SyRqqur0ks5uHei4gaJpZM4Uy3uf>\n>> .\n>>\n>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/410936510/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411035698","html_url":"https://github.com/apache/couchdb/issues/1471#issuecomment-411035698","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1471","id":411035698,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTAzNTY5OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T12:16:32Z","updated_at":"2018-08-07T12:16:32Z","author_association":"MEMBER","body":"@nicolas15000 you can't combine using short-name syntax and long-name syntax. You also can't use \"localhost\" because the other nodes can't reach the current node by that name.\r\n\r\nI don't know why you can't edit the `vm.args` files, but you need access to those to be able to set the correct node names on the `-name` line first. Without this step you will be unsuccessful.\r\n\r\nIf you are installing via debian/ubuntu/redhat package, you should be able to edit that file as root or the couchdb user. Once edited, restart the process.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411035698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411036812","html_url":"https://github.com/apache/couchdb/issues/1472#issuecomment-411036812","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1472","id":411036812,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTAzNjgxMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T12:20:59Z","updated_at":"2018-08-07T12:20:59Z","author_association":"MEMBER","body":"Confirmed: \r\n```\r\n$ curl -X PUT localhost:15984/abc\r\n{\"error\":\"file_exists\",\"reason\":\"The database could not be created, the file already exists.\"}\r\n$ curl -X POST -H \"Content-Type: application/json\" localhost:15984/abc/_index -d '{\"ddoc\":\"\", \"index\":{\"fields\": [\"food\"]}}'\r\n{\"result\":\"created\",\"id\":\"_design/\",\"name\":\"3c4336c43e5e1a54362c91818f3909a95ba10120\"}\r\n$ curl localhost:15984/abc/_design\r\n{\"error\":\"not_found\",\"reason\":\"missing\"}\r\n$ curl localhost:15984/abc/_design/\r\n{\"error\":\"not_found\",\"reason\":\"missing\"}\r\n$ curl localhost:15984/abc/_all_docs\r\n{\"total_rows\":3,\"offset\":0,\"rows\":[\r\n{\"id\":\"_design/\",\"key\":\"_design/\",\"value\":{\"rev\":\"1-b17f56e26b76133f3c9dc111f6222da6\"}},\r\n{\"id\":\"a\",\"key\":\"a\",\"value\":{\"rev\":\"1-73a83873149212c382ed9432f4df7b3a\"}},\r\n{\"id\":\"b\",\"key\":\"b\",\"value\":{\"rev\":\"1-0f07c7dbc9a29f0d0c2729f9c61f5411\"}}\r\n]}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411036812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411051563","html_url":"https://github.com/apache/couchdb/issues/1475#issuecomment-411051563","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1475","id":411051563,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA1MTU2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T13:15:10Z","updated_at":"2018-08-07T13:15:10Z","author_association":"MEMBER","body":"@empeje fyi we do have people replicating behind nginx, or with native SSL, and finding it works OK for them. I suspect all of your problems are specifically related to attachment usage.\r\n\r\nHave you had a chance to try the 2.2.0 RCs at all?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411051563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411073720","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-411073720","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":411073720,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA3MzcyMA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:21:15Z","updated_at":"2018-08-07T14:21:15Z","author_association":"MEMBER","body":"I think this branch is ready to go now.\r\nHere is some final performance testing. I have ran a perf test that would exaggerate this so we can measure. It is a database with 1 million docs that does a query that uses `_all_docs` but doesn't actually return a doc. So each query requires scanning through all the documents in the database. In the first screenshot is the test run on current master CouchDB. Each doc queried is streamed to the coordinator node for the final mango selector test.\r\n\r\n![current-couchdb](https://user-images.githubusercontent.com/179458/43781559-786b1868-9a5d-11e8-997a-801b10ed5686.png)\r\n\r\nThis is with this PR, each doc is checked at the node and only the documents that would match the selector would get streamed to the coordinator. In this test no docs would match the selector. As you can see the network activity is greatly reduced.\r\n![mango-pr](https://user-images.githubusercontent.com/179458/43781588-88f0785e-9a5d-11e8-9cd4-1ba0f34b3972.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411073720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411073933","html_url":"https://github.com/apache/couchdb/issues/1498#issuecomment-411073933","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1498","id":411073933,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA3MzkzMw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:21:47Z","updated_at":"2018-08-07T14:21:47Z","author_association":"MEMBER","body":"if multiple operation support is desirable, it's worth considering [JSON Patch](http://jsonpatch.com/) rather than inventing our own format.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411073933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411076962","html_url":"https://github.com/apache/couchdb/issues/1471#issuecomment-411076962","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1471","id":411076962,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA3Njk2Mg==","user":{"login":"estellederrien","id":17199283,"node_id":"MDQ6VXNlcjE3MTk5Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/17199283?v=4","gravatar_id":"","url":"https://api.github.com/users/estellederrien","html_url":"https://github.com/estellederrien","followers_url":"https://api.github.com/users/estellederrien/followers","following_url":"https://api.github.com/users/estellederrien/following{/other_user}","gists_url":"https://api.github.com/users/estellederrien/gists{/gist_id}","starred_url":"https://api.github.com/users/estellederrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estellederrien/subscriptions","organizations_url":"https://api.github.com/users/estellederrien/orgs","repos_url":"https://api.github.com/users/estellederrien/repos","events_url":"https://api.github.com/users/estellederrien/events{/privacy}","received_events_url":"https://api.github.com/users/estellederrien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:30:06Z","updated_at":"2018-08-07T14:32:20Z","author_association":"NONE","body":"Hello and thank you, I've done sudo root, then i still can't access vm.args, there is no way to do a chown or to do a chmod 777 on it.\r\n\r\n i have to abandon, there is no structured explanation on how to simply do a cluster with couchdb.\r\nI suppose it is simply impossible and nobody does it.\r\n\r\nthe graphical fauxton cluster creation doesnt work and there is no simple explanation on how to do it graphically, it never works.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411076962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411081400","html_url":"https://github.com/apache/couchdb/issues/1471#issuecomment-411081400","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1471","id":411081400,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA4MTQwMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:43:01Z","updated_at":"2018-08-07T14:43:01Z","author_association":"MEMBER","body":"There are literally tens of thousands of CouchDB clusters out there. Editing vm.args usually works fine. I'm sorry that we can't help you - you might want to try stopping by the IRC or Slack channels for more immediate support.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411081400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411081798","html_url":"https://github.com/apache/couchdb/issues/1498#issuecomment-411081798","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1498","id":411081798,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA4MTc5OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:44:14Z","updated_at":"2018-08-07T14:48:18Z","author_association":"MEMBER","body":"@willholley Care to discuss the differences between JSON Patch and the ones proposed by Paul and Jan in 2017? Sounded to me like JSON Pointer was something fairly well captured in RFC6901. Is it just multiple operations?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411081798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411085535","html_url":"https://github.com/apache/couchdb/issues/1254#issuecomment-411085535","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1254","id":411085535,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA4NTUzNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:54:21Z","updated_at":"2018-08-07T14:54:21Z","author_association":"MEMBER","body":"This is the destination of the original roadmap ticket, https://github.com/janl/couchdb-next/issues/19","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411085535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411087280","html_url":"https://github.com/apache/couchdb/issues/1511#issuecomment-411087280","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1511","id":411087280,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA4NzI4MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T14:59:10Z","updated_at":"2018-08-07T14:59:10Z","author_association":"MEMBER","body":"Worth saying here @davisp that if Mongo can get away with a 32MB limit, we could too.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411087280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411096271","html_url":"https://github.com/apache/couchdb/issues/1471#issuecomment-411096271","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1471","id":411096271,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA5NjI3MQ==","user":{"login":"estellederrien","id":17199283,"node_id":"MDQ6VXNlcjE3MTk5Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/17199283?v=4","gravatar_id":"","url":"https://api.github.com/users/estellederrien","html_url":"https://github.com/estellederrien","followers_url":"https://api.github.com/users/estellederrien/followers","following_url":"https://api.github.com/users/estellederrien/following{/other_user}","gists_url":"https://api.github.com/users/estellederrien/gists{/gist_id}","starred_url":"https://api.github.com/users/estellederrien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estellederrien/subscriptions","organizations_url":"https://api.github.com/users/estellederrien/orgs","repos_url":"https://api.github.com/users/estellederrien/repos","events_url":"https://api.github.com/users/estellederrien/events{/privacy}","received_events_url":"https://api.github.com/users/estellederrien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T15:24:12Z","updated_at":"2018-08-07T15:24:12Z","author_association":"NONE","body":"thank you a lot for your help, well, i guess i 've got to build 3 cent os machine and give it a new try ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411096271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411098537","html_url":"https://github.com/apache/couchdb/issues/1475#issuecomment-411098537","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1475","id":411098537,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA5ODUzNw==","user":{"login":"empeje","id":11813607,"node_id":"MDQ6VXNlcjExODEzNjA3","avatar_url":"https://avatars.githubusercontent.com/u/11813607?v=4","gravatar_id":"","url":"https://api.github.com/users/empeje","html_url":"https://github.com/empeje","followers_url":"https://api.github.com/users/empeje/followers","following_url":"https://api.github.com/users/empeje/following{/other_user}","gists_url":"https://api.github.com/users/empeje/gists{/gist_id}","starred_url":"https://api.github.com/users/empeje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/empeje/subscriptions","organizations_url":"https://api.github.com/users/empeje/orgs","repos_url":"https://api.github.com/users/empeje/repos","events_url":"https://api.github.com/users/empeje/events{/privacy}","received_events_url":"https://api.github.com/users/empeje/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T15:30:30Z","updated_at":"2018-08-07T15:30:30Z","author_association":"NONE","body":"@wohali @nickva we just do a little experiment a few days ago with `2.1.2` with this config\r\n\r\n```\r\n[log]\r\nwriter = file\r\nfile = /opt/couchdb/var/log/couch.log\r\n\r\n[chttpd]\r\nbind_address = any\r\n\r\n[httpd]\r\nbind_address = any\r\nenable_cors = true\r\nmax_http_request_size = 4294967296\r\n\r\n[couchdb]\r\nmax_document_size = 4294967296\r\nuuid = anuuid\r\n\r\n[replicator]\r\nsocket_options = [{keepalive, true}, {nodelay, false}]\r\ncheckpoint_interval = 5000\r\nuse_checkpoints = true\r\n\r\n[cors]\r\norigins = *\r\ncredentials = true\r\nmethods = GET, PUT, POST, HEAD, DELETE\r\nheaders = accept, authorization, content-type, origin, referer, x-csrf-token\r\n\r\n[couch_httpd_auth]\r\ntimeout = 1200\r\nusers_db_public = true\r\npublic_fields = name,firstName,middleName,lastName,roles,isUserAdmin,joinDate,email,phoneNumber,gender\r\nsecret = asecret\r\n\r\n```\r\n\r\nAnd we're able to replicate 1.5 GBs of attachment. I suspect there is some problem with my SSL setup.\r\n\r\nAnyway, I'll try the 2.2.0 RCs also. Thanks @wohali ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411098537/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411099151","html_url":"https://github.com/apache/couchdb/issues/1475#issuecomment-411099151","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1475","id":411099151,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA5OTE1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T15:32:12Z","updated_at":"2018-08-07T15:32:12Z","author_association":"MEMBER","body":"Closing as it sounds like it's not a CouchDB issue specifically - if you come up with something we can help with explicitly, let us know and we can re-open it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/411099151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]