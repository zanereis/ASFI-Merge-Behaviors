[{"url":"https://api.github.com/repos/apache/metron/issues/comments/533332429","html_url":"https://github.com/apache/metron/pull/1516#issuecomment-533332429","issue_url":"https://api.github.com/repos/apache/metron/issues/1516","id":533332429,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzMzMjQyOQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-19T22:28:51Z","updated_at":"2019-09-19T22:28:51Z","author_association":"CONTRIBUTOR","body":"- another idea would be for them to support multiple implementations with the builder and have a non-caching, distributed friendly version etc.\r\n\r\nAssuming the logic for using this way makes sense\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/533332429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/533439281","html_url":"https://github.com/apache/metron/pull/1509#issuecomment-533439281","issue_url":"https://api.github.com/repos/apache/metron/issues/1509","id":533439281,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzQzOTI4MQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T07:17:24Z","updated_at":"2019-09-20T07:17:24Z","author_association":"CONTRIBUTOR","body":"CI tests die due to 50 minute timeout.  Perhaps we should use some of the flags in the CI build?  :)","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/533439281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/533572093","html_url":"https://github.com/apache/metron/pull/1515#issuecomment-533572093","issue_url":"https://api.github.com/repos/apache/metron/issues/1515","id":533572093,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzU3MjA5Mw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T14:15:53Z","updated_at":"2019-09-20T14:15:53Z","author_association":"CONTRIBUTOR","body":"All smoke tests passed.  I updated the PR description with the tests I went through.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/533572093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/533591854","html_url":"https://github.com/apache/metron/pull/1515#issuecomment-533591854","issue_url":"https://api.github.com/repos/apache/metron/issues/1515","id":533591854,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzU5MTg1NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T15:06:27Z","updated_at":"2019-09-20T15:06:27Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/533591854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/533643192","html_url":"https://github.com/apache/metron/pull/1516#issuecomment-533643192","issue_url":"https://api.github.com/repos/apache/metron/issues/1516","id":533643192,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY0MzE5Mg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T17:29:51Z","updated_at":"2019-09-20T17:29:51Z","author_association":"CONTRIBUTOR","body":"Hey @merrimanr - We don't need the following changes on this PR.  I know these are just due to the iterations and changes I went through on #1515.  \r\n* metron-platform/metron-indexing/metron-indexing-storm/pom.xml\r\n* metron-platform/metron-enrichment/pom.xml\r\n* metron-stellar/stellar-zeppelin/pom.xml","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/533643192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/533648484","html_url":"https://github.com/apache/metron/pull/1516#issuecomment-533648484","issue_url":"https://api.github.com/repos/apache/metron/issues/1516","id":533648484,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzY0ODQ4NA==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T17:45:22Z","updated_at":"2019-09-20T17:45:22Z","author_association":"CONTRIBUTOR","body":"Ah makes sense @nickwallen.  Done with latest commit.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/533648484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/534076602","html_url":"https://github.com/apache/metron/pull/1514#issuecomment-534076602","issue_url":"https://api.github.com/repos/apache/metron/issues/1514","id":534076602,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDA3NjYwMg==","user":{"login":"tiborm","id":2437400,"node_id":"MDQ6VXNlcjI0Mzc0MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2437400?v=4","gravatar_id":"","url":"https://api.github.com/users/tiborm","html_url":"https://github.com/tiborm","followers_url":"https://api.github.com/users/tiborm/followers","following_url":"https://api.github.com/users/tiborm/following{/other_user}","gists_url":"https://api.github.com/users/tiborm/gists{/gist_id}","starred_url":"https://api.github.com/users/tiborm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiborm/subscriptions","organizations_url":"https://api.github.com/users/tiborm/orgs","repos_url":"https://api.github.com/users/tiborm/repos","events_url":"https://api.github.com/users/tiborm/events{/privacy}","received_events_url":"https://api.github.com/users/tiborm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T12:26:57Z","updated_at":"2019-09-23T12:26:57Z","author_association":"CONTRIBUTOR","body":"closing and opening to trigger new build","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/534076602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/534652334","html_url":"https://github.com/apache/metron/pull/1518#issuecomment-534652334","issue_url":"https://api.github.com/repos/apache/metron/issues/1518","id":534652334,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDY1MjMzNA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T17:02:05Z","updated_at":"2019-09-24T17:02:05Z","author_association":"CONTRIBUTOR","body":"Really nice to be able to clean that up! Looks good, +1. Thanks @nickwallen!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/534652334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/534704934","html_url":"https://github.com/apache/metron/pull/1496#issuecomment-534704934","issue_url":"https://api.github.com/repos/apache/metron/issues/1496","id":534704934,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDcwNDkzNA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T19:08:09Z","updated_at":"2019-09-24T19:08:09Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/534704934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/534763332","html_url":"https://github.com/apache/metron/pull/1501#issuecomment-534763332","issue_url":"https://api.github.com/repos/apache/metron/issues/1501","id":534763332,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDc2MzMzMg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-24T21:51:26Z","updated_at":"2019-09-24T21:51:26Z","author_association":"CONTRIBUTOR","body":"Hm, this doesn't appear to have made a difference on my machine. Am I missing something?\r\n\r\n2nd run with the new approach\r\n`mvn clean package -Pbuild-rpms -T 2C  15.87s user 11.44s system 3% cpu 14:53.15 total`\r\n\r\nMaster branch for Metron\r\n`mvn clean package -Pbuild-rpms -T 2C  15.55s user 12.85s system 3% cpu 14:40.47 total`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/534763332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/534891894","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-534891894","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":534891894,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDg5MTg5NA==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T07:28:45Z","updated_at":"2019-09-25T07:32:46Z","author_association":"CONTRIBUTOR","body":"I do a full dev install and followed \r\nhttps://github.com/apache/metron/blob/429c5eac55554496c967ca9f6e935f6e0b2d4781/metron-deployment/Kerberos-manual-setup.md\r\n\r\nUsed the following environment:\r\n```\r\nexport BROKERLIST=node1:6667\r\nexport KAFKA_HOME=/usr/hdp/3.1.4.0-315/kafka\r\nexport METRON_PRINCIPAL_NAME=metron@EXAMPLE.COM\r\nexport METRON_SERVICE_KEYTAB=/etc/security/keytabs/metron.headless.keytab \r\nexport CLIENT_JAAS_ARG=/etc/kafka/conf/kafka_client_jaas.conf\r\nexport KAFKA_SECURITY_PROTOCOL=SASL_PLAINTEXT\r\nexport ELASTICSEARCH=node1:9200\r\nexport KAFKA_OPTS=\"-Djava.security.auth.login.config=$CLIENT_JAAS_ARG\"\r\n```\r\nPlease note the KAFKA_OPTS variable suggested in the guide is wrong, it is a copy from the HDP page which is most likely to be a typo.\r\n\r\nThe check of the count in elasticsearch at the \"Push Data\" stage is misleading, as the guide does not delete the previous collection before enabling kerberos.  Repeating the \"add sample-bro.txt\" stage does not increase the document count.\r\n\r\nWas utilising `${KAFKA_HOME}/bin/kafka-consumer-groups.sh` to monitor Kafka activity by utilising the following recipe:\r\n1. Create file  `/home/metron/kafka.command.config` with content of\r\n```\r\nsecurity.protocol=SASL_PLAINTEXT\r\n```\r\n2. Run command  \r\n```\r\n${KAFKA_HOME}/bin/kafka-consumer-groups.sh --command-config=/home/metron/kafka.command.config  --bootstrap-server ${BROKERLIST} --describe --group bro_parser\r\n```\r\nThis showed nothing consuming from the bro topic.\r\n```\r\nConsumer group 'bro_parser' has no active members.\r\n\r\nTOPIC           PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG             CONSUMER-ID     HOST            CLIENT-ID\r\nbro             0          13536           13898           362             -               -               -\r\n[2019-09-25 04:45:03,310] WARN [Principal=null]: TGT renewal thread has been interrupted and will exit. (org.apache.kafka.common.security.kerberos.KerberosLogin)\r\n```\r\n\r\nFurther investigations reveals that storm workers are unable to communicate with ZK?\r\n```\r\n2019-2019-09-25 00:36:21.805 o.a.k.c.NetworkClient Thread-18-kafkaSpout-bro-executor[4 4] [WARN] [Consumer clientId=consumer-2, groupId=bro_parser] Connection to node 1001 could not be established. Broker may not be available.-\r\n25 00:36:21.906 o.a.k.c.NetworkClient Thread-12-kafkaSpout-yaf-executor[6 6] [WARN] [Consumer clientId=consumer-1, groupId=yaf_parser] Connection to node 1001 could not be established. Broker may not be available.\r\n2019-09-25 00:36:22.012 o.a.k.c.NetworkClient Thread-16-kafkaSpout-snort-executor[5 5] [WARN] [Consumer clientId=consumer-3, groupId=snort_parser] Connection to node 1001 could not be established. Broker may not be available.\r\n2019-09-25 00:36:22.053 o.a.s.s.o.a.z.ClientCnxn main-SendThread(node1:2181) [INFO] Opening socket connection to server node1/127.0.0.1:2181. Will not attempt to authenticate using SASL (unknown error)\r\n2019-09-25 00:36:22.053 o.a.s.s.o.a.z.ClientCnxn main-SendThread(node1:2181) [WARN] Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect\r\njava.net.ConnectException: Connection refused\r\n...java.lang.RuntimeException: (\"Error when processing an event\")\r\n        at org.apache.storm.util$exit_process_BANG_.doInvoke(util.clj:341) [storm-core-1.2.1.3.1.4.0-315.jar:1.2.1.3.1.4.0-315]\r\n        at clojure.lang.RestFn.invoke(RestFn.java:423) [clojure-1.7.0.jar:?]\r\n        at org.apache.storm.daemon.worker$mk_halting_timer$fn__10399.invoke(worker.clj:259) [storm-core-1.2.1.3.1.4.0-315.jar:1.2.1.3.1.4.0-315]\r\n        at org.apache.storm.timer$mk_timer$fn__1639$fn__1640.invoke(timer.clj:71) [storm-core-1.2.1.3.1.4.0-315.jar:1.2.1.3.1.4.0-315]\r\n        at org.apache.storm.timer$mk_timer$fn__1639.invoke(timer.clj:42) [storm-core-1.2.1.3.1.4.0-315.jar:1.2.1.3.1.4.0-315]\r\n        at clojure.lang.AFn.run(AFn.java:22) [clojure-1.7.0.jar:?]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_112]\r\n2019-09-25 00:36:22.191 o.a.s.d.worker Thread-21 [INFO] Shutting down worker bro__snort__yaf-4-1569366291 a0046483-4363-4209-b4e0-d1ad9f6deea2 6701\r\n2019-09-25 00:36:22.191 o.a.s.d.worker Thread-21 [INFO] Terminating messaging context\r\n2019-09-25 00:36:22.191 o.a.s.d.worker Thread-21 [INFO] Shutting down executors\r\n```\r\n\r\nTried back tracking through HDP/Storm/Kerberos docs to verify correct setup, but ran out of time.\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/534891894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/535056443","html_url":"https://github.com/apache/metron/pull/1518#issuecomment-535056443","issue_url":"https://api.github.com/repos/apache/metron/issues/1518","id":535056443,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTA1NjQ0Mw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T14:42:14Z","updated_at":"2019-09-25T14:42:14Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/535056443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/535193231","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-535193231","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":535193231,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTE5MzIzMQ==","user":{"login":"merrimanr","id":311928,"node_id":"MDQ6VXNlcjMxMTkyOA==","avatar_url":"https://avatars.githubusercontent.com/u/311928?v=4","gravatar_id":"","url":"https://api.github.com/users/merrimanr","html_url":"https://github.com/merrimanr","followers_url":"https://api.github.com/users/merrimanr/followers","following_url":"https://api.github.com/users/merrimanr/following{/other_user}","gists_url":"https://api.github.com/users/merrimanr/gists{/gist_id}","starred_url":"https://api.github.com/users/merrimanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrimanr/subscriptions","organizations_url":"https://api.github.com/users/merrimanr/orgs","repos_url":"https://api.github.com/users/merrimanr/repos","events_url":"https://api.github.com/users/merrimanr/events{/privacy}","received_events_url":"https://api.github.com/users/merrimanr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-25T20:13:47Z","updated_at":"2019-09-25T20:13:47Z","author_association":"CONTRIBUTOR","body":"@tigerquoll it's not clear to me which instructions you are following or where you are running into issues.  Do you mind providing a step-by-step description of what you've done and where things didn't work?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/535193231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/535447009","html_url":"https://github.com/apache/metron/pull/1501#issuecomment-535447009","issue_url":"https://api.github.com/repos/apache/metron/issues/1501","id":535447009,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTQ0NzAwOQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-26T10:44:05Z","updated_at":"2019-09-26T10:44:05Z","author_association":"CONTRIBUTOR","body":"That is a bit weird, I'll pull the branch and re-run my tests.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/535447009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/535799255","html_url":"https://github.com/apache/metron/pull/1501#issuecomment-535799255","issue_url":"https://api.github.com/repos/apache/metron/issues/1501","id":535799255,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTc5OTI1NQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T05:58:25Z","updated_at":"2019-09-27T05:58:25Z","author_association":"CONTRIBUTOR","body":"```\r\nCurrent master:\r\n------------------------------------------------------------------------\r\nReactor Summary for metron-deployment 0.7.2:\r\n\r\nmetron-deployment .................................. SUCCESS [  0.772 s]\r\nmetron-rpm ......................................... SUCCESS [14:15 min]\r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n------------------------------------------------------------------------\r\nTotal time:  14:16 min (Wall Clock)\r\nFinished at: 2019-09-27T12:34:58+10:00\r\n------------------------------------------------------------------------\r\n\r\nreal 14m22.823s\r\nuser 0m13.724s\r\nsys 0m9.627s\r\n\r\n\r\n\r\nPR - Second build:\r\n\r\n------------------------------------------------------------------------\r\nReactor Summary for metron-deployment 0.7.2:\r\n\r\nmetron-deployment .................................. SUCCESS [  0.895 s]\r\nmetron-rpm ......................................... SUCCESS [10:32 min]\r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n------------------------------------------------------------------------\r\nTotal time:  10:33 min (Wall Clock)\r\nFinished at: 2019-09-27T12:48:57+10:00\r\n------------------------------------------------------------------------\r\n\r\nreal 10m39.657s\r\nuser 0m13.474s\r\nsys 0m9.916s\r\n```\r\n\r\nAre you using a Mac for your testing?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/535799255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/535859018","html_url":"https://github.com/apache/metron/pull/1520#issuecomment-535859018","issue_url":"https://api.github.com/repos/apache/metron/issues/1520","id":535859018,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTg1OTAxOA==","user":{"login":"MohanDV","id":12934693,"node_id":"MDQ6VXNlcjEyOTM0Njkz","avatar_url":"https://avatars.githubusercontent.com/u/12934693?v=4","gravatar_id":"","url":"https://api.github.com/users/MohanDV","html_url":"https://github.com/MohanDV","followers_url":"https://api.github.com/users/MohanDV/followers","following_url":"https://api.github.com/users/MohanDV/following{/other_user}","gists_url":"https://api.github.com/users/MohanDV/gists{/gist_id}","starred_url":"https://api.github.com/users/MohanDV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohanDV/subscriptions","organizations_url":"https://api.github.com/users/MohanDV/orgs","repos_url":"https://api.github.com/users/MohanDV/repos","events_url":"https://api.github.com/users/MohanDV/events{/privacy}","received_events_url":"https://api.github.com/users/MohanDV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T09:07:23Z","updated_at":"2019-09-27T09:07:23Z","author_association":"CONTRIBUTOR","body":"@merrimanr I see below exception when I start the REST, it's looking for a znode `/hbase/hbaseid` where as I see it as `/hbase-unsecure/hbaseid` in my full dev\r\n\r\n`2019-09-27 12:59:55.685 ERROR 86632 --- [           main] o.a.h.h.z.RecoverableZooKeeper           : ZooKeeper exists failed after 4 attempts\r\n2019-09-27 12:59:55.703 ERROR 86632 --- [           main] o.a.h.h.z.ZooKeeperWatcher               : hconnection-0x4065456c0x0, quorum=localhost:2181, baseZNode=/hbase Received unexpected KeeperException, re-throwing exception\r\n\r\norg.apache.hadoop.hbase.shaded.org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /hbase/hbaseid\r\n\tat org.apache.hadoop.hbase.shaded.org.apache.zookeeper.KeeperException.create(KeeperException.java:99) ~[hbase-shaded-client-1.1.2.jar:1.1.2]\r\n\tat org.apache.hadoop.hbase.shaded.org.apache.zookeeper.KeeperException.create(KeeperException.java:51) ~[hbase-shaded-client-1.1.2.jar:1.1.2]` ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/535859018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/536046991","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-536046991","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":536046991,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjA0Njk5MQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T18:19:59Z","updated_at":"2019-10-01T15:26:22Z","author_association":"CONTRIBUTOR","body":"+1 I was able to kerberize successfully.  I am finding that running kerberized in the development environment with HDP 3.1 is a bit unstable due to limited resources in the VM.  This has always been a problem and requires a bit of massaging. \r\n\r\nHere are some brief notes on things I did to get this to work in our resource constrained dev environment.\r\n* Before you begin the kerberization wizard in Ambari stop all sensor stubs.\r\n    ```\r\n    systemctl stop sensor-stubs-bro\r\n    systemctl stop sensor-stubs-yaf\r\n    systemctl stop sensor-stubs-snort\r\n    ```\r\n\r\n* Elasticsearch will fail the service check after kerberization.  Its status will remain \"yellow\" due to resource constraints.  This will prevent the other services from being started automatically.  \r\n\r\n* When this service check fails, just close the kerberos wizard and continue on. Then manually restart the HDP and Metron services that you want to test.  Avoid starting anything that you don't need like YARN, etc.\r\n\r\n* Restart a single telemetry source to see telemetry flow end-to-end.  No need to run all 3 of the demo telemetry sources and this lightens the load a bit.\r\n    ```\r\n    systemctl start sensor-stubs-bro\r\n    ```\r\n\r\n* Shut-down  as many services as you can that are not directly in-use like YARN, MR, Profiler, Pcap, etc when trying to validate.\r\n\r\n@tigerquoll Might any of this help explain what might have happened in your environment?\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/536046991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/536060437","html_url":"https://github.com/apache/metron/pull/1501#issuecomment-536060437","issue_url":"https://api.github.com/repos/apache/metron/issues/1501","id":536060437,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjA2MDQzNw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-27T19:01:09Z","updated_at":"2019-09-27T19:01:09Z","author_association":"CONTRIBUTOR","body":"Here is what I am noticing with this change.\r\n\r\nIf I both build the code and create the RPMs, I see times of roughly 11 - 12 minutes for RPM creation consistently.  Said a different way, the first time I create the RPMs, it takes 11 -12 minutes.\r\n```\r\nmvn package -DskipTests -T 2C -P HDP-2.5.0.0,mpack\r\ncd metron-deployment/\r\n# this step takes 11 - 12 minutes\r\ntime mvn clean package -Pbuild-rpms -T 2C\r\n```\r\n\r\nNow, if I then attempt to create the RPMs again (without rebuilding the code), I do see improved times of roughly 8 - 9 minutes.\r\n```\r\nmvn package -DskipTests -T 2C -P HDP-2.5.0.0,mpack\r\ncd metron-deployment/\r\n\r\n# right after I built the code, this takes 11 - 12 minutes\r\ntime mvn clean package -Pbuild-rpms -T 2C\r\n\r\n# if I create the RPMs again, this takes 8 - 9 minutes\r\ntime mvn clean package -Pbuild-rpms -T 2C\r\n```\r\n\r\nI believe that once I do a mvn clean or rebuild the code, the next time I go about creating RPMs, it takes 11-12 minutes.  In master, no matter how I go about it, RPM creation takes 11 - 12 minutes.  \r\n\r\n@tigerquoll Why do you think this is?  Could the time savings here actually be from re-use of the phase 1 container?  Does the phase 1 container get removed after a clean?  \r\n\r\nI think your use of multi-stage Docker builds makes sense here, but I have not had a chance to dig-in to this enough to explain what I am seeing.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/536060437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/536562532","html_url":"https://github.com/apache/metron/pull/1520#issuecomment-536562532","issue_url":"https://api.github.com/repos/apache/metron/issues/1520","id":536562532,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjU2MjUzMg==","user":{"login":"MohanDV","id":12934693,"node_id":"MDQ6VXNlcjEyOTM0Njkz","avatar_url":"https://avatars.githubusercontent.com/u/12934693?v=4","gravatar_id":"","url":"https://api.github.com/users/MohanDV","html_url":"https://github.com/MohanDV","followers_url":"https://api.github.com/users/MohanDV/followers","following_url":"https://api.github.com/users/MohanDV/following{/other_user}","gists_url":"https://api.github.com/users/MohanDV/gists{/gist_id}","starred_url":"https://api.github.com/users/MohanDV/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MohanDV/subscriptions","organizations_url":"https://api.github.com/users/MohanDV/orgs","repos_url":"https://api.github.com/users/MohanDV/repos","events_url":"https://api.github.com/users/MohanDV/events{/privacy}","received_events_url":"https://api.github.com/users/MohanDV/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-30T13:32:55Z","updated_at":"2019-09-30T13:32:55Z","author_association":"CONTRIBUTOR","body":"+1 by verification, Thanks @merrimanr !!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/536562532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537249252","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-537249252","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":537249252,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzI0OTI1Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-01T21:53:51Z","updated_at":"2019-10-01T21:53:51Z","author_association":"CONTRIBUTOR","body":"A few brief notes:\r\n\r\n- In order to get around https://issues.apache.org/jira/browse/HBASE-22394 in our integration tests, we had to copy source files into our test dirs. I still need to document this and make it clear what the issue is.\r\n- I found a bug in the MR mode for the flatfile loader. Here's the stack trace:\r\n```\r\n2019-10-01 19:50:50,570 INFO [IPC Server handler 10 on 39246] org.apache.hadoop.mapred.TaskAttemptListenerImpl: Diagnostics report from attempt_1569879390951_0002_m_000000_1000: Error: org.codehaus.jackson.map.JsonMappingException: org.apache.metron.stellar.dsl.Context$Capabilities (through reference chain: org.apache.metron.dataloads.extractor.ExtractorHandler[\"extractor\"])\r\n\tat org.codehaus.jackson.map.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:345)\r\n\tat org.codehaus.jackson.map.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:328)\r\n\tat org.codehaus.jackson.map.deser.SettableBeanProperty$MethodProperty.set(SettableBeanProperty.java:424)\r\n\tat org.codehaus.jackson.map.deser.SettableBeanProperty$MethodProperty.deserializeAndSet(SettableBeanProperty.java:414)\r\n\tat org.codehaus.jackson.map.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:697)\r\n\tat org.codehaus.jackson.map.deser.BeanDeserializer.deserialize(BeanDeserializer.java:580)\r\n\tat org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2732)\r\n\tat org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1909)\r\n\tat org.apache.metron.dataloads.extractor.ExtractorHandler.load(ExtractorHandler.java:84)\r\n\tat org.apache.metron.dataloads.extractor.ExtractorHandler.load(ExtractorHandler.java:93)\r\n\tat org.apache.metron.dataloads.extractor.ExtractorHandler.load(ExtractorHandler.java:100)\r\n\tat org.apache.metron.dataloads.hbase.mr.BulkLoadMapper.initialize(BulkLoadMapper.java:60)\r\n\tat org.apache.metron.dataloads.hbase.mr.BulkLoadMapper.setup(BulkLoadMapper.java:45)\r\n\tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:143)\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:799)\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:347)\r\n\tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:174)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)\r\n\tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:168)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.metron.stellar.dsl.Context$Capabilities\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat org.apache.metron.dataloads.extractor.Extractors.create(Extractors.java:51)\r\n\tat org.apache.metron.dataloads.extractor.ExtractorHandler.setExtractor(ExtractorHandler.java:74)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.codehaus.jackson.map.deser.SettableBeanProperty$MethodProperty.set(SettableBeanProperty.java:422)\r\n\t... 18 more\r\n```\r\nI inspected the jar file for stellar-common included on the jar classpath and the class in question is there. Still investigating this. It's possible this is a regression in master as well.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537249252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537660369","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-537660369","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":537660369,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzY2MDM2OQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-02T20:13:05Z","updated_at":"2019-10-02T20:13:05Z","author_association":"CONTRIBUTOR","body":"Turns out this classpath issue is due to a combination of factors. In https://github.com/apache/metron/pull/1358/files#diff-1a76680a25447c0c0b3a245ce767b3f8L45 we removed the libjars option because of some classpath issues. This wasn't an issue at the time as metron-data-management was a fully self-contained uber jar. This changed in https://github.com/apache/metron/pull/1436/files#diff-1a76680a25447c0c0b3a245ce767b3f8R39 where stellar-common was pulled out into a separate dependency jar. Unfortunately, HADOOP_CLASSPATH only sets the classpath for the local client application, not the map and reduce task jvm classpaths. For that you need to use the libjars option to pass in the extra stellar jar. This was missed in testing and is a current regression in master.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537660369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537739067","html_url":"https://github.com/apache/metron/pull/1514#issuecomment-537739067","issue_url":"https://api.github.com/repos/apache/metron/issues/1514","id":537739067,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzczOTA2Nw==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T00:45:04Z","updated_at":"2019-10-03T00:45:04Z","author_association":"CONTRIBUTOR","body":"+1. This is really great work, @tiborm. This solves a major usability issue with the Alerts UI, and your description and testing instructions are straight forward and easy to understand.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537739067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537767880","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-537767880","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":537767880,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzc2Nzg4MA==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T03:23:31Z","updated_at":"2019-10-03T03:30:54Z","author_association":"CONTRIBUTOR","body":"Ok,\r\nI can get kerberos Metron processing data with this PR.  The jars and everything appear OK, it was the contained deployment instructions that were causing me grief.\r\n\r\nI had to deviate from the provided \"metron-deployment/Kerberos-manual-setup.md\" file in the following ways (Can somebody update the markup file in the PR or will there need to be a new PR for the markup changes?)\r\n\r\n### Initial environment:\r\nsource /etc/default/metron\r\nexport KAFKA_HOME=\"/usr/hdp/current/kafka-broker\"\r\nexport BROKERLIST=node1:6667\r\nexport HDP_HOME=\"/usr/hdp/current\"\r\nexport KAFKA_HOME=\"${HDP_HOME}/kafka-broker\"\r\nexport CLIENT_JAAS_ARG=/etc/kafka/conf/kafka_client_jaas.conf\r\nexport KAFKA_SECURITY_PROTOCOL=SASL_PLAINTEXT\r\nexport ELASTICSEARCH=node1:9200\r\nexport KAFKA_OPTS=\"-Djava.security.auth.login.config=$CLIENT_JAAS_ARG\"\r\n\r\n### Verify KDC\r\nStep 2:\r\nadd\r\nkinit metron \r\nbefore \r\nklist -f \r\n\r\n### Enable kerberos\r\nStep 3:\r\nmetron.headless.keytab appears to already be generated\r\nso add to start of step 3: \r\nrm metron.headless.keytab\r\nchange:\r\n cp metron.headless.keytab /etc/security/keytabs\r\nto:\r\n cp -n metron.headless.keytab /etc/security/keytabs\r\n\r\n### Kafka Authorization:\r\nThe Metron user does not have permissions to edit ACLs, The Kafka Service account does have permissions, so we can temporarily use that keytab to add ACLS.\r\n\r\nAdd to start of Step 3:\r\nexport CLIENT_JAAS_ARG=/etc/kafka/conf/kafka_jaas.conf\r\nexport KAFKA_OPTS=\"-Djava.security.auth.login.config=$CLIENT_JAAS_ARG\"\r\n\r\n### Storm Authoriszation\r\nAn additional step should be done before the others\r\n`su metron -`\r\n\r\nStep 7 requires root access\r\nso add\r\nexit\r\nid\r\n<confirm root account>\r\nsource /etc/default/metron\r\nbefore proceeding with the rest of the script\r\n\r\n### Start metron\r\n\r\nStep 1:\r\nadd source /etc/default/metron\r\n\r\n\r\n### Push Data\r\nremove\r\nexport KAFKA_OPTS=$CLIENT_JAAS_ARG\r\nAdd\r\nsource /etc/default/metron\r\nexport ELASTICSEARCH=node1:9200\r\nexport KAFKA_SECURITY_PROTOCOL=SASL_PLAINTEXT\r\nexport KAFKA_HOME=\"/usr/hdp/current/kafka-broker\"\r\nexport CLIENT_JAAS_ARG=/etc/kafka/conf/kafka_client_jaas.conf\r\nexport KAFKA_OPTS=\"-Djava.security.auth.login.config=$CLIENT_JAAS_ARG\"\r\n\r\nAdd \r\ncurl -XGET \"${ELASTICSEARCH}/bro*/_count\"\r\nbefore the dumping new sample data to kafka to get the count before hand for comparison purposes.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537767880/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537947404","html_url":"https://github.com/apache/metron/pull/1522#issuecomment-537947404","issue_url":"https://api.github.com/repos/apache/metron/issues/1522","id":537947404,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk0NzQwNA==","user":{"login":"justinleet","id":5077341,"node_id":"MDQ6VXNlcjUwNzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5077341?v=4","gravatar_id":"","url":"https://api.github.com/users/justinleet","html_url":"https://github.com/justinleet","followers_url":"https://api.github.com/users/justinleet/followers","following_url":"https://api.github.com/users/justinleet/following{/other_user}","gists_url":"https://api.github.com/users/justinleet/gists{/gist_id}","starred_url":"https://api.github.com/users/justinleet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinleet/subscriptions","organizations_url":"https://api.github.com/users/justinleet/orgs","repos_url":"https://api.github.com/users/justinleet/repos","events_url":"https://api.github.com/users/justinleet/events{/privacy}","received_events_url":"https://api.github.com/users/justinleet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T13:32:40Z","updated_at":"2019-10-03T13:33:45Z","author_association":"CONTRIBUTOR","body":"This is really great, I'm glad to see what we have improved on. +1 by inspection!\r\n\r\nAs a note, though, caching the isn't an attempt to avoid the build, it's to cache non-Metron dependencies across builds (which is why we actually drop the Metron artifacts from the local repo before caching).","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537947404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537955363","html_url":"https://github.com/apache/metron/pull/1479#issuecomment-537955363","issue_url":"https://api.github.com/repos/apache/metron/issues/1479","id":537955363,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk1NTM2Mw==","user":{"login":"tiborm","id":2437400,"node_id":"MDQ6VXNlcjI0Mzc0MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2437400?v=4","gravatar_id":"","url":"https://api.github.com/users/tiborm","html_url":"https://github.com/tiborm","followers_url":"https://api.github.com/users/tiborm/followers","following_url":"https://api.github.com/users/tiborm/following{/other_user}","gists_url":"https://api.github.com/users/tiborm/gists{/gist_id}","starred_url":"https://api.github.com/users/tiborm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiborm/subscriptions","organizations_url":"https://api.github.com/users/tiborm/orgs","repos_url":"https://api.github.com/users/tiborm/repos","events_url":"https://api.github.com/users/tiborm/events{/privacy}","received_events_url":"https://api.github.com/users/tiborm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T13:52:55Z","updated_at":"2019-10-03T13:52:55Z","author_association":"CONTRIBUTOR","body":"+1 (non-binding) Looks good. Thanks for taking care and increasing the coverage!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537955363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537959574","html_url":"https://github.com/apache/metron/pull/1522#issuecomment-537959574","issue_url":"https://api.github.com/repos/apache/metron/issues/1522","id":537959574,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk1OTU3NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T14:02:47Z","updated_at":"2019-10-03T14:02:47Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification @justinleet .","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537959574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537967163","html_url":"https://github.com/apache/metron/pull/1522#issuecomment-537967163","issue_url":"https://api.github.com/repos/apache/metron/issues/1522","id":537967163,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk2NzE2Mw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T14:21:15Z","updated_at":"2019-10-03T14:21:15Z","author_association":"CONTRIBUTOR","body":"Sorry I was late to this, my only comment is that we should document what we are doing here so nobody regresses it and it isn't some black art.\r\nI created https://issues.apache.org/jira/browse/METRON-2273","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537967163/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537968666","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-537968666","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":537968666,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk2ODY2Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T14:24:49Z","updated_at":"2019-10-03T14:24:49Z","author_association":"CONTRIBUTOR","body":"Good stuff @tigerquoll .  I'm glad we have your fresh eyes on this.  \r\n\r\nI would prefer if you submit your changes above as a separate PR, if you don't mind.  I think this PR is a net-positive and gets Kerberos working on the upgrade branch.  Your additions would go beyond what we have here and address many of the finer details of making Kerberos work in the development environment.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537968666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/537992952","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-537992952","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":537992952,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzk5Mjk1Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T15:21:39Z","updated_at":"2019-10-03T15:21:39Z","author_association":"CONTRIBUTOR","body":"@tigerquoll Would you mind creating a Jira ticket task in the feature branch epic along the lines of \"Enhance Kerberos instructions?\" I'm not sure some of these steps should be verbatim, e.g. the env vars. @nickwallen and @merrimanr seem to be making it through so it might make sense for us to verify these additional steps separately.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/537992952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538010790","html_url":"https://github.com/apache/metron/pull/1524#issuecomment-538010790","issue_url":"https://api.github.com/repos/apache/metron/issues/1524","id":538010790,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODAxMDc5MA==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T16:03:39Z","updated_at":"2019-10-03T16:03:39Z","author_association":"CONTRIBUTOR","body":"+1. Tested with Full Dev. This is a great catch, and I'm fully on-board with converting the ace editor directive to a component in the future to utilize onPush. In fact, I think a lot of our components could eventually be changed to onPush to improve performance, but I might be getting a little ahead of myself here. 😄 ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538010790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538044323","html_url":"https://github.com/apache/metron/pull/1519#issuecomment-538044323","issue_url":"https://api.github.com/repos/apache/metron/issues/1519","id":538044323,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODA0NDMyMw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T17:27:42Z","updated_at":"2019-10-03T17:27:42Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538044323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538045423","html_url":"https://github.com/apache/metron/pull/1514#issuecomment-538045423","issue_url":"https://api.github.com/repos/apache/metron/issues/1514","id":538045423,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODA0NTQyMw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T17:30:33Z","updated_at":"2019-10-03T17:30:33Z","author_association":"CONTRIBUTOR","body":"Thanks @tiborm! I took a spin through the code - the only request I would have is that you create any \"fixme\" jira tickets and link them back as inline code comments on this PR (just to be clear, link in github comment from clicking the \"plus\" sign, not an actual code comment in the source code). I'm +0 pending those ticket(s) being created and linked.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538045423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538150156","html_url":"https://github.com/apache/metron/pull/1525#issuecomment-538150156","issue_url":"https://api.github.com/repos/apache/metron/issues/1525","id":538150156,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODE1MDE1Ng==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-03T22:15:52Z","updated_at":"2019-10-03T22:15:52Z","author_association":"CONTRIBUTOR","body":"## Test Plan\r\n\r\nTaken from:\r\n1. Flatfile loader - https://github.com/apache/metron/pull/432#issuecomment-276733075\r\n2. Flatfile summarizer - https://github.com/apache/metron/tree/master/use-cases/typosquat_detection#summarize\r\n\r\n### Preliminaries\r\n\r\n* Spin up the dev environment for Centos 6 or 7\r\n* Run as root is fine\r\n* Root user needs a home dir in HDFS. You can do that as follows:\r\n```\r\nsudo -u hdfs hdfs dfs -mkdir /user/root\r\nsudo -u hdfs hdfs dfs -chown root:root /user/root\r\n```\r\n* Download the Alexa top 1m data set\r\n```\r\nwget http://s3.amazonaws.com/alexa-static/top-1m.csv.zip\r\nunzip top-1m.csv.zip\r\n```\r\n\r\n* Stage import file\r\n```\r\nhead -n 10000 top-1m.csv > top-10k.csv\r\nhdfs dfs -put top-10k.csv /tmp\r\n```\r\n\r\n* Truncate hbase\r\n```\r\necho \"truncate 'enrichment'\" | hbase shell\r\n```\r\n\r\n### Test the flatfile loader in MR mode\r\n\r\n* Create an extractor.json for the CSV data by editing `extractor.json` and pasting in these contents:\r\n```\r\n{\r\n  \"config\" : {\r\n    \"columns\" : {\r\n       \"domain\" : 1,\r\n       \"rank\" : 0\r\n                }\r\n    ,\"indicator_column\" : \"domain\"\r\n    ,\"type\" : \"alexa\"\r\n    ,\"separator\" : \",\"\r\n             },\r\n  \"extractor\" : \"CSV\"\r\n}\r\n```\r\n\r\n* Import from HDFS via MR\r\n```\r\n# import data into hbase \r\n$METRON_HOME/bin/flatfile_loader.sh -i /tmp/top-10k.csv -t enrichment -c t -e ./extractor.json -m MR\r\n# count data written and verify it's 10k\r\necho \"count 'enrichment'\" | hbase shell\r\n```\r\n\r\n### Test the flatfile summarizer in MR mode\r\n\r\n* Create an extractor-count.json file and paste the following:\r\n```\r\n{\r\n  \"config\" : {\r\n    \"columns\" : {\r\n       \"rank\" : 0,\r\n       \"domain\" : 1\r\n    },\r\n    \"value_transform\" : {\r\n       \"domain\" : \"DOMAIN_REMOVE_TLD(domain)\"\r\n    },\r\n    \"value_filter\" : \"LENGTH(domain) > 0\",\r\n    \"state_init\" : \"0L\",\r\n    \"state_update\" : {\r\n       \"state\" : \"state + LENGTH( DOMAIN_TYPOSQUAT( domain ))\"\r\n                     },\r\n    \"state_merge\" : \"REDUCE(states, (s, x) -> s + x, 0)\",\r\n    \"separator\" : \",\"\r\n  },\r\n  \"extractor\" : \"CSV\"\r\n}\r\n```\r\n\r\n* Create the summary from HDFS via MR\r\n```\r\n$METRON_HOME/bin/flatfile_summarizer.sh -i /tmp/top-10k.csv -e ~/extractor_count.json -p 5 -om CONSOLE -m MR\r\n```\r\n* Verify you see a count in the output similar to the following:\r\n```\r\nProcessing /root/top-10k.csv\r\n19/10/03 21:19:56 WARN resolver.BaseFunctionResolver: Using System classloader\r\nProcessed 9999 - \\\r\n3478276\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538150156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538190872","html_url":"https://github.com/apache/metron/pull/1525#issuecomment-538190872","issue_url":"https://api.github.com/repos/apache/metron/issues/1525","id":538190872,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODE5MDg3Mg==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T01:22:50Z","updated_at":"2019-10-04T01:25:37Z","author_association":"CONTRIBUTOR","body":"Confirmed working (with some minor tweaks to test plan the `-i` command seems to take a local file path rather then a HDFS path )\r\n\r\n```\r\n[root@node1 tmp]# $METRON_HOME/bin/flatfile_summarizer.sh -i /tmp/top-10k.csv -e ./extractor-count.json -p 5 -om CONSOLE -m MR\r\n19/10/04 01:19:48 WARN extractor.TransformFilterExtractorDecorator: Unable to setup zookeeper client - zk_quorum url not provided. **This will limit some Stellar functionality**\r\nProcessing /tmp/top-10k.csv\r\n19/10/04 01:19:49 WARN resolver.BaseFunctionResolver: Using System classloader\r\nProcessed 9999 - \\\r\n3473336\r\n```","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538190872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538288079","html_url":"https://github.com/apache/metron/pull/1526#issuecomment-538288079","issue_url":"https://api.github.com/repos/apache/metron/issues/1526","id":538288079,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODI4ODA3OQ==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T07:53:40Z","updated_at":"2019-10-04T07:53:40Z","author_association":"CONTRIBUTOR","body":"Ok, I could not get his one to work.\r\nSpun up a centos7 cluster (1 hour 45 minutes for a deployment :( ) and then kerberised it ok.\r\nThe followed the instructions at:\r\n  https://metron.apache.org/current-book/metron-platform/metron-solr/index.html\r\nWhich should have got solr up and running, unfortunately when restarted Metron in Ambari, I started getting:\r\n```\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.7.2/package/scripts/enrichment_master.py\", line 118, in <module>\r\n    Enrichment().execute()\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/script/script.py\", line 352, in execute\r\n    method(env)\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.7.2/package/scripts/enrichment_master.py\", line 110, in restart\r\n    from params import params\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.7.2/package/scripts/params/params.py\", line 27, in <module>\r\n    from params_linux import *\r\n  File \"/var/lib/ambari-agent/cache/common-services/METRON/0.7.2/package/scripts/params/params_linux.py\", line 266, in <module>\r\n    hostname_lowercase = config['hostname'].lower()\r\n  File \"/usr/lib/ambari-agent/lib/resource_management/libraries/script/config_dictionary.py\", line 73, in __getattr__\r\n    raise Fail(\"Configuration parameter '\" + self.name + \"' was not found in configurations dictionary!\")\r\nresource_management.core.exceptions.Fail: Configuration parameter 'hostname' was not found in configurations dictionary!\r\n``` \r\nI could use the metron solr collection scripts to create the various collections, and I could then log into http://node1:8983/solr/#/bro/query and see that the solr collections were created.\r\n\r\n\r\nAnd then I realised I could curl to the SOLR admin interface without any kerberos ticket \r\n```\r\nklist\r\nklist: No credentials cache found (filename: /tmp/krb5cc_0)\r\nset | grep SECURITY\r\nKAFKA_SECURITY_PROTOCOL=SASL_PLAINTEXT\r\nSECURITY_ENABLED=false./create_collection.sh yaf\r\n  adding: schema.xml (deflated 80%)\r\n  adding: solrconfig.xml (deflated 72%)\r\n{\r\n  \"responseHeader\":{\r\n    \"status\":0,\r\n    \"QTime\":16}}\r\n{\r\n  \"responseHeader\":{\r\n    \"status\":0,\r\n    \"QTime\":2731},\r\n  \"success\":{\r\n    \"10.0.2.15:7574_solr\":{\r\n      \"responseHeader\":{\r\n        \"status\":0,\r\n        \"QTime\":1368},\r\n      \"core\":\"yaf_shard1_replica_n1\"}}}\r\n```\r\nIs SOLR supposed to be kerberised as well?  \r\nI dug up some instructions at https://docs.cloudera.com/HDPDocuments/HDP3/HDP-3.1.4/managing-auditing/content/configuring_solrcloud_for_kerberos.html\r\nIs this supposed to be for lucidwork's distrubtion or well this work for the (I assume) apache solr-cloud distro?\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538288079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538353651","html_url":"https://github.com/apache/metron/pull/1525#issuecomment-538353651","issue_url":"https://api.github.com/repos/apache/metron/issues/1525","id":538353651,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODM1MzY1MQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T11:07:30Z","updated_at":"2019-10-04T11:07:30Z","author_association":"CONTRIBUTOR","body":"+1 Thanks for the fix.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538353651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538442254","html_url":"https://github.com/apache/metron/pull/1525#issuecomment-538442254","issue_url":"https://api.github.com/repos/apache/metron/issues/1525","id":538442254,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODQ0MjI1NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T15:18:38Z","updated_at":"2019-10-04T15:18:38Z","author_association":"CONTRIBUTOR","body":"> Confirmed working (with some minor tweaks to test plan the `-i` command seems to take a local file path rather then a HDFS path )\r\n> \r\n> ```\r\n> [root@node1 tmp]# $METRON_HOME/bin/flatfile_summarizer.sh -i /tmp/top-10k.csv -e ./extractor-count.json -p 5 -om CONSOLE -m MR\r\n> 19/10/04 01:19:48 WARN extractor.TransformFilterExtractorDecorator: Unable to setup zookeeper client - zk_quorum url not provided. **This will limit some Stellar functionality**\r\n> Processing /tmp/top-10k.csv\r\n> 19/10/04 01:19:49 WARN resolver.BaseFunctionResolver: Using System classloader\r\n> Processed 9999 - \\\r\n> 3473336\r\n> ```\r\n\r\nActually good to test both, thanks @tigerquoll ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538442254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538534905","html_url":"https://github.com/apache/metron/pull/1507#issuecomment-538534905","issue_url":"https://api.github.com/repos/apache/metron/issues/1507","id":538534905,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODUzNDkwNQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T19:41:57Z","updated_at":"2019-10-04T19:41:57Z","author_association":"CONTRIBUTOR","body":"I looked at the diff as follows - https://github.com/apache/metron/pull/1507/files/24f3b7198a18a89763d64b6b535f51a5235b7e78..908a26f5da80563acb271424d28736214867dfff\r\n\r\nThis isolated 4 commits with pertinent changes made in this merge PR.\r\n\r\n@sardell The only question I have is regarding the commented out tests.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538534905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/538936514","html_url":"https://github.com/apache/metron/pull/1526#issuecomment-538936514","issue_url":"https://api.github.com/repos/apache/metron/issues/1526","id":538936514,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODkzNjUxNA==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T10:18:36Z","updated_at":"2019-10-07T10:18:36Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nRan this up on a multi node kerberized solr cluster and I could see the `random_indexing_topology` comes up fine. Thanks for the fix @nickwallen !\r\n\r\nThese are the step I followed:\r\n* Deployed a 10-node cluster w/solr as indexing server\r\n* Followed the kerberization steps\r\n* At the end of the kerberization steps (during start services), verified that the `start_solr_topology.sh` script is able to bring up the RA Indexing topology fine.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/538936514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539037930","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539037930","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539037930,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTAzNzkzMA==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T14:26:11Z","updated_at":"2019-10-07T14:26:11Z","author_association":"CONTRIBUTOR","body":"Closing and opening it again to force Travis to re-run the tests.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539037930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539104822","html_url":"https://github.com/apache/metron/pull/1526#issuecomment-539104822","issue_url":"https://api.github.com/repos/apache/metron/issues/1526","id":539104822,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTEwNDgyMg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T16:51:24Z","updated_at":"2019-10-07T16:51:24Z","author_association":"CONTRIBUTOR","body":"> +1\r\n> \r\n> Ran this up on a multi node kerberized solr cluster and I could see the `random_indexing_topology` comes up fine. Thanks for the fix @nickwallen !\r\n> \r\n> These are the step I followed:\r\n> \r\n> * Deployed a 10-node cluster w/solr as indexing server\r\n> * Followed the kerberization steps\r\n> * At the end of the kerberization steps (during start services), verified that the `start_solr_topology.sh` script is able to bring up the RA Indexing topology fine.\r\n\r\n@anandsubbu Did you deviate in any way from the steps that @tigerquoll followed? Would be good to get an understanding of any gaps we potentially have here.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539104822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539229556","html_url":"https://github.com/apache/metron/pull/1526#issuecomment-539229556","issue_url":"https://api.github.com/repos/apache/metron/issues/1526","id":539229556,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTIyOTU1Ng==","user":{"login":"tigerquoll","id":8340922,"node_id":"MDQ6VXNlcjgzNDA5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/8340922?v=4","gravatar_id":"","url":"https://api.github.com/users/tigerquoll","html_url":"https://github.com/tigerquoll","followers_url":"https://api.github.com/users/tigerquoll/followers","following_url":"https://api.github.com/users/tigerquoll/following{/other_user}","gists_url":"https://api.github.com/users/tigerquoll/gists{/gist_id}","starred_url":"https://api.github.com/users/tigerquoll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tigerquoll/subscriptions","organizations_url":"https://api.github.com/users/tigerquoll/orgs","repos_url":"https://api.github.com/users/tigerquoll/repos","events_url":"https://api.github.com/users/tigerquoll/events{/privacy}","received_events_url":"https://api.github.com/users/tigerquoll/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T22:23:34Z","updated_at":"2019-10-07T22:23:34Z","author_association":"CONTRIBUTOR","body":"I suspect its probably due to me still being on the learning curve when it comes to Metron and kerberos.  @anandsubbu , where you following https://metron.apache.org/current-book/metron-platform/metron-solr/index.html to turn SOLR on, ir were you using some other means?   Is there an option to install Metron from scratch with SOLR?   Does a multi-node Metron install by default use lucid works SOLR?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539229556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539357351","html_url":"https://github.com/apache/metron/pull/1526#issuecomment-539357351","issue_url":"https://api.github.com/repos/apache/metron/issues/1526","id":539357351,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTM1NzM1MQ==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T06:20:26Z","updated_at":"2019-10-08T06:20:26Z","author_association":"CONTRIBUTOR","body":"@mmiklavc and @tigerquoll -\r\n\r\nI typically follow these steps on a multi-node cluster\r\n* Spin up bare metal VMs\r\n* Install ambari-server\r\n* Install metron mpack\r\n* Install the HDP-Search 4.0.0 mpack from [this link](http://public-repo-1.hortonworks.com/HDP-SOLR/hdp-solr-ambari-mp/solr-service-mpack-4.0.0.tar.gz)\r\n* Deploy the cluster\r\n\r\nOnce the cluster comes up, I follow the kerberization steps here - https://github.com/apache/metron/blob/master/metron-deployment/Kerberos-ambari-setup.md","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539357351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539420464","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539420464","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539420464,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTQyMDQ2NA==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T08:58:50Z","updated_at":"2019-10-08T08:58:50Z","author_association":"CONTRIBUTOR","body":"@tiborm @sardell is it really impossible to convert the value when we change between the query builder and manual mode? Now it does it but only for the first time. It seemed okay so we could just simply remove the if condition and let it convert all the time not just when the manual value doesn't have a value.\r\nI gave it a try and it seemed to be working however there was a weird Angular error what we have to get rid of obviously but the conversion worked fine.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539420464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539490845","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539490845","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539490845,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTQ5MDg0NQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T12:33:49Z","updated_at":"2019-10-08T12:33:49Z","author_association":"CONTRIBUTOR","body":"@ruffle1986 The reason I didn't implement a conversion back to the query builder from manual mode was because I wanted to keep things as simple as possible with the initial implementation. After a quick offline discussion with @merrimanr, I felt that there were a lot of possible edge cases that could arise from user input. In addition, we are doing some query manipulation on the front-end around the meta alerts that complicates things even more. But hey, I'm not against it converting back-and-forth if the effort isn't too great on your end.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539490845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539500257","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539500257","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539500257,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTUwMDI1Nw==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T12:57:35Z","updated_at":"2019-10-08T13:00:28Z","author_association":"CONTRIBUTOR","body":"@sardell The effort is huge already if you want to maintain the things around the query builder. I'm working on saving the manual query into local storage and I'm spending hours to figure what's going on. For the record, it has nothing to do with the conversion stuff. The main reason is having these things poorly implemented at the fundamentals. It's a good example why it hurts if we have multiple components and services tied together and everybody changes everybody's internal state.\r\nI would maintain the manual mode and the query builder separately in order to make it easier to focus on smaller chunks. Yes I understand that we're trying to re-use already existing code but I think it's a common mistake here and harmful to follow the DRY principle. We're adding more code in order to cover different edge cases and it's getting harder to maintain and understand.\r\nI highly recommend to allocate some time to refactor the \"search section\". I've also heard rumours about getting rid of the query builder and only allow users to type their own lucine queries manually.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539500257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539577508","html_url":"https://github.com/apache/metron/pull/1526#issuecomment-539577508","issue_url":"https://api.github.com/repos/apache/metron/issues/1526","id":539577508,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTU3NzUwOA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T15:47:55Z","updated_at":"2019-10-08T15:47:55Z","author_association":"CONTRIBUTOR","body":"This has been merged to the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539577508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539660768","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539660768","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539660768,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTY2MDc2OA==","user":{"login":"tiborm","id":2437400,"node_id":"MDQ6VXNlcjI0Mzc0MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2437400?v=4","gravatar_id":"","url":"https://api.github.com/users/tiborm","html_url":"https://github.com/tiborm","followers_url":"https://api.github.com/users/tiborm/followers","following_url":"https://api.github.com/users/tiborm/following{/other_user}","gists_url":"https://api.github.com/users/tiborm/gists{/gist_id}","starred_url":"https://api.github.com/users/tiborm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiborm/subscriptions","organizations_url":"https://api.github.com/users/tiborm/orgs","repos_url":"https://api.github.com/users/tiborm/repos","events_url":"https://api.github.com/users/tiborm/events{/privacy}","received_events_url":"https://api.github.com/users/tiborm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T19:15:07Z","updated_at":"2019-10-08T19:15:07Z","author_association":"CONTRIBUTOR","body":"@ruffle1986 @sardell Thanks for elaborating more on this and sharing more details. I believe this this change brings us closer to a desired state and beside that it covers the actual scope of METRON-2276. I suggest to create ticket(s) out of the followup steps of improvements and let this one in.  ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539660768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539717767","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539717767","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539717767,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTcxNzc2Nw==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T21:46:20Z","updated_at":"2019-10-09T15:42:10Z","author_association":"CONTRIBUTOR","body":"@ruffle1986 100% agree with everything you say, but I also agree with @tiborm that the proposal of this discussion is out of scope for METRON-2276. \r\n\r\n> I highly recommend to allocate some time to refactor the \"search section\"\r\n\r\nI'm on board with that. It's an area of pain for anyone who touches it. Feel free to start a discussion thread proposing how it should be refactored.\r\n\r\n> I've also heard rumours about getting rid of the query builder and only allow users to type their own lucine queries manually.\r\n\r\nThis has been mentioned offline as an idea between a few of us, but I don't think anything official has been proposed in a discussion thread yet. I guess it comes down to how much value does the query builder bring users. Maybe we can ask in the user mailing list and the Metron Slack channel to gauge out how important that feature is for users. If users don't find it helpful, I would definitely be on-board with getting rid of it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539717767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/539726514","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-539726514","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":539726514,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTcyNjUxNA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T22:15:39Z","updated_at":"2019-10-08T22:15:39Z","author_association":"CONTRIBUTOR","body":"Good discussion\r\n\r\n> Maybe we can ask in the user mailing list and the Metron Slack channel to gauge out how important that feature is for users. If users don't find it helpful, I would definitely be on-board with getting rid of it.\r\n\r\nThat's a great idea @sardell. I'd broadcast it to user and dev. Give it a few days and go from there. Search the mailing list for deprecation examples in the past.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/539726514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540160542","html_url":"https://github.com/apache/metron/pull/1507#issuecomment-540160542","issue_url":"https://api.github.com/repos/apache/metron/issues/1507","id":540160542,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDE2MDU0Mg==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T19:47:33Z","updated_at":"2019-10-09T19:47:33Z","author_association":"CONTRIBUTOR","body":"Ok, go for it +1. Thanks @sardell ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540160542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540197835","html_url":"https://github.com/apache/metron/pull/1528#issuecomment-540197835","issue_url":"https://api.github.com/repos/apache/metron/issues/1528","id":540197835,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDE5NzgzNQ==","user":{"login":"anandsubbu","id":20395490,"node_id":"MDQ6VXNlcjIwMzk1NDkw","avatar_url":"https://avatars.githubusercontent.com/u/20395490?v=4","gravatar_id":"","url":"https://api.github.com/users/anandsubbu","html_url":"https://github.com/anandsubbu","followers_url":"https://api.github.com/users/anandsubbu/followers","following_url":"https://api.github.com/users/anandsubbu/following{/other_user}","gists_url":"https://api.github.com/users/anandsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anandsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anandsubbu/subscriptions","organizations_url":"https://api.github.com/users/anandsubbu/orgs","repos_url":"https://api.github.com/users/anandsubbu/repos","events_url":"https://api.github.com/users/anandsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/anandsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T21:06:32Z","updated_at":"2019-10-09T21:06:32Z","author_association":"CONTRIBUTOR","body":"+1, thanks for fix @nickwallen !\r\n\r\nI spun up a 5 node Solr cluster, kerberized and was able to see data flowing all the way through without a problem. \r\n\r\nI did run into a different issue in the process where the enrichment topology--which was running on a non-metron node--did not have the kerberos set up properly. I had to `kinit` on all the nodes in order to get the enrichment topology running properly. This issue can be tracked and addressed separately, though.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540197835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540208150","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-540208150","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":540208150,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDIwODE1MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T21:28:10Z","updated_at":"2019-10-15T20:39:11Z","author_association":"CONTRIBUTOR","body":"## Testing\r\n\r\nAdapted from a few places\r\n* https://gist.github.com/nickwallen/ed67fdc8b399f6db5fa4901b07fc3fff\r\n* https://cwiki.apache.org/confluence/display/METRON/2016/04/25/Metron+Tutorial+-+Fundamentals+Part+1%3A+Creating+a+New+Telemetry\r\n\r\n### Preliminaries\r\n\r\nTest using the centos7 development environment.  \r\n\r\n* Start up the centos7 dev environment.\r\n    ```\r\n    cd metron-deployment/development/centos7\r\n    vagrant destroy -f\r\n    vagrant up\r\n    # ssh into the box as root@node1, pwd=vagrant\r\n    ```\r\n\r\n* Run as root is fine\r\n* Set env vars\r\n```\r\nsource /etc/default/metron\r\n```\r\n* Root user needs a home dir in HDFS. You can do that as follows:\r\n```\r\nsudo -u hdfs hdfs dfs -mkdir /user/root\r\nsudo -u hdfs hdfs dfs -chown root:root /user/root\r\n```\r\n* Download the Alexa top 1m data set\r\n```\r\ncd ~/\r\nwget http://s3.amazonaws.com/alexa-static/top-1m.csv.zip\r\nunzip top-1m.csv.zip\r\n```\r\n\r\n* Stage import file\r\n```\r\nhead -n 10000 top-1m.csv > top-10k.csv\r\nhdfs dfs -put top-10k.csv /tmp\r\n```\r\n\r\n* Truncate hbase\r\n```\r\necho \"truncate 'enrichment'\" | hbase shell\r\n```\r\n\r\n### Basic Indexing and Enrichment\r\n\r\nEnsure that we can continue to parse, enrich, and index telemetry.  Verify data is flowing through the system, from parsing to indexing\r\n\r\n1. Open Ambari and navigate to the Metron service http://node1:8080/#/main/services/METRON/summary\r\n\r\n1. Open the Alerts UI.  Verify alerts show up in the main UI - click the search icon (you may need to wait a moment for them to appear)\r\n\r\n1. Go to the Alerts UI and ensure that an ever increasing number of telemetry from Bro, Snort, and YAF are visible by watching the total alert count increase over time.\r\n\r\n1. Ensure that geoip enrichment is occurring.  The telemetry should contain fields like `enrichments:geo:ip_src_addr:location_point`.\r\n\r\n1. Head back to Ambari and select the Kibana service http://node1:8080/#/main/services/KIBANA/summary\r\n\r\n1. Open the Kibana dashboard via the \"Metron UI\" option in the quick links\r\n\r\n1. Verify the dashboard is populating\r\n\r\n### Batch Indexing\r\n\r\n1. Use the Alerts UI to retrieve a rough count of the number of Bro messages that have been indexed.\r\n\r\n1. Retrieve the number of Bro messages that have been indexed in HDFS.\r\n    ```\r\n    [root@node1 0.7.2]# hdfs dfs -cat /apps/metron/indexing/indexed/bro/* | wc -l\r\n    2785\r\n    ```\r\n\r\n1. The number of messages indexed in HDFS should be close to the number indexed to the search indices.\r\n\r\n###  Streaming Enrichments\r\n\r\nAdapted from the [Metron Tutorial Series](https://cwiki.apache.org/confluence/display/METRON/2016/06/16/Metron+Tutorial+-+Fundamentals+Part+6%3A+Streaming+Enrichment).\r\n\r\n  1. Launch the Stellar REPL.\r\n      ```\r\n      cd $METRON_HOME\r\n      $METRON_HOME/bin/stellar -z $ZOOKEEPER\r\n      ```\r\n\r\n  1. Define the streaming enrichment and save it as a new source of telemetry.\r\n\r\n      ```\r\n      [Stellar]>>> conf := SHELL_EDIT(conf)\r\n      {\r\n        \"parserClassName\": \"org.apache.metron.parsers.csv.CSVParser\",\r\n        \"writerClassName\": \"org.apache.metron.writer.hbase.SimpleHbaseEnrichmentWriter\",\r\n        \"sensorTopic\": \"user\",\r\n        \"parserConfig\": {\r\n          \"shew.table\": \"enrichment\",\r\n          \"shew.cf\": \"t\",\r\n          \"shew.keyColumns\": \"ip\",\r\n          \"shew.enrichmentType\": \"user\",\r\n          \"columns\": {\r\n            \"user\": 0,\r\n            \"ip\": 1\r\n          }\r\n        }\r\n      }\r\n      [Stellar]>>>\r\n      [Stellar]>>> CONFIG_PUT(\"PARSER\", conf, \"user\")\r\n      ```\r\n\r\n  1. Go to the Management UI and start the new parser called 'user'.\r\n\r\n  1. Create some test telemetry.\r\n      ```\r\n      [Stellar]>>> msgs := [\"user1,192.168.1.1\", \"user2,192.168.1.2\", \"user3,192.168.1.3\"]\r\n      [user1,192.168.1.1, user2,192.168.1.2, user3,192.168.1.3]\r\n      [Stellar]>>> KAFKA_PUT(\"user\", msgs)\r\n      3\r\n      [Stellar]>>> KAFKA_PUT(\"user\", msgs)\r\n      3\r\n      [Stellar]>>> KAFKA_PUT(\"user\", msgs)\r\n      3\r\n      ```\r\n\r\n  1. Ensure that the enrichments are persisted in HBase.\r\n      ```\r\n      [Stellar]>>> ENRICHMENT_GET('user', '192.168.1.1', 'enrichment', 't')\r\n      {original_string=user1,192.168.1.1, guid=a6caf3c1-2506-4eb7-b33e-7c05b77cd72c, user=user1, timestamp=1551813589399, source.type=user}\r\n\r\n      [Stellar]>>> ENRICHMENT_GET('user', '192.168.1.2', 'enrichment', 't')\r\n      {original_string=user2,192.168.1.2, guid=49e4b8fa-c797-44f0-b041-cfb47983d54a, user=user2, timestamp=1551813589399, source.type=user}\r\n\r\n      [Stellar]>>> ENRICHMENT_GET('user', '192.168.1.3', 'enrichment', 't')\r\n      {original_string=user3,192.168.1.3, guid=324149fd-6c4c-42a3-b579-e218c032ea7f, user=user3, timestamp=1551813589402, source.type=user}\r\n      ```\r\n\r\n### Enrichment Coprocessor\r\n\r\n  1. Confirm that the 'user' enrichment added in the previous section was 'found' by the coprocessor.\r\n        * Go to Swagger. \r\n        * Click the `sensor-enrichment-config-controller` option.\r\n        * Click the `GET /api/v1/sensor/enrichment/config/list/available/enrichments` option.\r\n\r\n  1. Click the \"Try it out!\" button. You should see an array returned with the value of each enrichment type that you have loaded.\r\n    ```\r\n    [\r\n      \"user\"\r\n    ]\r\n    ```\r\n\r\n### Enrichment Stellar Functions in Storm\r\n\r\n  Adapted from (https://cwiki.apache.org/confluence/display/METRON/2016/04/28/Metron+Tutorial+-+Fundamentals+Part+2%3A+Creating+a+New+Enrichment) to load\r\n  the user data.\r\n\r\n  1. Create a simple file called `user.csv`.\r\n    ```\r\n    jdoe,192.168.138.2,\r\n    moredoe,192.168.138.158\r\n    ```\r\n    \r\n  1. Create a file called `user-extractor.json`.\r\n      ```\r\n      {\r\n        \"config\": {\r\n          \"columns\": {\r\n            \"user\": 0,\r\n            \"ip\": 1\r\n          },\r\n          \"indicator_column\": \"ip\",\r\n          \"separator\": \",\",\r\n          \"type\": \"user\"\r\n        },\r\n        \"extractor\": \"CSV\"\r\n      }\r\n      ```\r\n\r\n  1. Import the data.\r\n      ```\r\n      source /etc/default/metron\r\n      $METRON_HOME/bin/flatfile_loader.sh -i ./user.csv -t enrichment -c t -e ./user-extractor.json\r\n      ```\r\n\r\n  1. Validate that the enrichment loaded successfully.\r\n      ```\r\n      [root@node1 0.7.2]# source /etc/default/metron\r\n      [root@node1 0.7.2]# $METRON_HOME/bin/stellar -z $ZOOKEEPER\r\n      \r\n      [Stellar]>>> ip_src_addr := \"192.168.138.158\"\r\n      192.168.138.158\r\n      \r\n      [Stellar]>>> ENRICHMENT_GET('user', ip_src_addr, 'enrichment', 't')\r\n      {ip=192.168.138.158, user=moredoe}\r\n\r\n      [Stellar]>>> ip_dst_addr := \"192.168.138.2\"\r\n      192.168.138.2\r\n      \r\n      [Stellar]>>> ENRICHMENT_GET('user', ip_dst_addr, 'enrichment', 't')\r\n      {ip=192.168.138.2, user=jdoe}\r\n      ```\r\n\r\n  1. Use the User data to enrich the telemetry.  Run the following commands in the REPL.\r\n      ```\r\n      [Stellar]>>> bro := SHELL_EDIT()\r\n      {\r\n       \"enrichment\" : {\r\n         \"fieldMap\": {\r\n           \"stellar\" : {\r\n             \"config\" : {\r\n               \"users\" : \"ENRICHMENT_GET('user', ip_dst_addr, 'enrichment', 't')\",\r\n               \"users2\" : \"ENRICHMENT_GET('user', ip_src_addr, 'enrichment', 't')\"\r\n             }\r\n           }\r\n         }\r\n       },\r\n       \"threatIntel\": {\r\n         \"fieldMap\": {},\r\n         \"fieldToTypeMap\": {}\r\n       }\r\n      }\r\n      [Stellar]>>> CONFIG_PUT(\"ENRICHMENT\", bro, \"bro\")\r\n      ```\r\n\r\n  1. Wait for the new configuration to be picked up by the running topology.\r\n\r\n  1. Review the Bro telemetry indexed into Elasticsearch.  Look for records where the `ip_dst_addr` is `192.168.138.2`. Ensure that some of the messages have the following fields created from the enrichment. (Wait a few minutes longer and you should also eventually start to see records with fields `\"users2:user\": \"moredoe\"`).\r\n      * `users:user`\r\n      * `users:ip`\r\n      ```\r\n      {\r\n        \"_index\": \"bro_index_2019.08.13.20\",\r\n        \"_type\": \"bro_doc\",\r\n        \"_id\": \"AWyMxSJFg1bv3MpSt284\",\r\n        ...\r\n        \"_source\": {          \r\n          \"ip_dst_addr\": \"192.168.138.2\",\r\n          \"ip_src_addr\": \"192.168.138.158\",\r\n          \"timestamp\": 1565729823979,\r\n          \"source:type\": \"bro\",\r\n          \"guid\": \"6778beb4-569d-478f-b1c9-8faaf475ac2f\"\r\n          ...\r\n          \"users:user\": \"jdoe\",\r\n          \"users:ip\": \"192.168.138.2\",\r\n          ...\r\n        },\r\n        ...\r\n      }\r\n      ```\r\n\r\n### Loaders and Summarizers in MR mode\r\n\r\n#### Test the flatfile loader in MR mode\r\n\r\n* Create an extractor.json for the CSV data by editing `extractor.json` and pasting in these contents:\r\n```\r\n{\r\n  \"config\" : {\r\n    \"columns\" : {\r\n       \"domain\" : 1,\r\n       \"rank\" : 0\r\n                }\r\n    ,\"indicator_column\" : \"domain\"\r\n    ,\"type\" : \"alexa\"\r\n    ,\"separator\" : \",\"\r\n             },\r\n  \"extractor\" : \"CSV\"\r\n}\r\n```\r\n\r\n* Import from HDFS via MR\r\n```\r\n# import data into hbase \r\n$METRON_HOME/bin/flatfile_loader.sh -i /tmp/top-10k.csv -t enrichment -c t -e ./extractor.json -m MR\r\n# count data written and verify it's 10k\r\necho \"count 'enrichment'\" | hbase shell\r\n```\r\n\r\n#### Test the flatfile summarizer in MR mode\r\n\r\n* Create an extractor-count.json file and paste the following:\r\n```\r\n{\r\n  \"config\" : {\r\n    \"columns\" : {\r\n       \"rank\" : 0,\r\n       \"domain\" : 1\r\n    },\r\n    \"value_transform\" : {\r\n       \"domain\" : \"DOMAIN_REMOVE_TLD(domain)\"\r\n    },\r\n    \"value_filter\" : \"LENGTH(domain) > 0\",\r\n    \"state_init\" : \"0L\",\r\n    \"state_update\" : {\r\n       \"state\" : \"state + LENGTH( DOMAIN_TYPOSQUAT( domain ))\"\r\n                     },\r\n    \"state_merge\" : \"REDUCE(states, (s, x) -> s + x, 0)\",\r\n    \"separator\" : \",\"\r\n  },\r\n  \"extractor\" : \"CSV\"\r\n}\r\n```\r\n\r\n* Create the summary from HDFS via MR\r\n```\r\n$METRON_HOME/bin/flatfile_summarizer.sh -i /tmp/top-10k.csv -e ~/extractor_count.json -p 5 -om CONSOLE -m MR\r\n```\r\n* Verify you see a count in the output similar to the following:\r\n```\r\nProcessing /root/top-10k.csv\r\n19/10/03 21:19:56 WARN resolver.BaseFunctionResolver: Using System classloader\r\nProcessed 9999 - \\\r\n3478276\r\n```\r\n\r\n### Legacy HBase Adapter\r\n\r\nWe are going to perform the same enrichment, but instead using the legacy HBase Adapter.\r\n\r\n  1. Use the User data to enrich the telemetry.  Run the following commands in the REPL.\r\n      ```\r\n      [Stellar]>>> yaf := SHELL_EDIT()\r\n      {\r\n        \"enrichment\" : {\r\n          \"fieldMap\" : {\r\n            \"hbaseEnrichment\" : [ \"ip_dst_addr\" ]\r\n          },\r\n          \"fieldToTypeMap\" : {\r\n             \"ip_dst_addr\" : [ \"user\" ]\r\n          },\r\n          \"config\" : {\r\n            \"typeToColumnFamily\" : {\r\n              \"user\" : \"t\"\r\n            }\r\n          }\r\n        },\r\n        \"threatIntel\" : { },\r\n        \"configuration\" : { }\r\n      }\r\n      [Stellar]>>> CONFIG_PUT(\"ENRICHMENT\", yaf, \"yaf\")\r\n      ```\r\n    \r\n  1. Wait for the new configuration to be picked up by the running topology.\r\n\r\n  1. Review the YAF telemetry indexed into Elasticsearch.  Look for records where the `ip_dst_addr` is `192.168.138.2`. Ensure that some of the messages have the following fields created from the enrichment.\r\n      * `enrichments:hbaseEnrichment:ip_dst_addr:user:ip`\r\n      * `enrichments:hbaseEnrichment:ip_dst_addr:user:user`\r\n      ```\r\n      {\r\n        \"_index\": \"yaf_index_2019.08.15.03\",\r\n        \"_type\": \"yaf_doc\",\r\n        \"_id\": \"AWyTZAwEIFY9jxc2THLF\",\r\n        \"_version\": 1,\r\n        \"_score\": null,\r\n        \"_source\": {\r\n          \"source:type\": \"yaf\",\r\n          \"ip_dst_addr\": \"192.168.138.2\",\r\n          \"ip_src_addr\": \"192.168.138.158\",\r\n          \"guid\": \"6c73c09d-f099-4646-b653-762adce121fe\",\r\n          ...\r\n          \"enrichments:hbaseEnrichment:ip_dst_addr:user:ip\": \"192.168.138.2\",\r\n          \"enrichments:hbaseEnrichment:ip_dst_addr:user:user\": \"jdoe\",\r\n        }\r\n      }\r\n      ```   \r\n### Profiler\r\n\r\n#### Profiler in the REPL\r\n\r\n1. Test a profile in the REPL according to [these instructions](https://github.com/apache/metron/tree/master/metron-analytics/metron-profiler-repl#getting-started).\r\n\r\n    ```\r\n    [Stellar]>>> values := PROFILER_FLUSH(profiler)\r\n    [{period={duration=900000, period=1723089, start=1550780100000, end=1550781000000}, profile=hello-world, groups=[], value=4, entity=192.168.138.158}]\r\n    ```\r\n\r\n#### Streaming Profiler\r\n \r\n1. Deploy that profile to the Streaming Profiler in Storm.\r\n\r\n    ```\r\n    [Stellar]>>> CONFIG_PUT(\"PROFILER\", conf)\r\n    ```\r\n\r\n1. Wait for the Streaming Profiler in Storm to flush and retrieve the measurement from HBase.  \r\n\r\n    For the impatient, you can reset the period duration to 1 minute. Alternatively, you can allow the Profiler topology to work for a minute or two and then kill the `profiler` topology which will force it to flush a profile measurement to HBase.\r\n\r\n    Retrieve the measurement from HBase.  Prior to this PR, it was not possible to query HBase from the REPL.\r\n    ```\r\n    [Stellar]>>> PROFILE_GET(\"hello-world\",\"192.168.138.158\",PROFILE_FIXED(30,\"DAYS\"))\r\n    [2979]\r\n    ```\r\n\r\n#### Batch Profiler\r\n\r\n1. Install Spark using Ambari.\r\n\r\n    1. Stop Storm, YARN, Elasticsearch, Kibana, and Kafka.\r\n\r\n    1. Install Spark2 using Ambari.\r\n\r\n    1. Ensure that Spark can talk with HBase.\r\n        ```\r\n        cp /etc/hbase/conf/hbase-site.xml /etc/spark2/conf/\r\n        ```\r\n\r\n1. Use the Batch Profiler to back-fill your profile.  To do this, follow the direction [provided here](https://github.com/apache/metron/tree/master/metron-analytics/metron-profiler-spark#getting-started).\r\n\r\n1. Retrieve the entire profile, including the back-filled data.\r\n\r\n    ```\r\n    [Stellar]>>> PROFILE_GET(\"hello-world\",\"192.168.138.158\",PROFILE_FIXED(30,\"DAYS\"))\r\n    [1203, 2849, 2900, 1944, 1054, 1241, 1721]\r\n    ```\r\n\r\n### PCAP\r\n\r\nPulled from https://github.com/apache/metron/pull/1157#issuecomment-412972370\r\n\r\nGet PCAP data into Metron: \r\n1. Install and setup pycapa (this has been updated in master recently) - https://github.com/apache/metron/blob/master/metron-sensors/pycapa/README.md#centos-6\r\n2. (if using singlenode vagrant) Kill the enrichment, profiler, indexing, and sensor topologies via `for i in bro enrichment random_access_indexing batch_indexing yaf snort;do storm kill $i;done`\r\n3. Start the pcap topology via $METRON_HOME/bin/start_pcap_topology.sh\r\n4. Start the pycapa packet capture producer on eth1\r\n```\r\ncd /opt/pycapa/pycapa-venv/bin\r\npycapa --producer --kafka-topic pcap --interface eth1 --kafka-broker $BROKERLIST\r\n```\r\n5. Watch the topology in the Storm UI and kill the packet capture utility started earlier when the number of packets ingested is over 3k.\r\n6. You can leave your virtualenv session now via `deactivate`\r\n7. Ensure that at at least 3 files exist on HDFS by running `hdfs dfs -ls /apps/metron/pcap/input`\r\n8. Choose a file (denoted by $FILE) and dump a few of the contents using the pcap_inspector utility\r\n```\r\nFILE=<file path in hdfs>\r\n$METRON_HOME/bin/pcap_inspector.sh -i $FILE -n 5\r\n```\r\n9. Choose one of the lines in your output and note the protocol. e.g.\r\n```\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.1,ip_src_port: 60911,ip_dst_addr: 192.168.66.121,ip_dst_port: 8080,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.121,ip_src_port: 8080,ip_dst_addr: 192.168.66.1,ip_dst_port: 60911,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.121,ip_src_port: 8080,ip_dst_addr: 192.168.66.1,ip_dst_port: 60911,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.121,ip_src_port: 8080,ip_dst_addr: 192.168.66.1,ip_dst_port: 60911,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.1,ip_src_port: 60911,ip_dst_addr: 192.168.66.121,ip_dst_port: 8080,protocol: 6\r\n```\r\n\r\n**Note** when you run the fixed and query filter commands below, the resulting file will be placed in the execution directory where you kicked off the job from.\r\n\r\n#### Fixed filter\r\n\r\n1. Run a fixed filter query by executing the following command with the values noted above (match your start_time format to the date format provided - default is to use millis since epoch)\r\n2. `cd ~/; $METRON_HOME/bin/pcap_query.sh fixed -st <start_time> -df \"yyyyMMdd\" -p <protocol_num> -rpf 500`\r\n3. Verify the MR job finishes successfully. Upon completion, you should see multiple files named with relatively current datestamps in your current directory, e.g. pcap-data-20160617160549737+0000.pcap\r\n4. Copy the files to your local machine and verify you can them it in Wireshark. I chose a middle file and the last file. The middle file should have 500 records (per the records_per_file option), and the last one will likely have a number of records <= 500.\r\n\r\n#### Query filter\r\n\r\n1. Run a Stellar query filter query by executing a command similar to the following, with the values noted above (match your start_time format to the date format provided - default is to use millis since epoch)\r\n2. `$METRON_HOME/bin/pcap_query.sh query -st \"20160617\" -df \"yyyyMMdd\" -query \"protocol == '6'\"  -rpf 500`\r\n3. Verify the MR job finishes successfully. Upon completion, you should see multiple files named with relatively current datestamps in your current directory, e.g. pcap-data-20160617160549737+0000.pcap\r\n4. Copy the files to your local machine and verify you can them it in Wireshark. I chose a middle file and the last file. The middle file should have 500 records (per the records_per_file option), and the last one will likely have a number of records <= 500.\r\n\r\n### MaaS\r\n\r\nFollow the Example from this README - https://github.com/apache/metron/tree/master/metron-analytics/metron-maas-service#example\r\n\r\nUpdated MaaS testing should follow from https://github.com/apache/metron/pull/1536","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540208150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540209080","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-540209080","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":540209080,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDIwOTA4MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T21:30:24Z","updated_at":"2019-10-09T21:30:24Z","author_association":"CONTRIBUTOR","body":"Almost finished with testing. Ran into a Stellar classpath issue in the PCAP query jobs. This looks like another bug that is also in master missed during testing for https://github.com/apache/metron/pull/1436","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540209080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540488227","html_url":"https://github.com/apache/metron/pull/1530#issuecomment-540488227","issue_url":"https://api.github.com/repos/apache/metron/issues/1530","id":540488227,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDQ4ODIyNw==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T09:40:17Z","updated_at":"2019-10-10T09:40:17Z","author_association":"CONTRIBUTOR","body":"I've witnessed it. I can give it a non-binding +1. 👍 ","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540488227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540648330","html_url":"https://github.com/apache/metron/pull/1530#issuecomment-540648330","issue_url":"https://api.github.com/repos/apache/metron/issues/1530","id":540648330,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDY0ODMzMA==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T15:44:23Z","updated_at":"2019-10-10T15:44:23Z","author_association":"CONTRIBUTOR","body":"+1. Confirmed these updates by setting up my own computer from scratch and running into the same issues.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540648330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540677120","html_url":"https://github.com/apache/metron/pull/1528#issuecomment-540677120","issue_url":"https://api.github.com/repos/apache/metron/issues/1528","id":540677120,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDY3NzEyMA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T16:54:36Z","updated_at":"2019-10-10T16:54:36Z","author_association":"CONTRIBUTOR","body":"Thanks @anandsubbu .  I merged this into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540677120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540727383","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-540727383","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":540727383,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDcyNzM4Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T18:57:05Z","updated_at":"2019-10-15T18:10:43Z","author_association":"CONTRIBUTOR","body":"There is a classpath problem starting up MaaS:\r\n\r\n```\r\n19/10/10 18:55:17 INFO service.Client: Got application report from ASM for, appId=1, clientToAMToken=null, appDiagnostics=Application application_1570638455687_0001 failed 2 times due to AM Container for appattempt_1570638455687_0001_000002 exited with  exitCode: 1\r\nFailing this attempt.Diagnostics: [2019-10-10 18:55:17.199]Exception from container-launch.\r\nContainer id: container_e01_1570638455687_0001_02_000001\r\nExit code: 1\r\n\r\n[2019-10-10 18:55:17.206]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of AppMaster.stderr :\r\n19/10/10 18:55:16 INFO service.ApplicationMaster: Initializing ApplicationMaster\r\n19/10/10 18:55:16 INFO service.ApplicationMaster: Application master for app, appId=1, clustertimestamp=1570638455687, attemptId=2\r\n19/10/10 18:55:16 INFO service.ApplicationMaster: Starting ApplicationMaster\r\n19/10/10 18:55:16 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n19/10/10 18:55:16 INFO yarn.YarnUtils: Executing with tokens:\r\n19/10/10 18:55:16 INFO yarn.YarnUtils: Kind: YARN_AM_RM_TOKEN, Service: , Ident: (appAttemptId { application_id { id: 1 cluster_timestamp: 1570638455687 } attemptId: 2 } keyId: 1879176656)\r\n19/10/10 18:55:17 INFO impl.TimelineClientImpl: Timeline service address: node1:8188\r\n19/10/10 18:55:17 FATAL service.ApplicationMaster: Error running ApplicationMaster\r\njava.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;)V\r\n\tat org.apache.hadoop.yarn.client.api.impl.TimelineConnector$TimelineClientConnectionRetry.<init>(TimelineConnector.java:304)\r\n\tat org.apache.hadoop.yarn.client.api.impl.TimelineConnector.serviceInit(TimelineConnector.java:121)\r\n\tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n\tat org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\r\n\tat org.apache.hadoop.yarn.client.api.impl.TimelineClientImpl.serviceInit(TimelineClientImpl.java:130)\r\n\tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n\tat org.apache.metron.maas.service.ApplicationMaster$1.run(ApplicationMaster.java:564)\r\n\tat org.apache.metron.maas.service.ApplicationMaster$1.run(ApplicationMaster.java:557)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)\r\n\tat org.apache.metron.maas.service.ApplicationMaster.startTimelineClient(ApplicationMaster.java:557)\r\n\tat org.apache.metron.maas.service.ApplicationMaster.run(ApplicationMaster.java:448)\r\n\tat org.apache.metron.maas.service.ApplicationMaster.main(ApplicationMaster.java:312)\r\nlog4j:WARN No appenders could be found for logger (org.apache.hadoop.util.ExitUtil).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\n\r\n[2019-10-10 18:55:17.207]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of AppMaster.stderr :\r\n19/10/10 18:55:16 INFO service.ApplicationMaster: Initializing ApplicationMaster\r\n19/10/10 18:55:16 INFO service.ApplicationMaster: Application master for app, appId=1, clustertimestamp=1570638455687, attemptId=2\r\n19/10/10 18:55:16 INFO service.ApplicationMaster: Starting ApplicationMaster\r\n19/10/10 18:55:16 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n19/10/10 18:55:16 INFO yarn.YarnUtils: Executing with tokens:\r\n19/10/10 18:55:16 INFO yarn.YarnUtils: Kind: YARN_AM_RM_TOKEN, Service: , Ident: (appAttemptId { application_id { id: 1 cluster_timestamp: 1570638455687 } attemptId: 2 } keyId: 1879176656)\r\n19/10/10 18:55:17 INFO impl.TimelineClientImpl: Timeline service address: node1:8188\r\n19/10/10 18:55:17 FATAL service.ApplicationMaster: Error running ApplicationMaster\r\njava.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;)V\r\n\tat org.apache.hadoop.yarn.client.api.impl.TimelineConnector$TimelineClientConnectionRetry.<init>(TimelineConnector.java:304)\r\n\tat org.apache.hadoop.yarn.client.api.impl.TimelineConnector.serviceInit(TimelineConnector.java:121)\r\n\tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n\tat org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\r\n\tat org.apache.hadoop.yarn.client.api.impl.TimelineClientImpl.serviceInit(TimelineClientImpl.java:130)\r\n\tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n\tat org.apache.metron.maas.service.ApplicationMaster$1.run(ApplicationMaster.java:564)\r\n\tat org.apache.metron.maas.service.ApplicationMaster$1.run(ApplicationMaster.java:557)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1730)\r\n\tat org.apache.metron.maas.service.ApplicationMaster.startTimelineClient(ApplicationMaster.java:557)\r\n\tat org.apache.metron.maas.service.ApplicationMaster.run(ApplicationMaster.java:448)\r\n\tat org.apache.metron.maas.service.ApplicationMaster.main(ApplicationMaster.java:312)\r\nlog4j:WARN No appenders could be found for logger (org.apache.hadoop.util.ExitUtil).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\n\r\nFor more detailed output, check the application tracking page: http://node1:8088/cluster/app/application_1570638455687_0001 Then click on links to logs of each attempt.\r\n. Failing the application., appMasterHost=N/A, appQueue=default, appMasterRpcPort=-1, appStartTime=1570733692831, yarnAppState=FAILED, distributedFinalState=FAILED, appTrackingUrl=http://node1:8088/cluster/app/application_1570638455687_0001, appUser=root\r\n19/10/10 18:55:17 INFO service.Client: Application did not finish. YarnState=FAILED, DSFinalStatus=FAILED. Breaking monitoring loop\r\n19/10/10 18:55:17 ERROR service.Client: Application failed to complete successfully\r\n```\r\n\r\nEDIT - I do not see this issue in master, so the problem appears to have been introduced by the Hadoop upgrade itself, or potentially other changes affecting classpath in the feature branch over the past several months.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540727383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/540793517","html_url":"https://github.com/apache/metron/pull/1527#issuecomment-540793517","issue_url":"https://api.github.com/repos/apache/metron/issues/1527","id":540793517,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDc5MzUxNw==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T21:01:03Z","updated_at":"2019-10-10T21:01:03Z","author_association":"CONTRIBUTOR","body":"I sent out a brief email. Let's see what others have to say: https://lists.apache.org/thread.html/b795489d0ec35146eb108d2db540bb6314bb2ae8680605fc15bb922f@%3Cdev.metron.apache.org%3E\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/540793517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/541357749","html_url":"https://github.com/apache/metron/pull/1532#issuecomment-541357749","issue_url":"https://api.github.com/repos/apache/metron/issues/1532","id":541357749,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTM1Nzc0OQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-12T20:12:26Z","updated_at":"2019-10-12T20:12:26Z","author_association":"CONTRIBUTOR","body":"+1. Tested this with full dev. Great solution to prevent user confusion when in manual query mode, @tiborm. Thanks for the contribution!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/541357749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/541768820","html_url":"https://github.com/apache/metron/pull/1533#issuecomment-541768820","issue_url":"https://api.github.com/repos/apache/metron/issues/1533","id":541768820,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTc2ODgyMA==","user":{"login":"ruffle1986","id":2196208,"node_id":"MDQ6VXNlcjIxOTYyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2196208?v=4","gravatar_id":"","url":"https://api.github.com/users/ruffle1986","html_url":"https://github.com/ruffle1986","followers_url":"https://api.github.com/users/ruffle1986/followers","following_url":"https://api.github.com/users/ruffle1986/following{/other_user}","gists_url":"https://api.github.com/users/ruffle1986/gists{/gist_id}","starred_url":"https://api.github.com/users/ruffle1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruffle1986/subscriptions","organizations_url":"https://api.github.com/users/ruffle1986/orgs","repos_url":"https://api.github.com/users/ruffle1986/repos","events_url":"https://api.github.com/users/ruffle1986/events{/privacy}","received_events_url":"https://api.github.com/users/ruffle1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-14T16:06:38Z","updated_at":"2019-10-14T16:08:06Z","author_association":"CONTRIBUTOR","body":"Closing and re-opening due to one dependency is unavailable to be downloaded at the time","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/541768820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/542264627","html_url":"https://github.com/apache/metron/pull/1530#issuecomment-542264627","issue_url":"https://api.github.com/repos/apache/metron/issues/1530","id":542264627,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjI2NDYyNw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-15T15:16:54Z","updated_at":"2019-10-15T15:16:54Z","author_association":"CONTRIBUTOR","body":"Good catch @subhashjha35, thanks for the fix!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/542264627/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/544462938","html_url":"https://github.com/apache/metron/pull/1535#issuecomment-544462938","issue_url":"https://api.github.com/repos/apache/metron/issues/1535","id":544462938,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDQ2MjkzOA==","user":{"login":"tiborm","id":2437400,"node_id":"MDQ6VXNlcjI0Mzc0MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2437400?v=4","gravatar_id":"","url":"https://api.github.com/users/tiborm","html_url":"https://github.com/tiborm","followers_url":"https://api.github.com/users/tiborm/followers","following_url":"https://api.github.com/users/tiborm/following{/other_user}","gists_url":"https://api.github.com/users/tiborm/gists{/gist_id}","starred_url":"https://api.github.com/users/tiborm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiborm/subscriptions","organizations_url":"https://api.github.com/users/tiborm/orgs","repos_url":"https://api.github.com/users/tiborm/repos","events_url":"https://api.github.com/users/tiborm/events{/privacy}","received_events_url":"https://api.github.com/users/tiborm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T10:58:49Z","updated_at":"2019-10-21T10:58:49Z","author_association":"CONTRIBUTOR","body":"Closing/reopening to trigger a new build.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/544462938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/544985811","html_url":"https://github.com/apache/metron/pull/1537#issuecomment-544985811","issue_url":"https://api.github.com/repos/apache/metron/issues/1537","id":544985811,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDk4NTgxMQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T14:18:51Z","updated_at":"2019-10-22T14:18:51Z","author_association":"CONTRIBUTOR","body":"### Test Plan\r\n\r\nPulled from https://github.com/apache/metron/pull/1523#issuecomment-540208150\r\n\r\n### PCAP\r\n\r\nGet PCAP data into Metron: \r\n1. Install and setup pycapa (this has been updated in master recently) - https://github.com/apache/metron/blob/master/metron-sensors/pycapa/README.md#centos-6\r\n2. (if using singlenode vagrant) Kill the enrichment, profiler, indexing, and sensor topologies via `for i in bro enrichment random_access_indexing batch_indexing yaf snort;do storm kill $i;done`\r\n3. Start the pcap topology via $METRON_HOME/bin/start_pcap_topology.sh\r\n4. Start the pycapa packet capture producer on eth1\r\n```\r\ncd /opt/pycapa/pycapa-venv/bin\r\npycapa --producer --kafka-topic pcap --interface eth1 --kafka-broker $BROKERLIST\r\n```\r\n5. Watch the topology in the Storm UI and kill the packet capture utility started earlier when the number of packets ingested is over 3k.\r\n6. You can leave your virtualenv session now via `deactivate`\r\n7. Ensure that at at least 3 files exist on HDFS by running `hdfs dfs -ls /apps/metron/pcap/input`\r\n8. Choose a file (denoted by $FILE) and dump a few of the contents using the pcap_inspector utility\r\n```\r\nFILE=<file path in hdfs>\r\n$METRON_HOME/bin/pcap_inspector.sh -i $FILE -n 5\r\n```\r\n9. Choose one of the lines in your output and note the protocol. e.g.\r\n```\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.1,ip_src_port: 60911,ip_dst_addr: 192.168.66.121,ip_dst_port: 8080,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.121,ip_src_port: 8080,ip_dst_addr: 192.168.66.1,ip_dst_port: 60911,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.121,ip_src_port: 8080,ip_dst_addr: 192.168.66.1,ip_dst_port: 60911,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.121,ip_src_port: 8080,ip_dst_addr: 192.168.66.1,ip_dst_port: 60911,protocol: 6\r\nTS: October 9, 2019 8:43:39 PM UTC,ip_src_addr: 192.168.66.1,ip_src_port: 60911,ip_dst_addr: 192.168.66.121,ip_dst_port: 8080,protocol: 6\r\n```\r\n\r\n**Note** when you run the fixed and query filter commands below, the resulting file will be placed in the execution directory where you kicked off the job from.\r\n\r\n#### Fixed filter\r\n\r\n1. Run a fixed filter query by executing the following command with the values noted above (match your start_time format to the date format provided - default is to use millis since epoch)\r\n2. `cd ~/; $METRON_HOME/bin/pcap_query.sh fixed -st <start_time> -df \"yyyyMMdd\" -p <protocol_num> -rpf 500`\r\n3. Verify the MR job finishes successfully. Upon completion, you should see multiple files named with relatively current datestamps in your current directory, e.g. pcap-data-20160617160549737+0000.pcap\r\n4. (Optional) Copy the files to your local machine and verify you can them it in Wireshark. I chose a middle file and the last file. The middle file should have 500 records (per the records_per_file option), and the last one will likely have a number of records <= 500.\r\n\r\n#### PCAP UI\r\n\r\n1. Open the Metron Alerts UI http://node1:4201/login\r\n2. Click on PCAP in the left menu bar\r\n3. Use the same from/to date/time range as you used for the query filter test case and click the search button. A mapreduce job should kick off in the background. You can wait for the Metron UI to show complete (it will fail at the end due to tshark not being installed - this isn't important for this test), or watch the progress in the Resource Manager UI - http://node1:8088/cluster.\r\n4. When the job completes, verify it shows as \"SUCCEEDED\" in the job history http://node1:19888/jobhistory.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/544985811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/545549621","html_url":"https://github.com/apache/metron/pull/1538#issuecomment-545549621","issue_url":"https://api.github.com/repos/apache/metron/issues/1538","id":545549621,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTU0OTYyMQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T17:23:11Z","updated_at":"2019-10-23T17:23:11Z","author_association":"CONTRIBUTOR","body":"Looks simple enough. +1 by inspection pending Travis.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/545549621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/545553344","html_url":"https://github.com/apache/metron/pull/1539#issuecomment-545553344","issue_url":"https://api.github.com/repos/apache/metron/issues/1539","id":545553344,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTU1MzM0NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T17:32:21Z","updated_at":"2019-10-23T17:32:21Z","author_association":"CONTRIBUTOR","body":"It would be great to understand what happened in Storm to change this, however we've used similar workarounds in the past when dealing with classpath related issues in Hadoop, Kafka, Storm, and probably more that I'm forgetting. I looked over everything and it looks clean and well-documented. +1 by inspection from me.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/545553344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/545586523","html_url":"https://github.com/apache/metron/pull/1537#issuecomment-545586523","issue_url":"https://api.github.com/repos/apache/metron/issues/1537","id":545586523,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTU4NjUyMw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T18:54:29Z","updated_at":"2019-10-23T18:54:29Z","author_association":"CONTRIBUTOR","body":"+1 Looks good.  I ran through the pcap store & search scenario.  I also smoke tested some of the other functions in REST using Swagger just to make sure nothing unexpected happens there.  Thanks for the fix.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/545586523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/545597966","html_url":"https://github.com/apache/metron/pull/1538#issuecomment-545597966","issue_url":"https://api.github.com/repos/apache/metron/issues/1538","id":545597966,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTU5Nzk2Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T19:24:01Z","updated_at":"2019-10-23T19:24:01Z","author_association":"CONTRIBUTOR","body":"Thanks!  Travis gave his go-ahead. This has been merged into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/545597966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/545604196","html_url":"https://github.com/apache/metron/pull/1539#issuecomment-545604196","issue_url":"https://api.github.com/repos/apache/metron/issues/1539","id":545604196,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTYwNDE5Ng==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T19:39:58Z","updated_at":"2019-10-23T19:39:58Z","author_association":"CONTRIBUTOR","body":"@mmiklavc I definitely agree with your comments.  Would love to understand true root cause here. Thanks for the review.  This has been merged into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/545604196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/545634724","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-545634724","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":545634724,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTYzNDcyNA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T21:01:15Z","updated_at":"2019-10-23T21:01:15Z","author_association":"CONTRIBUTOR","body":"The MaaS issues have now been resolved and this PR has been updated to reflect those changes. There is also a fix against master to address the PCAP errors here https://github.com/apache/metron/pull/1537","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/545634724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/546009164","html_url":"https://github.com/apache/metron/pull/1541#issuecomment-546009164","issue_url":"https://api.github.com/repos/apache/metron/issues/1541","id":546009164,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjAwOTE2NA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T16:57:00Z","updated_at":"2019-10-24T16:57:00Z","author_association":"CONTRIBUTOR","body":"@billierinaldi thanks for the fix. I updated the PR description so that the gitbot picks up notes for the Jira https://issues.apache.org/jira/browse/METRON-2300.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/546009164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/546009583","html_url":"https://github.com/apache/metron/pull/1541#issuecomment-546009583","issue_url":"https://api.github.com/repos/apache/metron/issues/1541","id":546009583,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjAwOTU4Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T16:58:09Z","updated_at":"2019-10-24T16:58:09Z","author_association":"CONTRIBUTOR","body":"+1 by inspection. I'm going to run it up in jekyll later today and we should be able to merge it tomorrow once the 24-hour clock is up on review.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/546009583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/546941750","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-546941750","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":546941750,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njk0MTc1MA==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T13:18:55Z","updated_at":"2019-10-28T13:18:55Z","author_association":"CONTRIBUTOR","body":"[ansible.log](https://github.com/apache/metron/files/3778798/ansible.log)\r\n\r\nFailed for me.  I'm not sure what the issue is, since the build log is a mess in ansible.\r\nI'll try to build from root","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/546941750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/546945579","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-546945579","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":546945579,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njk0NTU3OQ==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T13:28:34Z","updated_at":"2019-10-28T13:28:34Z","author_association":"CONTRIBUTOR","body":"<img width=\"1293\" alt=\"Screen Shot 2019-10-28 at 09 27 57\" src=\"https://user-images.githubusercontent.com/1111551/67682232-42d85e00-f965-11e9-8430-fcb82f685dbb.png\">\r\n\r\n` mvn clean && time mvn -q -T 2C -DskipTests install && time mvn -q -T 2C surefire:test@unit-tests && time mvn -q surefire:test@integration-tests  && time mvn -q test --projects metron-interface/metron-config && time build_utils/verify_licenses.sh`\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/546945579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/546950312","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-546950312","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":546950312,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njk1MDMxMg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T13:39:50Z","updated_at":"2019-10-28T13:39:50Z","author_association":"CONTRIBUTOR","body":"Thanks @ottobackwards .  I'll dig in.  Seems like the API changed slightly.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/546950312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/546995203","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-546995203","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":546995203,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njk5NTIwMw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T15:16:16Z","updated_at":"2019-10-28T15:16:16Z","author_association":"CONTRIBUTOR","body":"@nickwallen let me know when travis passes and this is ready for retest","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/546995203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547084915","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-547084915","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":547084915,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzA4NDkxNQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T18:30:19Z","updated_at":"2019-10-28T18:30:19Z","author_association":"CONTRIBUTOR","body":"This is ready now.  The only other changes required impact the integration tests only.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547084915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547085650","html_url":"https://github.com/apache/metron/pull/1541#issuecomment-547085650","issue_url":"https://api.github.com/repos/apache/metron/issues/1541","id":547085650,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzA4NTY1MA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T18:32:06Z","updated_at":"2019-10-28T18:32:06Z","author_association":"CONTRIBUTOR","body":"This has been validated and committed to the asf-site branch now.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547085650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547176158","html_url":"https://github.com/apache/metron/pull/1534#issuecomment-547176158","issue_url":"https://api.github.com/repos/apache/metron/issues/1534","id":547176158,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE3NjE1OA==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T22:39:17Z","updated_at":"2019-10-28T22:39:17Z","author_association":"CONTRIBUTOR","body":"+1 pending unfocusing the describe in the unit tests. Tested with full dev. Thanks for fixing this, @tiborm!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547176158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547180082","html_url":"https://github.com/apache/metron/pull/1535#issuecomment-547180082","issue_url":"https://api.github.com/repos/apache/metron/issues/1535","id":547180082,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE4MDA4Mg==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T22:51:51Z","updated_at":"2019-10-28T22:51:51Z","author_association":"CONTRIBUTOR","body":"+1. Tested with full dev. Nice catch with the swapped messages, and I also think `optimize` is better phrasing than `simplify` in the context of the message.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547180082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547186854","html_url":"https://github.com/apache/metron/pull/1540#issuecomment-547186854","issue_url":"https://api.github.com/repos/apache/metron/issues/1540","id":547186854,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE4Njg1NA==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T23:16:58Z","updated_at":"2019-10-28T23:16:58Z","author_association":"CONTRIBUTOR","body":"Looks good to me too. +1. Tested with full dev. Thanks for fixing this bug, @subhashjha35!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547186854/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547370397","html_url":"https://github.com/apache/metron/pull/1546#issuecomment-547370397","issue_url":"https://api.github.com/repos/apache/metron/issues/1546","id":547370397,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzM3MDM5Nw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T11:11:47Z","updated_at":"2019-10-29T11:11:47Z","author_association":"CONTRIBUTOR","body":"Thanks @mmiklavc!\r\nCan you run `shellcheck upgrade_helper.sh` on this script?\r\nAlso, what would be the steps for a current user to use this to prepare for the next big upgrade?","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547370397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547518961","html_url":"https://github.com/apache/metron/pull/1547#issuecomment-547518961","issue_url":"https://api.github.com/repos/apache/metron/issues/1547","id":547518961,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzUxODk2MQ==","user":{"login":"sardell","id":7304869,"node_id":"MDQ6VXNlcjczMDQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/7304869?v=4","gravatar_id":"","url":"https://api.github.com/users/sardell","html_url":"https://github.com/sardell","followers_url":"https://api.github.com/users/sardell/followers","following_url":"https://api.github.com/users/sardell/following{/other_user}","gists_url":"https://api.github.com/users/sardell/gists{/gist_id}","starred_url":"https://api.github.com/users/sardell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sardell/subscriptions","organizations_url":"https://api.github.com/users/sardell/orgs","repos_url":"https://api.github.com/users/sardell/repos","events_url":"https://api.github.com/users/sardell/events{/privacy}","received_events_url":"https://api.github.com/users/sardell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T16:45:04Z","updated_at":"2019-10-29T16:45:04Z","author_association":"CONTRIBUTOR","body":"+1. Tested locally with full dev.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547518961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547596177","html_url":"https://github.com/apache/metron/pull/1545#issuecomment-547596177","issue_url":"https://api.github.com/repos/apache/metron/issues/1545","id":547596177,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzU5NjE3Nw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T19:41:48Z","updated_at":"2019-10-29T19:41:48Z","author_association":"CONTRIBUTOR","body":"Other than the relocation nit, this looks good @nickwallen. Love cleaning up code branches! +1 by inspection once that's done.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547596177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547634153","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-547634153","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":547634153,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYzNDE1Mw==","user":{"login":"ottobackwards","id":1111551,"node_id":"MDQ6VXNlcjExMTE1NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1111551?v=4","gravatar_id":"","url":"https://api.github.com/users/ottobackwards","html_url":"https://github.com/ottobackwards","followers_url":"https://api.github.com/users/ottobackwards/followers","following_url":"https://api.github.com/users/ottobackwards/following{/other_user}","gists_url":"https://api.github.com/users/ottobackwards/gists{/gist_id}","starred_url":"https://api.github.com/users/ottobackwards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ottobackwards/subscriptions","organizations_url":"https://api.github.com/users/ottobackwards/orgs","repos_url":"https://api.github.com/users/ottobackwards/repos","events_url":"https://api.github.com/users/ottobackwards/events{/privacy}","received_events_url":"https://api.github.com/users/ottobackwards/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T21:19:25Z","updated_at":"2019-10-29T21:19:25Z","author_association":"CONTRIBUTOR","body":"+1, \r\n- inspection\r\n- ran through prescribed testing steps\r\n\r\nThanks for the contribution!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547634153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547637032","html_url":"https://github.com/apache/metron/pull/1545#issuecomment-547637032","issue_url":"https://api.github.com/repos/apache/metron/issues/1545","id":547637032,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYzNzAzMg==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T21:27:20Z","updated_at":"2019-10-29T21:27:20Z","author_association":"CONTRIBUTOR","body":"Thanks @mmiklavc . \r\n\r\nThis has been merged into `feature/METRON-2088-support-hdp-3.1`","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547637032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547876138","html_url":"https://github.com/apache/metron/pull/1544#issuecomment-547876138","issue_url":"https://api.github.com/repos/apache/metron/issues/1544","id":547876138,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzg3NjEzOA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T12:24:42Z","updated_at":"2019-10-30T12:24:42Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @ottobackwards .  I have merged this into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547876138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547936910","html_url":"https://github.com/apache/metron/pull/1549#issuecomment-547936910","issue_url":"https://api.github.com/repos/apache/metron/issues/1549","id":547936910,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzkzNjkxMA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T14:37:17Z","updated_at":"2019-10-30T14:37:17Z","author_association":"CONTRIBUTOR","body":"+1 Looks great.  Thanks for the fix.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547936910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547949974","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-547949974","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":547949974,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk0OTk3NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T15:01:26Z","updated_at":"2019-10-30T15:01:26Z","author_association":"CONTRIBUTOR","body":"+1 Looks good.  I previously ran this through a bulk of the testing steps described above.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547949974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547980409","html_url":"https://github.com/apache/metron/pull/1549#issuecomment-547980409","issue_url":"https://api.github.com/repos/apache/metron/issues/1549","id":547980409,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk4MDQwOQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:00:52Z","updated_at":"2019-10-30T16:00:52Z","author_association":"CONTRIBUTOR","body":"Piling on my +1 as well - thanks @MohanDV!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547980409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547981128","html_url":"https://github.com/apache/metron/pull/1548#issuecomment-547981128","issue_url":"https://api.github.com/repos/apache/metron/issues/1548","id":547981128,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk4MTEyOA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:02:16Z","updated_at":"2019-10-30T16:02:16Z","author_association":"CONTRIBUTOR","body":"lgtm, thanks for the fix @nickwallen. I ran through this test recently, independent of this PR, and found the same. +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547981128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547984938","html_url":"https://github.com/apache/metron/pull/1547#issuecomment-547984938","issue_url":"https://api.github.com/repos/apache/metron/issues/1547","id":547984938,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk4NDkzOA==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:09:54Z","updated_at":"2019-10-30T16:09:54Z","author_association":"CONTRIBUTOR","body":"+1 by inspection, thanks for the fix @tiborm. Made one small note about the test setup, if you're inclined to fix it.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547984938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547989143","html_url":"https://github.com/apache/metron/pull/1542#issuecomment-547989143","issue_url":"https://api.github.com/repos/apache/metron/issues/1542","id":547989143,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk4OTE0Mw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:18:43Z","updated_at":"2019-10-30T16:18:43Z","author_association":"CONTRIBUTOR","body":"lgtm @nickwallen, thanks! +1","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547989143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547991621","html_url":"https://github.com/apache/metron/pull/1362#issuecomment-547991621","issue_url":"https://api.github.com/repos/apache/metron/issues/1362","id":547991621,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk5MTYyMQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:23:47Z","updated_at":"2019-10-30T16:23:47Z","author_association":"CONTRIBUTOR","body":"Closing this PR - this was addressed in part via another fix here - https://github.com/apache/metron/pull/1525","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547991621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547995461","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-547995461","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":547995461,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk5NTQ2MQ==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:31:29Z","updated_at":"2019-10-30T16:31:29Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch; yay!","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547995461/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547996513","html_url":"https://github.com/apache/metron/pull/1523#issuecomment-547996513","issue_url":"https://api.github.com/repos/apache/metron/issues/1523","id":547996513,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk5NjUxMw==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:33:38Z","updated_at":"2019-10-30T16:33:38Z","author_association":"CONTRIBUTOR","body":"Wanted to add 1 note for posterity. This was/is a big PR, however 5,045 lines out of the 5,218 are simply classes we had to copy from HBase in order to get integrations working around a defect wrt HDFS (notes in the code itself). The actual overall size of code/pom changes in this PR without those files is only 173 lines.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547996513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/547997647","html_url":"https://github.com/apache/metron/pull/1542#issuecomment-547997647","issue_url":"https://api.github.com/repos/apache/metron/issues/1542","id":547997647,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk5NzY0Nw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:35:55Z","updated_at":"2019-10-30T16:35:55Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @mmiklavc .\r\n\r\nThis has been merged into the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/547997647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/548010087","html_url":"https://github.com/apache/metron/pull/1549#issuecomment-548010087","issue_url":"https://api.github.com/repos/apache/metron/issues/1549","id":548010087,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODAxMDA4Nw==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T17:01:28Z","updated_at":"2019-10-30T17:01:28Z","author_association":"CONTRIBUTOR","body":"This has been merged into the feature branch.  Thanks @MohanDV !","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/548010087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/548057601","html_url":"https://github.com/apache/metron/pull/1546#issuecomment-548057601","issue_url":"https://api.github.com/repos/apache/metron/issues/1546","id":548057601,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA1NzYwMQ==","user":{"login":"mmiklavc","id":658443,"node_id":"MDQ6VXNlcjY1ODQ0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/658443?v=4","gravatar_id":"","url":"https://api.github.com/users/mmiklavc","html_url":"https://github.com/mmiklavc","followers_url":"https://api.github.com/users/mmiklavc/followers","following_url":"https://api.github.com/users/mmiklavc/following{/other_user}","gists_url":"https://api.github.com/users/mmiklavc/gists{/gist_id}","starred_url":"https://api.github.com/users/mmiklavc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmiklavc/subscriptions","organizations_url":"https://api.github.com/users/mmiklavc/orgs","repos_url":"https://api.github.com/users/mmiklavc/repos","events_url":"https://api.github.com/users/mmiklavc/events{/privacy}","received_events_url":"https://api.github.com/users/mmiklavc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T18:42:08Z","updated_at":"2019-10-30T18:42:08Z","author_association":"CONTRIBUTOR","body":"@ottobackwards - I ran shellcheck and modified some exit codes. Other than that, it's warnings about shell expansion on variables, which we also have all over in other scripts. I think it should be good to go from that perspective.\r\n\r\nWRT added instructions for the upgrade, I've debated where these belong. With the ES upgrade we placed instructions right in the module - https://github.com/apache/metron/blob/b9a130ca96774add38865d3934ed61ca19599b87/metron-platform/metron-elasticsearch/metron-elasticsearch-common/README.md#upgrading-from-233-to-56. We have an existing `Upgrading` document - https://github.com/apache/metron/blob/b9a130ca96774add38865d3934ed61ca19599b87/Upgrading.md, however this is primarily some line items with pointers to other details. What do you think about adding a new README in the project root named something like`Upgrade_steps.md`? In master, we'd start with the existing backup/restore process outline. For the HDP 3.1 feature branch, I'd expand out those details to include things like specifying that we need to upgrade from Centos 6 to 7.","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/548057601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/metron/issues/comments/548060674","html_url":"https://github.com/apache/metron/pull/1546#issuecomment-548060674","issue_url":"https://api.github.com/repos/apache/metron/issues/1546","id":548060674,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA2MDY3NA==","user":{"login":"nickwallen","id":2475409,"node_id":"MDQ6VXNlcjI0NzU0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/2475409?v=4","gravatar_id":"","url":"https://api.github.com/users/nickwallen","html_url":"https://github.com/nickwallen","followers_url":"https://api.github.com/users/nickwallen/followers","following_url":"https://api.github.com/users/nickwallen/following{/other_user}","gists_url":"https://api.github.com/users/nickwallen/gists{/gist_id}","starred_url":"https://api.github.com/users/nickwallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickwallen/subscriptions","organizations_url":"https://api.github.com/users/nickwallen/orgs","repos_url":"https://api.github.com/users/nickwallen/repos","events_url":"https://api.github.com/users/nickwallen/events{/privacy}","received_events_url":"https://api.github.com/users/nickwallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T18:49:32Z","updated_at":"2019-10-30T18:49:32Z","author_association":"CONTRIBUTOR","body":"> @ottobackwards: what would be the steps for a current user to use this to prepare for the next big upgrade?\r\n\r\nWe will definitely need some notes on upgrading; I agree with @ottobackwards  there.\r\n\r\n> @mmiklavc: WRT added instructions for the upgrade, I've debated where these belong....\r\n\r\nI think we should handle any upgrading notes in our existing `Upgrading.md` document and do that work as a separate PR.\r\n\r\nI think the README changes included in this PR sufficiently covers how to use the script itself.  The expectation being that a user would have to pull down this script from master into their legacy environment to upgrade.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/metron/issues/comments/548060674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]