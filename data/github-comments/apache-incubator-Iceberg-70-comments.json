[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754841574","html_url":"https://github.com/apache/iceberg/pull/1920#issuecomment-754841574","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1920","id":754841574,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg0MTU3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T19:14:45Z","updated_at":"2021-01-05T19:14:45Z","author_association":"CONTRIBUTOR","body":"Thanks, @pvary! Nice work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754841574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754869962","html_url":"https://github.com/apache/iceberg/pull/1979#issuecomment-754869962","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1979","id":754869962,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg2OTk2Mg==","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T20:08:09Z","updated_at":"2021-01-05T20:08:09Z","author_association":"CONTRIBUTOR","body":"sure I could check if it's an azure blob storage exception but that would make it specific to azure..\r\n\r\nThis is the outline of the listTables method. In the end if a location can't be read it will return NoSuchNamespaceException. If for any reason you cannot list the dir/metadata folder it won't return the table.\r\n\r\nSo the fact that IOException are not return will not break anything. Worst case users don't see the namespace/tables and hunt down why that is. Maybe logging the error would be helpful while still returning false. My goal here is to not interrupt the execution of listTables if certain user's can't access certain tables. So having a log entry might be useful for the admins/operators.\r\n\r\n    tables listTables(location)\r\n      if !isDirectory(location) (tries to list \"location\", if any exception return false)\r\n\t    throw NoSuchNamespaceException\r\n\r\n        for dir in location\r\n          if dir.isFolder()\r\n            if isTableDir(dir) (tries to list \"dir/metadata\", if any exception return false)\r\n              add to list of tables to return\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754869962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754927740","html_url":"https://github.com/apache/iceberg/pull/2031#issuecomment-754927740","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2031","id":754927740,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkyNzc0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T21:59:26Z","updated_at":"2021-01-05T21:59:26Z","author_association":"CONTRIBUTOR","body":"I would rather not use the prefix. Do we need to pass all of the properties to Flink or can we tell it to accept anything?\r\n\r\n@jackye1995, you may want to make sure that Flink can use the Glue catalog and AWS config properties.\r\n\r\nFYI @openinx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754927740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754929320","html_url":"https://github.com/apache/iceberg/pull/2027#issuecomment-754929320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2027","id":754929320,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkyOTMyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:02:42Z","updated_at":"2021-01-05T22:02:42Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, can you add some context about what was broken? It looks like you're trying to fix the expression reference after projection. Was that causing an error while binding?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754929320/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754931425","html_url":"https://github.com/apache/iceberg/pull/2001#issuecomment-754931425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2001","id":754931425,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkzMTQyNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:07:12Z","updated_at":"2021-01-05T22:07:12Z","author_association":"CONTRIBUTOR","body":"Thanks @dmgcodevil! I merged this. It should be in the 0.11.0 release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754931425/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754934397","html_url":"https://github.com/apache/iceberg/pull/2002#issuecomment-754934397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2002","id":754934397,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkzNDM5Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:13:41Z","updated_at":"2021-01-05T22:13:41Z","author_association":"CONTRIBUTOR","body":"Looks good to me, but I haven't been following much of the config discussion so I'll defer to @danielcweeks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754934397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754936363","html_url":"https://github.com/apache/iceberg/pull/1979#issuecomment-754936363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1979","id":754936363,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkzNjM2Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:17:56Z","updated_at":"2021-01-05T22:17:56Z","author_association":"CONTRIBUTOR","body":"Logging the error is definitely a good idea.\r\n\r\nIt sounds like the main problem is that there isn't a specific error to catch. I think it would be fine if any directory that the user doesn't have access to doesn't show up in the list results. But we do need to ensure that ignoring directories isn't applied to other situations where it isn't reasonable. So if we can inspect the exception from Azure and make this work I think that's the way to go. We can support other errors later as we find them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754936363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754939823","html_url":"https://github.com/apache/iceberg/pull/2030#issuecomment-754939823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2030","id":754939823,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkzOTgyMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:26:07Z","updated_at":"2021-01-05T22:26:07Z","author_association":"CONTRIBUTOR","body":"Looks like this is really effective at reducing build time! I'd still like to eliminate a lot of the tests that aren't adding much value. We should have tests for Hive reading formats and tests for Hive working with tables, but we don't need all the format tests run on all the tables, or all the table tests run across all formats and engines.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754939823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754941743","html_url":"https://github.com/apache/iceberg/pull/2002#issuecomment-754941743","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2002","id":754941743,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk0MTc0Mw==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:30:47Z","updated_at":"2021-01-05T22:30:47Z","author_association":"CONTRIBUTOR","body":"This looks good to me as well, but I think @giovannifumarola comment might still need to be addressed.  Let me know and I'll push it through.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754941743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754943032","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-754943032","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":754943032,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk0MzAzMg==","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:33:50Z","updated_at":"2021-01-05T22:33:50Z","author_association":"CONTRIBUTOR","body":"@rdblue do you know when a new release will be cut off?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754943032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754976837","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-754976837","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":754976837,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk3NjgzNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T00:07:58Z","updated_at":"2021-01-06T00:07:58Z","author_association":"CONTRIBUTOR","body":"We should have a release sometime this month.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/754976837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755041359","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-755041359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":755041359,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA0MTM1OQ==","user":{"login":"wg1026688210","id":14267759,"node_id":"MDQ6VXNlcjE0MjY3NzU5","avatar_url":"https://avatars.githubusercontent.com/u/14267759?v=4","gravatar_id":"","url":"https://api.github.com/users/wg1026688210","html_url":"https://github.com/wg1026688210","followers_url":"https://api.github.com/users/wg1026688210/followers","following_url":"https://api.github.com/users/wg1026688210/following{/other_user}","gists_url":"https://api.github.com/users/wg1026688210/gists{/gist_id}","starred_url":"https://api.github.com/users/wg1026688210/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wg1026688210/subscriptions","organizations_url":"https://api.github.com/users/wg1026688210/orgs","repos_url":"https://api.github.com/users/wg1026688210/repos","events_url":"https://api.github.com/users/wg1026688210/events{/privacy}","received_events_url":"https://api.github.com/users/wg1026688210/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T02:47:39Z","updated_at":"2021-01-06T02:47:39Z","author_association":"CONTRIBUTOR","body":"> > hi~ @rdblue Shall we consider this situation that process shut down when commit action hold the lock of hive table .\r\n> \r\n> How often could this happen? Asking because Hive have cleaner methods in place which will remove the stale locks which did not receive heartbeat for a given period. So we should clean up the locks as much as possible, but we do not have to consider super rare situations.\r\n\r\nhi~@pvary  i did not encounter this situationï¼Œi just have a guess .   could the period of no receive heartbeat   be config at hive metastore","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755041359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755053818","html_url":"https://github.com/apache/iceberg/pull/1975#issuecomment-755053818","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1975","id":755053818,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA1MzgxOA==","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T03:27:12Z","updated_at":"2021-01-27T00:13:41Z","author_association":"CONTRIBUTOR","body":"> > Not sure if sort order should be nullable by default or 0 (from unsorted_order)\r\n> \r\n> The field should be optional because v1 manifests will not have the order field. Iceberg will read the value as null, so I think it makes sense to use null. And you're right about not storing it for position deletes.\r\n> \r\n> > Do we want only sort order id, or actual sort order struct?\r\n> \r\n> We want the ID. Sort orders are attached to table metadata, so loading the order should be a simple hash map lookup.\r\n> \r\n> > For the next PR, do we assume the table's current sort order id is the authoritative place to get sort order information when adding a new file?\r\n> \r\n> No. Engines must specify which sort order was used to write a file explicitly. So this needs to be exposed in the DataFile and DeleteFile builders. By default, we should write either null or 0 (unordered). Probably null.\r\n\r\nThank you for the response! \r\n\r\n> We want the ID. Sort orders are attached to table metadata, so loading the order should be a simple hash map lookup.\r\n\r\nI guess in order to do that, we may need to add the file's sort order map in `FileScanTask`, as it seems like in readers (e.g. `RowDataReader`) we rely on it for reading rows, meanwhile we don't have the table available for metadata lookup?\r\n\r\n> Engines must specify which sort order was used to write a file explicitly.\r\n\r\n(Sorry for the naive question) I guess the sort order needs to be decided when building the writer (e.g. add a `sortOrder` parameter in [`SparkWriter` writer factory](https://github.com/apache/iceberg/blob/master/spark3/src/main/java/org/apache/iceberg/spark/source/SparkWrite.java#L518)), and how does the engine know which sort order to use when writing files? Maybe the sort order could be an optional thing to specify when a job is created (e.g. as part of the the sql command for ingesting data) , and thus the engine will already know the sort order to use when it creates the writer, although some validations might need to be done against table metadata before that (e.g. check for such sort order exists, create one or abort if not); and if nothing is specified for this job/command, the engine will look for table's default sort order, and use it for creating the writer? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755053818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755066096","html_url":"https://github.com/apache/iceberg/pull/2027#issuecomment-755066096","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2027","id":755066096,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA2NjA5Ng==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T04:12:11Z","updated_at":"2021-01-06T04:12:11Z","author_association":"COLLABORATOR","body":"@rdblue, I just added some context in the issue description, also updated to test the filed name.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755066096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755068019","html_url":"https://github.com/apache/iceberg/issues/2033#issuecomment-755068019","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2033","id":755068019,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA2ODAxOQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T04:19:41Z","updated_at":"2021-01-06T04:21:29Z","author_association":"MEMBER","body":"> every hour in the metadata folder only a single file is created\r\n> Manifest file : 4c806ffdb03c41e09337b90f18781570-00000-0-466-00001.avro\r\n\r\n@elkhand ,  the manifests file is actually not the iceberg's metadata ,  it's a manifest file that was designed for flink (Pls see [here](https://github.com/apache/iceberg/blob/master/flink/src/main/java/org/apache/iceberg/flink/sink/ManifestOutputFileFactory.java#L53)).  The reason that we have designed the flink specific manifests is https://github.com/apache/iceberg/pull/1185/files#r478772412 . When committing the iceberg transaction during completing checkpoint,  the iceberg-files-committer will read all data files from this flink specific manifest file to construct a new __iceberg__ manifest files.   You could see more details in this issue https://github.com/apache/iceberg/issues/1959. \r\n\r\nFor your issue,  I'm pretty sure that flink did not commit any iceberg transaction after you enabled the version feature in S3 bucket.  But I'm not sure what's the reason causing this.  Did you have any logs indicating the flink job was failover  (error log or stacktrace ? ) . ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755068019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755112419","html_url":"https://github.com/apache/iceberg/issues/1992#issuecomment-755112419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1992","id":755112419,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTExMjQxOQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T06:32:36Z","updated_at":"2021-01-06T06:32:36Z","author_association":"CONTRIBUTOR","body":"> iceberg will support hive1.x\r\n\r\n@yutaoChina: Iceberg currently supports Hive 2.3.7 and Hive 3.1.2 releases. AFAIK there are no plans to support Hive 1.x as it is really old now. \r\n\r\nOn the other hand I know of some companies are using old Hive versions have their own fork of Iceberg. It might worth to ask around the dev list about the status / accessibility of those forks.\r\n\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755112419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755112884","html_url":"https://github.com/apache/iceberg/pull/2029#issuecomment-755112884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2029","id":755112884,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTExMjg4NA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T06:33:49Z","updated_at":"2021-01-06T06:33:49Z","author_association":"CONTRIBUTOR","body":"> Thanks, @pvary!\r\n\r\nThank you for the merge! ðŸ˜ƒ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755112884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755115773","html_url":"https://github.com/apache/iceberg/pull/1920#issuecomment-755115773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1920","id":755115773,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTExNTc3Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T06:41:01Z","updated_at":"2021-01-06T06:41:01Z","author_association":"CONTRIBUTOR","body":"> Thanks, @pvary! Nice work.\r\n\r\nThanks for the merge @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755115773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755118288","html_url":"https://github.com/apache/iceberg/issues/1904#issuecomment-755118288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1904","id":755118288,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTExODI4OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T06:47:28Z","updated_at":"2021-01-06T14:25:58Z","author_association":"CONTRIBUTOR","body":"> > > hi~ @rdblue Shall we consider this situation that process shut down when commit action hold the lock of hive table .\r\n> > \r\n> > \r\n> > How often could this happen? Asking because Hive have cleaner methods in place which will remove the stale locks which did not receive heartbeat for a given period. So we should clean up the locks as much as possible, but we do not have to consider super rare situations.\r\n> \r\n> hi~@pvary i did not encounter this situationï¼Œi just have a guess . could the period of no receive heartbeat be config at hive metastore\r\n\r\nThe config is called [hive.txn.timeout](https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Transactions). The default is 300s. Hope this help.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755118288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755133939","html_url":"https://github.com/apache/iceberg/issues/1994#issuecomment-755133939","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1994","id":755133939,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTEzMzkzOQ==","user":{"login":"carmhuo","id":9296411,"node_id":"MDQ6VXNlcjkyOTY0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/9296411?v=4","gravatar_id":"","url":"https://api.github.com/users/carmhuo","html_url":"https://github.com/carmhuo","followers_url":"https://api.github.com/users/carmhuo/followers","following_url":"https://api.github.com/users/carmhuo/following{/other_user}","gists_url":"https://api.github.com/users/carmhuo/gists{/gist_id}","starred_url":"https://api.github.com/users/carmhuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carmhuo/subscriptions","organizations_url":"https://api.github.com/users/carmhuo/orgs","repos_url":"https://api.github.com/users/carmhuo/repos","events_url":"https://api.github.com/users/carmhuo/events{/privacy}","received_events_url":"https://api.github.com/users/carmhuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T07:25:48Z","updated_at":"2021-01-06T07:25:48Z","author_association":"CONTRIBUTOR","body":"A problem occurs when the client pool has established multiple client connections. The liveliness checking, calling a specific low cost method which is not be wrapped by MetaException, may return OK when connecting to other active HMS connection.   \r\nHow to ensure that the activity detection keeps the same connection with the previous request  @pvary ?\r\n \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755133939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755136064","html_url":"https://github.com/apache/iceberg/pull/1141#issuecomment-755136064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1141","id":755136064,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTEzNjA2NA==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T07:31:30Z","updated_at":"2021-01-06T07:31:30Z","author_association":"COLLABORATOR","body":"@rdblue thanks for the review. Improved the doc accordingly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755136064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755177604","html_url":"https://github.com/apache/iceberg/pull/1986#issuecomment-755177604","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1986","id":755177604,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE3NzYwNA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T09:07:22Z","updated_at":"2021-01-06T09:07:22Z","author_association":"CONTRIBUTOR","body":"I think this one is ready for a final review round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755177604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755208338","html_url":"https://github.com/apache/iceberg/pull/1956#issuecomment-755208338","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1956","id":755208338,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTIwODMzOA==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T10:07:37Z","updated_at":"2021-01-06T10:07:37Z","author_association":"CONTRIBUTOR","body":"I have also met several times, `iceberg-spark3-extensions` CI test failed","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755208338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755266152","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-755266152","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":755266152,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI2NjE1Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T12:14:54Z","updated_at":"2021-01-06T12:14:54Z","author_association":"CONTRIBUTOR","body":"@islandgit: May I close this issue?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755266152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755291866","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-755291866","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":755291866,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI5MTg2Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T13:13:24Z","updated_at":"2021-01-06T13:13:24Z","author_association":"CONTRIBUTOR","body":"@rdblue @dmgcodevil does this problem happen all the time or only in given cases? Shall we create a repair action that would fix the metadata by checking the fs?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755291866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755297773","html_url":"https://github.com/apache/iceberg/pull/2021#issuecomment-755297773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2021","id":755297773,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI5Nzc3Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T13:26:21Z","updated_at":"2021-01-06T13:41:37Z","author_association":"CONTRIBUTOR","body":"Did I get correctly that we cannot guarantee the rows will be emitted in the expected sequence, @dilipbiswal @rdblue?\r\n\r\nThat's why the first iteration will rely on accumulators and a separate `DynamicFileFilterWith...` nodes?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755297773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755329968","html_url":"https://github.com/apache/iceberg/issues/1994#issuecomment-755329968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1994","id":755329968,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTMyOTk2OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T14:28:20Z","updated_at":"2021-01-06T14:28:20Z","author_association":"CONTRIBUTOR","body":"Should we run the liveliness test on every established HMS Client? That would ensure that the working clients will not be restarted but the ones connected to a stopped HMS will be stopped and the connection will be reestablished. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755329968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755372622","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-755372622","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":755372622,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM3MjYyMg==","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T15:38:12Z","updated_at":"2021-01-06T15:38:12Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi I'd suggest creating a repair action. This is what we are about to do with our data.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755372622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755376427","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-755376427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":755376427,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM3NjQyNw==","user":{"login":"island-lonely","id":25607446,"node_id":"MDQ6VXNlcjI1NjA3NDQ2","avatar_url":"https://avatars.githubusercontent.com/u/25607446?v=4","gravatar_id":"","url":"https://api.github.com/users/island-lonely","html_url":"https://github.com/island-lonely","followers_url":"https://api.github.com/users/island-lonely/followers","following_url":"https://api.github.com/users/island-lonely/following{/other_user}","gists_url":"https://api.github.com/users/island-lonely/gists{/gist_id}","starred_url":"https://api.github.com/users/island-lonely/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/island-lonely/subscriptions","organizations_url":"https://api.github.com/users/island-lonely/orgs","repos_url":"https://api.github.com/users/island-lonely/repos","events_url":"https://api.github.com/users/island-lonely/events{/privacy}","received_events_url":"https://api.github.com/users/island-lonely/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T15:43:57Z","updated_at":"2021-01-06T15:43:57Z","author_association":"NONE","body":"> @islandgit: May I close this issue?\r\n> \r\n> Thanks,\r\n> Peter\r\n\r\n@pvary \r\nThank you very much\r\nyou can close it\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755376427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755405035","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-755405035","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":755405035,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQwNTAzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:24:24Z","updated_at":"2021-01-06T16:24:24Z","author_association":"CONTRIBUTOR","body":"Why repair this? Is it causing problems with split planning?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755405035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755426532","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-755426532","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":755426532,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQyNjUzMg==","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:58:27Z","updated_at":"2021-01-06T17:27:04Z","author_association":"CONTRIBUTOR","body":"@rdblue if you are using prestosql >= 348 you will face this [problem](https://github.com/trinodb/trino/issues/6369)\r\n\r\ncc @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755426532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755500079","html_url":"https://github.com/apache/iceberg/pull/1979#issuecomment-755500079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1979","id":755500079,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTUwMDA3OQ==","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T18:43:23Z","updated_at":"2021-01-06T18:43:23Z","author_association":"CONTRIBUTOR","body":"sounds good. I will narrow it to the Azure package and also narrow it to when it is listing a table or namespace only.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755500079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755539428","html_url":"https://github.com/apache/iceberg/issues/1980#issuecomment-755539428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1980","id":755539428,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTUzOTQyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:12:21Z","updated_at":"2021-01-06T19:12:21Z","author_association":"CONTRIBUTOR","body":"Thanks for the context, @dmgcodevil. That's is definitely a problem. I think we will want to have a Trino fix for it, with the ability to fix metadata as a work-around until that is released. If you have a utility to share that fixes the metadata, I think that would be useful for other people. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755539428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755543018","html_url":"https://github.com/apache/iceberg/pull/1979#issuecomment-755543018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1979","id":755543018,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTU0MzAxOA==","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:15:19Z","updated_at":"2021-01-06T19:16:51Z","author_association":"CONTRIBUTOR","body":"I've checked everywhere the following methods are used\r\n\r\nisTableDir\r\nisDirectory\r\nisNamespace\r\n\r\nIn all cases I can see it makes sense to not throw the exception since these are tests. For example\r\n```\r\n  createNamespace()\r\n    if isNamespace\r\n      throw AlreadyExistsException\r\n\t  \r\n    if it does not exists it will try to create it.\r\n    if a user for some reason can't list the dir it will return false and\r\n    proceed to try to create it, at that point it will fail with a IOException\r\n    showing why (could be restricted access or any other reason)\r\n    \r\n  \r\n  listNamespaces()\r\n    if not isNamespace\r\n      throws NoSuchNamespaceException\r\n  \r\n    then proceeds to list the namespaces under that location, so like listTables it might be a partial list\r\n    \r\n  dropNamespace()\r\n    if can't access it will consider it does not exists and return false (not dropped)\r\n  \r\n  \r\n  loadNamespaceMetadata()\r\n    again if can't access namespace a NoSuchNamespaceException is returned\r\n  ```\r\n  \r\nNonetheless I will add checks for determining if the exception is an azure blob exception. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755543018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755549568","html_url":"https://github.com/apache/iceberg/pull/2030#issuecomment-755549568","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2030","id":755549568,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTU0OTU2OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:20:14Z","updated_at":"2021-01-06T19:20:14Z","author_association":"CONTRIBUTOR","body":"JDK 8 tests run in 36 minutes! Great work, @pvary!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755549568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755770024","html_url":"https://github.com/apache/iceberg/pull/1956#issuecomment-755770024","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1956","id":755770024,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc3MDAyNA==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T23:06:49Z","updated_at":"2021-01-06T23:06:49Z","author_association":"CONTRIBUTOR","body":"@zhangjun0x01 thx a lot for confirming your encounter of the problem. I also ran into the same problem locally when running Flink tests when I can tell my laptop became super slow. Maybe some tests are super heavy and cause high GC pause or sth.\r\n\r\nI just rebased the branch with latest master. Now CI tests all pass. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755770024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755815921","html_url":"https://github.com/apache/iceberg/pull/2027#issuecomment-755815921","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2027","id":755815921,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgxNTkyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T00:58:45Z","updated_at":"2021-01-07T00:58:45Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this @chenjunjiedada! I merged it. The test failure was a flaky test in Java 8.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755815921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755823931","html_url":"https://github.com/apache/iceberg/pull/1986#issuecomment-755823931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1986","id":755823931,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgyMzkzMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:25:30Z","updated_at":"2021-01-07T01:25:30Z","author_association":"CONTRIBUTOR","body":"Looks good overall. I'll merge this even with test TODO items so that we can get working on other MERGE tasks. Thanks, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755823931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755835203","html_url":"https://github.com/apache/iceberg/pull/2034#issuecomment-755835203","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2034","id":755835203,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgzNTIwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T02:03:46Z","updated_at":"2021-01-07T02:03:46Z","author_association":"CONTRIBUTOR","body":"Looks great, thanks @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755835203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755836559","html_url":"https://github.com/apache/iceberg/issues/2037#issuecomment-755836559","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2037","id":755836559,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgzNjU1OQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T02:08:35Z","updated_at":"2021-01-07T02:08:35Z","author_association":"MEMBER","body":"There's a PR addressing this issue https://github.com/apache/iceberg/pull/1893,  but it's still being reviewing.  I think it will be merged before 0.11.0 release.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755836559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755838429","html_url":"https://github.com/apache/iceberg/issues/2037#issuecomment-755838429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2037","id":755838429,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgzODQyOQ==","user":{"login":"dixingxing0","id":1303530,"node_id":"MDQ6VXNlcjEzMDM1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1303530?v=4","gravatar_id":"","url":"https://api.github.com/users/dixingxing0","html_url":"https://github.com/dixingxing0","followers_url":"https://api.github.com/users/dixingxing0/followers","following_url":"https://api.github.com/users/dixingxing0/following{/other_user}","gists_url":"https://api.github.com/users/dixingxing0/gists{/gist_id}","starred_url":"https://api.github.com/users/dixingxing0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dixingxing0/subscriptions","organizations_url":"https://api.github.com/users/dixingxing0/orgs","repos_url":"https://api.github.com/users/dixingxing0/repos","events_url":"https://api.github.com/users/dixingxing0/events{/privacy}","received_events_url":"https://api.github.com/users/dixingxing0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T02:15:01Z","updated_at":"2021-01-07T02:15:01Z","author_association":"CONTRIBUTOR","body":"Okï¼Œ i will close it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755838429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755856553","html_url":"https://github.com/apache/iceberg/pull/1960#issuecomment-755856553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1960","id":755856553,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTg1NjU1Mw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T03:19:04Z","updated_at":"2021-01-07T03:19:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR @yyanyy ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755856553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755857658","html_url":"https://github.com/apache/iceberg/issues/1954#issuecomment-755857658","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1954","id":755857658,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTg1NzY1OA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T03:22:58Z","updated_at":"2021-01-07T03:22:58Z","author_association":"CONTRIBUTOR","body":"@kbendick Saw that your PR was merged. Thanks for working on this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755857658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755905969","html_url":"https://github.com/apache/iceberg/issues/2040#issuecomment-755905969","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2040","id":755905969,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTkwNTk2OQ==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T06:03:45Z","updated_at":"2021-01-07T06:03:45Z","author_association":"CONTRIBUTOR","body":"@rdblue : I tried to debug this, it seems in V2WriteCommand in Spark 3.0.x (not the latest master) gets the table (NamedRelation) with 3 columns [here] in output, whereas in Spark 3.2.x (latest master) we are able to write partial data, because we are getting 2 columns there (not sure what major things have changed, and if they are intended)\r\n\r\nNOTE: If I try to insert data using insert SQL in Spark 3.2.x (where the dataFrame.write works fine) I hit following\r\n\r\nSo at this point in time, I am not clear what's the correct direction to resolve this, because of inconsistent behavior.\r\n\r\n```\r\nscala> sc.parallelize(Seq((s\"f1ValueFile\",s\"f2ValueFile\"))).toDF(\"f1\",\"f2\").registerTempTable(\"input\")\r\nwarning: there was one deprecation warning (since 2.0.0); for details, enable `:setting -deprecation' or `:replay -deprecation'\r\n\r\nscala> spark.read.format(\"iceberg\").load(masterTablePath).registerTempTable(\"target\")\r\nwarning: there was one deprecation warning (since 2.0.0); for details, enable `:setting -deprecation' or `:replay -deprecation'\r\n\r\nscala> spark.sql(\"insert into target (select * from input)\").show(false)\r\norg.apache.spark.sql.AnalysisException: Cannot write to 'file:////Users/ashmehta/git_code/aep/siphon-tools/test/172adb28-dff0-4063-bdea-0cd533c4c8de-master', not enough data columns:\r\nTable columns: 'f1', 'f2', 'f3'\r\nData columns: 'f1', 'f2';\r\n```\r\n\r\n\r\n[here]: https://github.com/apache/spark/blob/master/sql/catalyst/src/main/scala/org/apache/spark/sql/catalyst/plans/logical/v2Commands.scala#L47","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755905969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755958727","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-755958727","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":755958727,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTk1ODcyNw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T08:12:54Z","updated_at":"2021-01-07T08:12:54Z","author_association":"CONTRIBUTOR","body":"@islandgit: I just realized I can not ðŸ˜¢. Could you please close this?\r\n\r\nThanks,\r\nPeter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755958727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755959897","html_url":"https://github.com/apache/iceberg/pull/2030#issuecomment-755959897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2030","id":755959897,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTk1OTg5Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T08:15:38Z","updated_at":"2021-01-07T08:15:38Z","author_association":"CONTRIBUTOR","body":"Thanks for the review and the merge @rdblue!\r\n\r\nWith this runtimes do you think we still need to separate out the integration tests?\r\nWe might just keep everything as it is for now for simplicity shake, and if we see higher runtimes later then we can revisit the integration test idea?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/755959897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756030511","html_url":"https://github.com/apache/iceberg/issues/1698#issuecomment-756030511","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1698","id":756030511,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjAzMDUxMQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T10:30:24Z","updated_at":"2021-01-07T10:30:24Z","author_association":"MEMBER","body":"Thanks @stevenzwu for bringing this up.   It's indeed an problem for flink streaming reader because it depends on the java serialization in [StreamingReaderOperator](https://github.com/apache/iceberg/pull/1793/files#diff-22513db68a66d835391d1dad5b0b95ed776dbcc3df7c8df7df5450930f367893R67) now,  it's easy to crash when we upgrade iceberg lib version (which changes the CombinedScanTask classes) and restart the flink job. \r\n\r\nI'd prefer to define the avro schema in `BaseCombinedScanTask` which is similar to `BaseDataFile`, then we could maintain the binary bytes which is serialized by avro approach to flink state backend.  Let me evaluate the work. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756030511/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756072537","html_url":"https://github.com/apache/iceberg/issues/2028#issuecomment-756072537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2028","id":756072537,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjA3MjUzNw==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T11:56:53Z","updated_at":"2021-01-07T11:56:53Z","author_association":"CONTRIBUTOR","body":"Do you know if anybody else encountered this issue? Additionally, is there any more stacktrace that was left off? It seems like there might be something after the `Caused by: java.lang.UnsupportedOperationException`. As an example, I found this in the twitter `Chill` issues:\r\n\r\nExample stack trace with helpful info after the UnsupportedOperationException: https://github.com/EsotericSoftware/kryo/issues/472\r\n```\r\ncom.esotericsoftware.kryo.KryoException: java.lang.UnsupportedOperationException: ConfigObject is immutable, you can't call Map.put\r\n[error] Serialization trace: ...\r\n```\r\n\r\nIn general, the `Caused by` portion of the stack trace is likely to be the most informative. It's not exactly straight forward to tell what's happening here, as there's some code that seems to maybe be commented out for `registerSerializer` that could very well be very important to this serialization issue.\r\n\r\nSerializability issues of this sort are not an uncommon problem with both Kryo and Flink. In Flink, if one does not provide a custom type serializer, then it falls back to kryo. Kryo has limitations on its ability to (de)serialize objects, such as the mentioned limitation on serializing immutable objects (as well as some issues around fields that are or are not marked as final etc).\r\n\r\nIf I had to guess, based on quickly poking around the code, specifically the `org.apache.iceberg.Metrics` class, I would say that likely the `Metrics` are being instantiated with an immutable map for that field. Kryo likely does not like this. If you're looking to take up this issue and don't have background in Kryo / Flink serialization, this stack overflow question might help you get a better understanding of the issue (as well the the above linked issue from the kryo repo):\r\n\r\nhttps://stackoverflow.com/questions/14499670/serializing-and-deserializing-object-arrays-in-kryo\r\n\r\nI can follow up with more information if need be, but it would be helpful if you provided any further stack trace after the `Caused by java.lang.UnsupportedOperationException` as well as any information about types that you register with the flink runtime (as it appears there is a registerSerializer() function that's probably highly relevant here).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756072537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756073479","html_url":"https://github.com/apache/iceberg/pull/2031#issuecomment-756073479","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2031","id":756073479,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjA3MzQ3OQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T11:58:55Z","updated_at":"2021-01-07T11:58:55Z","author_association":"CONTRIBUTOR","body":"I am not a Flink expert but my reading of the [javadoc](https://github.com/apache/flink/blob/master/flink-table/flink-table-common/src/main/java/org/apache/flink/table/factories/TableFactory.java#L54) is that we could accept everything but it seems like its not recommended. I really like that Flink will throw an error if its configured incorrectly so I would prefer to keep some control over options.\r\n\r\nHowever, I agree that the prefix isn't awesome.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756073479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756074477","html_url":"https://github.com/apache/iceberg/issues/1952#issuecomment-756074477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1952","id":756074477,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjA3NDQ3Nw==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T12:01:03Z","updated_at":"2021-01-07T12:01:03Z","author_association":"CONTRIBUTOR","body":"I should have a PR open for this by Friday EOD. I've been a little under the weather this week but I believe I have everything working now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756074477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756074880","html_url":"https://github.com/apache/iceberg/issues/2044#issuecomment-756074880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2044","id":756074880,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjA3NDg4MA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T12:01:57Z","updated_at":"2021-01-07T12:01:57Z","author_association":"CONTRIBUTOR","body":"For reference, here's the issue I'm working on before I can pick this one up: https://github.com/apache/iceberg/issues/1952\r\n\r\nIf anybody would like to take this issue, please just comment on this ticket and let me know and I'd be happy to hand it off to you. ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756074880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756076279","html_url":"https://github.com/apache/iceberg/issues/2028#issuecomment-756076279","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2028","id":756076279,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjA3NjI3OQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T12:04:52Z","updated_at":"2021-01-07T12:04:52Z","author_association":"CONTRIBUTOR","body":"Also, can you please verify what version of Iceberg you are using?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756076279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756082023","html_url":"https://github.com/apache/iceberg/issues/1029#issuecomment-756082023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1029","id":756082023,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjA4MjAyMw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T12:17:12Z","updated_at":"2021-01-07T12:22:17Z","author_association":"CONTRIBUTOR","body":"#1508 reports the same issue as this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756082023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756167747","html_url":"https://github.com/apache/iceberg/pull/2038#issuecomment-756167747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2038","id":756167747,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjE2Nzc0Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T14:59:01Z","updated_at":"2021-01-07T14:59:01Z","author_association":"CONTRIBUTOR","body":"The final part of the INSERT INTO for Hive tables.\r\n@marton-bod, @lcspinter, @rdblue: Could you please take a look?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756167747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756223448","html_url":"https://github.com/apache/iceberg/issues/2045#issuecomment-756223448","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2045","id":756223448,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIyMzQ0OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:27:29Z","updated_at":"2021-01-07T16:27:29Z","author_association":"CONTRIBUTOR","body":"@dixingxing0: Thanks for reporting this!\r\nWe definitely want to make this work.\r\n\r\nOne thing to consider is that for Hive the uppercase and the lowercase names should mean the same, so we have to find a way to ignore the case for these tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756223448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756387494","html_url":"https://github.com/apache/iceberg/pull/2030#issuecomment-756387494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2030","id":756387494,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM4NzQ5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:12:52Z","updated_at":"2021-01-07T21:12:52Z","author_association":"CONTRIBUTOR","body":"> With this runtimes do you think we still need to separate out the integration tests?\r\n\r\nNo, I think this is okay now. If we wanted to run all combinations, I'd say that is good for integration tests. But as long as we're careful about what we're testing and reducing the combinations if they don't provide much value we are good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756387494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756448636","html_url":"https://github.com/apache/iceberg/pull/1891#issuecomment-756448636","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1891","id":756448636,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ0ODYzNg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T23:28:42Z","updated_at":"2021-01-07T23:28:42Z","author_association":"CONTRIBUTOR","body":"@rdblue there are too many tabs currently on Iceberg website, and adding the additional tab for AWS will make the UI ugly. So I moved Flink, Trino and Hive all under an engine's tab, and added a new tab called Integrations that will have topics like AWS, Nessie and JDBC.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756448636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756472364","html_url":"https://github.com/apache/iceberg/pull/2047#issuecomment-756472364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2047","id":756472364,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ3MjM2NA==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T00:35:35Z","updated_at":"2021-01-08T00:35:35Z","author_association":"CONTRIBUTOR","body":"@openinx I haven't switched `FlinkTestBase` to use HadoopCatalog yet. We probably should do it too. Maybe only leave `TestFlinkHiveCatalog` to use HiveCatalog and TestHiveMetastore.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756472364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756489628","html_url":"https://github.com/apache/iceberg/pull/1891#issuecomment-756489628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1891","id":756489628,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ4OTYyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:31:00Z","updated_at":"2021-01-08T01:31:00Z","author_association":"CONTRIBUTOR","body":"@jackye1995, we can save some space by getting rid of the next/previous links and by moving \"About\" into \"Project\":\r\n\r\n```diff\r\ndiff --git a/site/docs/css/extra.css b/site/docs/css/extra.css\r\nindex 4fa7c8036..3d79de02b 100644\r\n--- a/site/docs/css/extra.css\r\n+++ b/site/docs/css/extra.css\r\n@@ -28,6 +28,10 @@\r\n   float: left;\r\n }\r\n \r\n+.navbar-right {\r\n+  display: none;\r\n+}\r\n+\r\n .navbar-brand {\r\n   margin-right: 1em;\r\n }\r\ndiff --git a/site/mkdocs.yml b/site/mkdocs.yml\r\nindex 1ce05135b..209495896 100644\r\n--- a/site/mkdocs.yml\r\n+++ b/site/mkdocs.yml\r\n@@ -40,8 +40,8 @@ markdown_extensions:\r\n   - admonition\r\n   - pymdownx.tilde\r\n nav:\r\n-  - About: index.md\r\n-  - Project:\r\n+  - About:\r\n+    - Project: index.md\r\n     - Community: community.md\r\n     - Releases: releases.md\r\n     - Trademarks: trademarks.md\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756489628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756492770","html_url":"https://github.com/apache/iceberg/issues/1482#issuecomment-756492770","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1482","id":756492770,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5Mjc3MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:39:44Z","updated_at":"2021-01-08T01:39:44Z","author_association":"CONTRIBUTOR","body":"@samidalouche, sorry for the late reply. I didn't see this until today.\r\n\r\nRight now, we have a fixed set of transforms because we want to have consistent support across engines. To do that, we want a small set of transforms that are well-defined so that there isn't a huge cost to implementing support. Otherwise, we'd end up with inconsistent features across processing engines, which we really want to avoid.\r\n\r\nIt is possible to add new transforms and possibly even to provide a way to customize transforms, but we would need a way to plug in code that is used by Iceberg. The hardest thing to implement is projection, which takes a predicate for rows in a table and converts it to a predicate that matches partition values. That's difficult to write and can cause problems if you get it wrong, but I think we can generalize it into two cases: monotonic transforms (like year, month, day, hour, truncate) and other transforms (like bucket). Then you'd only have to supply the `apply` implementation and a few booleans and Iceberg could handle the rest.\r\n\r\nI think it is reasonable for users to need additional partition functions, but I hope that we can add functions to Iceberg when they are needed so that everyone benefits.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756492770/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756495523","html_url":"https://github.com/apache/iceberg/pull/2048#issuecomment-756495523","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2048","id":756495523,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5NTUyMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:49:37Z","updated_at":"2021-01-08T01:49:37Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @holdenk! It would be great to get this gap fixed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756495523/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756495836","html_url":"https://github.com/apache/iceberg/pull/2032#issuecomment-756495836","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2032","id":756495836,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5NTgzNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:50:45Z","updated_at":"2021-01-08T01:50:45Z","author_association":"CONTRIBUTOR","body":"Thanks @rymurr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756495836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756496637","html_url":"https://github.com/apache/iceberg/pull/2031#issuecomment-756496637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2031","id":756496637,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5NjYzNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:53:36Z","updated_at":"2021-01-08T01:53:36Z","author_association":"CONTRIBUTOR","body":"In that case, I'd go with adding all of the properties in `CatalogProperties`. We can always add a prefix later if we want.\r\n\r\nTo do that, we probably need `CatalogProperties` to have an array or list of all properties, like `CatalogProperties.all()` so we don't need to remember to go update Flink as we add more.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756496637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756497634","html_url":"https://github.com/apache/iceberg/pull/1979#issuecomment-756497634","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1979","id":756497634,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5NzYzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:57:08Z","updated_at":"2021-01-08T01:57:08Z","author_association":"CONTRIBUTOR","body":"@cccs-jc, thanks for updating this! Other than the file that doesn't need to be modified and renaming the config property, I think this is ready to go. Thanks for getting this done!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756497634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756497980","html_url":"https://github.com/apache/iceberg/pull/2042#issuecomment-756497980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2042","id":756497980,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5Nzk4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:58:36Z","updated_at":"2021-01-08T01:58:36Z","author_association":"CONTRIBUTOR","body":"@openinx, could you review this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756497980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756498294","html_url":"https://github.com/apache/iceberg/pull/1793#issuecomment-756498294","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1793","id":756498294,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5ODI5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:59:56Z","updated_at":"2021-01-08T01:59:56Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing this, @stevenzwu! It's really helpful to have your reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756498294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756499202","html_url":"https://github.com/apache/iceberg/pull/2048#issuecomment-756499202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2048","id":756499202,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5OTIwMg==","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T02:03:07Z","updated_at":"2021-01-08T02:03:07Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick review :) I'll circle back tomorrow with the changes :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756499202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756510622","html_url":"https://github.com/apache/iceberg/issues/2045#issuecomment-756510622","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2045","id":756510622,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjUxMDYyMg==","user":{"login":"dixingxing0","id":1303530,"node_id":"MDQ6VXNlcjEzMDM1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1303530?v=4","gravatar_id":"","url":"https://api.github.com/users/dixingxing0","html_url":"https://github.com/dixingxing0","followers_url":"https://api.github.com/users/dixingxing0/followers","following_url":"https://api.github.com/users/dixingxing0/following{/other_user}","gists_url":"https://api.github.com/users/dixingxing0/gists{/gist_id}","starred_url":"https://api.github.com/users/dixingxing0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dixingxing0/subscriptions","organizations_url":"https://api.github.com/users/dixingxing0/orgs","repos_url":"https://api.github.com/users/dixingxing0/repos","events_url":"https://api.github.com/users/dixingxing0/events{/privacy}","received_events_url":"https://api.github.com/users/dixingxing0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T02:42:41Z","updated_at":"2021-01-08T02:42:41Z","author_association":"CONTRIBUTOR","body":"I would like to have a try and make a pr","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756510622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756535921","html_url":"https://github.com/apache/iceberg/issues/2049#issuecomment-756535921","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2049","id":756535921,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjUzNTkyMQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T04:16:30Z","updated_at":"2021-01-08T04:16:30Z","author_association":"MEMBER","body":"@simonsssu  It's an optimization for accessing nested field.   For example,  we have the schema: \r\n\r\n```\r\nroot\r\n |-- a: struct (nullable = false)\r\n |    |-- b: struct (nullable = false)\r\n |        | -- c: string (containsNull = false)\r\n```\r\n\r\nWe could just use the `Position3Accessor` to access the nested field `c` (Because it just access the nested field straightforward :  `row.get(p0, StructLike.class).get(p1, StructLike.class).get(p2, javaClass);`  ). \r\n\r\nOf course,  it won't break the correctness if we remove that optimization, then we will use the `WrappedPositionAccessor` to access field `c` recursively,  that's a more complex stack trace which may consume more resources. \r\n\r\nBut I think it's good to keep the optimization because the nested fields with depth=1 or 2 or 3 are the fields that will be accessed with the highest frequency.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756535921/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756570300","html_url":"https://github.com/apache/iceberg/issues/2049#issuecomment-756570300","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2049","id":756570300,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjU3MDMwMA==","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T06:12:06Z","updated_at":"2021-01-08T06:12:06Z","author_association":"CONTRIBUTOR","body":"@openinx I think what we need is to add some comments here. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756570300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756586449","html_url":"https://github.com/apache/iceberg/issues/2049#issuecomment-756586449","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2049","id":756586449,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjU4NjQ0OQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T06:56:55Z","updated_at":"2021-01-08T06:56:55Z","author_association":"MEMBER","body":"@simonsssu  It's indeed a bit hard to understand,  would you like to add comments for that ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756586449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756612817","html_url":"https://github.com/apache/iceberg/issues/2049#issuecomment-756612817","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2049","id":756612817,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYxMjgxNw==","user":{"login":"simonsssu","id":12323514,"node_id":"MDQ6VXNlcjEyMzIzNTE0","avatar_url":"https://avatars.githubusercontent.com/u/12323514?v=4","gravatar_id":"","url":"https://api.github.com/users/simonsssu","html_url":"https://github.com/simonsssu","followers_url":"https://api.github.com/users/simonsssu/followers","following_url":"https://api.github.com/users/simonsssu/following{/other_user}","gists_url":"https://api.github.com/users/simonsssu/gists{/gist_id}","starred_url":"https://api.github.com/users/simonsssu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonsssu/subscriptions","organizations_url":"https://api.github.com/users/simonsssu/orgs","repos_url":"https://api.github.com/users/simonsssu/repos","events_url":"https://api.github.com/users/simonsssu/events{/privacy}","received_events_url":"https://api.github.com/users/simonsssu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:06:41Z","updated_at":"2021-01-08T08:06:41Z","author_association":"CONTRIBUTOR","body":"OK, I will add comments and make a pr","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756612817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756615712","html_url":"https://github.com/apache/iceberg/pull/2046#issuecomment-756615712","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2046","id":756615712,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYxNTcxMg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:13:51Z","updated_at":"2021-01-08T08:13:51Z","author_association":"CONTRIBUTOR","body":"@marton-bod, @lcspinter: Could you please review?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756615712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756616857","html_url":"https://github.com/apache/iceberg/issues/1826#issuecomment-756616857","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1826","id":756616857,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYxNjg1Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:16:32Z","updated_at":"2021-01-08T08:16:32Z","author_association":"CONTRIBUTOR","body":"After #1924 we decided that we will do not need this for a while at least","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756616857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756624942","html_url":"https://github.com/apache/iceberg/issues/852#issuecomment-756624942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/852","id":756624942,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYyNDk0Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:35:28Z","updated_at":"2021-01-08T08:35:28Z","author_association":"CONTRIBUTOR","body":"Checking Hive related issues I have found this. Can we close this now as the implementation is committed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756624942/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756625070","html_url":"https://github.com/apache/iceberg/issues/846#issuecomment-756625070","issue_url":"https://api.github.com/repos/apache/iceberg/issues/846","id":756625070,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYyNTA3MA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:35:45Z","updated_at":"2021-01-08T08:35:45Z","author_association":"CONTRIBUTOR","body":"Checking Hive related issues I have found this. Can we close this now as the implementation is committed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756625070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756628740","html_url":"https://github.com/apache/iceberg/issues/771#issuecomment-756628740","issue_url":"https://api.github.com/repos/apache/iceberg/issues/771","id":756628740,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYyODc0MA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:44:06Z","updated_at":"2021-01-08T08:44:06Z","author_association":"CONTRIBUTOR","body":"With the current code I tried to repro the case by changing the TestHiveIcebergStorageHandlerNoScan tests and got the following exception:\r\n```\r\nMetastore operation failed for default2.customers\r\njava.lang.RuntimeException: Metastore operation failed for default2.customers\r\n\tat org.apache.iceberg.hive.HiveCatalog.defaultWarehouseLocation(HiveCatalog.java:504)\r\n\tat org.apache.iceberg.BaseMetastoreCatalog$BaseMetastoreCatalogTableBuilder.create(BaseMetastoreCatalog.java:210)\r\n\tat org.apache.iceberg.mr.hive.TestTables$CatalogToTables.create(TestTables.java:218)\r\n\tat org.apache.iceberg.Tables.create(Tables.java:41)\r\n\tat org.apache.iceberg.mr.TestHelper.createTable(TestHelper.java:82)\r\n\tat org.apache.iceberg.mr.TestHelper.createTable(TestHelper.java:88)\r\n\tat org.apache.iceberg.mr.hive.TestTables.createIcebergTable(TestTables.java:173)\r\n\tat org.apache.iceberg.mr.hive.TestHiveIcebergStorageHandlerNoScan.testCreateTableAboveExistingTable(TestHiveIcebergStorageHandlerNoScan.java:378)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)\r\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:175)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:157)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: NoSuchObjectException(message:There is no database hive.default2)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$get_database_result$get_database_resultStandardScheme.read(ThriftHiveMetastore.java:40267)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$get_database_result$get_database_resultStandardScheme.read(ThriftHiveMetastore.java:40244)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$get_database_result.read(ThriftHiveMetastore.java:40175)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:86)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.recv_get_database(ThriftHiveMetastore.java:1135)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.get_database(ThriftHiveMetastore.java:1122)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.getDatabase(HiveMetaStoreClient.java:1511)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.getDatabase(HiveMetaStoreClient.java:1506)\r\n\tat org.apache.iceberg.hive.HiveCatalog.lambda$defaultWarehouseLocation$13(HiveCatalog.java:497)\r\n\tat org.apache.iceberg.hive.ClientPool.run(ClientPool.java:54)\r\n\tat org.apache.iceberg.hive.HiveCatalog.defaultWarehouseLocation(HiveCatalog.java:497)\r\n\t... 68 more\r\n```\r\n\r\nI think this is helpful.\r\n\r\nCould someone please check that the error message in spark is also changed for good?\r\nIf so, then I think we could close this issue.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756628740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756630728","html_url":"https://github.com/apache/iceberg/issues/798#issuecomment-756630728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/798","id":756630728,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYzMDcyOA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:48:19Z","updated_at":"2021-01-08T08:48:19Z","author_association":"CONTRIBUTOR","body":"Most probably EMR uses Hive where the HIVE_LOCK table schema not synched with the code. Most probably this not causes problems for EMR because it does not uses DBLockManager or Locking at all.\r\nOn the other hand Iceberg uses locks and tries to use the tables. Since the schema is not correct. It fails.\r\n\r\nCould you please try it with a more recent version of EMR and check if the issues still exists?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756630728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756631748","html_url":"https://github.com/apache/iceberg/issues/791#issuecomment-756631748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/791","id":756631748,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYzMTc0OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:50:07Z","updated_at":"2021-01-08T08:50:07Z","author_association":"CONTRIBUTOR","body":"I think this issue is a duplicate of #798\r\n@figo10203: Could you please check my comment there?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756631748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756633521","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-756633521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":756633521,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYzMzUyMQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:53:57Z","updated_at":"2021-01-08T08:53:57Z","author_association":"CONTRIBUTOR","body":"Is this an issue we could close as the read path is already committed and the work on write path is also on the way under different issues/PRs?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756633521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756681674","html_url":"https://github.com/apache/iceberg/issues/2045#issuecomment-756681674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2045","id":756681674,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjY4MTY3NA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T10:32:56Z","updated_at":"2021-01-08T10:32:56Z","author_association":"CONTRIBUTOR","body":"@dixingxing0: Ping me to review! Thanks for taking care of this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756681674/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756694642","html_url":"https://github.com/apache/iceberg/pull/2052#issuecomment-756694642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2052","id":756694642,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjY5NDY0Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:01:52Z","updated_at":"2021-01-08T11:01:52Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch @qphien!\r\nReally appreciate that you have taken the time to track this down!\r\n\r\nAsked a few questions in the review comments. The general observations:\r\n- Please do not do formatting only changes - These are making the review (and backport) harder\r\n- I would recommend to use a boolean or Boolean instead of \"false\"/\"true\" strings\r\n- There is one particular line I personally removed once accidentally and later realized that it is needed for performant queries (we might want to add a test case for it ðŸ˜„). I think the line is still needed.\r\n- I asked @marton-bod to review the projection related part since he was the one working on that.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756694642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756723017","html_url":"https://github.com/apache/iceberg/pull/1648#issuecomment-756723017","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1648","id":756723017,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjcyMzAxNw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T12:09:06Z","updated_at":"2021-01-08T12:09:06Z","author_association":"CONTRIBUTOR","body":"@shardulm94 I'll pick this up again since I'll be convenient for #1972, this will make `Schema` serializable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756723017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756742670","html_url":"https://github.com/apache/iceberg/pull/2053#issuecomment-756742670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2053","id":756742670,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc0MjY3MA==","user":{"login":"dixingxing0","id":1303530,"node_id":"MDQ6VXNlcjEzMDM1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1303530?v=4","gravatar_id":"","url":"https://api.github.com/users/dixingxing0","html_url":"https://github.com/dixingxing0","followers_url":"https://api.github.com/users/dixingxing0/followers","following_url":"https://api.github.com/users/dixingxing0/following{/other_user}","gists_url":"https://api.github.com/users/dixingxing0/gists{/gist_id}","starred_url":"https://api.github.com/users/dixingxing0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dixingxing0/subscriptions","organizations_url":"https://api.github.com/users/dixingxing0/orgs","repos_url":"https://api.github.com/users/dixingxing0/repos","events_url":"https://api.github.com/users/dixingxing0/events{/privacy}","received_events_url":"https://api.github.com/users/dixingxing0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T12:58:42Z","updated_at":"2021-01-08T12:58:42Z","author_association":"CONTRIBUTOR","body":"@pvary, i just pushed a commit, could you please take a look? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756742670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756743925","html_url":"https://github.com/apache/iceberg/pull/2053#issuecomment-756743925","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2053","id":756743925,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc0MzkyNQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:01:30Z","updated_at":"2021-01-08T13:01:30Z","author_association":"CONTRIBUTOR","body":"> @pvary, i just pushed a commit, could you please take a look?\r\n\r\nJust answered ðŸ˜„ \r\nSince the queries in the new test cases do not use the execution engine itself (they are using only local tasks), we do need them in both classes. It is enough to have them in the `TestHiveIcebergStorageHandlerLocalScan.java`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756743925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756744795","html_url":"https://github.com/apache/iceberg/pull/2053#issuecomment-756744795","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2053","id":756744795,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc0NDc5NQ==","user":{"login":"dixingxing0","id":1303530,"node_id":"MDQ6VXNlcjEzMDM1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1303530?v=4","gravatar_id":"","url":"https://api.github.com/users/dixingxing0","html_url":"https://github.com/dixingxing0","followers_url":"https://api.github.com/users/dixingxing0/followers","following_url":"https://api.github.com/users/dixingxing0/following{/other_user}","gists_url":"https://api.github.com/users/dixingxing0/gists{/gist_id}","starred_url":"https://api.github.com/users/dixingxing0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dixingxing0/subscriptions","organizations_url":"https://api.github.com/users/dixingxing0/orgs","repos_url":"https://api.github.com/users/dixingxing0/repos","events_url":"https://api.github.com/users/dixingxing0/events{/privacy}","received_events_url":"https://api.github.com/users/dixingxing0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:03:21Z","updated_at":"2021-01-08T13:03:21Z","author_association":"CONTRIBUTOR","body":"> > @pvary, i just pushed a commit, could you please take a look?\r\n> \r\n> Just answered ðŸ˜„\r\n> Since the queries in the new test cases do not use the execution engine itself (they are using only local tasks), we do need them in both classes. It is enough to have them in the `TestHiveIcebergStorageHandlerLocalScan.java`\r\n\r\nThanks, i've removed the test code in TestHiveIcebergStorageHandlerWithEngine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756744795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756755423","html_url":"https://github.com/apache/iceberg/pull/2053#issuecomment-756755423","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2053","id":756755423,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc1NTQyMw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:28:02Z","updated_at":"2021-01-08T13:28:02Z","author_association":"CONTRIBUTOR","body":"> > > @pvary, i just pushed a commit, could you please take a look?\r\n> > \r\n> > \r\n> > Just answered ðŸ˜„\r\n> > Since the queries in the new test cases do not use the execution engine itself (they are using only local tasks), we do need them in both classes. It is enough to have them in the `TestHiveIcebergStorageHandlerLocalScan.java`\r\n> \r\n> Thanks, i've removed the test code in TestHiveIcebergStorageHandlerWithEngine.\r\n\r\nThanks @dixingxing0 for the patch!\r\n\r\nFew last nits and then I think it is good.\r\n+1 non-binding\r\n\r\n@rdblue: Could you please review?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756755423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756756586","html_url":"https://github.com/apache/iceberg/issues/846#issuecomment-756756586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/846","id":756756586,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc1NjU4Ng==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:30:47Z","updated_at":"2021-01-08T13:30:47Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756756586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756799142","html_url":"https://github.com/apache/iceberg/pull/2053#issuecomment-756799142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2053","id":756799142,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc5OTE0Mg==","user":{"login":"dixingxing0","id":1303530,"node_id":"MDQ6VXNlcjEzMDM1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1303530?v=4","gravatar_id":"","url":"https://api.github.com/users/dixingxing0","html_url":"https://github.com/dixingxing0","followers_url":"https://api.github.com/users/dixingxing0/followers","following_url":"https://api.github.com/users/dixingxing0/following{/other_user}","gists_url":"https://api.github.com/users/dixingxing0/gists{/gist_id}","starred_url":"https://api.github.com/users/dixingxing0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dixingxing0/subscriptions","organizations_url":"https://api.github.com/users/dixingxing0/orgs","repos_url":"https://api.github.com/users/dixingxing0/repos","events_url":"https://api.github.com/users/dixingxing0/events{/privacy}","received_events_url":"https://api.github.com/users/dixingxing0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T14:58:42Z","updated_at":"2021-01-08T14:58:42Z","author_association":"CONTRIBUTOR","body":"@pvary, thank you for your patience, i will be more careful next time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756799142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756875454","html_url":"https://github.com/apache/iceberg/pull/2050#issuecomment-756875454","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2050","id":756875454,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njg3NTQ1NA==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T17:02:20Z","updated_at":"2021-01-08T17:02:20Z","author_association":"CONTRIBUTOR","body":"I'm fine with updating the property names (especially adding the units), but I'm not clear on what convention is being used here.  Using `-` as a delimiter seems pretty inconsistent with most projects I'm aware of (not that most tend to be internally consistent anyway).  \r\n\r\n@rdblue, If there is a specific convention, we should probably document so reviewers can point out inconsistencies going forward.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756875454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756904527","html_url":"https://github.com/apache/iceberg/pull/1979#issuecomment-756904527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1979","id":756904527,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkwNDUyNw==","user":{"login":"cccs-jc","id":56140112,"node_id":"MDQ6VXNlcjU2MTQwMTEy","avatar_url":"https://avatars.githubusercontent.com/u/56140112?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-jc","html_url":"https://github.com/cccs-jc","followers_url":"https://api.github.com/users/cccs-jc/followers","following_url":"https://api.github.com/users/cccs-jc/following{/other_user}","gists_url":"https://api.github.com/users/cccs-jc/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-jc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-jc/subscriptions","organizations_url":"https://api.github.com/users/cccs-jc/orgs","repos_url":"https://api.github.com/users/cccs-jc/repos","events_url":"https://api.github.com/users/cccs-jc/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-jc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T17:49:22Z","updated_at":"2021-01-08T17:49:22Z","author_association":"CONTRIBUTOR","body":"Hey Ryan,\r\n\r\nMade the change. Should be good to go now. Please have a final spot check.\r\nCheers","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756904527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756931684","html_url":"https://github.com/apache/iceberg/pull/2050#issuecomment-756931684","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2050","id":756931684,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkzMTY4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T18:45:29Z","updated_at":"2021-01-08T18:45:29Z","author_association":"CONTRIBUTOR","body":"@danielcweeks, the convention is to use `.` as a delimiter for grouping and `-` between multiple words of the same term.\r\n\r\nFor example, in `s3fileio.multipart.part.size` the `part` is not a group or namespace for properties, it is one word of \"part size\". Similarly, `bytes` is part of the thing being configured and we would not expect to see other properties nested within `size`.\r\n\r\nOther projects use a convention where all words are separated by `.` regardless, but I think it is easier to understand the context hierarchy if things described by more than one word are kept together.\r\n\r\nAlso, `lock.impl` vs `lock-impl` is a fuzzy case since `lock` _is_ a group, but I think this should match the others, like `io-impl`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756931684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756933941","html_url":"https://github.com/apache/iceberg/pull/1893#issuecomment-756933941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1893","id":756933941,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkzMzk0MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T18:50:24Z","updated_at":"2021-01-08T18:50:24Z","author_association":"CONTRIBUTOR","body":"I'll take another look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756933941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756950033","html_url":"https://github.com/apache/iceberg/pull/2046#issuecomment-756950033","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2046","id":756950033,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk1MDAzMw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T19:25:33Z","updated_at":"2021-01-08T19:25:33Z","author_association":"CONTRIBUTOR","body":"@openinx, @aokolnychyi: After talking with @rdblue, he said you might be interested in reviewing this change.\r\n\r\nWould you be so kind to review?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756950033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756950400","html_url":"https://github.com/apache/iceberg/pull/2054#issuecomment-756950400","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2054","id":756950400,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk1MDQwMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T19:26:28Z","updated_at":"2021-01-08T19:26:28Z","author_association":"CONTRIBUTOR","body":"@shardulm94: Could you spare some time to review this change?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756950400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756951248","html_url":"https://github.com/apache/iceberg/pull/2038#issuecomment-756951248","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2038","id":756951248,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk1MTI0OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T19:28:31Z","updated_at":"2021-01-08T19:28:31Z","author_association":"CONTRIBUTOR","body":"@rdblue: As discussed today, this one would be one of the P1-s\r\nCould you spare some time to review this please?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/756951248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757052208","html_url":"https://github.com/apache/iceberg/pull/2031#issuecomment-757052208","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2031","id":757052208,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA1MjIwOA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T23:49:23Z","updated_at":"2021-01-08T23:49:23Z","author_association":"CONTRIBUTOR","body":"Sorry I missed the notification for this one. I tested with Flink on EMR which is an older version, let me try with the latest version and reply here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757052208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757054106","html_url":"https://github.com/apache/iceberg/pull/1981#issuecomment-757054106","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1981","id":757054106,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA1NDEwNg==","user":{"login":"boroknagyz","id":12861880,"node_id":"MDQ6VXNlcjEyODYxODgw","avatar_url":"https://avatars.githubusercontent.com/u/12861880?v=4","gravatar_id":"","url":"https://api.github.com/users/boroknagyz","html_url":"https://github.com/boroknagyz","followers_url":"https://api.github.com/users/boroknagyz/followers","following_url":"https://api.github.com/users/boroknagyz/following{/other_user}","gists_url":"https://api.github.com/users/boroknagyz/gists{/gist_id}","starred_url":"https://api.github.com/users/boroknagyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boroknagyz/subscriptions","organizations_url":"https://api.github.com/users/boroknagyz/orgs","repos_url":"https://api.github.com/users/boroknagyz/repos","events_url":"https://api.github.com/users/boroknagyz/events{/privacy}","received_events_url":"https://api.github.com/users/boroknagyz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T23:58:51Z","updated_at":"2021-01-08T23:58:51Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, I've just run into this issue with Impala. (And this fix is also a prerequisite for issue #2043)\r\n\r\nSo the plan is that 0.11+ writers will write the correct transformation values IIUC. Does it also mean that pre-0.11 readers will not be able to read the new files correctly when the data is before the epoch?\r\n\r\nE.g. new writer writes '1969-12-31 23:05:00' with YEAR partition transform (so ts_year=-1), old reader scans for 'ts > 1969-12-31 23:00:00' (so with old transform the projected predicate is ts_year >=0), and the file will be skipped because the partition data has ts_year=-1.\r\n\r\nI just want to clarify this, because with Impala I'm planning to write V1 files with the fixed transforms.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757054106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757054891","html_url":"https://github.com/apache/iceberg/pull/1891#issuecomment-757054891","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1891","id":757054891,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA1NDg5MQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-09T00:02:29Z","updated_at":"2021-01-09T00:02:29Z","author_association":"CONTRIBUTOR","body":"> @jackye1995, we can save some space by getting rid of the next/previous links and by moving \"About\" into \"Project\":\r\n\r\nThanks for the code reference, I just updated the tabs based on that","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757054891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757058140","html_url":"https://github.com/apache/iceberg/pull/1981#issuecomment-757058140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1981","id":757058140,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA1ODE0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-09T00:15:55Z","updated_at":"2021-01-09T00:15:55Z","author_association":"CONTRIBUTOR","body":"> Does it also mean that pre-0.11 readers will not be able to read the new files correctly when the data is before the epoch?\r\n\r\nYes. Older readers will still have the bug. I think we can only make a backward-compatible fix for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/757058140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]