[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334776797","html_url":"https://github.com/apache/couchdb/pull/866#issuecomment-334776797","issue_url":"https://api.github.com/repos/apache/couchdb/issues/866","id":334776797,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc3Njc5Nw==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T14:48:33Z","updated_at":"2017-10-06T14:50:01Z","author_association":"CONTRIBUTOR","body":"@willholley : I considered appending ```{\"$exists\":true}``` for backwards compatibility. We've done it in the past when we appended ```{\"$gt\": null}``` to do the _all_docs trick for users. If we do this though, users would not see an error message, but they could still be getting incorrect results back as we're forcing the predicate fields to exist.  I.e\r\n\r\nIndex: [a, b, c]\r\nQuery: ```{\"c\": \"foo\"}```\r\nSort:[a, b]\r\nNew modified becomes: ```{\"c\": \"foo\", {\"a\":{\"$exists\": true}}, {\"b\":{\"$exists\": true}}}```\r\n\r\nIt's a tradeoff: let their apps continue to run with possible incorrect data or let it break and force them to possibly re-index and modify their app. I'd like more opinions @garrensmith @davisp ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334776797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334778025","html_url":"https://github.com/apache/couchdb/pull/863#issuecomment-334778025","issue_url":"https://api.github.com/repos/apache/couchdb/issues/863","id":334778025,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc3ODAyNQ==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T14:52:46Z","updated_at":"2017-10-06T14:52:46Z","author_association":"CONTRIBUTOR","body":"@willholley : I've always been champion of making the results the same across json and text indexes. If $exists: false is a special case, perhaps we default to using _all_docs as well even with a text index? No other  way to do that unless the user already indexed everything with another text index (but we have no way of knowing that).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334778025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334793259","html_url":"https://github.com/apache/couchdb/issues/870#issuecomment-334793259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/870","id":334793259,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc5MzI1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T15:45:25Z","updated_at":"2017-10-06T15:45:25Z","author_association":"MEMBER","body":"You're welcome to reimplement CouchDB on your own in a different language.\r\n\r\nPouchDB can also use new contributors.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334793259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334808386","html_url":"https://github.com/apache/couchdb/issues/871#issuecomment-334808386","issue_url":"https://api.github.com/repos/apache/couchdb/issues/871","id":334808386,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgwODM4Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T16:43:38Z","updated_at":"2017-10-06T16:43:38Z","author_association":"MEMBER","body":"Never mind, this was misconfiguration.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334808386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334828828","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334828828","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334828828,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgyODgyOA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:04:11Z","updated_at":"2017-10-06T18:04:11Z","author_association":"MEMBER","body":"More @chewbranca on IRC:\r\n> <chewbranca>\tjan____: Wohali: as far as I'm aware, the only place in the code that does anything along the lines of a singleton/leader election type thing is the couch_replicator logic to ensure only one replication per replicator doc is active. Perhaps rnewson/nick have some thoughts on generalizing that logic to a reusable behavior or some such ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334828828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334851376","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334851376","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334851376,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDg1MTM3Ng==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T19:41:44Z","updated_at":"2017-10-06T19:41:44Z","author_association":"MEMBER","body":"Bit of help from @nickva \r\n\r\n[21:25:20]  <vatamane>\tthe logic is mostly isolated to https://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_clustering.erl\r\n[21:27:26]  <vatamane>\tthere are 2 main bits to consider : how to distribute the things across the nodes (see the owner functions) and what to do if node configuration changes (nodes added or removed)\r\n[21:29:39]  <vatamane>\tthe insight with the first point (how to distribute things) is that it's an algorithm that runs on all the nodes concurrently, and the result on all nodes should all agree who the owner is (given they have the same list of connected nodes)\r\n[21:30:34]  <vatamane>\tso node1 sees the thing and says, \"not mine, node2 owns, I'll ignore it\", node3 does the same and node2 sees and say \"yap I own, I'll take care of it\"\r\n[21:38:19]  <+Wohali>\tnot just nodes added/removed, also \"node fails or is temporarily gone\" right?\r\n[21:39:11]  <vatamane>\tyap\r\n[21:40:56]  <vatamane>\tthe list of nodes is an input to the algorithm, that list might include nodes in maintenance or might not, or may only include nodes where the shard of a particular db/docid live","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334851376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334888616","html_url":"https://github.com/apache/couchdb/issues/869#issuecomment-334888616","issue_url":"https://api.github.com/repos/apache/couchdb/issues/869","id":334888616,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDg4ODYxNg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T22:56:02Z","updated_at":"2017-10-06T22:56:02Z","author_association":"CONTRIBUTOR","body":"Keep an eye in the logs for emfile errors, that might mean running out of file descriptors.\r\n\r\nAlso try increasing max_dbs_open if you see `all_dbs_active` in the logs.\r\n\r\nIn general try to see if there is something in the logs around the time this behavior starts.\r\n\r\nLook for things that looks like stack traces (file names and lines of code) as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334888616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334919162","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334919162","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334919162,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDkxOTE2Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T08:21:32Z","updated_at":"2017-10-07T08:21:32Z","author_association":"MEMBER","body":"Iâ€™ve done a bit of further research on this code and I think Iâ€™ve come up with a decent plan forward. Iâ€™m writing it down here for my own benefit, to see if I have all the missing parts, and for @chewbranca and @nickva to +1 the plan.\r\n\r\nIâ€™ve identified two independent issues with this module, both stem from it being fundamentally being designed for CouchDB 1.x and the 2.x port being done rather haphazardly in the past (by me).\r\n\r\n**Problem No. 1:** this module gets started on each node in a cluster, each listening to `_changes` on `_users` and each trying to create the associated db. This can lead to conflicts on the `_dbs` db, which isnâ€™t a fun situation as per @chewbranca above.\r\n\r\n**Problem No. 2:** this module doesnâ€™t handle the case of the node it being run on failing and restarting. This is less an issue, if Problem No. 1 isnâ€™t solved yet, as in a typical cluster there are at least two more instances of this module running that could create the database.\r\n\r\nBut say we fix Problem No. 1 (as outlined above) so that each user creation will only ever result in a single attempt to create the associated database. Then, what should happen if in between picking up the notification to create the database and doing the DB creation, the current node becomes unavailable?\r\n\r\nThe module currently opens `_changes` on startup and asserts all user/db creations corresponding to the `_users` db. That is, if there are 100k users, on startup, the module will try to create 100k databases, even if they already exist.\r\n\r\nA solution to this would be to add per-node high-watermark `_local/` docs, so we can more efficiently resume, but Iâ€™ll keep this as out of scope for this PR.\r\n\r\n* * *\r\n\r\n### Solution\r\n\r\nThe solution to Problem No. 1 as outline by @nickva is to re-use the replicatorâ€™s code that makes sure a replication is only run on a single node (and specifically on the node that handles the shard that the `_replicator` document is part of. All of this is neatly encapsulated in the `couch_replicator_clustering` module.\r\n\r\nThat module is structured in a way that it can tell, given a `DbName` and a `DocId`, which active node in a cluster should handle a given action (replication by default, but we want user creation). All nodes participating will independently come to the same conclusion, ensuring an operation is only handled once.\r\n\r\nI propose to keep the behaviour of running the peruser module on each node in the cluster, but modify itâ€™s changes handler to make use of `couch_replicator_clustering`â€™s ability to decide which node should handle an incoming user creation/deletion, since at that point, we do have the same input as the replicator code has.\r\n\r\nOne concern is the use of `couch_replicator_clustering` outside of the replicator. We should make this a standalone module, but at the moment it depends on some other replicator infrastructure (`couch_replicator_notifier`) and Iâ€™d say it is out of scope to make things more generic. That probably means we must make sure that peruser is loaded after the replicator.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334919162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334943382","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334943382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334943382,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk0MzM4Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T15:29:19Z","updated_at":"2017-10-07T15:29:19Z","author_association":"MEMBER","body":"Latest push solves Problem No. 1. Would appreciate a brief review by @chewbranca and/or @nickva ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334943382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334949499","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334949499","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334949499,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk0OTQ5OQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T16:50:56Z","updated_at":"2017-10-07T16:50:56Z","author_association":"CONTRIBUTOR","body":"@janl I think you have the right idea there. \r\n\r\nTechnically you don't have to use the clustering ownership function but could make a copy of that function, it's pretty small and we maybe want to customize it in the future. Even better (!) if you want we can extract the function and put them in mem3, the would be the cleanest way to do it:\r\n\r\nThese two:\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_clustering.erl#L198 (would be owner/2 perhaps there).\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_clustering.erl#L102 (would be owner/3 then in mem3).\r\n\r\nSo now you don't depend on replicator app. \r\n\r\nThen another thing you'd do is to handle the stable / unstable state locally in your app just like replicator clustering does. Keep a boolean flag and updated as you get stable/unstable events.\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_clustering.erl#L124-L136\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_clustering.erl#L165-L169\r\n\r\nAnother reason not to reuse replicator code is that we might want to have different setting for stability checks for per-users than what replicator uses. Replicator uses a minute, we might want to have something less than that.\r\n\r\nHere is how that configuration is passed to the stability monitoring gen_server:\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_clustering.erl#L143-L149\r\n\r\nNote that's a gen_server that's linked against your gen-server and would be a separate instance of it running in couch_replicator, rexi and your code:\r\n\r\n(rexi example as well: https://github.com/apache/couchdb/blob/master/src/rexi/src/rexi_server_mon.erl#L69-L70)\r\n\r\nAlso @chewbranca gets the credit for the idea of re-using replicator code, that was a good insight and should solve the problem nicely.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334949499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334949659","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334949659","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334949659,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk0OTY1OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T16:53:17Z","updated_at":"2017-10-07T16:53:17Z","author_association":"MEMBER","body":"@nickva excellent comments, Iâ€™ll get that sorted :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334949659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334952224","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334952224","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334952224,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk1MjIyNA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T17:28:02Z","updated_at":"2017-10-07T17:28:02Z","author_association":"MEMBER","body":"@nickva I think I found the reason `owner/2` lives in couch_replication_clustering for now: it depends on `is_stable()` which depends on the gen_serverâ€™s state. I wouldnâ€™t feel comfortable moving that over to mem3.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334952224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334952349","html_url":"https://github.com/apache/couchdb/issues/873#issuecomment-334952349","issue_url":"https://api.github.com/repos/apache/couchdb/issues/873","id":334952349,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk1MjM0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-07T17:29:45Z","updated_at":"2017-10-07T17:29:45Z","author_association":"MEMBER","body":"I don't know what you're asking here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334952349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334978544","html_url":"https://github.com/apache/couchdb/issues/873#issuecomment-334978544","issue_url":"https://api.github.com/repos/apache/couchdb/issues/873","id":334978544,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk3ODU0NA==","user":{"login":"anlexN","id":8686739,"node_id":"MDQ6VXNlcjg2ODY3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/8686739?v=4","gravatar_id":"","url":"https://api.github.com/users/anlexN","html_url":"https://github.com/anlexN","followers_url":"https://api.github.com/users/anlexN/followers","following_url":"https://api.github.com/users/anlexN/following{/other_user}","gists_url":"https://api.github.com/users/anlexN/gists{/gist_id}","starred_url":"https://api.github.com/users/anlexN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anlexN/subscriptions","organizations_url":"https://api.github.com/users/anlexN/orgs","repos_url":"https://api.github.com/users/anlexN/repos","events_url":"https://api.github.com/users/anlexN/events{/privacy}","received_events_url":"https://api.github.com/users/anlexN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T02:32:19Z","updated_at":"2017-10-08T02:32:19Z","author_association":"NONE","body":"- shut down couchdb server\r\n- couchdb server(localhost:5984) auto reloads after some database update, delete and any more.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334978544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334980842","html_url":"https://github.com/apache/couchdb/issues/873#issuecomment-334980842","issue_url":"https://api.github.com/repos/apache/couchdb/issues/873","id":334980842,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk4MDg0Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T03:43:00Z","updated_at":"2017-10-08T03:43:00Z","author_association":"MEMBER","body":"Shutdown couchdb server: Just kill it. It's crash-proof. `kill -1` or `kill -9` are fine.\r\n\r\nNo need to restart couchdb server after updating a database, deleting it, etc.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334980842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334986900","html_url":"https://github.com/apache/couchdb/issues/873#issuecomment-334986900","issue_url":"https://api.github.com/repos/apache/couchdb/issues/873","id":334986900,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk4NjkwMA==","user":{"login":"anlexN","id":8686739,"node_id":"MDQ6VXNlcjg2ODY3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/8686739?v=4","gravatar_id":"","url":"https://api.github.com/users/anlexN","html_url":"https://github.com/anlexN","followers_url":"https://api.github.com/users/anlexN/followers","following_url":"https://api.github.com/users/anlexN/following{/other_user}","gists_url":"https://api.github.com/users/anlexN/gists{/gist_id}","starred_url":"https://api.github.com/users/anlexN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anlexN/subscriptions","organizations_url":"https://api.github.com/users/anlexN/orgs","repos_url":"https://api.github.com/users/anlexN/repos","events_url":"https://api.github.com/users/anlexN/events{/privacy}","received_events_url":"https://api.github.com/users/anlexN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T06:44:05Z","updated_at":"2017-10-08T06:44:05Z","author_association":"NONE","body":"\"kill -1 or kill -9\", how to do it. i'm windows x64 platform. @wohali ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334986900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334987434","html_url":"https://github.com/apache/couchdb/issues/873#issuecomment-334987434","issue_url":"https://api.github.com/repos/apache/couchdb/issues/873","id":334987434,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk4NzQzNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T06:58:13Z","updated_at":"2017-10-08T06:58:13Z","author_association":"MEMBER","body":"Stop the Windows Service from the Services control panel.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334987434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334987745","html_url":"https://github.com/apache/couchdb/issues/873#issuecomment-334987745","issue_url":"https://api.github.com/repos/apache/couchdb/issues/873","id":334987745,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk4Nzc0NQ==","user":{"login":"anlexN","id":8686739,"node_id":"MDQ6VXNlcjg2ODY3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/8686739?v=4","gravatar_id":"","url":"https://api.github.com/users/anlexN","html_url":"https://github.com/anlexN","followers_url":"https://api.github.com/users/anlexN/followers","following_url":"https://api.github.com/users/anlexN/following{/other_user}","gists_url":"https://api.github.com/users/anlexN/gists{/gist_id}","starred_url":"https://api.github.com/users/anlexN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anlexN/subscriptions","organizations_url":"https://api.github.com/users/anlexN/orgs","repos_url":"https://api.github.com/users/anlexN/repos","events_url":"https://api.github.com/users/anlexN/events{/privacy}","received_events_url":"https://api.github.com/users/anlexN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T07:06:27Z","updated_at":"2017-10-08T07:06:27Z","author_association":"NONE","body":"@wohali, can i make friend with you? i follow your twitter","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334987745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334993626","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334993626","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334993626,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk5MzYyNg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T09:16:11Z","updated_at":"2017-10-08T09:16:11Z","author_association":"MEMBER","body":"@nickva latest push has peruser untangled from couch_replicator_clustering and owner/3 moved into mem3.\r\n\r\nI occasionally see this in the logs, which is somewhat concerning as we donâ€™t want databases with lax security, but havenâ€™t found the source of this yet.\r\n\r\n```\r\n{{badmatch,false},[{couch_peruser,ensure_security,3,[{file,\"src/couch_peruser.erl\"},{line,248}]},{couch_peruser,changes_handler,3,[{file,\"src/couch_peruser.erl\"},{line,136}]},{couch_changes,changes_enumerator,2,[{file,\"src/couch_changes.erl\"},{line,784}]},{couch_btree,stream_kv_node2,8,[{file,\"src/couch_btree.erl\"},{line,848}]},{couch_btree,fold,4,[{file,\"src/couch_btree.erl\"},{line,222}]},{couch_db,changes_since,5,[{file,\"src/couch_db.erl\"},{line,1400}]},{couch_changes,keep_sending_changes,3,[{file,\"src/couch_changes.erl\"},{line,637}]},{couch_changes,'-handle_changes/4-fun-3-',8,[{file,\"src/couch_changes.erl\"},{line,144}]}]}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334993626/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334997645","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-334997645","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":334997645,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDk5NzY0NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T10:39:34Z","updated_at":"2017-10-08T10:39:34Z","author_association":"MEMBER","body":"The one additional thing I want to do before getting this merged is handling the case when there are multiple shards of the `_users` db on the same node. That results in two or more `_changes` followers for those shards to initiate the db create/delete sequence concurrently.\r\n\r\nMy idea so far here is to use a similar trick to the consistent node hashing: hashing the chance notification sans shard name against the listener pid. That should ensure only one create/delete sequence to be initiated.\r\n\r\nThis also might help with the `ensure_security` issue above.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/334997645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335006878","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335006878","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335006878,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAwNjg3OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T13:32:19Z","updated_at":"2017-10-08T13:32:19Z","author_association":"MEMBER","body":"Okay that was a nice excursion in implementing singletons, but I found out the issue was different after all: there was a duplicate call to `start_listening()` in there, that Iâ€™ve eliminated in the next push. Havenâ€™t seen the security issue since, so assuming thatâ€™s fixed ðŸ˜‡ .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335006878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335009185","html_url":"https://github.com/apache/couchdb/issues/878#issuecomment-335009185","issue_url":"https://api.github.com/repos/apache/couchdb/issues/878","id":335009185,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAwOTE4NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T14:10:23Z","updated_at":"2017-10-08T14:10:23Z","author_association":"MEMBER","body":"Canâ€™t reproduce in 2.1. Marking as fixed.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335009185/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335017316","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335017316","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335017316,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAxNzMxNg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T16:13:44Z","updated_at":"2017-10-08T16:13:44Z","author_association":"MEMBER","body":"tests pass, rebased with master, if I can get a +1 here, Iâ€™ll squash & merge.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335017316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335018133","html_url":"https://github.com/apache/couchdb/pull/284#issuecomment-335018133","issue_url":"https://api.github.com/repos/apache/couchdb/issues/284","id":335018133,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAxODEzMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T16:25:15Z","updated_at":"2017-10-08T16:25:15Z","author_association":"MEMBER","body":"JIRA says wontfix ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335018133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335019149","html_url":"https://github.com/apache/couchdb/pull/879#issuecomment-335019149","issue_url":"https://api.github.com/repos/apache/couchdb/issues/879","id":335019149,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAxOTE0OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T16:35:45Z","updated_at":"2017-10-08T16:35:45Z","author_association":"MEMBER","body":"wtffff, sorry for the noise","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335019149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335020757","html_url":"https://github.com/apache/couchdb/pull/465#issuecomment-335020757","issue_url":"https://api.github.com/repos/apache/couchdb/issues/465","id":335020757,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAyMDc1Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T17:00:12Z","updated_at":"2017-10-08T17:00:12Z","author_association":"MEMBER","body":"re-open if youâ€™re active again.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335020757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335022383","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335022383","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335022383,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAyMjM4Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T17:22:38Z","updated_at":"2017-10-08T17:22:38Z","author_association":"MEMBER","body":"One test failure on one platform in Travis. Normally I'd say \"re-run it\" but this is a brand new type of failure I've never seen before in mem3...\r\n\r\n```\r\nmem3_sync_security_test: go_test (module 'mem3_sync_security_test')...*timed out*\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335022383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335032560","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335032560","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335032560,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTAzMjU2MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T19:42:21Z","updated_at":"2017-10-08T19:42:21Z","author_association":"MEMBER","body":"Good call @wohali I touched code in mem3, we must make sure I didn't break anything.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335032560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335044342","html_url":"https://github.com/apache/couchdb/issues/878#issuecomment-335044342","issue_url":"https://api.github.com/repos/apache/couchdb/issues/878","id":335044342,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA0NDM0Mg==","user":{"login":"clariontools","id":2358848,"node_id":"MDQ6VXNlcjIzNTg4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/2358848?v=4","gravatar_id":"","url":"https://api.github.com/users/clariontools","html_url":"https://github.com/clariontools","followers_url":"https://api.github.com/users/clariontools/followers","following_url":"https://api.github.com/users/clariontools/following{/other_user}","gists_url":"https://api.github.com/users/clariontools/gists{/gist_id}","starred_url":"https://api.github.com/users/clariontools/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clariontools/subscriptions","organizations_url":"https://api.github.com/users/clariontools/orgs","repos_url":"https://api.github.com/users/clariontools/repos","events_url":"https://api.github.com/users/clariontools/events{/privacy}","received_events_url":"https://api.github.com/users/clariontools/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-08T22:46:40Z","updated_at":"2017-10-08T22:46:40Z","author_association":"NONE","body":"@janl - Thank you, if have also just confirmed, this issue is fixed in 2.1, but still exists in 2.0 for all those that stumble into this please be advised.  Cannot confirm if the issue was isolated to 2.0 as I have tested in any older releases.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335044342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335063736","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335063736","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335063736,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA2MzczNg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T04:09:54Z","updated_at":"2017-10-09T04:09:54Z","author_association":"CONTRIBUTOR","body":"@janl Good work!\r\n\r\nA few comments here and there mostly cleanup and such. I'll add them one by one below\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335063736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335063850","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335063850","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335063850,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA2Mzg1MA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T04:11:31Z","updated_at":"2017-10-09T04:11:31Z","author_association":"CONTRIBUTOR","body":"Update README file since it's not daemon anymore. If you want add a bit more about how it works. Monitor _users, create db, but only on one node. If cluster configuration changes, this might happen... kinda stuff.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335063850/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335069460","html_url":"https://github.com/apache/couchdb/pull/849#issuecomment-335069460","issue_url":"https://api.github.com/repos/apache/couchdb/issues/849","id":335069460,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA2OTQ2MA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T05:33:56Z","updated_at":"2017-10-09T05:33:56Z","author_association":"CONTRIBUTOR","body":"@davisp @jiangphcn : does the new reduce function look right to you guys? It's almost the exact same approach as the user btree, but instead of running the user reduce and grabbing the ```?term_size``` for that value, we just do ```?term_size``` for the integer representing the number of docs. I am including the value for now, but on second thought I don't think we need it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335069460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335073187","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335073187","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335073187,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA3MzE4Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T06:15:03Z","updated_at":"2017-10-09T06:15:03Z","author_association":"MEMBER","body":"@nickva outstanding review again! :) â€” I fixed it all up except for the `unlink` comment that I replied to inline.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335073187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335073382","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335073382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335073382,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA3MzM4Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T06:17:00Z","updated_at":"2017-10-09T06:17:00Z","author_association":"MEMBER","body":"> Good call @wohali I touched code in mem3, we must make sure I didn't break anything.\r\n\r\nI only moved a static function into mem3, so that is probably not it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335073382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335076324","html_url":"https://github.com/apache/couchdb/issues/850#issuecomment-335076324","issue_url":"https://api.github.com/repos/apache/couchdb/issues/850","id":335076324,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA3NjMyNA==","user":{"login":"clariontools","id":2358848,"node_id":"MDQ6VXNlcjIzNTg4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/2358848?v=4","gravatar_id":"","url":"https://api.github.com/users/clariontools","html_url":"https://github.com/clariontools","followers_url":"https://api.github.com/users/clariontools/followers","following_url":"https://api.github.com/users/clariontools/following{/other_user}","gists_url":"https://api.github.com/users/clariontools/gists{/gist_id}","starred_url":"https://api.github.com/users/clariontools/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clariontools/subscriptions","organizations_url":"https://api.github.com/users/clariontools/orgs","repos_url":"https://api.github.com/users/clariontools/repos","events_url":"https://api.github.com/users/clariontools/events{/privacy}","received_events_url":"https://api.github.com/users/clariontools/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T06:43:36Z","updated_at":"2017-10-09T22:58:32Z","author_association":"NONE","body":"This has apparently been fixed, but how to get the fixed version?  I am currently using the CouchDB 2.1.0 apache/couchdb docker container, and not sure what approach to take to apply the Fauxton update?  The version that is part of the docker container reports  `Fauxton Release : 2017-08-04T17:05:44.904Z`,\r\n\r\nSo based on what I can see the code with the fix for this issue is [here](https://github.com/apache/couchdb-fauxton/commit/3bc13d09529d28abd9764fd8dce1f7b6f787e345) So I may just try and update my docker container with that because I understand the official apache/couch â€˜convenience binaryâ€™ Docker images through Docker Hub is not updated that frequently.\r\n\r\nNot that easy, I can run bash on the docker container, but looking at the opt/couchdb/share/www folder I see that Fauxton lives inside of the dashboard.assets folder with what looks like various webpack bundles.  Doesn't look like an update of the docker container is that easy unless somebody has a shortcut to replacing the dashboard.assets/js/*.js files?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335076324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335079694","html_url":"https://github.com/apache/couchdb/pull/849#issuecomment-335079694","issue_url":"https://api.github.com/repos/apache/couchdb/issues/849","id":335079694,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTA3OTY5NA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T07:08:26Z","updated_at":"2017-10-09T07:08:26Z","author_association":"CONTRIBUTOR","body":"@tonysun83 LGTM. I also run newly introduced eunit test case and it passed.\r\n```\r\n======================== EUnit ========================\r\nMap views\r\nApplication crypto was left running!\r\n  couch_mrview_map_views_tests:68: should_map...ok\r\n  couch_mrview_map_views_tests:82: should_map_with_range...ok\r\n  couch_mrview_map_views_tests:96: should_map_with_limit_and_skip...ok\r\n  couch_mrview_map_views_tests:113: should_map_with_include_docs...ok\r\n  couch_mrview_map_views_tests:120: should_map_empty_views...ok\r\n  couch_mrview_map_views_tests:141: should_give_ext_size_seq_indexed_test...ok\r\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\r\n  [done in 0.669 s]\r\n=======================================================\r\n  All 6 tests passed.\r\n```\r\nI know that it is hard to compare actual size in eunit test case and ends up checking whether the returned size is reasonable number.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335079694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335123672","html_url":"https://github.com/apache/couchdb/issues/840#issuecomment-335123672","issue_url":"https://api.github.com/repos/apache/couchdb/issues/840","id":335123672,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTEyMzY3Mg==","user":{"login":"contrerasmarc","id":592301,"node_id":"MDQ6VXNlcjU5MjMwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/592301?v=4","gravatar_id":"","url":"https://api.github.com/users/contrerasmarc","html_url":"https://github.com/contrerasmarc","followers_url":"https://api.github.com/users/contrerasmarc/followers","following_url":"https://api.github.com/users/contrerasmarc/following{/other_user}","gists_url":"https://api.github.com/users/contrerasmarc/gists{/gist_id}","starred_url":"https://api.github.com/users/contrerasmarc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/contrerasmarc/subscriptions","organizations_url":"https://api.github.com/users/contrerasmarc/orgs","repos_url":"https://api.github.com/users/contrerasmarc/repos","events_url":"https://api.github.com/users/contrerasmarc/events{/privacy}","received_events_url":"https://api.github.com/users/contrerasmarc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T10:50:42Z","updated_at":"2017-10-09T10:50:42Z","author_association":"NONE","body":"It works, thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335123672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335237255","html_url":"https://github.com/apache/couchdb/issues/850#issuecomment-335237255","issue_url":"https://api.github.com/repos/apache/couchdb/issues/850","id":335237255,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTIzNzI1NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T18:00:23Z","updated_at":"2017-10-09T18:00:23Z","author_association":"MEMBER","body":"You can wait until CouchDB 2.1.1 is released, or you can build from sources. We don't officially support any other means of installation - though it may be possible.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335237255/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335263586","html_url":"https://github.com/apache/couchdb/issues/859#issuecomment-335263586","issue_url":"https://api.github.com/repos/apache/couchdb/issues/859","id":335263586,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTI2MzU4Ng==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T19:32:29Z","updated_at":"2017-10-09T19:32:29Z","author_association":"MEMBER","body":"Re-open with specific issues.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335263586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335263847","html_url":"https://github.com/apache/couchdb/issues/832#issuecomment-335263847","issue_url":"https://api.github.com/repos/apache/couchdb/issues/832","id":335263847,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTI2Mzg0Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T19:33:41Z","updated_at":"2017-10-09T19:33:41Z","author_association":"MEMBER","body":"@davisp quick note about what the feature does?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335263847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335264505","html_url":"https://github.com/apache/couchdb/pull/881#issuecomment-335264505","issue_url":"https://api.github.com/repos/apache/couchdb/issues/881","id":335264505,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTI2NDUwNQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T19:36:42Z","updated_at":"2017-10-09T19:36:42Z","author_association":"MEMBER","body":"@willholley this seems to have broken other mango tests (see Travis for details, all builds failed).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335264505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335265831","html_url":"https://github.com/apache/couchdb/pull/797#issuecomment-335265831","issue_url":"https://api.github.com/repos/apache/couchdb/issues/797","id":335265831,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTI2NTgzMQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T19:42:24Z","updated_at":"2017-10-09T19:42:24Z","author_association":"MEMBER","body":"rebased on latest master, can be merged after travis","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335265831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335317516","html_url":"https://github.com/apache/couchdb/issues/844#issuecomment-335317516","issue_url":"https://api.github.com/repos/apache/couchdb/issues/844","id":335317516,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTMxNzUxNg==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-09T23:34:24Z","updated_at":"2017-10-09T23:34:24Z","author_association":"NONE","body":"I would assume that the user changing his password would invalidate all tokens still out there. But this is hardly practical and it doesn't help in case the user isn't aware that one of his session tokens was stolen. The security goal has to be that a user-facing application can be designed such that all tokens are invalidated as soon as the user explicitly logs out. Then the attack window is limited to session duration.\r\n\r\nFeel free to shoot this down, if it has flaws:\r\n\r\n1. The user authenticates with his credentials and we hand him a stateless token that includes a \"now\" timestamp. We store the \"now\" timestamp on the server.\r\n\r\n2. Someone wants to authorise an operation with a token. If its timestamp is older than our now timestamp, we reject it.\r\n\r\n3. The user logs out and our application sends an \"invalidate\" request to the server. The server updates the now timestamp and adds an \"invalidated\" flag to it.\r\n\r\n4. All tokens coming in are now rejected because of the flag. We have succeeded in invalidating any tokens still out there.\r\n\r\n5. The rightful user logs in again with his credentials. Upon verification we update the now timestamp and remove the \"invalidated\" flag. The user gets a fresh stateless token.\r\n\r\n6. All other tokens are still invalid because they have an older timestamp.\r\n\r\nEven though we store data on the server, this is still stateless in terms of scalability, because timestamp and invalidated flag are per-user (e. g. like the password) and not per-session. Plus, eventual consistency is good enough here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335317516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335366388","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-335366388","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":335366388,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTM2NjM4OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T05:39:28Z","updated_at":"2017-10-10T07:37:39Z","author_association":"CONTRIBUTOR","body":"Great work, @janl ! Cleanups, readme and default.ini look great. \r\n\r\nI compiled it, enabled it, added a user and it auto-created their respective db.\r\n\r\nSee a few comments about issues I noticed, otherwise it's looking nice:\r\n\r\nI got a an exception when I set a config option\r\n\r\n```\r\nrpc:multicall(config, set, [\"couch_peruser\", \"deletedbs\", \"true\"]).\r\n{[ok,ok,ok],[]}\r\n```\r\n\r\n```\r\ngen_server couch_peruser terminated with reason: bad record changes_state at couch_peruser:'-exit_changes/1-fun-0-'/2(line:285) <= lists:foreach/2(line:1338) <= couch_peruser:handle_cast/2(line:328) <= gen_server:try_dispatch/4(line:601) <= gen_s\r\nerver:handle_msg/5(line:667) <= proc_lib:init_p_do_apply/3(line:247)\r\n  last msg: {config_change,\"couch_peruser\",\"deletedbs\",\"true\",true}\r\n```\r\n\r\nIt's from a mismatched state record. See comment above in exit changes And one about `handle_info({'DOWN'...)`\r\n\r\nSome stylistic pedantry: some lines are > 80 columns, maybe that's how it it was already but at least for new code consider reformatting a bit to keep the lines shorter.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335366388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335465222","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-335465222","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":335465222,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQ2NTIyMg==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T13:03:23Z","updated_at":"2017-10-10T13:03:23Z","author_association":"NONE","body":"@wohali , the node process is already running on a different machine. I have contacted neighbourhood.ie.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335465222/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335471966","html_url":"https://github.com/apache/couchdb/pull/866#issuecomment-335471966","issue_url":"https://api.github.com/repos/apache/couchdb/issues/866","id":335471966,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQ3MTk2Ng==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T13:27:34Z","updated_at":"2017-10-10T13:27:34Z","author_association":"MEMBER","body":"Adding $exists: true is a nice idea. +1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335471966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335499905","html_url":"https://github.com/apache/couchdb/pull/881#issuecomment-335499905","issue_url":"https://api.github.com/repos/apache/couchdb/issues/881","id":335499905,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQ5OTkwNQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T14:54:46Z","updated_at":"2017-10-10T14:54:46Z","author_association":"MEMBER","body":"oops - this turned out to be a bit trickier than I first thought because `end_key` returns a list. I've changed the PR to just add a special case when we want no upper bound.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335499905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335514010","html_url":"https://github.com/apache/couchdb/issues/885#issuecomment-335514010","issue_url":"https://api.github.com/repos/apache/couchdb/issues/885","id":335514010,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTUxNDAxMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T15:36:12Z","updated_at":"2017-10-10T15:37:27Z","author_association":"MEMBER","body":"At present, Apache Infrastructure don't have an arm build machine for us on which to build distributions.\r\n\r\nIf someone were to donate one (or more) build machines, we could add them to the build infrastructure setup.\r\n\r\nNote that we'd need to be careful about performance here. A normal build-and-test cycle takes 30 minutes on a typical server-class x86. We'd need similar performance from whatever donated arm platform was provided before we'd be able to add it to the build setup, without slowing down builds on all platforms as a result.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335514010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335551553","html_url":"https://github.com/apache/couchdb/pull/880#issuecomment-335551553","issue_url":"https://api.github.com/repos/apache/couchdb/issues/880","id":335551553,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTU1MTU1Mw==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T17:40:15Z","updated_at":"2017-10-10T17:40:15Z","author_association":"MEMBER","body":"Thanks for catching this, @janl !\r\nIt seems build hanged on building Fauxton. I think we better remove it completely from 1.x.x branch as it far too outdated from what master has today. And it has optimizations preventing to work with good old CouchDB 1.x","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335551553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335552614","html_url":"https://github.com/apache/couchdb/pull/886#issuecomment-335552614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/886","id":335552614,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTU1MjYxNA==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T17:43:43Z","updated_at":"2017-10-10T17:43:43Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335552614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335570620","html_url":"https://github.com/apache/couchdb/pull/866#issuecomment-335570620","issue_url":"https://api.github.com/repos/apache/couchdb/issues/866","id":335570620,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTU3MDYyMA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T18:47:20Z","updated_at":"2017-10-10T18:47:20Z","author_association":"MEMBER","body":"Couple things to unpack in the discussion:\r\n\r\nFirst, for #816 I think that's actually the opposite, its not whether it needs a new version bump but how many versions should be be back porting this fix to. A database that gives bad answers to queries is more a bug that needs to be patched backwards, not something we cut the cord on and just bump version numbers.\r\n\r\nThere is of course the issue around notifying users that a pending change may break their application (technically fix, but users have a different perspective :), so this is definitely something we should talk about. We'll also want to update the documentation as we've long said that using column prefixes was a suggestion for sharing indexes so that'll need to be fixed.\r\n\r\nFor @tonysun83's example of this changing a query from something that uses _all_docs to something that uses an existing index I don't think that's an issue. Originally I would have ixnayed it because of the lack of range restriction on A and B but we've already relaxed that by having an _all_docs default. Also the behavior here is different than the issue introduced by #816 in that previously Tony's example would have been an incorrect sort returned where the new version changes that (ie, same set of docs would be returned both places, just now its sorted). Which I think is quite a bit different than subtley different sets of documents returned. Also, if a user specifies a sort and isn't detecting the wrong sort order based on the _all_docs fall back then I'm failing to see how they'd be relying on that sort, and thus fixing it seems like not an issue.\r\n\r\nFor #816 with the _all_docs fallback is that also not more of a concern about performance rather than an app that stops working? Ie, all queries will continue to work and be \"fixed\" but some unknown number of queries will suddenly switch to using _all_docs and become much slower? Granted suddenly slower performance that lasts until an index can be built isn't nothing either.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335570620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335639492","html_url":"https://github.com/apache/couchdb/pull/863#issuecomment-335639492","issue_url":"https://api.github.com/repos/apache/couchdb/issues/863","id":335639492,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTYzOTQ5Mg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-10T23:42:33Z","updated_at":"2017-10-10T23:42:33Z","author_association":"CONTRIBUTOR","body":"@willholley : Can you remind me of the corner cases where index-everything text indexes would return different results than _all_docs? If I recall it had to do with a field having a null value and querying for ```$ne```. If discrepancies are only query specific, then I would advocate using index-everything for ```\"exists\": false``` simply for the performance gain. I'll think a bit more, but index-everything should index every single document. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335639492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335770182","html_url":"https://github.com/apache/couchdb/pull/881#issuecomment-335770182","issue_url":"https://api.github.com/repos/apache/couchdb/issues/881","id":335770182,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTc3MDE4Mg==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T10:43:23Z","updated_at":"2017-10-11T10:43:23Z","author_association":"MEMBER","body":"@davisp I'd appreciate a second review of this. My niggly concern is that it dosn't distinguish between a user specified upper bound of `[{}]` and `json_max_value`, but this seems like very edgey case. In that situation, all that would happen is that the index would not be as restrictive as it could be - the correct result should still be returned, with some records potentially filtered out in memory.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335770182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335793839","html_url":"https://github.com/apache/couchdb/pull/863#issuecomment-335793839","issue_url":"https://api.github.com/repos/apache/couchdb/issues/863","id":335793839,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTc5MzgzOQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T12:30:57Z","updated_at":"2017-10-11T12:30:57Z","author_association":"MEMBER","body":"@tonysun83 \"index everything\" does sound like a special case where `\"$exists\":false` could be fulfilled by the text index. Text indexes in general will behave differently to `_all_docs` or JSON indexes when range queries are used. \r\n\r\nFor example `{ \"name\": {\"$gt\": 0}}` against a text index would only match documents where the value of `\"name\"` is an integer, whereas against `_all_docs` it will match documents where `\"name\"` is a string / object / array as well. This extends to `null` handling - text indexes do not include `null` values in range query results whereas other index types do.\r\n\r\nI'd really like to address the difference in range handling between the index types (adding an index should never change the results of a query) but I think that needs a separate discussion / PR as it will be a breaking change to align them.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335793839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335898527","html_url":"https://github.com/apache/couchdb/pull/886#issuecomment-335898527","issue_url":"https://api.github.com/repos/apache/couchdb/issues/886","id":335898527,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTg5ODUyNw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-11T18:08:06Z","updated_at":"2017-10-11T18:08:06Z","author_association":"MEMBER","body":"Will merge this once travis finishes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/335898527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336036730","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-336036730","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":336036730,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjAzNjczMA==","user":{"login":"vincnetas","id":472357,"node_id":"MDQ6VXNlcjQ3MjM1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/472357?v=4","gravatar_id":"","url":"https://api.github.com/users/vincnetas","html_url":"https://github.com/vincnetas","followers_url":"https://api.github.com/users/vincnetas/followers","following_url":"https://api.github.com/users/vincnetas/following{/other_user}","gists_url":"https://api.github.com/users/vincnetas/gists{/gist_id}","starred_url":"https://api.github.com/users/vincnetas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincnetas/subscriptions","organizations_url":"https://api.github.com/users/vincnetas/orgs","repos_url":"https://api.github.com/users/vincnetas/repos","events_url":"https://api.github.com/users/vincnetas/events{/privacy}","received_events_url":"https://api.github.com/users/vincnetas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-12T06:48:42Z","updated_at":"2017-10-12T06:48:42Z","author_association":"NONE","body":"@FelipeTaiarol please share you findings, because we have similar problem on couchdb with practically no load which has 100.000+ tiny databases. And we also have raised max file open limit's.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336036730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336082443","html_url":"https://github.com/apache/couchdb/pull/866#issuecomment-336082443","issue_url":"https://api.github.com/repos/apache/couchdb/issues/866","id":336082443,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjA4MjQ0Mw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-12T10:03:58Z","updated_at":"2017-10-12T10:03:58Z","author_association":"MEMBER","body":"I've pushed a new fix which doesn't require rewriting the selector. Instead, we just include sort fields when considering whether a JSON index provides coverage for the selector. This seems a lot simpler and, unlike the previous implementation, doesn't impact the validity of other index types (i.e. text indexes).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336082443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336199229","html_url":"https://github.com/apache/couchdb/issues/859#issuecomment-336199229","issue_url":"https://api.github.com/repos/apache/couchdb/issues/859","id":336199229,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjE5OTIyOQ==","user":{"login":"uschtwill","id":10156948,"node_id":"MDQ6VXNlcjEwMTU2OTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10156948?v=4","gravatar_id":"","url":"https://api.github.com/users/uschtwill","html_url":"https://github.com/uschtwill","followers_url":"https://api.github.com/users/uschtwill/followers","following_url":"https://api.github.com/users/uschtwill/following{/other_user}","gists_url":"https://api.github.com/users/uschtwill/gists{/gist_id}","starred_url":"https://api.github.com/users/uschtwill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschtwill/subscriptions","organizations_url":"https://api.github.com/users/uschtwill/orgs","repos_url":"https://api.github.com/users/uschtwill/repos","events_url":"https://api.github.com/users/uschtwill/events{/privacy}","received_events_url":"https://api.github.com/users/uschtwill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-12T16:57:07Z","updated_at":"2017-10-12T16:57:07Z","author_association":"NONE","body":"Thanks @wohali, also for the support on IRC.\r\n\r\nI bumped the timeouts and throttled the pipeline a bit - so far so good. Right now transitioning to a cluster setup seems too much to handle but I definitely have it on the roadmap now, thanks.\r\n\r\nI hope I won't have to re-open this. :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336199229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336514161","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-336514161","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":336514161,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjUxNDE2MQ==","user":{"login":"calonso","id":2392041,"node_id":"MDQ6VXNlcjIzOTIwNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2392041?v=4","gravatar_id":"","url":"https://api.github.com/users/calonso","html_url":"https://github.com/calonso","followers_url":"https://api.github.com/users/calonso/followers","following_url":"https://api.github.com/users/calonso/following{/other_user}","gists_url":"https://api.github.com/users/calonso/gists{/gist_id}","starred_url":"https://api.github.com/users/calonso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calonso/subscriptions","organizations_url":"https://api.github.com/users/calonso/orgs","repos_url":"https://api.github.com/users/calonso/repos","events_url":"https://api.github.com/users/calonso/events{/privacy}","received_events_url":"https://api.github.com/users/calonso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T17:18:20Z","updated_at":"2017-10-13T17:18:20Z","author_association":"NONE","body":"Hi everyone!!\r\n\r\nI think I have some more information on this issue in the form of a side effect. My setup is a small cluster, with just 3 nodes continuously replicating a few databases from another, bigger one. Only 3 databases out of all the ones being replicated hold attachments and, by chance, the same node is responsible for replicating the 3 of them. That node throws the described error quite often (a few thousand times per hour), depending on the speed at which documents are received.\r\n\r\nThat particular node shows a continuous increment on the `process_count` metric read from the `_system` endpoint. Growing at a similar rate of this errors' rate. That metric grows from about 1.2k processes that the nodes start with up to a bit above 5k when it gets *frozen*. It stops responding on the clustered (5984) endpoint and doesn't replicate any more data. But annoyingly it is not considered as down in the cluster, so the other nodes are not taking his responsibilities over.\r\n\r\nAfter connecting the Observer to that node, to see which processes are there I could see a lot of `erlang:apply/2` in function `couch_httpd_multipart:maybe_send_data/1` with 0 reductions and 0 messages in the queue and also a lot of `mochiweb_acceptor:init/4` in function `couch_doc:-doc_from_multi_part_stream/3-fun-1-/1` Some of them with 1 message on the queue, some of them with 0 and 0 reductions as well...\r\n\r\nAlso this node has quite many 'erlang:apply/2' processes in function 'couch_http_multipart:mp_parse_attrs/2'.\r\n\r\nI think there may be something preventing the processes from exiting and that's why they pile up until it freezes.\r\n\r\nHope this helps.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336514161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336522571","html_url":"https://github.com/apache/couchdb/pull/888#issuecomment-336522571","issue_url":"https://api.github.com/repos/apache/couchdb/issues/888","id":336522571,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjUyMjU3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T17:50:02Z","updated_at":"2017-10-13T17:50:02Z","author_association":"MEMBER","body":"Thanks for this PR @adrianomelo ! What a great first-time contribution to Apache CouchDB. Please don't hesitate to make more of these in the future - either to this repository, or to our official documentation repo at https://github.com/apache/couchdb-documentation . ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336522571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336548234","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-336548234","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":336548234,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU0ODIzNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T19:38:09Z","updated_at":"2017-10-13T19:38:09Z","author_association":"CONTRIBUTOR","body":"Hi Carlos,\r\n\r\nWas wondering how many attachment you have roughly and their approximate size distribution.\r\n\r\nHow about large document or document ID lengths larger 4KB?\r\n\r\nAnd this is still CouchDB 2.1.0 like mentioned above?\r\n\r\nAlso what are the values of these configuration parameters:\r\n\r\n`couchdb.max_document_size`\r\n`httpd.max_http_request_size`\r\n\r\nNote that the default request size for `httpd.max_http_request_size` is 64MB. If you use the default, and your attachments are large, consider raising the limit there.\r\n\r\nBasically trying see if this is an issue of target cluster rejecting requests because of some of those limits, or there is something else.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336548234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336557871","html_url":"https://github.com/apache/couchdb/pull/888#issuecomment-336557871","issue_url":"https://api.github.com/repos/apache/couchdb/issues/888","id":336557871,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU1Nzg3MQ==","user":{"login":"adrianomelo","id":329541,"node_id":"MDQ6VXNlcjMyOTU0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/329541?v=4","gravatar_id":"","url":"https://api.github.com/users/adrianomelo","html_url":"https://github.com/adrianomelo","followers_url":"https://api.github.com/users/adrianomelo/followers","following_url":"https://api.github.com/users/adrianomelo/following{/other_user}","gists_url":"https://api.github.com/users/adrianomelo/gists{/gist_id}","starred_url":"https://api.github.com/users/adrianomelo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrianomelo/subscriptions","organizations_url":"https://api.github.com/users/adrianomelo/orgs","repos_url":"https://api.github.com/users/adrianomelo/repos","events_url":"https://api.github.com/users/adrianomelo/events{/privacy}","received_events_url":"https://api.github.com/users/adrianomelo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T20:21:57Z","updated_at":"2017-10-13T20:21:57Z","author_association":"CONTRIBUTOR","body":"Hi @wohali, I always had the impression that CouchDB has a great team behind it. You just proved that I was correct. Thanks for the sweet \"first-time contribution\" message.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336557871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336652859","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-336652859","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":336652859,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjY1Mjg1OQ==","user":{"login":"calonso","id":2392041,"node_id":"MDQ6VXNlcjIzOTIwNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2392041?v=4","gravatar_id":"","url":"https://api.github.com/users/calonso","html_url":"https://github.com/calonso","followers_url":"https://api.github.com/users/calonso/followers","following_url":"https://api.github.com/users/calonso/following{/other_user}","gists_url":"https://api.github.com/users/calonso/gists{/gist_id}","starred_url":"https://api.github.com/users/calonso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calonso/subscriptions","organizations_url":"https://api.github.com/users/calonso/orgs","repos_url":"https://api.github.com/users/calonso/repos","events_url":"https://api.github.com/users/calonso/events{/privacy}","received_events_url":"https://api.github.com/users/calonso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T18:05:04Z","updated_at":"2017-10-14T18:05:04Z","author_association":"NONE","body":"Hi Nick,\r\n\r\nI've been reviewing some of the `mp_parser_died` errors I see on the logs and I see that the documents, with its attachments end up appearing on the database, I suppose the scheduler retries them and the replication ends up working (I've seen a few appearing as an `error` on the logs two or three times and I can see them on the DB, others just fail once and they are on the DB as well, I haven't found any error whose document is not found on the DB, but I haven't reviewed all errors one by one either). \r\n\r\nThe documents' sizes are not big, at least the ones I've reviewed. The ones I have reviewed sizes' range from 4 to 60 Kb pdf and xls docs. I haven't iterated through all of them to compute the distribution you suggest. Is there an easier CouchDB way to get that overview on attachments size?\r\n\r\nI'm using CouchDB 2.1.0 here and about the configs they both should be the default ones as I haven't specified any of them. Checking the config values from `_node/<node>/_config` there's nothing specified for `couchdb.max_document_size` and `67108864` as `httpd.max_http_request_size`, which I guess is the default value.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336652859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336652876","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-336652876","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":336652876,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjY1Mjg3Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-14T18:05:26Z","updated_at":"2017-10-14T18:05:26Z","author_association":"MEMBER","body":"What is the use case here? I'm baffled.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336652876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336724442","html_url":"https://github.com/apache/couchdb/issues/854#issuecomment-336724442","issue_url":"https://api.github.com/repos/apache/couchdb/issues/854","id":336724442,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjcyNDQ0Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-15T16:46:56Z","updated_at":"2017-10-15T16:46:56Z","author_association":"CONTRIBUTOR","body":"Fixed","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336724442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336725124","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-336725124","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":336725124,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjcyNTEyNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-15T16:57:04Z","updated_at":"2017-10-15T16:57:04Z","author_association":"CONTRIBUTOR","body":"Hi Carlos,\r\n\r\nThanks for the additional info! So it seems like with retries they eventually finish. We'd still would rather not have these errors to start with...\r\n\r\nI doesn't seem like request/document/attachment size limits are not involved in this case. \r\n\r\nNow I am thinking perhaps it could be unreliable network connections or a large number of replications.\r\n\r\n In your setup how reliable is the network. Any chance there is intermittent connectivity issues, or high latency, maybe running out of sockets? \r\n\r\nAnother question is how many replications are running at the same time, would there be more than 500 per cluster node? That's currently the max jobs value for scheduler and if there are more than that, scheduling replicator would stop some and start others as it cycles through them. Wondering if that is an issue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336725124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336739773","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-336739773","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":336739773,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjczOTc3Mw==","user":{"login":"calonso","id":2392041,"node_id":"MDQ6VXNlcjIzOTIwNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2392041?v=4","gravatar_id":"","url":"https://api.github.com/users/calonso","html_url":"https://github.com/calonso","followers_url":"https://api.github.com/users/calonso/followers","following_url":"https://api.github.com/users/calonso/following{/other_user}","gists_url":"https://api.github.com/users/calonso/gists{/gist_id}","starred_url":"https://api.github.com/users/calonso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calonso/subscriptions","organizations_url":"https://api.github.com/users/calonso/orgs","repos_url":"https://api.github.com/users/calonso/repos","events_url":"https://api.github.com/users/calonso/events{/privacy}","received_events_url":"https://api.github.com/users/calonso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-15T20:38:04Z","updated_at":"2017-10-15T20:38:04Z","author_association":"NONE","body":"Hi Nick,\r\n\r\nSo although I've definitely seen some replication errors pointing to a closed connection on the source from time to time, they are very sparse and I don't think we're affected by unreliable network either as source is a cluster hosted on Softlayer central-US I think and target is a cluster located in Europe-West region of Google Compute Engine. I think both platforms, while located far away in terms of distance, they have very reliable and strong network links.\r\n\r\nAbout the number of replications I don't think we're anywhere near that figure. I'm replicating on a three nodes cluster, each of them having 9 running replications.\r\n\r\nRegards","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336739773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336909964","html_url":"https://github.com/apache/couchdb/issues/617#issuecomment-336909964","issue_url":"https://api.github.com/repos/apache/couchdb/issues/617","id":336909964,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjkwOTk2NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T14:46:36Z","updated_at":"2017-10-16T14:46:36Z","author_association":"CONTRIBUTOR","body":"It compiles on 20.0 and EUnit tests run.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336909964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336955107","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-336955107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":336955107,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjk1NTEwNw==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T17:08:08Z","updated_at":"2017-10-16T17:08:41Z","author_association":"CONTRIBUTOR","body":"@wohali : One use case I imagined is where developers would like to use the javascript test suite to provide more test coverage while they develop new features. The feature could be breaking tests due to some integration issue (waiting on another developer's commit/feature). Knowing the issue, the developer wants to ignore the test and be at least confident that other tests are not failing due to other regression issues caused by his or her change. \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336955107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336958234","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-336958234","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":336958234,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjk1ODIzNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T17:19:25Z","updated_at":"2017-10-16T17:19:25Z","author_association":"MEMBER","body":"You can run individual JS tests already. Do you see a need to be able to run \"all but some\" and not just \"only run these few tests I actively care about?\"","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/336958234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337060949","html_url":"https://github.com/apache/couchdb/issues/855#issuecomment-337060949","issue_url":"https://api.github.com/repos/apache/couchdb/issues/855","id":337060949,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzA2MDk0OQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T22:21:46Z","updated_at":"2017-10-16T22:21:46Z","author_association":"CONTRIBUTOR","body":"Fixed","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337060949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337074844","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-337074844","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":337074844,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzA3NDg0NA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-16T23:40:23Z","updated_at":"2017-10-16T23:40:23Z","author_association":"CONTRIBUTOR","body":"I think it would be good to have the capability to run \"all but some\".  I know for the eunit tests we have skip_deps, which is different in approach as it skips apps, but I wanted something with similar functionality. It provides a better feeling of robustness for any new feature development.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337074844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337122964","html_url":"https://github.com/apache/couchdb/pull/863#issuecomment-337122964","issue_url":"https://api.github.com/repos/apache/couchdb/issues/863","id":337122964,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzEyMjk2NA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T05:36:42Z","updated_at":"2017-10-17T05:36:42Z","author_association":"CONTRIBUTOR","body":"@willholley : should be the same across all index types now. This is for $exists: false. we might have to check out $ne operators as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337122964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337145042","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-337145042","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":337145042,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzE0NTA0Mg==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T07:38:21Z","updated_at":"2017-10-17T07:38:21Z","author_association":"MEMBER","body":"Seems like the [`-m64` is not supported](https://bugzilla.redhat.com/show_bug.cgi?id=713685) by ARM build toolchain. Try to remove it or replace with analogue. As @wohali [saild](https://github.com/apache/couchdb/issues/885#issuecomment-335514010) we don't have ARM's in our infra to test and support builds for them. \r\n\r\nHowever, any contributions to fix that are welcome! Happy hacking!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337145042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337167502","html_url":"https://github.com/apache/couchdb/pull/893#issuecomment-337167502","issue_url":"https://api.github.com/repos/apache/couchdb/issues/893","id":337167502,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzE2NzUwMg==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T09:06:02Z","updated_at":"2017-10-17T09:06:02Z","author_association":"MEMBER","body":"+1 when tests pass","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337167502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337216040","html_url":"https://github.com/apache/couchdb/issues/857#issuecomment-337216040","issue_url":"https://api.github.com/repos/apache/couchdb/issues/857","id":337216040,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzIxNjA0MA==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T12:31:04Z","updated_at":"2017-10-17T12:31:04Z","author_association":"NONE","body":"@wohali Thanks for the answer... I sent an email to the provided address but didn't get any feedback. I don't really know what to expect (email response or anything?).\r\n\r\nI don't want to continue this discussion here if it's not the appropriate \"location\" but for the record, I think that CouchDB's query system has a lot of room for improvement and fuzzy/lookup would be the natural next step. I just wanted to see where to track these new features.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337216040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337288969","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-337288969","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":337288969,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzI4ODk2OQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T16:30:43Z","updated_at":"2017-10-17T16:30:59Z","author_association":"CONTRIBUTOR","body":"I like this. Seems symmetric with skip apps / deps\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337288969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337299214","html_url":"https://github.com/apache/couchdb/issues/895#issuecomment-337299214","issue_url":"https://api.github.com/repos/apache/couchdb/issues/895","id":337299214,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzI5OTIxNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-17T17:05:27Z","updated_at":"2017-10-17T17:05:27Z","author_association":"MEMBER","body":"This is likely the same root cause as #840.\r\n\r\n@janl Is this something we can easily fix with a new build and upload, as we did for 2.1.0?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337299214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337468062","html_url":"https://github.com/apache/couchdb/issues/898#issuecomment-337468062","issue_url":"https://api.github.com/repos/apache/couchdb/issues/898","id":337468062,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQ2ODA2Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T05:56:04Z","updated_at":"2017-10-18T05:56:04Z","author_association":"MEMBER","body":"eacces means your file permissions are wrong. Check wherever you installed couchdb, and ensure that the *.ini files are writeable by the CouchDB user.\r\n\r\nYou will want to check the same for your data directory too.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337468062/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337476107","html_url":"https://github.com/apache/couchdb/issues/898#issuecomment-337476107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/898","id":337476107,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzQ3NjEwNw==","user":{"login":"bruceforlearn","id":29446582,"node_id":"MDQ6VXNlcjI5NDQ2NTgy","avatar_url":"https://avatars.githubusercontent.com/u/29446582?v=4","gravatar_id":"","url":"https://api.github.com/users/bruceforlearn","html_url":"https://github.com/bruceforlearn","followers_url":"https://api.github.com/users/bruceforlearn/followers","following_url":"https://api.github.com/users/bruceforlearn/following{/other_user}","gists_url":"https://api.github.com/users/bruceforlearn/gists{/gist_id}","starred_url":"https://api.github.com/users/bruceforlearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bruceforlearn/subscriptions","organizations_url":"https://api.github.com/users/bruceforlearn/orgs","repos_url":"https://api.github.com/users/bruceforlearn/repos","events_url":"https://api.github.com/users/bruceforlearn/events{/privacy}","received_events_url":"https://api.github.com/users/bruceforlearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T06:46:03Z","updated_at":"2017-10-18T06:46:03Z","author_association":"NONE","body":"@wohali\r\nthank you ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337476107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337585148","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-337585148","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":337585148,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzU4NTE0OA==","user":{"login":"pierrekilly","id":1321703,"node_id":"MDQ6VXNlcjEzMjE3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1321703?v=4","gravatar_id":"","url":"https://api.github.com/users/pierrekilly","html_url":"https://github.com/pierrekilly","followers_url":"https://api.github.com/users/pierrekilly/followers","following_url":"https://api.github.com/users/pierrekilly/following{/other_user}","gists_url":"https://api.github.com/users/pierrekilly/gists{/gist_id}","starred_url":"https://api.github.com/users/pierrekilly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pierrekilly/subscriptions","organizations_url":"https://api.github.com/users/pierrekilly/orgs","repos_url":"https://api.github.com/users/pierrekilly/repos","events_url":"https://api.github.com/users/pierrekilly/events{/privacy}","received_events_url":"https://api.github.com/users/pierrekilly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T13:10:53Z","updated_at":"2017-10-18T13:10:53Z","author_association":"NONE","body":"I have found a workaround:\r\n\r\nAs setting the `couch_peruser` to `true` from Fauxton works well, I simply activate it \"by hand\" after the DB is started.\r\n\r\nIn the script that starts the DB, I wait 10 seconds (to leave some time to the DB to start) and then:\r\n```\r\ncurl \\\r\n    -X PUT \\\r\n    --user \"${adminUser}:${adminPass}\" \\\r\n    --data '\"true\"' \\\r\n    \"http://localhost:5984/_node/nonode@nohost/_config/couch_peruser/enable\"\r\n```\r\n(The admin username and password are taken from env variables in my case)\r\n\r\nHope this helps!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337585148/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337619907","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-337619907","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":337619907,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzYxOTkwNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T14:57:49Z","updated_at":"2017-10-18T14:57:49Z","author_association":"MEMBER","body":"There's a lot more wrong with couch_peruser in 2.1.0 - I strongly recommend you wait for our imminent 2.1.1 release before using this feature.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337619907/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337745379","html_url":"https://github.com/apache/couchdb/pull/902#issuecomment-337745379","issue_url":"https://api.github.com/repos/apache/couchdb/issues/902","id":337745379,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzc0NTM3OQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T22:23:39Z","updated_at":"2017-10-18T22:23:39Z","author_association":"CONTRIBUTOR","body":"+1\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337745379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337749971","html_url":"https://github.com/apache/couchdb/issues/901#issuecomment-337749971","issue_url":"https://api.github.com/repos/apache/couchdb/issues/901","id":337749971,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzc0OTk3MQ==","user":{"login":"dwbentley","id":2119338,"node_id":"MDQ6VXNlcjIxMTkzMzg=","avatar_url":"https://avatars.githubusercontent.com/u/2119338?v=4","gravatar_id":"","url":"https://api.github.com/users/dwbentley","html_url":"https://github.com/dwbentley","followers_url":"https://api.github.com/users/dwbentley/followers","following_url":"https://api.github.com/users/dwbentley/following{/other_user}","gists_url":"https://api.github.com/users/dwbentley/gists{/gist_id}","starred_url":"https://api.github.com/users/dwbentley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwbentley/subscriptions","organizations_url":"https://api.github.com/users/dwbentley/orgs","repos_url":"https://api.github.com/users/dwbentley/repos","events_url":"https://api.github.com/users/dwbentley/events{/privacy}","received_events_url":"https://api.github.com/users/dwbentley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-18T22:48:28Z","updated_at":"2017-10-18T22:48:28Z","author_association":"NONE","body":"Tomorrow I will install 2.0 and follow up with the results.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337749971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337879584","html_url":"https://github.com/apache/couchdb/issues/901#issuecomment-337879584","issue_url":"https://api.github.com/repos/apache/couchdb/issues/901","id":337879584,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzg3OTU4NA==","user":{"login":"dwbentley","id":2119338,"node_id":"MDQ6VXNlcjIxMTkzMzg=","avatar_url":"https://avatars.githubusercontent.com/u/2119338?v=4","gravatar_id":"","url":"https://api.github.com/users/dwbentley","html_url":"https://github.com/dwbentley","followers_url":"https://api.github.com/users/dwbentley/followers","following_url":"https://api.github.com/users/dwbentley/following{/other_user}","gists_url":"https://api.github.com/users/dwbentley/gists{/gist_id}","starred_url":"https://api.github.com/users/dwbentley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwbentley/subscriptions","organizations_url":"https://api.github.com/users/dwbentley/orgs","repos_url":"https://api.github.com/users/dwbentley/repos","events_url":"https://api.github.com/users/dwbentley/events{/privacy}","received_events_url":"https://api.github.com/users/dwbentley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T11:27:31Z","updated_at":"2017-10-19T11:27:31Z","author_association":"NONE","body":"Alright I tried with version 2.0 and that seems to be broken even worse. Once the HTTPS module is uncommented CouchDB HTTP also fails to start. Will this issue get any attention? Thank you for your efforts!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337879584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337940778","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-337940778","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":337940778,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk0MDc3OA==","user":{"login":"koleto","id":275842,"node_id":"MDQ6VXNlcjI3NTg0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/275842?v=4","gravatar_id":"","url":"https://api.github.com/users/koleto","html_url":"https://github.com/koleto","followers_url":"https://api.github.com/users/koleto/followers","following_url":"https://api.github.com/users/koleto/following{/other_user}","gists_url":"https://api.github.com/users/koleto/gists{/gist_id}","starred_url":"https://api.github.com/users/koleto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koleto/subscriptions","organizations_url":"https://api.github.com/users/koleto/orgs","repos_url":"https://api.github.com/users/koleto/repos","events_url":"https://api.github.com/users/koleto/events{/privacy}","received_events_url":"https://api.github.com/users/koleto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T15:16:18Z","updated_at":"2017-10-19T15:16:18Z","author_association":"NONE","body":"Just manage to comile on Linaro ARMv8.\r\n\r\n1. Open the file ~/apache-couchdb-2.1.0$ vim src/rebar/src/rebar_port_compiler.erl\r\n2. Remove the '-m64' flag from Line 608 and 609. The output should be:\r\n`     %% Linux specific flags for multiarch\r\n     {\"linux.*-64$\", \"CFLAGS\", \"$CFLAGS\"},\r\n     {\"linux.*-64$\", \"CXXFLAGS\", \"$CXXFLAGS\"},\r\n     {\"linux.*-64$\", \"LDFLAGS\", \"$LDFLAGS\"},` \r\n\r\n3. Recompile rebar:   cd src/rebar\r\n`./bootstrap`\r\n\r\n4. Rebuild couchdb: \r\n`make release`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/337940778/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338021893","html_url":"https://github.com/apache/couchdb/issues/895#issuecomment-338021893","issue_url":"https://api.github.com/repos/apache/couchdb/issues/895","id":338021893,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyMTg5Mw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:05:05Z","updated_at":"2017-10-19T20:05:05Z","author_association":"MEMBER","body":"Not really, as the build toolchain is now all geared up for 2.x. I donâ€™t likely have any time in the foreseeable future to work on this. I recommend upgrading to 2.1.0","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338021893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338022394","html_url":"https://github.com/apache/couchdb/issues/896#issuecomment-338022394","issue_url":"https://api.github.com/repos/apache/couchdb/issues/896","id":338022394,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyMjM5NA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:06:39Z","updated_at":"2017-10-19T20:06:39Z","author_association":"MEMBER","body":"+1, this would be a great addition for a first-time contributor. Wanna work on a PR? Happy to help get you started.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338022394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338023356","html_url":"https://github.com/apache/couchdb/issues/897#issuecomment-338023356","issue_url":"https://api.github.com/repos/apache/couchdb/issues/897","id":338023356,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyMzM1Ng==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:10:07Z","updated_at":"2017-10-19T20:10:07Z","author_association":"MEMBER","body":"For the record, CouchDB has never guaranteed that no passwords would end up in logs. Weâ€™re trying, but no guarantees.\r\n\r\nThat said, the fix is fairly simple. The `notice` level log here https://github.com/apache/couchdb-setup/blob/master/src/setup.erl#L214 should really be a debug level log. Same for most of the other notices in there.\r\n\r\nWanna attempt a PR? This is the debug function: https://github.com/apache/couchdb/blob/master/src/couch_log/src/couch_log.erl#L30-L31","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338023356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338023788","html_url":"https://github.com/apache/couchdb/issues/901#issuecomment-338023788","issue_url":"https://api.github.com/repos/apache/couchdb/issues/901","id":338023788,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyMzc4OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:11:44Z","updated_at":"2017-10-19T20:11:44Z","author_association":"MEMBER","body":"I donâ€™t think we are in a rush to fix this, but weâ€™d happily accept PRs and guide folks who want to give that a try.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338023788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338024575","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-338024575","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":338024575,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyNDU3NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:14:22Z","updated_at":"2017-10-19T20:14:22Z","author_association":"MEMBER","body":"That means this needs to be fixed in rebar, not CouchDB. cc @davisp any opinions?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338024575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338024869","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-338024869","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":338024869,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyNDg2OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:15:20Z","updated_at":"2017-10-19T20:15:20Z","author_association":"MEMBER","body":"agree this would be neat, but didnâ€™t get it at first like @wohali. I too like the symmetry. Either way, whatever helps make running tests more comfortable :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338024869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338027979","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-338027979","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":338027979,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAyNzk3OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:27:13Z","updated_at":"2017-10-19T20:27:13Z","author_association":"MEMBER","body":"If it's a rebar problem, we should look at the rebar3 change using paul's [enc](https://github.com/davisp/erlang-native-compiler) and make this patch over there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338027979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338030413","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-338030413","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":338030413,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAzMDQxMw==","user":{"login":"koleto","id":275842,"node_id":"MDQ6VXNlcjI3NTg0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/275842?v=4","gravatar_id":"","url":"https://api.github.com/users/koleto","html_url":"https://github.com/koleto","followers_url":"https://api.github.com/users/koleto/followers","following_url":"https://api.github.com/users/koleto/following{/other_user}","gists_url":"https://api.github.com/users/koleto/gists{/gist_id}","starred_url":"https://api.github.com/users/koleto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koleto/subscriptions","organizations_url":"https://api.github.com/users/koleto/orgs","repos_url":"https://api.github.com/users/koleto/repos","events_url":"https://api.github.com/users/koleto/events{/privacy}","received_events_url":"https://api.github.com/users/koleto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:36:42Z","updated_at":"2017-10-19T20:36:42Z","author_association":"NONE","body":"But unfortunately after I was able to build couchdb, there are still some issues with the replication and views on ARMv8.    ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338030413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338034846","html_url":"https://github.com/apache/couchdb/pull/889#issuecomment-338034846","issue_url":"https://api.github.com/repos/apache/couchdb/issues/889","id":338034846,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAzNDg0Ng==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T20:54:19Z","updated_at":"2017-10-19T20:54:19Z","author_association":"MEMBER","body":"@tonysun83 wanna add a few lines of docs to https://github.com/apache/couchdb/blob/master/README-DEV.rst#testing +1 afterwards","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338034846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338048907","html_url":"https://github.com/apache/couchdb/issues/896#issuecomment-338048907","issue_url":"https://api.github.com/repos/apache/couchdb/issues/896","id":338048907,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODA0ODkwNw==","user":{"login":"wyc","id":858687,"node_id":"MDQ6VXNlcjg1ODY4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/858687?v=4","gravatar_id":"","url":"https://api.github.com/users/wyc","html_url":"https://github.com/wyc","followers_url":"https://api.github.com/users/wyc/followers","following_url":"https://api.github.com/users/wyc/following{/other_user}","gists_url":"https://api.github.com/users/wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyc/subscriptions","organizations_url":"https://api.github.com/users/wyc/orgs","repos_url":"https://api.github.com/users/wyc/repos","events_url":"https://api.github.com/users/wyc/events{/privacy}","received_events_url":"https://api.github.com/users/wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T21:54:15Z","updated_at":"2017-10-19T21:55:01Z","author_association":"NONE","body":"Thanks for your response. Sure, happy to attempt a resolution with tests. Do you think we should error or support hostname resolution?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338048907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338048927","html_url":"https://github.com/apache/couchdb/issues/897#issuecomment-338048927","issue_url":"https://api.github.com/repos/apache/couchdb/issues/897","id":338048927,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODA0ODkyNw==","user":{"login":"wyc","id":858687,"node_id":"MDQ6VXNlcjg1ODY4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/858687?v=4","gravatar_id":"","url":"https://api.github.com/users/wyc","html_url":"https://github.com/wyc","followers_url":"https://api.github.com/users/wyc/followers","following_url":"https://api.github.com/users/wyc/following{/other_user}","gists_url":"https://api.github.com/users/wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wyc/subscriptions","organizations_url":"https://api.github.com/users/wyc/orgs","repos_url":"https://api.github.com/users/wyc/repos","events_url":"https://api.github.com/users/wyc/events{/privacy}","received_events_url":"https://api.github.com/users/wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T21:54:22Z","updated_at":"2017-10-19T21:54:22Z","author_association":"NONE","body":"Thanks for your response. Sure, I think I can do this one.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338048927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338059528","html_url":"https://github.com/apache/couchdb/issues/901#issuecomment-338059528","issue_url":"https://api.github.com/repos/apache/couchdb/issues/901","id":338059528,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODA1OTUyOA==","user":{"login":"dwbentley","id":2119338,"node_id":"MDQ6VXNlcjIxMTkzMzg=","avatar_url":"https://avatars.githubusercontent.com/u/2119338?v=4","gravatar_id":"","url":"https://api.github.com/users/dwbentley","html_url":"https://github.com/dwbentley","followers_url":"https://api.github.com/users/dwbentley/followers","following_url":"https://api.github.com/users/dwbentley/following{/other_user}","gists_url":"https://api.github.com/users/dwbentley/gists{/gist_id}","starred_url":"https://api.github.com/users/dwbentley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwbentley/subscriptions","organizations_url":"https://api.github.com/users/dwbentley/orgs","repos_url":"https://api.github.com/users/dwbentley/repos","events_url":"https://api.github.com/users/dwbentley/events{/privacy}","received_events_url":"https://api.github.com/users/dwbentley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-19T22:50:35Z","updated_at":"2017-10-19T22:50:35Z","author_association":"NONE","body":"I'm interested to see what I can do. What do I need to get started? Before I dive in though I am curious why this functionality was taken out of 2.1 from 1.6? It works like a champ in 1.6 or was this an exploited work around? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338059528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338282777","html_url":"https://github.com/apache/couchdb/issues/901#issuecomment-338282777","issue_url":"https://api.github.com/repos/apache/couchdb/issues/901","id":338282777,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODI4Mjc3Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T18:11:47Z","updated_at":"2017-10-20T18:11:47Z","author_association":"MEMBER","body":"> I'm interested to see what I can do.\r\n\r\nAwesome! :)\r\n\r\n> What do I need to get started?\r\n\r\nThe chttpd module does all the HTTP handling in 2.0 and forward: https://github.com/apache/couchdb/tree/master/src/chttpd/src â€” Iâ€™d give that a bit of a read through. Erlang basics can be picked up here: http://learnyousomeerlang.com/content\r\n\r\n> I am curious why this functionality was taken out of 2.1 from 1.6? \r\n\r\nIt is less that it was taken out and more that for 2.0 the code that handles all HTTP in CouchDB is a completely new module written from scratch to account for the cluster functionality that wasn't available in 1.x. Not all features from the old module (couch_httpd) have been ported to the new module. In addition, the way CouchDB 1.x is put together is not what modern idiomatic Erlang applications look like, and 2.x cleaned a lot of that up.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338282777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338303891","html_url":"https://github.com/apache/couchdb/issues/733#issuecomment-338303891","issue_url":"https://api.github.com/repos/apache/couchdb/issues/733","id":338303891,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODMwMzg5MQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-20T19:40:53Z","updated_at":"2017-10-20T19:40:53Z","author_association":"MEMBER","body":"please reopen with requested info","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/338303891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]