[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652136","html_url":"https://github.com/apache/storm/issues/5106#issuecomment-2612652136","issue_url":"https://api.github.com/repos/apache/storm/issues/5106","id":2612652136,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTIxMzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T09:19:24Z","updated_at":"2025-01-24T14:23:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1185#issuecomment-194748171\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1185#issuecomment-194748171</a></p>\n\n<p>    I am fine with refactoring system topology builder in separate JIRA. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645331","html_url":"https://github.com/apache/storm/issues/5072#issuecomment-2612645331","issue_url":"https://api.github.com/repos/apache/storm/issues/5072","id":2612645331,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUzMzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T12:24:09Z","updated_at":"2025-01-24T14:20:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abhishekagarwal87 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1200\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1200</a></p>\n\n<p>    Tests - <a href=\"https://issues.apache.org/jira/browse/STORM-1235\" title=\"port  backtype.storm.security.auth.ReqContext-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1235\"><del>STORM-1235</del></a>, <a href=\"https://issues.apache.org/jira/browse/STORM-1236\" title=\"port  backtype.storm.security.auth.SaslTransportPlugin-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1236\"><del>STORM-1236</del></a>, <a href=\"https://issues.apache.org/jira/browse/STORM-1237\" title=\"port  backtype.storm.security.auth.ThriftClient-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1237\"><del>STORM-1237</del></a>, <a href=\"https://issues.apache.org/jira/browse/STORM-1238\" title=\"port backtype.storm.security.auth.ThriftServer-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1238\"><del>STORM-1238</del></a>, <a href=\"https://issues.apache.org/jira/browse/STORM-1249\" title=\"port  backtype.storm.security.serialization.BlowfishTupleSerializer-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1249\"><del>STORM-1249</del></a></p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abhishekagarwal87/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abhishekagarwal87/storm</a> tests</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1200.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1200.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1200</p>\n\n<hr />\n<p>commit 91022490fa41b7774e6b6e58394bf6a3f0cc723b<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-09T15:37:51Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1249\" title=\"port  backtype.storm.security.serialization.BlowfishTupleSerializer-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1249\"><del>STORM-1249</del></a>: port backtype.storm.security.serialization.BlowfishTupleSerializer-test to java</p>\n\n<p>commit 278ef5bdf25644ee9b46867a2c7118ed62f6b0ac<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-09T16:27:17Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1236\" title=\"port  backtype.storm.security.auth.SaslTransportPlugin-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1236\"><del>STORM-1236</del></a>: port backtype.storm.security.auth.SaslTransportPlugin-test to java</p>\n\n<p>commit 8b605daa1a401a9e999a77aa6de9ba9708a56282<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-09T16:57:34Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1235\" title=\"port  backtype.storm.security.auth.ReqContext-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1235\"><del>STORM-1235</del></a>: port backtype.storm.security.auth.ReqContext-test to java</p>\n\n<p>commit 015565ef3956dfea382c428aed477bafd8555c05<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-10T09:39:43Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1237\" title=\"port  backtype.storm.security.auth.ThriftClient-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1237\"><del>STORM-1237</del></a>: port backtype.storm.security.auth.ThriftClient-test to java</p>\n\n<p>commit f12d7a941c778dce75a73e3443d8c92ad4c6bce8<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-10T12:18:23Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1238\" title=\"port backtype.storm.security.auth.ThriftServer-test to java\" class=\"issue-link\" data-issue-key=\"STORM-1238\"><del>STORM-1238</del></a>: port backtype.storm.security.auth.ThriftServer-test to java</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645334","html_url":"https://github.com/apache/storm/issues/5072#issuecomment-2612645334","issue_url":"https://api.github.com/repos/apache/storm/issues/5072","id":2612645334,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUzMzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T12:29:17Z","updated_at":"2025-01-24T14:20:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1200#discussion_r55671813\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1200#discussion_r55671813</a></p>\n\n<p>    &#8212; Diff: storm-core/pom.xml &#8212;<br/>\n    @@ -287,13 +287,13 @@<br/>\n <artifactId>metrics-clojure</artifactId><br/>\n     </dependency><br/>\n     <dependency></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><groupId>org.mockito</groupId>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    hamcrest-core dependency is shaded inside the mockito-all and junit brings in another version of hamcrest-core which are incompatible. Excluding hamcrest-core from junit didn't work. This reordering worked. hamcrest-core dependency is needed by ThrowableNestedCauseMapper class. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645073","html_url":"https://github.com/apache/storm/issues/5070#issuecomment-2612645073","issue_url":"https://api.github.com/repos/apache/storm/issues/5070","id":2612645073,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUwNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T12:40:05Z","updated_at":"2025-01-24T14:20:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1191#discussion_r55672749\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1191#discussion_r55672749</a></p>\n\n<p>    &#8212; Diff: storm-core/test/jvm/org/apache/storm/security/auth/AuthUtilsTest.java &#8212;<br/>\n    @@ -0,0 +1,240 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.security.auth;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.File;<br/>\n    +import java.security.MessageDigest;<br/>\n    +import java.security.NoSuchAlgorithmException;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +import javax.security.auth.login.AppConfigurationEntry;<br/>\n    +import javax.security.auth.login.Configuration;<br/>\n    +import javax.security.auth.Subject;<br/>\n    +<br/>\n    +import org.apache.commons.codec.binary.Hex;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.junit.Assert;<br/>\n    +import org.junit.Rule;<br/>\n    +import org.junit.rules.TemporaryFolder;<br/>\n    +import org.junit.Test;<br/>\n    +import org.mockito.Mockito;<br/>\n    +<br/>\n    +public class AuthUtilsTest {<br/>\n    +<br/>\n    +    @Test(expected=IOException.class)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    nit. space around =</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194848650","html_url":"https://github.com/apache/storm/pull/1194#issuecomment-194848650","issue_url":"https://api.github.com/repos/apache/storm/issues/1194","id":194848650,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg0ODY1MA==","user":{"login":"redsanket","id":8295799,"node_id":"MDQ6VXNlcjgyOTU3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/8295799?v=4","gravatar_id":"","url":"https://api.github.com/users/redsanket","html_url":"https://github.com/redsanket","followers_url":"https://api.github.com/users/redsanket/followers","following_url":"https://api.github.com/users/redsanket/following{/other_user}","gists_url":"https://api.github.com/users/redsanket/gists{/gist_id}","starred_url":"https://api.github.com/users/redsanket/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redsanket/subscriptions","organizations_url":"https://api.github.com/users/redsanket/orgs","repos_url":"https://api.github.com/users/redsanket/repos","events_url":"https://api.github.com/users/redsanket/events{/privacy}","received_events_url":"https://api.github.com/users/redsanket/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T13:51:14Z","updated_at":"2016-03-10T13:51:14Z","author_association":"NONE","body":"Agree, that is a bigger change and I will have a follow up jira for it. Thanks\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194848650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881283","html_url":"https://github.com/apache/storm/issues/5444#issuecomment-2612881283","issue_url":"https://api.github.com/repos/apache/storm/issues/5444","id":2612881283,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODEyODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T13:51:14Z","updated_at":"2025-01-24T16:06:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1194#issuecomment-194848650\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1194#issuecomment-194848650</a></p>\n\n<p>    Agree, that is a bigger change and I will have a follow up jira for it. Thanks</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194859547","html_url":"https://github.com/apache/storm/pull/1194#issuecomment-194859547","issue_url":"https://api.github.com/repos/apache/storm/issues/1194","id":194859547,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg1OTU0Nw==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:06:58Z","updated_at":"2016-03-10T14:06:58Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194859547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881293","html_url":"https://github.com/apache/storm/issues/5444#issuecomment-2612881293","issue_url":"https://api.github.com/repos/apache/storm/issues/5444","id":2612881293,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODEyOTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:06:59Z","updated_at":"2025-01-24T16:06:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1194#issuecomment-194859547\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1194#issuecomment-194859547</a></p>\n\n<p>    LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194866571","html_url":"https://github.com/apache/storm/pull/1185#issuecomment-194866571","issue_url":"https://api.github.com/repos/apache/storm/issues/1185","id":194866571,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg2NjU3MQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:17:47Z","updated_at":"2016-03-10T14:17:47Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194866571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652140","html_url":"https://github.com/apache/storm/issues/5106#issuecomment-2612652140","issue_url":"https://api.github.com/repos/apache/storm/issues/5106","id":2612652140,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTIxNDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:17:49Z","updated_at":"2025-01-24T14:23:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1185#issuecomment-194866571\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1185#issuecomment-194866571</a></p>\n\n<p>    +1 looks good to me</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194870129","html_url":"https://github.com/apache/storm/pull/1196#issuecomment-194870129","issue_url":"https://api.github.com/repos/apache/storm/issues/1196","id":194870129,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg3MDEyOQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:23:46Z","updated_at":"2016-03-10T14:23:46Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194870129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612880661","html_url":"https://github.com/apache/storm/issues/5440#issuecomment-2612880661","issue_url":"https://api.github.com/repos/apache/storm/issues/5440","id":2612880661,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODA2NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:23:47Z","updated_at":"2025-01-24T16:06:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1196#issuecomment-194870129\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1196#issuecomment-194870129</a></p>\n\n<p>    +1 looks good to me.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612880661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652144","html_url":"https://github.com/apache/storm/issues/5106#issuecomment-2612652144","issue_url":"https://api.github.com/repos/apache/storm/issues/5106","id":2612652144,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTIxNDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:34:06Z","updated_at":"2025-01-24T14:23:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1185\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1185</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652147","html_url":"https://github.com/apache/storm/issues/5106#issuecomment-2612652147","issue_url":"https://api.github.com/repos/apache/storm/issues/5106","id":2612652147,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTIxNDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:34:41Z","updated_at":"2025-01-24T14:23:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=basti.lj\" class=\"user-hover\" rel=\"basti.lj\">Basti Liu</a>,</p>\n\n<p>I merged this into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612652147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194880255","html_url":"https://github.com/apache/storm/pull/1131#issuecomment-194880255","issue_url":"https://api.github.com/repos/apache/storm/issues/1131","id":194880255,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDg4MDI1NQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T14:44:49Z","updated_at":"2016-03-10T14:44:49Z","author_association":"CONTRIBUTOR","body":"@kishorvpatil I think you are confusing our internal code with open source code.  We have been using an early patch of kafka with security, that supported security on the older kafka consumer API, and added a corresponding patch to the kafka-spout to support it.  When security finally was officially merged into kafka only the new consumer API was supported, and it can be configured completely through the properties/the broker URI.\n\nhttp://docs.confluent.io/2.0.0/kafka/ssl.html#configuring-kafka-clients\n\nas such `securityProtocol` is not needed any more, and was actually never in open source.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194880255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194905475","html_url":"https://github.com/apache/storm/pull/1192#issuecomment-194905475","issue_url":"https://api.github.com/repos/apache/storm/issues/1192","id":194905475,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDkwNTQ3NQ==","user":{"login":"hustfxj","id":7270212,"node_id":"MDQ6VXNlcjcyNzAyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/7270212?v=4","gravatar_id":"","url":"https://api.github.com/users/hustfxj","html_url":"https://github.com/hustfxj","followers_url":"https://api.github.com/users/hustfxj/followers","following_url":"https://api.github.com/users/hustfxj/following{/other_user}","gists_url":"https://api.github.com/users/hustfxj/gists{/gist_id}","starred_url":"https://api.github.com/users/hustfxj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hustfxj/subscriptions","organizations_url":"https://api.github.com/users/hustfxj/orgs","repos_url":"https://api.github.com/users/hustfxj/repos","events_url":"https://api.github.com/users/hustfxj/events{/privacy}","received_events_url":"https://api.github.com/users/hustfxj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T15:29:51Z","updated_at":"2016-03-10T15:29:51Z","author_association":"CONTRIBUTOR","body":"@zhuoliu  if  it's ok, can you merge it ?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194905475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881531","html_url":"https://github.com/apache/storm/issues/5445#issuecomment-2612881531","issue_url":"https://api.github.com/repos/apache/storm/issues/5445","id":2612881531,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODE1MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T15:29:52Z","updated_at":"2025-01-24T16:06:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hustfxj commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1192#issuecomment-194905475\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1192#issuecomment-194905475</a></p>\n\n<p>    @zhuoliu  if  it's ok, can you merge it ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645077","html_url":"https://github.com/apache/storm/issues/5070#issuecomment-2612645077","issue_url":"https://api.github.com/repos/apache/storm/issues/5070","id":2612645077,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUwNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T15:32:10Z","updated_at":"2025-01-24T14:20:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1191#discussion_r55696301\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1191#discussion_r55696301</a></p>\n\n<p>    &#8212; Diff: storm-core/test/jvm/org/apache/storm/security/auth/AuthUtilsTest.java &#8212;<br/>\n    @@ -0,0 +1,240 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.security.auth;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.File;<br/>\n    +import java.security.MessageDigest;<br/>\n    +import java.security.NoSuchAlgorithmException;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +import javax.security.auth.login.AppConfigurationEntry;<br/>\n    +import javax.security.auth.login.Configuration;<br/>\n    +import javax.security.auth.Subject;<br/>\n    +<br/>\n    +import org.apache.commons.codec.binary.Hex;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.junit.Assert;<br/>\n    +import org.junit.Rule;<br/>\n    +import org.junit.rules.TemporaryFolder;<br/>\n    +import org.junit.Test;<br/>\n    +import org.mockito.Mockito;<br/>\n    +<br/>\n    +public class AuthUtilsTest {<br/>\n    +<br/>\n    +    @Test(expected=IOException.class)<br/>\n    +    public void getOptionsThrowsOnMissingSectionTest() throws IOException </p>\n{\n    +Configuration mockConfig = Mockito.mock(Configuration.class);\n    +AuthUtils.get(mockConfig, \"bogus-section\", \"\");\n    +    }\n<p>    +<br/>\n    +    @Test<br/>\n    +    public void getNonExistentSectionTest() throws IOException {<br/>\n    +Map<String, String> optionMap = new HashMap<String, String>();<br/>\n    +AppConfigurationEntry entry = Mockito.mock(AppConfigurationEntry.class);<br/>\n    +<br/>\n    +Mockito.<Map<String, ?>>when(entry.getOptions()).thenReturn(optionMap);<br/>\n    +String section = \"bogus-section\";<br/>\n    +Configuration mockConfig = Mockito.mock(Configuration.class);<br/>\n    +Mockito.when(mockConfig.getAppConfigurationEntry(section))<br/>\n    +       .thenReturn(new AppConfigurationEntry[] </p>\n{entry});<br/>\n    +Assert.assertNull(<br/>\n    +AuthUtils.get(mockConfig, section, \"nonexistent-key\"));<br/>\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void getFirstValueForValidKeyTest() throws IOException {<br/>\n    +String k = \"the-key\";<br/>\n    +String expected = \"good-value\";<br/>\n    +<br/>\n    +Map<String, String> optionMap = new HashMap<String, String>();<br/>\n    +optionMap.put(k, expected);<br/>\n    +<br/>\n    +Map<String, String> badOptionMap = new HashMap<String, String>();<br/>\n    +badOptionMap.put(k, \"bad-value\");<br/>\n    +<br/>\n    +AppConfigurationEntry emptyEntry = Mockito.mock(AppConfigurationEntry.class);<br/>\n    +AppConfigurationEntry badEntry = Mockito.mock(AppConfigurationEntry.class);<br/>\n    +AppConfigurationEntry goodEntry = Mockito.mock(AppConfigurationEntry.class);<br/>\n    +<br/>\n    +Mockito.<Map<String, ?>>when(emptyEntry.getOptions()).thenReturn(new HashMap<String, String>());<br/>\n    +Mockito.<Map<String, ?>>when(badEntry.getOptions()).thenReturn(badOptionMap);<br/>\n    +Mockito.<Map<String, ?>>when(goodEntry.getOptions()).thenReturn(optionMap);<br/>\n    +<br/>\n    +String section = \"bogus-section\";<br/>\n    +Configuration mockConfig = Mockito.mock(Configuration.class);<br/>\n    +Mockito.when(mockConfig.getAppConfigurationEntry(section))<br/>\n    +       .thenReturn(new AppConfigurationEntry[] {emptyEntry, goodEntry, badEntry});<br/>\n    +<br/>\n    +Assert.assertEquals(<br/>\n    +AuthUtils.get(mockConfig, section, k), expected);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void objGettersReturnNullWithNullConfigTest() throws IOException {\n    +Assert.assertNull(AuthUtils.pullConfig(null, \"foo\"));\n    +Assert.assertNull(AuthUtils.get(null, \"foo\", \"bar\"));\n    +\n    +Map emptyMap = new HashMap<String, String>();\n    +Assert.assertNull(AuthUtils.GetConfiguration(emptyMap));\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void getAutoCredentialsTest() {<br/>\n    +Map emptyMap = new HashMap<String, String>();<br/>\n    +Map<String, Collection<String>> map = new HashMap<String, Collection<String>>();<br/>\n    +map.put(Config.TOPOLOGY_AUTO_CREDENTIALS, <br/>\n    +Arrays.asList(new String[]{\"org.apache.storm.security.auth.AuthUtilsTestMock\"}));<br/>\n    +<br/>\n    +Assert.assertTrue(AuthUtils.GetAutoCredentials(emptyMap).isEmpty());<br/>\n    +Assert.assertEquals(AuthUtils.GetAutoCredentials(map).size(), 1);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void getNimbusAutoCredPluginTest() {<br/>\n    +Map emptyMap = new HashMap<String, String>();<br/>\n    +Map<String, Collection<String>> map = new HashMap<String, Collection<String>>();<br/>\n    +map.put(Config.NIMBUS_AUTO_CRED_PLUGINS, <br/>\n    +Arrays.asList(new String[]{\"org.apache.storm.security.auth.AuthUtilsTestMock\"}));<br/>\n    +<br/>\n    +Assert.assertTrue(AuthUtils.getNimbusAutoCredPlugins(emptyMap).isEmpty());<br/>\n    +Assert.assertEquals(AuthUtils.getNimbusAutoCredPlugins(map).size(), 1);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void GetCredentialRenewersTest() {<br/>\n    +Map emptyMap = new HashMap<String, String>();<br/>\n    +Map<String, Collection<String>> map = new HashMap<String, Collection<String>>();<br/>\n    +map.put(Config.NIMBUS_CREDENTIAL_RENEWERS, <br/>\n    +Arrays.asList(new String[]{\"org.apache.storm.security.auth.AuthUtilsTestMock\"}));<br/>\n    +<br/>\n    +Assert.assertTrue(AuthUtils.GetCredentialRenewers(emptyMap).isEmpty());<br/>\n    +Assert.assertEquals(AuthUtils.GetCredentialRenewers(map).size(), 1);<br/>\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void populateSubjectTest() {<br/>\n    +AuthUtilsTestMock autoCred = Mockito.mock(AuthUtilsTestMock.class);<br/>\n    +Subject subject = new Subject();<br/>\n    +Map<String, String> cred = new HashMap<String, String>();<br/>\n    +Collection<IAutoCredentials> autos = Arrays.asList(new IAutoCredentials[]{autoCred}); <br/>\n    +AuthUtils.populateSubject(subject, autos, cred);<br/>\n    +Mockito.verify(autoCred, Mockito.times(1)).populateSubject(subject, cred); <br/>\n    +    }<br/>\n    +<br/>\n    +    @Test<br/>\n    +    public void makeDigestPayloadTest() throws NoSuchAlgorithmException { <br/>\n    +String section = \"user-pass-section\";<br/>\n    +Map<String, String> optionMap = new HashMap<String, String>();<br/>\n    +String user = \"user\";<br/>\n    +String pass = \"pass\";<br/>\n    +optionMap.put(\"username\", user);<br/>\n    +optionMap.put(\"password\", pass);<br/>\n    +AppConfigurationEntry entry = Mockito.mock(AppConfigurationEntry.class);<br/>\n    +<br/>\n    +Mockito.<Map<String, ?>>when(entry.getOptions()).thenReturn(optionMap);<br/>\n    +Configuration mockConfig = Mockito.mock(Configuration.class);<br/>\n    +Mockito.when(mockConfig.getAppConfigurationEntry(section))<br/>\n    +       .thenReturn(new AppConfigurationEntry[] {entry}\n<p>);<br/>\n    +<br/>\n    +MessageDigest digest = MessageDigest.getInstance(\"SHA-512\");<br/>\n    +byte[] output = digest.digest((user + \":\" + pass).getBytes());<br/>\n    +String sha = Hex.encodeHexString(output);<br/>\n    +<br/>\n    +// previous code used this method to generate the string, ensure the two match<br/>\n    +StringBuilder builder = new StringBuilder();<br/>\n    +for(byte b : output) </p>\n{     \n    +    builder.append(String.format(\"%02x\", b));      \n    +}\n<p>      <br/>\n    +String stringFormatMethod = builder.toString();<br/>\n    +<br/>\n    +Assert.assertEquals(<br/>\n    +    AuthUtils.makeDigestPayload(mockConfig, \"user-pass-section\"),<br/>\n    +    sha);<br/>\n    +<br/>\n    +Assert.assertEquals(sha, stringFormatMethod); <br/>\n    +    }<br/>\n    +<br/>\n    +    @Test(expected=RuntimeException.class)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    same here</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/194906318","html_url":"https://github.com/apache/storm/pull/1192#issuecomment-194906318","issue_url":"https://api.github.com/repos/apache/storm/issues/1192","id":194906318,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDkwNjMxOA==","user":{"login":"zhuoliu","id":11683054,"node_id":"MDQ6VXNlcjExNjgzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/11683054?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoliu","html_url":"https://github.com/zhuoliu","followers_url":"https://api.github.com/users/zhuoliu/followers","following_url":"https://api.github.com/users/zhuoliu/following{/other_user}","gists_url":"https://api.github.com/users/zhuoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoliu/subscriptions","organizations_url":"https://api.github.com/users/zhuoliu/orgs","repos_url":"https://api.github.com/users/zhuoliu/repos","events_url":"https://api.github.com/users/zhuoliu/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T15:32:41Z","updated_at":"2016-03-10T15:32:41Z","author_association":"NONE","body":"still +1, sure\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/194906318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881534","html_url":"https://github.com/apache/storm/issues/5445#issuecomment-2612881534","issue_url":"https://api.github.com/repos/apache/storm/issues/5445","id":2612881534,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODE1MzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T15:32:42Z","updated_at":"2025-01-24T16:06:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1192#issuecomment-194906318\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1192#issuecomment-194906318</a></p>\n\n<p>    still +1, sure</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612881534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882704","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882704","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882704,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T18:27:22Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55725427\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55725427</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -409,16 +427,26 @@ public StormTopology build() </p>\n{\n throw new RuntimeException(\"Regular rich spouts not supported yet... try wrapping in a RichSpoutBatchExecutor\");\n // TODO: handle regular rich spout without batches (need lots of updates to support this throughout)\n     }\n<ul class=\"alternate\" type=\"square\">\n\t<li>builder.setSpout(spoutIds.get(sn), sn.streamId, sn.txId, s, parallelism, batchGroupMap.get(sn));<br/>\n    +builder.setSpout(spoutIds.get(sn), sn.streamId, sn.txId, s, parallelism, batchGroupMap.get(sn))<br/>\n    +    .setMemoryLoad(onHeap, offHeap)<br/>\n    +    .setCPULoad(cpuLoad);<br/>\n }<br/>\n     }</li>\n\t<li><p>    +<br/>\n     for(Group g: mergedGroups) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    can we use a different variable name then \"g\"? The name was kind of confusing we I was looking through the code</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195011076","html_url":"https://github.com/apache/storm/pull/1201#issuecomment-195011076","issue_url":"https://api.github.com/repos/apache/storm/issues/1201","id":195011076,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTAxMTA3Ng==","user":{"login":"zhuoliu","id":11683054,"node_id":"MDQ6VXNlcjExNjgzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/11683054?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoliu","html_url":"https://github.com/zhuoliu","followers_url":"https://api.github.com/users/zhuoliu/followers","following_url":"https://api.github.com/users/zhuoliu/following{/other_user}","gists_url":"https://api.github.com/users/zhuoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoliu/subscriptions","organizations_url":"https://api.github.com/users/zhuoliu/orgs","repos_url":"https://api.github.com/users/zhuoliu/repos","events_url":"https://api.github.com/users/zhuoliu/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:31:32Z","updated_at":"2016-03-10T19:31:32Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195011076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882710","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882710","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882710,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:32:01Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55736001\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55736001</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/topology/ResourceDeclarer.java &#8212;<br/>\n    @@ -0,0 +1,24 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.topology;<br/>\n    +<br/>\n    +public interface ResourceDeclarer <T extends ResourceDeclarer> {<br/>\n    +    T setMemoryLoad(Number onHeap);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    is there any particular reason to use Number here instead of Double?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882259","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882259","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882259,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyNTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:46:09Z","updated_at":"2025-01-24T16:06:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abellina opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>: backpressure changes and initial test</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abellina/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abellina/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>_backpressure_init_and_cleanup_changes</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1202</p>\n\n<hr />\n<p>commit 3fb3521eda89caf9f59675ed397ce8202da964b6<br/>\nAuthor: Alessandro Bellina <abellina@yahoo-inc.com><br/>\nDate:   2016-03-09T22:15:46Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>: backpressure changes and initial test</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195021005","html_url":"https://github.com/apache/storm/pull/1191#issuecomment-195021005","issue_url":"https://api.github.com/repos/apache/storm/issues/1191","id":195021005,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTAyMTAwNQ==","user":{"login":"abellina","id":1901059,"node_id":"MDQ6VXNlcjE5MDEwNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1901059?v=4","gravatar_id":"","url":"https://api.github.com/users/abellina","html_url":"https://github.com/abellina","followers_url":"https://api.github.com/users/abellina/followers","following_url":"https://api.github.com/users/abellina/following{/other_user}","gists_url":"https://api.github.com/users/abellina/gists{/gist_id}","starred_url":"https://api.github.com/users/abellina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abellina/subscriptions","organizations_url":"https://api.github.com/users/abellina/orgs","repos_url":"https://api.github.com/users/abellina/repos","events_url":"https://api.github.com/users/abellina/events{/privacy}","received_events_url":"https://api.github.com/users/abellina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:55:18Z","updated_at":"2016-03-10T19:55:18Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 @redsanket made those fixes, I rebased the branch to clean up history.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195021005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645081","html_url":"https://github.com/apache/storm/issues/5070#issuecomment-2612645081","issue_url":"https://api.github.com/repos/apache/storm/issues/5070","id":2612645081,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUwODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:55:19Z","updated_at":"2025-01-24T14:20:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1191#issuecomment-195021005\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1191#issuecomment-195021005</a></p>\n\n<p>    @abhishekagarwal87 @redsanket made those fixes, I rebased the branch to clean up history.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195021405","html_url":"https://github.com/apache/storm/pull/1160#issuecomment-195021405","issue_url":"https://api.github.com/repos/apache/storm/issues/1160","id":195021405,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTAyMTQwNQ==","user":{"login":"abellina","id":1901059,"node_id":"MDQ6VXNlcjE5MDEwNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1901059?v=4","gravatar_id":"","url":"https://api.github.com/users/abellina","html_url":"https://github.com/abellina","followers_url":"https://api.github.com/users/abellina/followers","following_url":"https://api.github.com/users/abellina/following{/other_user}","gists_url":"https://api.github.com/users/abellina/gists{/gist_id}","starred_url":"https://api.github.com/users/abellina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abellina/subscriptions","organizations_url":"https://api.github.com/users/abellina/orgs","repos_url":"https://api.github.com/users/abellina/repos","events_url":"https://api.github.com/users/abellina/events{/privacy}","received_events_url":"https://api.github.com/users/abellina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:56:16Z","updated_at":"2016-03-10T19:56:16Z","author_association":"CONTRIBUTOR","body":"Can this go in? It's a pretty simple PR.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195021405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612644103","html_url":"https://github.com/apache/storm/issues/5065#issuecomment-2612644103","issue_url":"https://api.github.com/repos/apache/storm/issues/5065","id":2612644103,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDQxMDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T19:56:17Z","updated_at":"2025-01-24T14:19:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1160#issuecomment-195021405\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1160#issuecomment-195021405</a></p>\n\n<p>    Can this go in? It's a pretty simple PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612644103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882262","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882262","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882262,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyNjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T20:45:13Z","updated_at":"2025-01-24T16:06:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882269","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882269","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882269,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyNjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T20:45:13Z","updated_at":"2025-01-24T16:06:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abellina reopened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>: backpressure changes and test</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abellina/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abellina/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>_backpressure_init_and_cleanup_changes</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1202</p>\n\n<hr />\n<p>commit 3fb3521eda89caf9f59675ed397ce8202da964b6<br/>\nAuthor: Alessandro Bellina <abellina@yahoo-inc.com><br/>\nDate:   2016-03-09T22:15:46Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>: backpressure changes and initial test</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882720","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882720","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882720,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T21:50:00Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55755494\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55755494</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/Stream.java &#8212;<br/>\n    @@ -124,6 +124,31 @@ public Stream parallelismHint(int hint) {<br/>\n }</p>\n\n<p> /**<br/>\n    +     * Sets the CPU Load resource for the current node<br/>\n    +     */<br/>\n    +    public Stream setCPULoad(Number load) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I can look at adding a method for including a component -> resources map when creating a trident topology. </p>\n\n<p>    As for the others:<br/>\n    There's not really a clean way to add this to TridentTopology, and we wanted some way to specify resources similar to RAS's API. Stream is the cleanest place for it, and it works just like `parallelismHint(...)` does.</p>\n\n<p>    Having one method, 'nodeConfig(...)' with a `NodeConfig` object would reduce the number of new methods in Stream, like you said. I don't really see that as looking any better for the end-user, though. Consider this:<br/>\n    ```java<br/>\n    TridentTopology topo = new TridentTopology();<br/>\n    TridentState wordCounts = <br/>\ntopology.newStream(\"spout1\", spout)<br/>\n    .setCPULoad(50)<br/>\n    .setMemoryLoad(1024)<br/>\n    .each(new Fields(\"sentence\"), new Split(), new Fields(\"word\"))<br/>\n    .setCPULoad(100)<br/>\n    .setMemoryLoad(256)<br/>\n    .groupBy(new Fields(\"word\"))<br/>\n    .persistentAggregate(new MemorymapState.Factory(), new Count(), new Fields(\"count\"))<br/>\n    .parallelismHint(6);<br/>\n    ```</p>\n\n<p>    Would become this:<br/>\n    ```java<br/>\n    TridentTopology topo = new TridentTopology();<br/>\n    TridentState wordCounts = <br/>\ntopology.newStream(\"spout1\", spout)<br/>\n    .nodeConfig(new NodeConfig()<br/>\n    .setCPULoad(50)<br/>\n    .setMemoryLoad(1024))<br/>\n    .each(new Fields(\"sentence\"), new Split(), new Fields(\"word\"))<br/>\n    .nodeConfig(new NodeConfig()<br/>\n    .setCPULoad(100)<br/>\n    .setMemoryLoad(256))<br/>\n    .groupBy(new Fields(\"word\"))<br/>\n    .persistentAggregate(new MemorymapState.Factory(), new Count(), new Fields(\"count\"))<br/>\n    .parallelismHint(6);<br/>\n    ```</p>\n\n<p>    I may be missing the benefit here, but as far as I can tell, users shouldn't really need to be aware of Nodes at all. They're supposed to be internal to Trident.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883152","html_url":"https://github.com/apache/storm/issues/5452#issuecomment-2612883152","issue_url":"https://api.github.com/repos/apache/storm/issues/5452","id":2612883152,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODMxNTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T21:50:38Z","updated_at":"2025-01-24T16:07:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user revans2 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1203\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1203</a></p>\n\n<p>    !!! DO NOT MERGE !!! <a href=\"https://issues.apache.org/jira/browse/STORM-1617\" title=\"storm.apache.org has no release specific documentation\" class=\"issue-link\" data-issue-key=\"STORM-1617\"><del>STORM-1617</del></a> preview !!! DO NOT MERGE !!!</p>\n\n<p>    This is intended to be a preview of <a href=\"https://issues.apache.org/jira/browse/STORM-1617\" title=\"storm.apache.org has no release specific documentation\" class=\"issue-link\" data-issue-key=\"STORM-1617\"><del>STORM-1617</del></a>.  It is by no means done, but I wanted to get some feedback on this.</p>\n\n<p>    Adding in all of the javadocs added in about 88MB.  So I am thinking that asf-site itself might need to be in the subversion repo, just so we don't impact all developers with all of the extra files, but I am open to most suggestions.</p>\n\n<p>    At this point I have only brought over the javadocs and only put in the 0.10.0 and 0.9.6 releases.</p>\n\n<p>    I added in a data file `releases.yaml` that is used to create links to all of the different release sub-directories.  If others think this looks OK at a high level, I will start to go through and add in the rest of the release specific docs.  Put in the rest of the missing releases.  and see if I can put in a permalink, or a sym-link for our current stable release.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/revans2/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/revans2/incubator-storm</a> versioned-site</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1203.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1203.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1203</p>\n\n<hr />\n<p>commit b12f899b7a1177576035bb0e628622ebda1362d9<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-03-10T18:54:58Z</p>\n\n<p>    Soem cleanup</p>\n\n<p>commit 0140297c0f7f8cc081008bdecce5c7dc8f00a8fa<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-03-10T18:57:14Z</p>\n\n<p>    Config issue</p>\n\n<p>commit 47fe62e75c91649d85afd6dcaf6a6170562e6627<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-03-10T20:30:22Z</p>\n\n<p>    Checkpoint</p>\n\n<p>commit d3d7e87bac0b4fbf417a12ae0cc16742a5f6588a<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-03-10T20:53:06Z</p>\n\n<p>    A few more things updated to make this work</p>\n\n<p>commit c5d8dc938e835c1ec93680886060c4f53574cb9c<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-03-10T20:56:58Z</p>\n\n<p>    Added in 0.9.6 javadocs</p>\n\n<p>commit 5a8e4e78f325eea6a60cda962e97b0287bfc9b8f<br/>\nAuthor: Robert (Bobby) Evans <evans@yahoo-inc.com><br/>\nDate:   2016-03-10T21:08:25Z</p>\n\n<p>    Updated header to point to proper pages</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882726","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882726","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882726,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T21:51:43Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55755714\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55755714</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -409,16 +427,26 @@ public StormTopology build() </p>\n{\n throw new RuntimeException(\"Regular rich spouts not supported yet... try wrapping in a RichSpoutBatchExecutor\");\n // TODO: handle regular rich spout without batches (need lots of updates to support this throughout)\n     }\n<ul class=\"alternate\" type=\"square\">\n\t<li>builder.setSpout(spoutIds.get(sn), sn.streamId, sn.txId, s, parallelism, batchGroupMap.get(sn));<br/>\n    +builder.setSpout(spoutIds.get(sn), sn.streamId, sn.txId, s, parallelism, batchGroupMap.get(sn))<br/>\n    +    .setMemoryLoad(onHeap, offHeap)<br/>\n    +    .setCPULoad(cpuLoad);<br/>\n }<br/>\n     }</li>\n\t<li><p>    +<br/>\n     for(Group g: mergedGroups) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I would be very happy to change this terrible name if it were in new code, but I don't want to start refactoring unrelated things in this PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882731","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882731","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882731,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T21:53:43Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55755996\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55755996</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/topology/ResourceDeclarer.java &#8212;<br/>\n    @@ -0,0 +1,24 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.topology;<br/>\n    +<br/>\n    +public interface ResourceDeclarer <T extends ResourceDeclarer> {<br/>\n    +    T setMemoryLoad(Number onHeap);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Number is just the class RAS uses to hold resource counts. I'm not sure what led to that decision. This interface was pulled out of `ComponentConfigurationDeclarer` (which now inherits this), so the method names and signatures should remain the same. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882738","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882738","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882738,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T21:56:16Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882749","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882749","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882749,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T21:56:19Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user knusbaum reopened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1616\" title=\"Add RAS API for Trident\" class=\"issue-link\" data-issue-key=\"STORM-1616\"><del>STORM-1616</del></a>: Add RAS API for Trident</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/knusbaum/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/knusbaum/incubator-storm</a> Trident-RAS-v2</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1199</p>\n\n<hr />\n<p>commit 17a55d20d3f20bc04ca48ee3a9f63eaed8960b9c<br/>\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com><br/>\nDate:   2016-03-08T21:46:23Z</p>\n\n<p>    Initial changes.</p>\n\n<p>commit fbfb1ca0bb97ac2001d139eab56fef6917680340<br/>\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com><br/>\nDate:   2016-03-09T20:57:30Z</p>\n\n<p>    Ready for PR</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882754","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882754","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882754,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T22:59:54Z","updated_at":"2025-01-24T16:06:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55764668\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55764668</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -431,6 +459,52 @@ public StormTopology build() </p>\n{\n     \n     return builder.buildTopology();\n }\n<p>    +<br/>\n    +    private static Map<String, Number> mergeDefaultResources(Map<String, Number> res, Map defaultConfig) {<br/>\n    +Map<String, Number> ret = new HashMap<String, Number>();<br/>\n    +<br/>\n    +Number  onHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoadDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(res == null) </p>\n{\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, cpuLoadDefault);\n    +    return ret;\n    +}\n<p>    +<br/>\n    +Number  onHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoad = res.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(onHeap == null) </p>\n{\n    +    onHeap = onHeapDefault;\n    +}\n<p>    +else {<br/>\n    +    onHeap = Math.max(onHeap.doubleValue(), onHeapDefault.doubleValue());<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Why are we taking the max of those two values here? Is it not ok for a user to set memory onheap memory requirement to be less than the default</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882762","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882762","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882762,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T23:00:06Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55764689\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55764689</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -431,6 +459,52 @@ public StormTopology build() </p>\n{\n     \n     return builder.buildTopology();\n }\n<p>    +<br/>\n    +    private static Map<String, Number> mergeDefaultResources(Map<String, Number> res, Map defaultConfig) {<br/>\n    +Map<String, Number> ret = new HashMap<String, Number>();<br/>\n    +<br/>\n    +Number  onHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoadDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(res == null) </p>\n{\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, cpuLoadDefault);\n    +    return ret;\n    +}\n<p>    +<br/>\n    +Number  onHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoad = res.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(onHeap == null) </p>\n{\n    +    onHeap = onHeapDefault;\n    +}\n<p>    +else </p>\n{\n    +    onHeap = Math.max(onHeap.doubleValue(), onHeapDefault.doubleValue());\n    +}\n<p>    +<br/>\n    +if(offHeap == null) </p>\n{\n    +    offHeap = offHeapDefault;\n    +}\n<p>    +else {<br/>\n    +    offHeap = Math.max(offHeap.doubleValue(), offHeapDefault.doubleValue());<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    same question here</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882766","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882766","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882766,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T23:00:18Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55764703\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55764703</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -431,6 +459,52 @@ public StormTopology build() </p>\n{\n     \n     return builder.buildTopology();\n }\n<p>    +<br/>\n    +    private static Map<String, Number> mergeDefaultResources(Map<String, Number> res, Map defaultConfig) {<br/>\n    +Map<String, Number> ret = new HashMap<String, Number>();<br/>\n    +<br/>\n    +Number  onHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoadDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(res == null) </p>\n{\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, cpuLoadDefault);\n    +    return ret;\n    +}\n<p>    +<br/>\n    +Number  onHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoad = res.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(onHeap == null) </p>\n{\n    +    onHeap = onHeapDefault;\n    +}\n<p>    +else </p>\n{\n    +    onHeap = Math.max(onHeap.doubleValue(), onHeapDefault.doubleValue());\n    +}\n<p>    +<br/>\n    +if(offHeap == null) </p>\n{\n    +    offHeap = offHeapDefault;\n    +}\n<p>    +else </p>\n{\n    +    offHeap = Math.max(offHeap.doubleValue(), offHeapDefault.doubleValue());\n    +}\n<p>    +<br/>\n    +if(cpuLoad == null) </p>\n{\n    +    cpuLoad = cpuLoadDefault;\n    +}\n<p>    +else {<br/>\n    +    cpuLoad = Math.max(cpuLoad.doubleValue(), cpuLoadDefault.doubleValue());<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    same question here</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882774","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882774","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882774,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T23:03:20Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55765027\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55765027</a></p>\n\n<p>    &#8212; Diff: storm-core/test/clj/integration/org/apache/storm/trident/integration_test.clj &#8212;<br/>\n    @@ -281,6 +285,86 @@<br/>\n     (.stateQuery word-counts (fields \"word1\") (MapGet.) (fields \"count\"))))))<br/>\n  )))</p>\n\n<p>    +<br/>\n    +(deftest test-set-component-resources<br/>\n    +  (t/with-local-cluster <span class=\"error\">&#91;cluster&#93;</span><br/>\n    +    (with-drpc <span class=\"error\">&#91;drpc&#93;</span><br/>\n    +      (letlocals<br/>\n    +(bind topo (TridentTopology.))<br/>\n    +(bind feeder (feeder-spout <span class=\"error\">&#91;\"sentence\"&#93;</span>))<br/>\n    +(bind add-bang (proxy <span class=\"error\">&#91;BaseFunction&#93;</span> []<br/>\n    + (execute <span class=\"error\">&#91;tuple collector&#93;</span><br/>\n    +   (. collector emit (str (. tuple getString 0) \"!\")))))<br/>\n    +(bind word-counts<br/>\n    +  (.. topo<br/>\n    +      (newStream \"words\" feeder)<br/>\n    +      (parallelismHint 5)<br/>\n    +      (setCPULoad 20)<br/>\n    +      (setMemoryLoad 512 256)<br/>\n    +      (each (fields \"sentence\") (Split.) (fields \"word\"))<br/>\n    +      (setCPULoad 10)<br/>\n    +      (setMemoryLoad 512)<br/>\n    +      (each (fields \"word\") add-bang (fields \"word!\"))<br/>\n    +      (parallelismHint 10)<br/>\n    +      (setCPULoad 50)<br/>\n    +      (setMemoryLoad 1024)<br/>\n    +      (groupBy (fields \"word!\"))<br/>\n    +      (persistentAggregate (memory-map-state) (Count.) (fields \"count\"))<br/>\n    +      (setCPULoad 100)<br/>\n    +      (setMemoryLoad 2048)))<br/>\n    +(with-topology <span class=\"error\">&#91;cluster topo storm-topo&#93;</span><br/>\n    +;  (log-message \"\\n\")<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    delete commented out code?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882780","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882780","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882780,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T23:07:46Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55765520\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55765520</a></p>\n\n<p>    &#8212; Diff: storm-core/test/clj/integration/org/apache/storm/trident/integration_test.clj &#8212;<br/>\n    @@ -281,6 +285,86 @@<br/>\n     (.stateQuery word-counts (fields \"word1\") (MapGet.) (fields \"count\"))))))<br/>\n  )))</p>\n\n<p>    +<br/>\n    +(deftest test-set-component-resources<br/>\n    +  (t/with-local-cluster <span class=\"error\">&#91;cluster&#93;</span><br/>\n    +    (with-drpc <span class=\"error\">&#91;drpc&#93;</span><br/>\n    +      (letlocals<br/>\n    +(bind topo (TridentTopology.))<br/>\n    +(bind feeder (feeder-spout <span class=\"error\">&#91;\"sentence\"&#93;</span>))<br/>\n    +(bind add-bang (proxy <span class=\"error\">&#91;BaseFunction&#93;</span> []<br/>\n    + (execute <span class=\"error\">&#91;tuple collector&#93;</span><br/>\n    +   (. collector emit (str (. tuple getString 0) \"!\")))))<br/>\n    +(bind word-counts<br/>\n    +  (.. topo<br/>\n    +      (newStream \"words\" feeder)<br/>\n    +      (parallelismHint 5)<br/>\n    +      (setCPULoad 20)<br/>\n    +      (setMemoryLoad 512 256)<br/>\n    +      (each (fields \"sentence\") (Split.) (fields \"word\"))<br/>\n    +      (setCPULoad 10)<br/>\n    +      (setMemoryLoad 512)<br/>\n    +      (each (fields \"word\") add-bang (fields \"word!\"))<br/>\n    +      (parallelismHint 10)<br/>\n    +      (setCPULoad 50)<br/>\n    +      (setMemoryLoad 1024)<br/>\n    +      (groupBy (fields \"word!\"))<br/>\n    +      (persistentAggregate (memory-map-state) (Count.) (fields \"count\"))<br/>\n    +      (setCPULoad 100)<br/>\n    +      (setMemoryLoad 2048)))<br/>\n    +(with-topology <span class=\"error\">&#91;cluster topo storm-topo&#93;</span><br/>\n    +;  (log-message \"\\n\")<br/>\n    +;  (log-message \"Getting json confs from bolts:\")<br/>\n    +;;  (log-message \"Bolts: \" (. storm-topo get_bolts) \"(\" (. storm-topo get_bolts_size) \")\")<br/>\n    +;  (doall (map (fn [<span class=\"error\">&#91;k v&#93;</span>] (log-message k \":\" (.. v get_common get_json_conf))) (. storm-topo get_bolts)))<br/>\n    +<br/>\n    +  (let [parse-fn (fn [<span class=\"error\">&#91;k v&#93;</span>]<br/>\n    +   <span class=\"error\">&#91;k (clojurify-structure (. (JSONParser.) parse (.. v get_common get_json_conf)))&#93;</span>)<br/>\n    +json-confs (into {} (map parse-fn (. storm-topo get_bolts)))]<br/>\n    +    (testing \"spout memory\"<br/>\n    +      (is (= (-> (json-confs \"spout-words\")<br/>\n    + (get TOPOLOGY-COMPONENT-RESOURCES-ONHEAP-MEMORY-MB))<br/>\n    +     512.0))<br/>\n    +<br/>\n    +      (is (= (-> (json-confs \"spout-words\")<br/>\n    + (get TOPOLOGY-COMPONENT-RESOURCES-OFFHEAP-MEMORY-MB))<br/>\n    +   256.0))<br/>\n    +<br/>\n    +      (is (= (-> (json-confs \"$spoutcoord-spout-words\")<br/>\n    + (get TOPOLOGY-COMPONENT-RESOURCES-ONHEAP-MEMORY-MB))<br/>\n    +     512.0))<br/>\n    +<br/>\n    +      (is (= (-> (json-confs \"$spoutcoord-spout-words\")<br/>\n    + (get TOPOLOGY-COMPONENT-RESOURCES-OFFHEAP-MEMORY-MB))<br/>\n    +     256.0)))<br/>\n    +<br/>\n    +    (testing \"spout CPU\"<br/>\n    +      (is (= (-> (json-confs \"spout-words\")<br/>\n    + (get TOPOLOGY-COMPONENT-CPU-PCORE-PERCENT))<br/>\n    +     20.0))<br/>\n    +<br/>\n    +      (is (= (-> (json-confs \"$spoutcoord-spout-words\")<br/>\n    +       (get TOPOLOGY-COMPONENT-CPU-PCORE-PERCENT))<br/>\n    +     20.0)))<br/>\n    +<br/>\n    +    (testing \"bolt combinations\"<br/>\n    +      (is (= (-> (json-confs \"b-1\")<br/>\n    + (get TOPOLOGY-COMPONENT-RESOURCES-ONHEAP-MEMORY-MB))<br/>\n    +     1536.0))<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    can you put a comment on how this number of calculated (i.e. 1024 + 512)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882788","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882788","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882788,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T23:10:11Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55765793\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55765793</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/operation/DefaultResourceDeclarer.java &#8212;<br/>\n    @@ -0,0 +1,62 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.trident.operation;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.apache.storm.topology.ResourceDeclarer;<br/>\n    +<br/>\n    +public class DefaultResourceDeclarer implements ResourceDeclarer, ITridentResource {<br/>\n    +<br/>\n    +    private Map<String, Number> resources = new HashMap<>();<br/>\n    +    private Map conf = Utils.readStormConfig();<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setMemoryLoad(Number onHeap) </p>\n{\n    +return setMemoryLoad(onHeap, Utils.getDouble(conf.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB)));\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setMemoryLoad(Number onHeap, Number offHeap) {<br/>\n    +if (onHeap != null) </p>\n{\n    +    onHeap = onHeap.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeap);\n    +}\n<p>    +if (offHeap!=null) </p>\n{\n    +    offHeap = offHeap.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeap);\n    +}\n<p>    +return this;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setCPULoad(Number amount) {<br/>\n    +if(amount != null) </p>\n{\n    +    amount = amount.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, amount);\n    +}\n<p>    +return this;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Map<String, Number> getResources() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Why do we need getResources()? thus why DefaultResourceDeclarer needs to implement ITridentResource?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882274","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882274","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882274,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyNzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-10T23:43:39Z","updated_at":"2025-01-24T16:06:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202#discussion_r55769202\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202#discussion_r55769202</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/daemon/worker.clj &#8212;<br/>\n    @@ -738,6 +738,7 @@<br/>\n (run-worker-shutdown-hooks worker)</p>\n\n<p> (.removeWorkerHeartbeat (:storm-cluster-state worker) storm-id assignment-id (long port))<br/>\n    +    (.removeWorkerBackpressure (:storm-cluster-state worker) storm-id assignment-id (long port))<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I tested submiting topologies and killing them and did not see issues do to this added line, but to those with more knowledge of backpressure logic please let me know if you can think of issues.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195124846","html_url":"https://github.com/apache/storm/pull/1198#issuecomment-195124846","issue_url":"https://api.github.com/repos/apache/storm/issues/1198","id":195124846,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTEyNDg0Ng==","user":{"login":"gmlewis","id":6598971,"node_id":"MDQ6VXNlcjY1OTg5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/6598971?v=4","gravatar_id":"","url":"https://api.github.com/users/gmlewis","html_url":"https://github.com/gmlewis","followers_url":"https://api.github.com/users/gmlewis/followers","following_url":"https://api.github.com/users/gmlewis/following{/other_user}","gists_url":"https://api.github.com/users/gmlewis/gists{/gist_id}","starred_url":"https://api.github.com/users/gmlewis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmlewis/subscriptions","organizations_url":"https://api.github.com/users/gmlewis/orgs","repos_url":"https://api.github.com/users/gmlewis/repos","events_url":"https://api.github.com/users/gmlewis/events{/privacy}","received_events_url":"https://api.github.com/users/gmlewis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T01:08:39Z","updated_at":"2016-03-11T01:08:39Z","author_association":"NONE","body":"Apologies for patching a mirror.  Closing PR.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195124846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195129321","html_url":"https://github.com/apache/storm/pull/1201#issuecomment-195129321","issue_url":"https://api.github.com/repos/apache/storm/issues/1201","id":195129321,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTEyOTMyMQ==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T01:18:11Z","updated_at":"2016-03-11T01:18:11Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195129321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195164936","html_url":"https://github.com/apache/storm/pull/1201#issuecomment-195164936","issue_url":"https://api.github.com/repos/apache/storm/issues/1201","id":195164936,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTE2NDkzNg==","user":{"login":"hustfxj","id":7270212,"node_id":"MDQ6VXNlcjcyNzAyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/7270212?v=4","gravatar_id":"","url":"https://api.github.com/users/hustfxj","html_url":"https://github.com/hustfxj","followers_url":"https://api.github.com/users/hustfxj/followers","following_url":"https://api.github.com/users/hustfxj/following{/other_user}","gists_url":"https://api.github.com/users/hustfxj/gists{/gist_id}","starred_url":"https://api.github.com/users/hustfxj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hustfxj/subscriptions","organizations_url":"https://api.github.com/users/hustfxj/orgs","repos_url":"https://api.github.com/users/hustfxj/repos","events_url":"https://api.github.com/users/hustfxj/events{/privacy}","received_events_url":"https://api.github.com/users/hustfxj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T03:43:36Z","updated_at":"2016-03-11T03:43:36Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195164936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882795","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882795","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882795,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI3OTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T04:01:22Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55787328\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55787328</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/Stream.java &#8212;<br/>\n    @@ -124,6 +124,31 @@ public Stream parallelismHint(int hint) {<br/>\n }</p>\n\n<p> /**<br/>\n    +     * Sets the CPU Load resource for the current node<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    minor nit: You may want to say this configuration is for the current operation instead of Node. Node representation is internal as you have mentioned in other comment. </p>\n\n<p>    \"Sets the CPU Load resource for the current operation\"</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882806","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882806","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882806,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T05:54:43Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55792061\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55792061</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -394,11 +395,28 @@ public StormTopology build() {<br/>\n     Map<Node, String> spoutIds = genSpoutIds(spoutNodes);<br/>\n     Map<Group, String> boltIds = genBoltIds(mergedGroups);</p>\n\n<p>    +Map defaults = Utils.readDefaultConfig();<br/>\n    +<br/>\n     for(SpoutNode sn: spoutNodes) {<br/>\n Integer parallelism = parallelisms.get(grouper.nodeGroup(sn));<br/>\n    +<br/>\n    +    Map<String, Number> spoutRes = null;<br/>\n    +    if(sn instanceof ITridentResource) </p>\n{\n    +spoutRes = mergeDefaultResources(((ITridentResource)sn).getResources(), defaults);\n    +    }\n<p>    +    else </p>\n{\n    +spoutRes = mergeDefaultResources(null, defaults);\n    +    }\n<p>    &#8212; End diff &#8211;</p>\n\n<p>    sn is always an instance of ITridentResource and you can have simple null check over here. You may want to replace if/else block with the below.<br/>\n    ``` java<br/>\nMap<String, Number> spoutRes = mergeDefaultResources((sn != null ? sn.getResources() : null), defaults);<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882813","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882813","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882813,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T05:58:57Z","updated_at":"2025-01-24T16:06:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55792423\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55792423</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -431,6 +459,52 @@ public StormTopology build() </p>\n{\n     \n     return builder.buildTopology();\n }\n<p>    +<br/>\n    +    private static Map<String, Number> mergeDefaultResources(Map<String, Number> res, Map defaultConfig) {<br/>\n    +Map<String, Number> ret = new HashMap<String, Number>();<br/>\n    +<br/>\n    +Number  onHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoadDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(res == null) </p>\n{\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, cpuLoadDefault);\n    +    return ret;\n    +}\n<p>    +<br/>\n    +Number  onHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoad = res.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(onHeap == null) </p>\n{\n    +    onHeap = onHeapDefault;\n    +}\n<p>    +else {<br/>\n    +    onHeap = Math.max(onHeap.doubleValue(), onHeapDefault.doubleValue());<br/>\n    &#8212; End diff &#8211;</p>\n\n\n<p>    ``` java<br/>\n/**</p>\n<ul>\n\t<li>The maximum amount of memory an instance of a spout/bolt will take on heap. This enables the scheduler</li>\n\t<li>to allocate slots on machines with enough available memory. A default value will be set for this config if user does not override<br/>\n */<br/>\n@isPositiveNumber(includeZero = true)<br/>\npublic static final String TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB = \"topology.component.resources.onheap.memory.mb\";<br/>\n    ```<br/>\n    Default value should be taken into account if load configuration is not set. It can be considered default value is over ridden when these resource load configuration values are set on stream operations. So, it should take that value instead of taking cap from the default value.</li>\n</ul>\n\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882819","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882819","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882819,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T05:59:49Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55792475\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55792475</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/Stream.java &#8212;<br/>\n    @@ -124,6 +124,31 @@ public Stream parallelismHint(int hint) {<br/>\n }</p>\n\n<p> /**<br/>\n    +     * Sets the CPU Load resource for the current node<br/>\n    +     */<br/>\n    +    public Stream setCPULoad(Number load) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    > I can look at adding a method for including a component -> resources map when creating a trident topology.<br/>\n    It would be best if we could have these settings as a part of the topology than the stream.</p>\n\n<p>    > I may be missing the benefit here, but as far as I can tell, it doesn't read any cleaner for users, The Stream api would have only this one extra non-stream-operation method. E.g. when the user browses the javadocs or when the IDE pops up the methods of the stream.</p>\n\n<p>    >and IMO, users shouldn't really need to be aware of Nodes at all. They're supposed to be internal to Trident.<br/>\n    Yes, its ideal if its part of the topology configuration. In my opinion if we are exposing config via the stream api, its better to let it standout than attempting to hide it in with the other streaming operations because the user needs to be aware of what he is doing. `nodeConfig` was only a suggestion, it could be named appropriately.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195214011","html_url":"https://github.com/apache/storm/pull/1203#issuecomment-195214011","issue_url":"https://api.github.com/repos/apache/storm/issues/1203","id":195214011,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTIxNDAxMQ==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T06:21:29Z","updated_at":"2016-03-11T06:21:29Z","author_association":"CONTRIBUTOR","body":"I think this is a good idea. A quick looks suggests, we need to move document index and other items under it to general non-release specific folder. (e.g what we see in the first look at the bottom.) \nDocumentation index can be at the top link as general documentation.\nAlso, I see some duplication in http://storm.apache.org/documentation.html#integration and http://storm.apache.org/about/integrates.html \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195214011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883160","html_url":"https://github.com/apache/storm/issues/5452#issuecomment-2612883160","issue_url":"https://api.github.com/repos/apache/storm/issues/5452","id":2612883160,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODMxNjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T06:21:49Z","updated_at":"2025-01-24T16:07:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1203#issuecomment-195214011\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1203#issuecomment-195214011</a></p>\n\n<p>    I think this is a good idea. A quick looks suggests, we need to move document index and other items under it to general non-release specific folder. (e.g what we see in the first look at the bottom.) <br/>\n    Documentation index can be at the top link as general documentation.<br/>\n    Also, I see some duplication in <a href=\"http://storm.apache.org/documentation.html#integration\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://storm.apache.org/documentation.html#integration</a> and <a href=\"http://storm.apache.org/about/integrates.html\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://storm.apache.org/about/integrates.html</a> </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195214137","html_url":"https://github.com/apache/storm/pull/1203#issuecomment-195214137","issue_url":"https://api.github.com/repos/apache/storm/issues/1203","id":195214137,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTIxNDEzNw==","user":{"login":"kishorvpatil","id":6090397,"node_id":"MDQ6VXNlcjYwOTAzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/6090397?v=4","gravatar_id":"","url":"https://api.github.com/users/kishorvpatil","html_url":"https://github.com/kishorvpatil","followers_url":"https://api.github.com/users/kishorvpatil/followers","following_url":"https://api.github.com/users/kishorvpatil/following{/other_user}","gists_url":"https://api.github.com/users/kishorvpatil/gists{/gist_id}","starred_url":"https://api.github.com/users/kishorvpatil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishorvpatil/subscriptions","organizations_url":"https://api.github.com/users/kishorvpatil/orgs","repos_url":"https://api.github.com/users/kishorvpatil/repos","events_url":"https://api.github.com/users/kishorvpatil/events{/privacy}","received_events_url":"https://api.github.com/users/kishorvpatil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T06:21:50Z","updated_at":"2016-03-11T06:21:50Z","author_association":"CONTRIBUTOR","body":"We need to get the links at the bottom fixed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195214137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883163","html_url":"https://github.com/apache/storm/issues/5452#issuecomment-2612883163","issue_url":"https://api.github.com/repos/apache/storm/issues/5452","id":2612883163,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODMxNjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T06:21:51Z","updated_at":"2025-01-24T16:07:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user kishorvpatil commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1203#issuecomment-195214137\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1203#issuecomment-195214137</a></p>\n\n<p>    We need to get the links at the bottom fixed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195316832","html_url":"https://github.com/apache/storm/pull/1203#issuecomment-195316832","issue_url":"https://api.github.com/repos/apache/storm/issues/1203","id":195316832,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTMxNjgzMg==","user":{"login":"hustfxj","id":7270212,"node_id":"MDQ6VXNlcjcyNzAyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/7270212?v=4","gravatar_id":"","url":"https://api.github.com/users/hustfxj","html_url":"https://github.com/hustfxj","followers_url":"https://api.github.com/users/hustfxj/followers","following_url":"https://api.github.com/users/hustfxj/following{/other_user}","gists_url":"https://api.github.com/users/hustfxj/gists{/gist_id}","starred_url":"https://api.github.com/users/hustfxj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hustfxj/subscriptions","organizations_url":"https://api.github.com/users/hustfxj/orgs","repos_url":"https://api.github.com/users/hustfxj/repos","events_url":"https://api.github.com/users/hustfxj/events{/privacy}","received_events_url":"https://api.github.com/users/hustfxj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T10:52:40Z","updated_at":"2016-03-11T10:52:40Z","author_association":"CONTRIBUTOR","body":" I really support  the subversion repo. As far as I am concernednow the asf-site itself is not convenient for users to browse and learn. And it  is  lack of detailed documentation .\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195316832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883170","html_url":"https://github.com/apache/storm/issues/5452#issuecomment-2612883170","issue_url":"https://api.github.com/repos/apache/storm/issues/5452","id":2612883170,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODMxNzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T10:53:05Z","updated_at":"2025-01-24T16:07:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hustfxj commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1203#issuecomment-195316832\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1203#issuecomment-195316832</a></p>\n\n<p>     I really support  the subversion repo. As far as I am concernednow the asf-site itself is not convenient for users to browse and learn. And it  is  lack of detailed documentation .</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883412","html_url":"https://github.com/apache/storm/issues/5453#issuecomment-2612883412","issue_url":"https://api.github.com/repos/apache/storm/issues/5453","id":2612883412,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODM0MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T11:00:05Z","updated_at":"2025-01-24T16:07:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abhishekagarwal87 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1204\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1204</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1618\" title=\"Add the option of passing config directory apart from the file\" class=\"issue-link\" data-issue-key=\"STORM-1618\"><del>STORM-1618</del></a>: Add the option of passing config directory</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abhishekagarwal87/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abhishekagarwal87/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1618\" title=\"Add the option of passing config directory apart from the file\" class=\"issue-link\" data-issue-key=\"STORM-1618\"><del>STORM-1618</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1204.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1204.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1204</p>\n\n<hr />\n<p>commit ede8ec24d9091c68df08fafe8cdcae1aebfe6635<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-11T10:58:17Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1618\" title=\"Add the option of passing config directory apart from the file\" class=\"issue-link\" data-issue-key=\"STORM-1618\"><del>STORM-1618</del></a>: Add the option of passing config directory</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195321548","html_url":"https://github.com/apache/storm/pull/1200#issuecomment-195321548","issue_url":"https://api.github.com/repos/apache/storm/issues/1200","id":195321548,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTMyMTU0OA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T11:01:31Z","updated_at":"2016-03-11T11:01:31Z","author_association":"CONTRIBUTOR","body":"@revans2 can you take a look? Travis failure looks unrelated. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195321548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645340","html_url":"https://github.com/apache/storm/issues/5072#issuecomment-2612645340","issue_url":"https://api.github.com/repos/apache/storm/issues/5072","id":2612645340,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUzNDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T11:01:59Z","updated_at":"2025-01-24T14:20:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1200#issuecomment-195321548\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1200#issuecomment-195321548</a></p>\n\n<p>    @revans2 can you take a look? Travis failure looks unrelated. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883646","html_url":"https://github.com/apache/storm/issues/5455#issuecomment-2612883646","issue_url":"https://api.github.com/repos/apache/storm/issues/5455","id":2612883646,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODM2NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T13:15:38Z","updated_at":"2025-01-24T16:07:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1205\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1205</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1620\" title=\"Update Curator to fix CURATOR-209\" class=\"issue-link\" data-issue-key=\"STORM-1620\"><del>STORM-1620</del></a>: Update curator to fix <a href=\"https://issues.apache.org/jira/browse/CURATOR-209\" title=\"Background retry falls into infinite loop of reconnection after connection loss\" class=\"issue-link\" data-issue-key=\"CURATOR-209\"><del>CURATOR-209</del></a></p>\n\n<p>    See <a href=\"https://issues.apache.org/jira/browse/STORM-1620\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1620</a></p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/storm</a> update-curator</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1205.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1205.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1205</p>\n\n<hr />\n<p>commit aa424c15f968b3c344418ca3f1bf0c0a397e1d26<br/>\nAuthor: Stig Dssing <sdo@it-minds.dk><br/>\nDate:   2016-03-11T13:13:58Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1620\" title=\"Update Curator to fix CURATOR-209\" class=\"issue-link\" data-issue-key=\"STORM-1620\"><del>STORM-1620</del></a>: Update curator to fix <a href=\"https://issues.apache.org/jira/browse/CURATOR-209\" title=\"Background retry falls into infinite loop of reconnection after connection loss\" class=\"issue-link\" data-issue-key=\"CURATOR-209\"><del>CURATOR-209</del></a></p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195396027","html_url":"https://github.com/apache/storm/pull/1204#issuecomment-195396027","issue_url":"https://api.github.com/repos/apache/storm/issues/1204","id":195396027,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTM5NjAyNw==","user":{"login":"unsleepy22","id":631361,"node_id":"MDQ6VXNlcjYzMTM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/631361?v=4","gravatar_id":"","url":"https://api.github.com/users/unsleepy22","html_url":"https://github.com/unsleepy22","followers_url":"https://api.github.com/users/unsleepy22/followers","following_url":"https://api.github.com/users/unsleepy22/following{/other_user}","gists_url":"https://api.github.com/users/unsleepy22/gists{/gist_id}","starred_url":"https://api.github.com/users/unsleepy22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unsleepy22/subscriptions","organizations_url":"https://api.github.com/users/unsleepy22/orgs","repos_url":"https://api.github.com/users/unsleepy22/repos","events_url":"https://api.github.com/users/unsleepy22/events{/privacy}","received_events_url":"https://api.github.com/users/unsleepy22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T14:46:03Z","updated_at":"2016-03-11T14:46:03Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195396027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883416","html_url":"https://github.com/apache/storm/issues/5453#issuecomment-2612883416","issue_url":"https://api.github.com/repos/apache/storm/issues/5453","id":2612883416,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODM0MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T14:46:06Z","updated_at":"2025-01-24T16:07:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1204#issuecomment-195396027\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1204#issuecomment-195396027</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882282","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882282","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882282,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T15:39:02Z","updated_at":"2025-01-24T16:06:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abellina opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1206\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1206</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>: backpressure init and cleanup changes for 1.x branch</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abellina/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abellina/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>_backpressure_init_and_cleanup_changes_1x</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1206.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1206.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1206</p>\n\n<hr />\n<p>commit 28b96d7db2313e4fc5d47729416594928886c696<br/>\nAuthor: Alessandro Bellina <abellina@yahoo-inc.com><br/>\nDate:   2016-03-11T14:25:58Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1614\" title=\"Clean backpressure zk node in do-cleanup\" class=\"issue-link\" data-issue-key=\"STORM-1614\"><del>STORM-1614</del></a>: backpressure init and cleanup changes for  1.x branch</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195421763","html_url":"https://github.com/apache/storm/pull/1202#issuecomment-195421763","issue_url":"https://api.github.com/repos/apache/storm/issues/1202","id":195421763,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTQyMTc2Mw==","user":{"login":"abellina","id":1901059,"node_id":"MDQ6VXNlcjE5MDEwNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1901059?v=4","gravatar_id":"","url":"https://api.github.com/users/abellina","html_url":"https://github.com/abellina","followers_url":"https://api.github.com/users/abellina/followers","following_url":"https://api.github.com/users/abellina/following{/other_user}","gists_url":"https://api.github.com/users/abellina/gists{/gist_id}","starred_url":"https://api.github.com/users/abellina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abellina/subscriptions","organizations_url":"https://api.github.com/users/abellina/orgs","repos_url":"https://api.github.com/users/abellina/repos","events_url":"https://api.github.com/users/abellina/events{/privacy}","received_events_url":"https://api.github.com/users/abellina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T15:44:54Z","updated_at":"2016-03-11T15:44:54Z","author_association":"CONTRIBUTOR","body":"1.x branch PR: https://github.com/apache/storm/pull/1206\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195421763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882285","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882285","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882285,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T15:45:06Z","updated_at":"2025-01-24T16:06:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202#issuecomment-195421763\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202#issuecomment-195421763</a></p>\n\n<p>    1.x branch PR: <a href=\"https://github.com/apache/storm/pull/1206\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1206</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882826","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882826","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882826,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T16:42:17Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55854466\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55854466</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -394,11 +395,28 @@ public StormTopology build() {<br/>\n     Map<Node, String> spoutIds = genSpoutIds(spoutNodes);<br/>\n     Map<Group, String> boltIds = genBoltIds(mergedGroups);</p>\n\n<p>    +Map defaults = Utils.readDefaultConfig();<br/>\n    +<br/>\n     for(SpoutNode sn: spoutNodes) {<br/>\n Integer parallelism = parallelisms.get(grouper.nodeGroup(sn));<br/>\n    +<br/>\n    +    Map<String, Number> spoutRes = null;<br/>\n    +    if(sn instanceof ITridentResource) </p>\n{\n    +spoutRes = mergeDefaultResources(((ITridentResource)sn).getResources(), defaults);\n    +    }\n<p>    +    else </p>\n{\n    +spoutRes = mergeDefaultResources(null, defaults);\n    +    }\n<p>    &#8212; End diff &#8211;</p>\n\n<p>    Good catch. I think we can ignore the null check even, though. We don't insert nulls into the spoutNodes collection, and if there were some in there somehow, lots of stuff would blow up.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882834","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882834","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882834,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4MzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T16:45:14Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55854925\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55854925</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/operation/DefaultResourceDeclarer.java &#8212;<br/>\n    @@ -0,0 +1,62 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.trident.operation;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.apache.storm.topology.ResourceDeclarer;<br/>\n    +<br/>\n    +public class DefaultResourceDeclarer implements ResourceDeclarer, ITridentResource {<br/>\n    +<br/>\n    +    private Map<String, Number> resources = new HashMap<>();<br/>\n    +    private Map conf = Utils.readStormConfig();<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setMemoryLoad(Number onHeap) </p>\n{\n    +return setMemoryLoad(onHeap, Utils.getDouble(conf.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB)));\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setMemoryLoad(Number onHeap, Number offHeap) {<br/>\n    +if (onHeap != null) </p>\n{\n    +    onHeap = onHeap.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeap);\n    +}\n<p>    +if (offHeap!=null) </p>\n{\n    +    offHeap = offHeap.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeap);\n    +}\n<p>    +return this;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setCPULoad(Number amount) {<br/>\n    +if(amount != null) </p>\n{\n    +    amount = amount.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, amount);\n    +}\n<p>    +return this;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Map<String, Number> getResources() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    it provides an interface to get the resources back out of something extending DefaultResourceDeclarer. This is used in TridentTopology.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882840","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882840","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882840,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4NDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T17:07:59Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55857918\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55857918</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/Stream.java &#8212;<br/>\n    @@ -124,6 +124,31 @@ public Stream parallelismHint(int hint) {<br/>\n }</p>\n\n<p> /**<br/>\n    +     * Sets the CPU Load resource for the current node<br/>\n    +     */<br/>\n    +    public Stream setCPULoad(Number load) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It is better to have these configs to be set at respective operation level in a stream with intuitive API than setting at topology level. Below API is suggested which may look more verbose than setXXXLoad method but it clearly conveys what it is for.   <br/>\n    But we should not have API for this configuration at topology level as it requires to name these operations and use those names with load configs in topology looks to be clunky. </p>\n\n<p>    ``` java<br/>\n    TridentTopology topo = new TridentTopology();<br/>\n    TridentState wordCounts = <br/>\ntopology.newStream(\"spout1\", spout)<br/>\n    .withLoadConfig(new LoadConfigBuilder().<br/>\n    .withCPULoad(50)<br/>\n    .withMemoryLoad(1024).build())<br/>\n    .each(new Fields(\"sentence\"), new Split(), new Fields(\"word\"))<br/>\n     .withLoadConfig(new LoadConfigBuilder().<br/>\n    .withCPULoad(20)<br/>\n    .withMemoryLoad(256).build())<br/>\n    .groupBy(new Fields(\"word\"))<br/>\n    .persistentAggregate(new MemorymapState.Factory(), new Count(), new Fields(\"count\"))<br/>\n    .parallelismHint(6);<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882843","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882843","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882843,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4NDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T18:41:39Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55869630\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55869630</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/operation/DefaultResourceDeclarer.java &#8212;<br/>\n    @@ -0,0 +1,62 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.trident.operation;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Map;<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.apache.storm.topology.ResourceDeclarer;<br/>\n    +<br/>\n    +public class DefaultResourceDeclarer implements ResourceDeclarer, ITridentResource {<br/>\n    +<br/>\n    +    private Map<String, Number> resources = new HashMap<>();<br/>\n    +    private Map conf = Utils.readStormConfig();<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setMemoryLoad(Number onHeap) </p>\n{\n    +return setMemoryLoad(onHeap, Utils.getDouble(conf.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB)));\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setMemoryLoad(Number onHeap, Number offHeap) {<br/>\n    +if (onHeap != null) </p>\n{\n    +    onHeap = onHeap.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeap);\n    +}\n<p>    +if (offHeap!=null) </p>\n{\n    +    offHeap = offHeap.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeap);\n    +}\n<p>    +return this;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public DefaultResourceDeclarer setCPULoad(Number amount) {<br/>\n    +if(amount != null) </p>\n{\n    +    amount = amount.doubleValue();\n    +    resources.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, amount);\n    +}\n<p>    +return this;<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Map<String, Number> getResources() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Sorry mis read the code.  Thought the code returned an empty map</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882850","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882850","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T18:45:53Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55870224\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55870224</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/Stream.java &#8212;<br/>\n    @@ -124,6 +124,31 @@ public Stream parallelismHint(int hint) {<br/>\n }</p>\n\n<p> /**<br/>\n    +     * Sets the CPU Load resource for the current node<br/>\n    +     */<br/>\n    +    public Stream setCPULoad(Number load) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Actually naming the operations wherever specific config needs to be applied looks cleaner and it separates out the streaming operations from the config specification.</p>\n\n<p>    ```java<br/>\n    TridentTopology topo = new TridentTopology();<br/>\n    TridentState wordCounts = <br/>\ntopology.newStream(\"spout1\", spout)<br/>\n    .name(\"spout1\")<br/>\n    .each(new Fields(\"sentence\"), new Split(), new Fields(\"word\"))<br/>\n    .name(\"split_operation\")<br/>\n    .groupBy(new Fields(\"word\"))<br/>\n    .persistentAggregate(new MemorymapState.Factory(), new Count(), new Fields(\"count\"))<br/>\n    .name(\"aggregate\");<br/>\n    ```<br/>\n    And then<br/>\n    ```java<br/>\n    topology.setConfig(\"spout1\", Config.cpuLoad(20).memoryLoad(1024))<br/>\n .setConfig(\"split_operation\", Config.cpuLoad(20).memoryLoad(256))<br/>\n .setConfig(\"aggregate\", Config.parallelismHint(6));<br/>\n    ```<br/>\n    The concern with directly adding each config api in Stream is that we might want to add more configs in future and then it would mess up the Stream api.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882853","html_url":"https://github.com/apache/storm/issues/5451#issuecomment-2612882853","issue_url":"https://api.github.com/repos/apache/storm/issues/5451","id":2612882853,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODI4NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T18:56:15Z","updated_at":"2025-01-24T16:06:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1199#discussion_r55871683\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1199#discussion_r55871683</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/TridentTopology.java &#8212;<br/>\n    @@ -431,6 +459,52 @@ public StormTopology build() </p>\n{\n     \n     return builder.buildTopology();\n }\n<p>    +<br/>\n    +    private static Map<String, Number> mergeDefaultResources(Map<String, Number> res, Map defaultConfig) {<br/>\n    +Map<String, Number> ret = new HashMap<String, Number>();<br/>\n    +<br/>\n    +Number  onHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeapDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoadDefault = (Number)defaultConfig.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(res == null) </p>\n{\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB, onHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB, offHeapDefault);\n    +    ret.put(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT, cpuLoadDefault);\n    +    return ret;\n    +}\n<p>    +<br/>\n    +Number  onHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_ONHEAP_MEMORY_MB);<br/>\n    +Number offHeap = res.get(Config.TOPOLOGY_COMPONENT_RESOURCES_OFFHEAP_MEMORY_MB);<br/>\n    +Number cpuLoad = res.get(Config.TOPOLOGY_COMPONENT_CPU_PCORE_PERCENT);<br/>\n    +<br/>\n    +if(onHeap == null) </p>\n{\n    +    onHeap = onHeapDefault;\n    +}\n<p>    +else {<br/>\n    +    onHeap = Math.max(onHeap.doubleValue(), onHeapDefault.doubleValue());<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Since each component can be the sum of a bunch of operations, the simplest thing to do is take the max.</p>\n\n<p>    What we don't want to happen is for the user to set low resources on one operation, and have that be set for the compound. If <b>any</b> component isn't set, we want to use the default. </p>\n\n<p>    Right now the code doesn't check that. It just sums them up and takes the max for simplicity's sake. We could do something to check if every node had set a low value and if the sum of those is less than the default, keep it, but that doesn't seem like it has great benefits for the added complexity. The defaults are very low as it is, and I'm not sure how many people are setting their components with lower than default resource values.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195500111","html_url":"https://github.com/apache/storm/pull/1206#issuecomment-195500111","issue_url":"https://api.github.com/repos/apache/storm/issues/1206","id":195500111,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTUwMDExMQ==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T19:03:52Z","updated_at":"2016-03-11T19:03:52Z","author_association":"CONTRIBUTOR","body":"+1 LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195500111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195500425","html_url":"https://github.com/apache/storm/pull/1204#issuecomment-195500425","issue_url":"https://api.github.com/repos/apache/storm/issues/1204","id":195500425,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTUwMDQyNQ==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T19:04:32Z","updated_at":"2016-03-11T19:04:32Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195500425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612644473","html_url":"https://github.com/apache/storm/issues/5068#issuecomment-2612644473","issue_url":"https://api.github.com/repos/apache/storm/issues/5068","id":2612644473,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDQ0NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T19:16:10Z","updated_at":"2025-01-24T14:20:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abellina\">abellina</a>:</i>\n<p>Xin, are you currently working on this, or could I pick it up?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612644473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195505210","html_url":"https://github.com/apache/storm/pull/1201#issuecomment-195505210","issue_url":"https://api.github.com/repos/apache/storm/issues/1201","id":195505210,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTUwNTIxMA==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T19:17:24Z","updated_at":"2016-03-11T19:17:24Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195505210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195505894","html_url":"https://github.com/apache/storm/pull/1197#issuecomment-195505894","issue_url":"https://api.github.com/repos/apache/storm/issues/1197","id":195505894,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTUwNTg5NA==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T19:19:59Z","updated_at":"2016-03-11T19:19:59Z","author_association":"CONTRIBUTOR","body":"Is there a reason we want to do this?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195505894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195527698","html_url":"https://github.com/apache/storm/pull/1206#issuecomment-195527698","issue_url":"https://api.github.com/repos/apache/storm/issues/1206","id":195527698,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTUyNzY5OA==","user":{"login":"zhuoliu","id":11683054,"node_id":"MDQ6VXNlcjExNjgzMDU0","avatar_url":"https://avatars.githubusercontent.com/u/11683054?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoliu","html_url":"https://github.com/zhuoliu","followers_url":"https://api.github.com/users/zhuoliu/followers","following_url":"https://api.github.com/users/zhuoliu/following{/other_user}","gists_url":"https://api.github.com/users/zhuoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoliu/subscriptions","organizations_url":"https://api.github.com/users/zhuoliu/orgs","repos_url":"https://api.github.com/users/zhuoliu/repos","events_url":"https://api.github.com/users/zhuoliu/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T20:12:38Z","updated_at":"2016-03-11T20:12:38Z","author_association":"NONE","body":"Just minor nit, mostly looks good to me.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195527698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882289","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882289","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882289,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T20:22:23Z","updated_at":"2025-01-24T16:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1206#discussion_r55881939\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1206#discussion_r55881939</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/cluster.clj &#8212;<br/>\n    @@ -73,6 +73,7 @@<br/>\n       (teardown-topology-errors! <span class=\"error\">&#91;this storm-id&#93;</span>)<br/>\n       (heartbeat-storms <span class=\"error\">&#91;this&#93;</span>)<br/>\n       (error-topologies <span class=\"error\">&#91;this&#93;</span>)<br/>\n    +  (backpressure-topologies <span class=\"error\">&#91;this&#93;</span>)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    The name - \"backpressure-topologies\" is a little confusing (people may think \"backpressure\" as verb) since it just returns the current topologies' zk nodes (ids) under backpressure root. We might rename it as something like \"get-backpressure-topologies-ids\".</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882294","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882294","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882294,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyOTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T20:23:35Z","updated_at":"2025-01-24T16:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user zhuoliu commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1202#discussion_r55882536\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1202#discussion_r55882536</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/daemon/nimbus.clj &#8212;<br/>\n    @@ -1142,6 +1142,9 @@<br/>\n       (blob-rm-key blob-store (ConfigUtils/masterStormConfKey id) storm-cluster-state)<br/>\n       (blob-rm-key blob-store (ConfigUtils/masterStormCodeKey id) storm-cluster-state))</p>\n\n<p>    +(defn force-delete-dir <span class=\"error\">&#91;conf id&#93;</span><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    May rename this to be less general, e.g., \"force-delete-topo-dist-dir\"</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882299","html_url":"https://github.com/apache/storm/issues/5449#issuecomment-2612882299","issue_url":"https://api.github.com/repos/apache/storm/issues/5449","id":2612882299,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODIyOTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-11T22:41:57Z","updated_at":"2025-01-24T16:06:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abellina commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1206#discussion_r55899966\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1206#discussion_r55899966</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/cluster.clj &#8212;<br/>\n    @@ -73,6 +73,7 @@<br/>\n       (teardown-topology-errors! <span class=\"error\">&#91;this storm-id&#93;</span>)<br/>\n       (heartbeat-storms <span class=\"error\">&#91;this&#93;</span>)<br/>\n       (error-topologies <span class=\"error\">&#91;this&#93;</span>)<br/>\n    +  (backpressure-topologies <span class=\"error\">&#91;this&#93;</span>)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I agree. I think, however, it is <b>somewhat</b> consistent with the interface (e.g. heartbeat-storms, error-topologies don't say get-X-topologies-id). Additionally, I think we should call them one thing throughout (is it storms? is it topologies? is it keys?) Happy to make that change, but I think it's bigger than this PR. Thoughts?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612882299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584414","html_url":"https://github.com/apache/storm/issues/4809#issuecomment-2612584414","issue_url":"https://api.github.com/repos/apache/storm/issues/4809","id":2612584414,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODQ0MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T19:08:40Z","updated_at":"2025-01-24T13:53:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user abhishekagarwal87 opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1208\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1208</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-971\" title=\"Storm-Kafka: Emit metric for messages lost due to kafka retention\" class=\"issue-link\" data-issue-key=\"STORM-971\"><del>STORM-971</del></a>: Metric for messages lost due to kafka retention</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/abhishekagarwal87/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/abhishekagarwal87/storm</a> lostcount</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1208.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1208.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1208</p>\n\n<hr />\n<p>commit 8c761c5d6d01cdc50db27f144ca361067ffb3ba7<br/>\nAuthor: Abhishek Agarwal <abhishek.agarwal@inmobi.com><br/>\nDate:   2016-03-12T19:07:14Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-971\" title=\"Storm-Kafka: Emit metric for messages lost due to kafka retention\" class=\"issue-link\" data-issue-key=\"STORM-971\"><del>STORM-971</del></a>: Metric for messages lost due to kafka retention</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195798534","html_url":"https://github.com/apache/storm/pull/1208#issuecomment-195798534","issue_url":"https://api.github.com/repos/apache/storm/issues/1208","id":195798534,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTc5ODUzNA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T19:57:34Z","updated_at":"2016-03-12T19:57:34Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195798534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195798698","html_url":"https://github.com/apache/storm/pull/1205#issuecomment-195798698","issue_url":"https://api.github.com/repos/apache/storm/issues/1205","id":195798698,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTc5ODY5OA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T19:58:02Z","updated_at":"2016-03-12T19:58:02Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195798698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584418","html_url":"https://github.com/apache/storm/issues/4809#issuecomment-2612584418","issue_url":"https://api.github.com/repos/apache/storm/issues/4809","id":2612584418,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODQ0MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T19:58:04Z","updated_at":"2025-01-24T13:53:42Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1208#issuecomment-195798534\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1208#issuecomment-195798534</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883652","html_url":"https://github.com/apache/storm/issues/5455#issuecomment-2612883652","issue_url":"https://api.github.com/repos/apache/storm/issues/5455","id":2612883652,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODM2NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T19:59:24Z","updated_at":"2025-01-24T16:07:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1205#issuecomment-195798698\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1205#issuecomment-195798698</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195802548","html_url":"https://github.com/apache/storm/pull/1200#issuecomment-195802548","issue_url":"https://api.github.com/repos/apache/storm/issues/1200","id":195802548,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTgwMjU0OA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T20:07:55Z","updated_at":"2016-03-12T20:07:55Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 Can you file one JIRA for this and list out all the tests that fixed in the description. We shouldn't filing individual jira for each test.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195802548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645343","html_url":"https://github.com/apache/storm/issues/5072#issuecomment-2612645343","issue_url":"https://api.github.com/repos/apache/storm/issues/5072","id":2612645343,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDUzNDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T20:08:12Z","updated_at":"2025-01-24T14:20:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1200#issuecomment-195802548\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1200#issuecomment-195802548</a></p>\n\n<p>    @abhishekagarwal87 Can you file one JIRA for this and list out all the tests that fixed in the description. We shouldn't filing individual jira for each test.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612645343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883659","html_url":"https://github.com/apache/storm/issues/5455#issuecomment-2612883659","issue_url":"https://api.github.com/repos/apache/storm/issues/5455","id":2612883659,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODM2NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T20:45:47Z","updated_at":"2025-01-24T16:07:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1205\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1205</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612883659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195806153","html_url":"https://github.com/apache/storm/pull/1188#issuecomment-195806153","issue_url":"https://api.github.com/repos/apache/storm/issues/1188","id":195806153,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTgwNjE1Mw==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T20:50:23Z","updated_at":"2016-03-12T20:50:23Z","author_association":"CONTRIBUTOR","body":"@Parth-Brahmbhatt can you fix the above mentioned issue.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195806153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612880469","html_url":"https://github.com/apache/storm/issues/5439#issuecomment-2612880469","issue_url":"https://api.github.com/repos/apache/storm/issues/5439","id":2612880469,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODA0Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T20:50:32Z","updated_at":"2025-01-24T16:05:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1188#issuecomment-195806153\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1188#issuecomment-195806153</a></p>\n\n<p>    @Parth-Brahmbhatt can you fix the above mentioned issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612880469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195806190","html_url":"https://github.com/apache/storm/pull/1169#issuecomment-195806190","issue_url":"https://api.github.com/repos/apache/storm/issues/1169","id":195806190,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTgwNjE5MA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-12T20:51:16Z","updated_at":"2016-03-12T20:51:16Z","author_association":"CONTRIBUTOR","body":"@haohui can you take a look\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195806190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612644478","html_url":"https://github.com/apache/storm/issues/5068#issuecomment-2612644478","issue_url":"https://api.github.com/repos/apache/storm/issues/5068","id":2612644478,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NDQ0Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T00:04:25Z","updated_at":"2025-01-24T14:20:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vesense\">vesense</a>:</i>\n<p>Yeah, the work has been done at <a href=\"https://github.com/apache/storm/pull/1108\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1108</a> . You can take a look.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612644478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/195837504","html_url":"https://github.com/apache/storm/pull/1197#issuecomment-195837504","issue_url":"https://api.github.com/repos/apache/storm/issues/1197","id":195837504,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTgzNzUwNA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T00:14:57Z","updated_at":"2016-03-13T00:14:57Z","author_association":"CONTRIBUTOR","body":"@knusbaum apache hbase moved 1.1 for sometime now. Running 0.98.4 clients in a topology causing dependency issues.\n\n+1 .\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/195837504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526551","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526551","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526551,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T00:17:12Z","updated_at":"2025-01-24T13:25:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930081\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930081</a></p>\n\n<p>    &#8212; Diff: examples/storm-starter/src/jvm/org/apache/storm/starter/trident/TridentWindowingInmemoryStoreTopology.java &#8212;<br/>\n    @@ -0,0 +1,134 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.starter.trident;<br/>\n    +<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.generated.StormTopology;<br/>\n    +import org.apache.storm.topology.base.BaseWindowedBolt;<br/>\n    +import org.apache.storm.trident.Stream;<br/>\n    +import org.apache.storm.trident.TridentTopology;<br/>\n    +import org.apache.storm.trident.operation.BaseAggregator;<br/>\n    +import org.apache.storm.trident.operation.BaseFunction;<br/>\n    +import org.apache.storm.trident.operation.Function;<br/>\n    +import org.apache.storm.trident.operation.TridentCollector;<br/>\n    +import org.apache.storm.trident.operation.TridentOperationContext;<br/>\n    +import org.apache.storm.trident.operation.builtin.Debug;<br/>\n    +import org.apache.storm.trident.testing.CountAsAggregator;<br/>\n    +import org.apache.storm.trident.testing.FixedBatchSpout;<br/>\n    +import org.apache.storm.trident.tuple.TridentTuple;<br/>\n    +import org.apache.storm.trident.windowing.InMemoryWindowsStoreFactory;<br/>\n    +import org.apache.storm.trident.windowing.WindowsStoreFactory;<br/>\n    +import org.apache.storm.trident.windowing.config.SlidingCountWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.SlidingDurationWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.TumblingCountWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.TumblingDurationWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.WindowConfig;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class TridentWindowingInmemoryStoreTopology {<br/>\n    +    private static final Logger log = LoggerFactory.getLogger(TridentWindowingInmemoryStoreTopology.class);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    in storm we are always using capital LOG. can you please make sure this reflected across patch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526555","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526555","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526555,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T00:57:45Z","updated_at":"2025-01-24T13:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930422\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930422</a></p>\n\n<p>    &#8212; Diff: examples/storm-starter/src/jvm/org/apache/storm/starter/trident/TridentWindowingInmemoryStoreTopology.java &#8212;<br/>\n    @@ -0,0 +1,134 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.starter.trident;<br/>\n    +<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.generated.StormTopology;<br/>\n    +import org.apache.storm.topology.base.BaseWindowedBolt;<br/>\n    +import org.apache.storm.trident.Stream;<br/>\n    +import org.apache.storm.trident.TridentTopology;<br/>\n    +import org.apache.storm.trident.operation.BaseAggregator;<br/>\n    +import org.apache.storm.trident.operation.BaseFunction;<br/>\n    +import org.apache.storm.trident.operation.Function;<br/>\n    +import org.apache.storm.trident.operation.TridentCollector;<br/>\n    +import org.apache.storm.trident.operation.TridentOperationContext;<br/>\n    +import org.apache.storm.trident.operation.builtin.Debug;<br/>\n    +import org.apache.storm.trident.testing.CountAsAggregator;<br/>\n    +import org.apache.storm.trident.testing.FixedBatchSpout;<br/>\n    +import org.apache.storm.trident.tuple.TridentTuple;<br/>\n    +import org.apache.storm.trident.windowing.InMemoryWindowsStoreFactory;<br/>\n    +import org.apache.storm.trident.windowing.WindowsStoreFactory;<br/>\n    +import org.apache.storm.trident.windowing.config.SlidingCountWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.SlidingDurationWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.TumblingCountWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.TumblingDurationWindow;<br/>\n    +import org.apache.storm.trident.windowing.config.WindowConfig;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +/**<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    nit; please remove empty comments</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526561","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526561","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526561,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T00:58:59Z","updated_at":"2025-01-24T13:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930433\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930433</a></p>\n\n<p>    &#8212; Diff: external/storm-hbase/src/main/java/org/apache/storm/hbase/trident/windowing/HBaseWindowsStore.java &#8212;<br/>\n    @@ -0,0 +1,275 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hbase.trident.windowing;<br/>\n    +<br/>\n    +import com.esotericsoftware.kryo.Kryo;<br/>\n    +import com.esotericsoftware.kryo.io.Input;<br/>\n    +import com.esotericsoftware.kryo.io.Output;<br/>\n    +import org.apache.hadoop.conf.Configuration;<br/>\n    +import org.apache.hadoop.hbase.client.Delete;<br/>\n    +import org.apache.hadoop.hbase.client.Get;<br/>\n    +import org.apache.hadoop.hbase.client.HTable;<br/>\n    +import org.apache.hadoop.hbase.client.Put;<br/>\n    +import org.apache.hadoop.hbase.client.Result;<br/>\n    +import org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException;<br/>\n    +import org.apache.hadoop.hbase.client.Scan;<br/>\n    +import org.apache.hadoop.hbase.filter.FirstKeyOnlyFilter;<br/>\n    +import org.apache.storm.trident.windowing.WindowsStore;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.ByteArrayOutputStream;<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.InterruptedIOException;<br/>\n    +import java.io.UnsupportedEncodingException;<br/>\n    +import java.nio.ByteBuffer;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Queue;<br/>\n    +import java.util.concurrent.ConcurrentLinkedQueue;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class stores entries into hbase instance of the given configuration.<br/>\n    + *<br/>\n    + */<br/>\n    +public class HBaseWindowsStore implements WindowsStore {<br/>\n    +    private static final Logger log = LoggerFactory.getLogger(HBaseWindowsStore.class);<br/>\n    +    public static final String UTF_8 = \"utf-8\";<br/>\n    +<br/>\n    +    private final ThreadLocal<HTable> threadLocalHtable;<br/>\n    +    private Queue<HTable> htables = new ConcurrentLinkedQueue<>();<br/>\n    +    private final byte[] family;<br/>\n    +    private final byte[] qualifier;<br/>\n    +<br/>\n    +    public HBaseWindowsStore(final Configuration config, final String tableName, byte[] family, byte[] qualifier) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    this looks like its better have its own config method and take a Map<?,?> config object to configure it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526567","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526567","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526567,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T01:05:21Z","updated_at":"2025-01-24T13:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930467\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930467</a></p>\n\n<p>    &#8212; Diff: external/storm-hbase/src/main/java/org/apache/storm/hbase/trident/windowing/HBaseWindowsStore.java &#8212;<br/>\n    @@ -0,0 +1,275 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hbase.trident.windowing;<br/>\n    +<br/>\n    +import com.esotericsoftware.kryo.Kryo;<br/>\n    +import com.esotericsoftware.kryo.io.Input;<br/>\n    +import com.esotericsoftware.kryo.io.Output;<br/>\n    +import org.apache.hadoop.conf.Configuration;<br/>\n    +import org.apache.hadoop.hbase.client.Delete;<br/>\n    +import org.apache.hadoop.hbase.client.Get;<br/>\n    +import org.apache.hadoop.hbase.client.HTable;<br/>\n    +import org.apache.hadoop.hbase.client.Put;<br/>\n    +import org.apache.hadoop.hbase.client.Result;<br/>\n    +import org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException;<br/>\n    +import org.apache.hadoop.hbase.client.Scan;<br/>\n    +import org.apache.hadoop.hbase.filter.FirstKeyOnlyFilter;<br/>\n    +import org.apache.storm.trident.windowing.WindowsStore;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.ByteArrayOutputStream;<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.InterruptedIOException;<br/>\n    +import java.io.UnsupportedEncodingException;<br/>\n    +import java.nio.ByteBuffer;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collection;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Queue;<br/>\n    +import java.util.concurrent.ConcurrentLinkedQueue;<br/>\n    +<br/>\n    +/**<br/>\n    + * This class stores entries into hbase instance of the given configuration.<br/>\n    + *<br/>\n    + */<br/>\n    +public class HBaseWindowsStore implements WindowsStore {<br/>\n    +    private static final Logger log = LoggerFactory.getLogger(HBaseWindowsStore.class);<br/>\n    +    public static final String UTF_8 = \"utf-8\";<br/>\n    +<br/>\n    +    private final ThreadLocal<HTable> threadLocalHtable;<br/>\n    +    private Queue<HTable> htables = new ConcurrentLinkedQueue<>();<br/>\n    +    private final byte[] family;<br/>\n    +    private final byte[] qualifier;<br/>\n    +<br/>\n    +    public HBaseWindowsStore(final Configuration config, final String tableName, byte[] family, byte[] qualifier) {<br/>\n    +this.family = family;<br/>\n    +this.qualifier = qualifier;<br/>\n    +<br/>\n    +threadLocalHtable = new ThreadLocal<HTable>() {<br/>\n    +    @Override<br/>\n    +    protected HTable initialValue() {<br/>\n    +try </p>\n{\n    +    HTable hTable = new HTable(config, tableName);\n    +    htables.add(hTable);\n    +    return hTable;\n    +}\n<p> catch (IOException e) </p>\n{\n    +    throw new RuntimeException(e);\n    +}\n<p>    +    }<br/>\n    +};<br/>\n    +<br/>\n    +    }<br/>\n    +<br/>\n    +    private HTable htable() </p>\n{\n    +return threadLocalHtable.get();\n    +    }\n<p>    +<br/>\n    +    private byte[] effectiveKey(String key) {<br/>\n    +try </p>\n{\n    +    return key.getBytes(UTF_8);\n    +}\n<p> catch (UnsupportedEncodingException e) </p>\n{\n    +    throw new RuntimeException(e);\n    +}<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Object get(String key) {<br/>\n    +WindowsStore.Entry.nonNullCheckForKey(key);<br/>\n    +<br/>\n    +byte[] effectiveKey = effectiveKey(key);<br/>\n    +Get get = new Get(effectiveKey);<br/>\n    +Result result = null;<br/>\n    +try {\n    +    result = htable().get(get);\n    +} catch (IOException e) {    +    throw new RuntimeException(e);    +}\n<p>    +<br/>\n    +if(result.isEmpty()) </p>\n{\n    +    return null;\n    +}\n<p>    +<br/>\n    +Kryo kryo = new Kryo();<br/>\n    +Input input = new Input(result.getValue(family, qualifier));<br/>\n    +Object resultObject = kryo.readClassAndObject(input);<br/>\n    +return resultObject;<br/>\n    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public Iterable<Object> get(List<String> keys) {<br/>\n    +List<Get> gets = new ArrayList<>();<br/>\n    +for (String key : keys) </p>\n{\n    +    WindowsStore.Entry.nonNullCheckForKey(key);\n    +\n    +    byte[] effectiveKey = effectiveKey(key);\n    +    gets.add(new Get(effectiveKey));\n    +}\n<p>    +<br/>\n    +Result[] results = null;<br/>\n    +try </p>\n{\n    +    results = htable().get(gets);\n    +}\n<p> catch (IOException e) </p>\n{\n    +    throw new RuntimeException(e);\n    +}\n<p>    +<br/>\n    +Kryo kryo = new Kryo();<br/>\n    +List<Object> values = new ArrayList<>();<br/>\n    +for (int i=0; i<results.length; i++) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    nit can you change this to for(int i: results)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526572","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526572","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526572,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T01:06:28Z","updated_at":"2025-01-24T13:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930477\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930477</a></p>\n\n<p>    &#8212; Diff: external/storm-hbase/src/main/java/org/apache/storm/hbase/trident/windowing/HBaseWindowsStoreFactory.java &#8212;<br/>\n    @@ -0,0 +1,51 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.hbase.trident.windowing;<br/>\n    +<br/>\n    +import org.apache.hadoop.conf.Configuration;<br/>\n    +import org.apache.hadoop.hbase.HBaseConfiguration;<br/>\n    +import org.apache.storm.trident.windowing.WindowsStore;<br/>\n    +import org.apache.storm.trident.windowing.WindowsStoreFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class HBaseWindowsStoreFactory implements WindowsStoreFactory {<br/>\n    +    private final Map<String, Object> config;<br/>\n    +    private final String tableName;<br/>\n    +    private final byte[] family;<br/>\n    +    private final byte[] qualifier;<br/>\n    +<br/>\n    +    public HBaseWindowsStoreFactory(Map<String, Object> config, String tableName, byte[] family, byte[] qualifier) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It would be better if we do this via config method than constructor</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526575","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526575","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526575,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T01:10:46Z","updated_at":"2025-01-24T13:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930514\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930514</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/operation/builtin/Debug.java &#8212;<br/>\n    @@ -40,7 +42,7 @@ public Debug(String name) {</p>\n\n<p> @Override<br/>\n public boolean isKeep(TridentTuple tuple) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>System.out.println(name + tuple.toString());<br/>\n    +System.out.println(\"<\"<ins>new Date()</ins>\"> \"+name + tuple.toString());\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    shouldn't this be LOG?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526580","html_url":"https://github.com/apache/storm/issues/4517#issuecomment-2612526580","issue_url":"https://api.github.com/repos/apache/storm/issues/4517","id":2612526580,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjY1ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-13T01:12:23Z","updated_at":"2025-01-24T13:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1072#discussion_r55930526\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1072#discussion_r55930526</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/trident/windowing/AbstractTridentWindowManager.java &#8212;<br/>\n    @@ -0,0 +1,241 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + * <p/><br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + * <p/><br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.trident.windowing;<br/>\n    +<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import org.apache.storm.coordination.BatchOutputCollector;<br/>\n    +import org.apache.storm.trident.operation.Aggregator;<br/>\n    +import org.apache.storm.trident.operation.TridentCollector;<br/>\n    +import org.apache.storm.trident.tuple.TridentTuple;<br/>\n    +import org.apache.storm.trident.windowing.config.WindowConfig;<br/>\n    +import org.apache.storm.trident.windowing.strategy.WindowStrategy;<br/>\n    +import org.apache.storm.trident.windowing.strategy.WindowStrategyFactory;<br/>\n    +import org.apache.storm.windowing.EvictionPolicy;<br/>\n    +import org.apache.storm.windowing.TriggerPolicy;<br/>\n    +import org.apache.storm.windowing.WindowLifecycleListener;<br/>\n    +import org.apache.storm.windowing.WindowManager;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.HashSet;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Queue;<br/>\n    +import java.util.Set;<br/>\n    +import java.util.concurrent.ConcurrentLinkedQueue;<br/>\n    +import java.util.concurrent.atomic.AtomicInteger;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic functionality to manage trident tuple events using </p>\n{@code WindowManager}\n<p> and </p>\n{@code WindowsStore}\n<p> for storing<br/>\n    + * tuples and triggers related information.<br/>\n    + *<br/>\n    + */<br/>\n    +public abstract class AbstractTridentWindowManager<T> implements ITridentWindowManager {<br/>\n    +    private static final Logger log = LoggerFactory.getLogger(AbstractTridentWindowManager.class);<br/>\n    +<br/>\n    +    protected final WindowManager<T> windowManager;<br/>\n    +    protected final Aggregator aggregator;<br/>\n    +    protected final BatchOutputCollector delegateCollector;<br/>\n    +    protected final String windowTaskId;<br/>\n    +    protected final WindowsStore windowStore;<br/>\n    +<br/>\n    +    protected final Set<String> activeBatches = new HashSet<>();<br/>\n    +    protected final Queue<TriggerResult> pendingTriggers = new ConcurrentLinkedQueue<>();<br/>\n    +    protected final AtomicInteger triggerId = new AtomicInteger();<br/>\n    +    private final String windowTriggerCountId;<br/>\n    +    private final TriggerPolicy<T> triggerPolicy;<br/>\n    +<br/>\n    +    public AbstractTridentWindowManager(WindowConfig windowConfig, String windowTaskId, WindowsStore windowStore,<br/>\n    +Aggregator aggregator, BatchOutputCollector delegateCollector) </p>\n{\n    +this.windowTaskId = windowTaskId;\n    +this.windowStore = windowStore;\n    +this.aggregator = aggregator;\n    +this.delegateCollector = delegateCollector;\n    +\n    +windowTriggerCountId = WindowTridentProcessor.TRIGGER_COUNT_PREFIX + windowTaskId;\n    +\n    +windowManager = new WindowManager<>(new TridentWindowLifeCycleListener());\n    +\n    +WindowStrategy<T> windowStrategy = WindowStrategyFactory.create(windowConfig);\n    +EvictionPolicy<T> evictionPolicy = windowStrategy.getEvictionPolicy();\n    +windowManager.setEvictionPolicy(evictionPolicy);\n    +triggerPolicy = windowStrategy.getTriggerPolicy(windowManager, evictionPolicy);\n    +windowManager.setTriggerPolicy(triggerPolicy);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare() </p>\n{\n    +preInitialize();\n    +\n    +initialize();\n    +\n    +postInitialize();\n    +    }\n<p>    +<br/>\n    +    private void preInitialize() {<br/>\n    +log.debug(\"Getting current trigger count for this component/task\");<br/>\n    +// get trigger count value from store<br/>\n    +Object result = windowStore.get(windowTriggerCountId);<br/>\n    +Integer currentCount = 0;<br/>\n    +if(result == null) </p>\n{\n    +    log.info(\"No current trigger count in windows store.\");\n    +}\n<p> else </p>\n{\n    +    currentCount = (Integer) result + 1;\n    +}\n<p>    +windowStore.put(windowTriggerCountId, currentCount);<br/>\n    +triggerId.set(currentCount);<br/>\n    +    }<br/>\n    +<br/>\n    +    private void postInitialize() </p>\n{\n    +// start trigger once the initialization is done.\n    +triggerPolicy.start();\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Load and initialize any resources into window manager before windowing for component/task is activated.<br/>\n    +     */<br/>\n    +    protected abstract void initialize();<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Listener to reeive any activation/expiry of windowing events and take further action on them.<br/>\n    +     */<br/>\n    +    class TridentWindowLifeCycleListener implements WindowLifecycleListener<T> {<br/>\n    +<br/>\n    +@Override<br/>\n    +public void onExpiry(List<T> expiredEvents) </p>\n{\n    +    log.debug(\"onExpiry is invoked\");\n    +    onTuplesExpired(expiredEvents);\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public void onActivation(List<T> events, List<T> newEvents, List<T> expired) {<br/>\n    +    log.debug(\"onActivation is invoked with events size: {}\", events.size());<br/>\n    +    // trigger occurred, create an aggregation and keep them in store<br/>\n    +    int currentTriggerId = triggerId.incrementAndGet();<br/>\n    +    execAggregatorAndStoreResult(currentTriggerId, events);<br/>\n    +}<br/>\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Handle expired tuple events which can be removing from cache or store.<br/>\n    +     *<br/>\n    +     * @param expiredEvents<br/>\n    +     */<br/>\n    +    protected abstract void onTuplesExpired(List<T> expiredEvents);<br/>\n    +<br/>\n    +    private void execAggregatorAndStoreResult(int currentTriggerId, List<T> tupleEvents) {<br/>\n    +List<TridentTuple> resultTuples = getTridentTuples(tupleEvents);<br/>\n    +<br/>\n    +// run aggregator to compute the result<br/>\n    +AccumulatedTuplesCollector collector = new AccumulatedTuplesCollector(delegateCollector);<br/>\n    +Object state = aggregator.init(currentTriggerId, collector);<br/>\n    +for (TridentTuple resultTuple : resultTuples) </p>\n{\n    +    aggregator.aggregate(state, resultTuple, collector);\n    +}\n<p>    +aggregator.complete(state, collector);<br/>\n    +<br/>\n    +List<List<Object>> resultantAggregatedValue = collector.values;<br/>\n    +<br/>\n    +ArrayList<WindowsStore.Entry> entries = Lists.newArrayList(new WindowsStore.Entry(windowTriggerCountId, currentTriggerId + 1),<br/>\n    +new WindowsStore.Entry(WindowTridentProcessor.generateWindowTriggerKey(windowTaskId, currentTriggerId), resultantAggregatedValue));<br/>\n    +windowStore.putAll(entries);<br/>\n    +<br/>\n    +pendingTriggers.add(new TriggerResult(currentTriggerId, resultantAggregatedValue));<br/>\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Return </p>\n{@code TridentTuple}\n<p>s from given </p>\n{@code tupleEvents}\n<p>.<br/>\n    +     * @param tupleEvents<br/>\n    +     * @return<br/>\n    +     */<br/>\n    +    protected abstract List<TridentTuple> getTridentTuples(List<T> tupleEvents);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * This </p>\n{@code TridentCollector}\n<p> accumulates all the values emitted.<br/>\n    +     */<br/>\n    +    static class AccumulatedTuplesCollector implements TridentCollector {<br/>\n    +<br/>\n    +final List<List<Object>> values = new ArrayList<>();<br/>\n    +private final BatchOutputCollector delegateCollector;<br/>\n    +<br/>\n    +public AccumulatedTuplesCollector(BatchOutputCollector delegateCollector) </p>\n{\n    +    this.delegateCollector = delegateCollector;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public void emit(List<Object> values) </p>\n{\n    +    this.values.add(values);\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public void reportError(Throwable t) </p>\n{\n    +    delegateCollector.reportError(t);\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    static class TriggerResult {<br/>\n    +final int id;<br/>\n    +final List<List<Object>> result;<br/>\n    +<br/>\n    +public TriggerResult(int id, List<List<Object>> result) </p>\n{\n    +    this.id = id;\n    +    this.result = result;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public boolean equals(Object o) </p>\n{\n    +    if (this == o) return true;\n    +    if (!(o instanceof TriggerResult)) return false;\n    +\n    +    TriggerResult that = (TriggerResult) o;\n    +\n    +    return id == that.id;\n    +\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public int hashCode() </p>\n{\n    +    return id;\n    +}\n<p>    +<br/>\n    +@Override<br/>\n    +public String toString() {<br/>\n    +    return \"TriggerResult</p>\n{\" +\n    +    \"id=\" + id +\n    +    \", result=\" + result +\n    +    '}\n<p>';<br/>\n    +}<br/>\n    +    }<br/>\n    +<br/>\n    +    public Queue<TriggerResult> getPendingTriggers() </p>\n{\n    +return pendingTriggers;\n    +    }\n<p>    +<br/>\n    +    public void shutdown() {<br/>\n    +try {<br/>\n    +    log.info(\"window manager <span class=\"error\">&#91;{}&#93;</span> is being shutdown\", windowManager);<br/>\n    +    windowManager.shutdown();<br/>\n    +} finally {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    shouldn't we log an exception why the shutdown didn't happened properly.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612526580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]