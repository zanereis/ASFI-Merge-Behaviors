[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643406335","html_url":"https://github.com/apache/pinot/issues/5551#issuecomment-643406335","issue_url":"https://api.github.com/repos/apache/pinot/issues/5551","id":643406335,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQwNjMzNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:49:57Z","updated_at":"2020-06-12T17:49:57Z","author_association":"MEMBER","body":"why is this needed? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643406335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643406985","html_url":"https://github.com/apache/pinot/issues/5359#issuecomment-643406985","issue_url":"https://api.github.com/repos/apache/pinot/issues/5359","id":643406985,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQwNjk4NQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:51:17Z","updated_at":"2020-06-12T17:51:17Z","author_association":"CONTRIBUTOR","body":"Keeping the issue open until @KKcorps verifies things","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643406985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643407832","html_url":"https://github.com/apache/pinot/issues/5552#issuecomment-643407832","issue_url":"https://api.github.com/repos/apache/pinot/issues/5552","id":643407832,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQwNzgzMg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:52:58Z","updated_at":"2020-06-12T17:52:58Z","author_association":"CONTRIBUTOR","body":"There is a table config setting to aggregate metrics. If all your dimension values are same, then the metric values are added, and the rows are squished. Is this what you mean by \"similar?\"\r\n\r\nThere are some limitations, but give it a try","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643407832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643408607","html_url":"https://github.com/apache/pinot/issues/5552#issuecomment-643408607","issue_url":"https://api.github.com/repos/apache/pinot/issues/5552","id":643408607,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQwODYwNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:54:35Z","updated_at":"2020-06-12T17:54:35Z","author_association":"CONTRIBUTOR","body":"https://docs.pinot.apache.org/basics/components/table#tableindexconfig","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643408607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643413562","html_url":"https://github.com/apache/pinot/issues/5551#issuecomment-643413562","issue_url":"https://api.github.com/repos/apache/pinot/issues/5551","id":643413562,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQxMzU2Mg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T18:04:26Z","updated_at":"2020-06-12T18:04:26Z","author_association":"MEMBER","body":"Closing as this is applicable only to high-level consumers and it's already supported.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643413562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643424042","html_url":"https://github.com/apache/pinot/issues/5552#issuecomment-643424042","issue_url":"https://api.github.com/repos/apache/pinot/issues/5552","id":643424042,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQyNDA0Mg==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T18:29:54Z","updated_at":"2020-06-12T18:29:54Z","author_association":"CONTRIBUTOR","body":"I could use aggregate and unique, but I am thinking of following case which I believe wouldn't return accurate results, correct me if I am wrong or if there is an alternate solution.\r\n\r\nWith \"aggregated\" (meaning all column values are same including the timestamp and assume timestamp is in microseconds) if there are two rows of same value, count would become 2. Usually for querying purposes we would be interested in a slightly higher time-granularity (across some set of columns, for example 5m) then the overall counts we get would be doubled rite? \r\n\r\nIf we are looking at individual rows, we can get away with aggregate/unique sort of approach.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643424042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643426034","html_url":"https://github.com/apache/pinot/issues/5552#issuecomment-643426034","issue_url":"https://api.github.com/repos/apache/pinot/issues/5552","id":643426034,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQyNjAzNA==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T18:34:42Z","updated_at":"2020-06-12T18:34:42Z","author_association":"CONTRIBUTOR","body":"nm, I could actually just do count(*) instead of sum(count column) 🤦 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643426034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643485612","html_url":"https://github.com/apache/pinot/pull/5555#issuecomment-643485612","issue_url":"https://api.github.com/repos/apache/pinot/issues/5555","id":643485612,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQ4NTYxMg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T21:13:23Z","updated_at":"2020-06-12T23:17:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=h1) Report\n> Merging [#5555](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.11%`.\n> The diff coverage is `71.11%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5555/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5555      +/-   ##\n==========================================\n- Coverage   66.44%   66.33%   -0.12%     \n==========================================\n  Files        1075     1105      +30     \n  Lines       54773    56957    +2184     \n  Branches     8168     8515     +347     \n==========================================\n+ Hits        36396    37782    +1386     \n- Misses      15700    16381     +681     \n- Partials     2677     2794     +117     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.84% <51.04%> (?)` | |\n| #unittests | `56.94% <65.21%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| ... and [442 more](https://codecov.io/gh/apache/incubator-pinot/pull/5555/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=footer). Last update [cd774c7...04b6c16](https://codecov.io/gh/apache/incubator-pinot/pull/5555?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643485612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643503193","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-643503193","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":643503193,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzUwMzE5Mw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T22:12:25Z","updated_at":"2020-06-13T13:52:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=h1) Report\n> Merging [#5543](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.05%`.\n> The diff coverage is `70.20%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5543/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5543      +/-   ##\n==========================================\n- Coverage   66.44%   66.38%   -0.06%     \n==========================================\n  Files        1075     1108      +33     \n  Lines       54773    57057    +2284     \n  Branches     8168     8531     +363     \n==========================================\n+ Hits        36396    37880    +1484     \n- Misses      15700    16381     +681     \n- Partials     2677     2796     +119     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.90% <49.01%> (?)` | |\n| #unittests | `56.91% <63.18%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| ... and [456 more](https://codecov.io/gh/apache/incubator-pinot/pull/5543/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=footer). Last update [33578ac...7394e30](https://codecov.io/gh/apache/incubator-pinot/pull/5543?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643503193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643508353","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-643508353","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":643508353,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzUwODM1Mw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T22:32:18Z","updated_at":"2020-06-12T22:32:18Z","author_association":"CONTRIBUTOR","body":"> In general this looks fine to me. I am just worried about the confusion that having so many classes with duplicate names will cause.\r\n\r\n@mayankshriv I thought about it and actually already tried with multiple names, and finally decide to go with the most simple and intuitive ones, although they are the same as the thrift ones for the following reasons:\r\n- The thrift and context classes will only co-exist in the converter, on the engine side only the context ones will be used; on the wiring side, only the thrift ones will be used.\r\n- I tried to append `Info` after each class, but we already have a class named `FunctionInfo`, and IMO it is easier to distinguish thrift class from context class comparing to another POJO class.\r\n- With the most simple and intuitive class name, it can improve the readability of the code, as long as the import is correct (IDE should be able to handle this properly)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643508353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643528515","html_url":"https://github.com/apache/pinot/pull/5557#issuecomment-643528515","issue_url":"https://api.github.com/repos/apache/pinot/issues/5557","id":643528515,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzUyODUxNQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T00:11:33Z","updated_at":"2020-06-13T00:11:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5557?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@7326d4a`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5557/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5557?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5557   +/-   ##\n=========================================\n  Coverage          ?   66.38%           \n=========================================\n  Files             ?     1105           \n  Lines             ?    56989           \n  Branches          ?     8529           \n=========================================\n  Hits              ?    37830           \n  Misses            ?    16377           \n  Partials          ?     2782           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.09% <0.00%> (?)` | |\n| #unittests | `56.87% <0.00%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5557?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...inot/spi/stream/StreamConsumerFactoryProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbUNvbnN1bWVyRmFjdG9yeVByb3ZpZGVyLmphdmE=) | `62.50% <0.00%> (ø)` | |\n| [...ransformer/timeunit/CustomTimeUnitTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvdGltZXVuaXQvQ3VzdG9tVGltZVVuaXRUcmFuc2Zvcm1lci5qYXZh) | `100.00% <0.00%> (ø)` | |\n| [...ller/api/resources/PinotControllerHealthCheck.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90Q29udHJvbGxlckhlYWx0aENoZWNrLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/pinot/spi/utils/EqualityUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvRXF1YWxpdHlVdGlscy5qYXZh) | `75.86% <0.00%> (ø)` | |\n| [...a/org/apache/pinot/spi/data/DateTimeFieldSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9EYXRlVGltZUZpZWxkU3BlYy5qYXZh) | `94.59% <0.00%> (ø)` | |\n| [...apache/pinot/common/metrics/ControllerMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0cmljcy5qYXZh) | `85.71% <0.00%> (ø)` | |\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | `76.92% <0.00%> (ø)` | |\n| [.../segment/index/datasource/ImmutableDataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2RhdGFzb3VyY2UvSW1tdXRhYmxlRGF0YVNvdXJjZS5qYXZh) | `92.59% <0.00%> (ø)` | |\n| [...java/org/apache/pinot/core/util/FixedIntArray.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0ZpeGVkSW50QXJyYXkuamF2YQ==) | `66.66% <0.00%> (ø)` | |\n| [...umnminmaxvalue/ColumnMinMaxValueGeneratorMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9jb2x1bW5taW5tYXh2YWx1ZS9Db2x1bW5NaW5NYXhWYWx1ZUdlbmVyYXRvck1vZGUuamF2YQ==) | `100.00% <0.00%> (ø)` | |\n| ... and [1096 more](https://codecov.io/gh/apache/incubator-pinot/pull/5557/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5557?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5557?src=pr&el=footer). Last update [7326d4a...735dd45](https://codecov.io/gh/apache/incubator-pinot/pull/5557?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643528515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643550221","html_url":"https://github.com/apache/pinot/pull/5538#issuecomment-643550221","issue_url":"https://api.github.com/repos/apache/pinot/issues/5538","id":643550221,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzU1MDIyMQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T01:40:40Z","updated_at":"2020-06-15T19:44:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=h1) Report\n> Merging [#5538](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.15%`.\n> The diff coverage is `71.22%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5538/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5538      +/-   ##\n==========================================\n+ Coverage   66.44%   66.60%   +0.15%     \n==========================================\n  Files        1075     1122      +47     \n  Lines       54773    57518    +2745     \n  Branches     8168     8609     +441     \n==========================================\n+ Hits        36396    38310    +1914     \n- Misses      15700    16383     +683     \n- Partials     2677     2825     +148     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.24% <51.12%> (?)` | |\n| #unittests | `56.97% <63.48%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| ... and [463 more](https://codecov.io/gh/apache/incubator-pinot/pull/5538/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=footer). Last update [679c9e6...7a8506b](https://codecov.io/gh/apache/incubator-pinot/pull/5538?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643550221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643581838","html_url":"https://github.com/apache/pinot/pull/5560#issuecomment-643581838","issue_url":"https://api.github.com/repos/apache/pinot/issues/5560","id":643581838,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzU4MTgzOA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T07:03:55Z","updated_at":"2020-06-13T07:13:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=h1) Report\n> Merging [#5560](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.15%`.\n> The diff coverage is `71.17%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5560/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5560      +/-   ##\n==========================================\n+ Coverage   66.44%   66.60%   +0.15%     \n==========================================\n  Files        1075     1105      +30     \n  Lines       54773    56981    +2208     \n  Branches     8168     8529     +361     \n==========================================\n+ Hits        36396    37954    +1558     \n- Misses      15700    16233     +533     \n- Partials     2677     2794     +117     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.32% <51.37%> (?)` | |\n| #unittests | `56.87% <63.36%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `63.63% <ø> (ø)` | |\n| ... and [436 more](https://codecov.io/gh/apache/incubator-pinot/pull/5560/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=footer). Last update [33578ac...55690fa](https://codecov.io/gh/apache/incubator-pinot/pull/5560?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643581838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643619693","html_url":"https://github.com/apache/pinot/pull/5561#issuecomment-643619693","issue_url":"https://api.github.com/repos/apache/pinot/issues/5561","id":643619693,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzYxOTY5Mw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T12:52:40Z","updated_at":"2020-06-16T02:02:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=h1) Report\n> Merging [#5561](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **increase** coverage by `0.39%`.\n> The diff coverage is `71.11%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5561/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5561      +/-   ##\n==========================================\n+ Coverage   66.44%   66.84%   +0.39%     \n==========================================\n  Files        1075     1122      +47     \n  Lines       54773    57731    +2958     \n  Branches     8168     8693     +525     \n==========================================\n+ Hits        36396    38589    +2193     \n- Misses      15700    16320     +620     \n- Partials     2677     2822     +145     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.74% <51.78%> (?)` | |\n| #unittests | `57.09% <63.37%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...oller/api/resources/PinotTableRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `56.01% <0.00%> (-0.53%)` | :arrow_down: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| ... and [464 more](https://codecov.io/gh/apache/incubator-pinot/pull/5561/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=footer). Last update [d8764cc...8e7891f](https://codecov.io/gh/apache/incubator-pinot/pull/5561?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643619693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643741759","html_url":"https://github.com/apache/pinot/pull/5562#issuecomment-643741759","issue_url":"https://api.github.com/repos/apache/pinot/issues/5562","id":643741759,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mzc0MTc1OQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-14T09:30:17Z","updated_at":"2020-06-14T09:30:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=h1) Report\n> Merging [#5562](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `21.10%`.\n> The diff coverage is `51.54%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5562/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #5562       +/-   ##\n===========================================\n- Coverage   66.44%   45.34%   -21.11%     \n===========================================\n  Files        1075     1105       +30     \n  Lines       54773    56981     +2208     \n  Branches     8168     8529      +361     \n===========================================\n- Hits        36396    25836    -10560     \n- Misses      15700    28885    +13185     \n+ Partials     2677     2260      -417     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.34% <51.54%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `32.12% <0.00%> (-35.76%)` | :arrow_down: |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [.../apache/pinot/common/function/StringFunctions.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vU3RyaW5nRnVuY3Rpb25zLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...e/assignment/segment/OfflineSegmentAssignment.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvc2VnbWVudC9PZmZsaW5lU2VnbWVudEFzc2lnbm1lbnQuamF2YQ==) | `22.22% <0.00%> (-68.69%)` | :arrow_down: |\n| [.../assignment/segment/RealtimeSegmentAssignment.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvc2VnbWVudC9SZWFsdGltZVNlZ21lbnRBc3NpZ25tZW50LmphdmE=) | `46.08% <0.00%> (-46.96%)` | :arrow_down: |\n| [...ntroller/helix/core/rebalance/TableRebalancer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYmFsYW5jZS9UYWJsZVJlYmFsYW5jZXIuamF2YQ==) | `48.30% <0.00%> (-15.85%)` | :arrow_down: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `30.98% <0.00%> (-48.19%)` | :arrow_down: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [849 more](https://codecov.io/gh/apache/incubator-pinot/pull/5562/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=footer). Last update [33578ac...796ef90](https://codecov.io/gh/apache/incubator-pinot/pull/5562?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643741759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643773892","html_url":"https://github.com/apache/pinot/pull/5564#issuecomment-643773892","issue_url":"https://api.github.com/repos/apache/pinot/issues/5564","id":643773892,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mzc3Mzg5Mg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-14T14:26:52Z","updated_at":"2020-06-16T01:09:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=h1) Report\n> Merging [#5564](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.10%`.\n> The diff coverage is `70.51%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5564/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5564      +/-   ##\n==========================================\n- Coverage   66.44%   66.33%   -0.11%     \n==========================================\n  Files        1075     1122      +47     \n  Lines       54773    57559    +2786     \n  Branches     8168     8623     +455     \n==========================================\n+ Hits        36396    38184    +1788     \n- Misses      15700    16544     +844     \n- Partials     2677     2831     +154     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.05% <51.40%> (?)` | |\n| #unittests | `56.97% <62.52%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `76.05% <0.00%> (-3.12%)` | :arrow_down: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| ... and [463 more](https://codecov.io/gh/apache/incubator-pinot/pull/5564/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=footer). Last update [33578ac...535d8c0](https://codecov.io/gh/apache/incubator-pinot/pull/5564?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643773892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643821124","html_url":"https://github.com/apache/pinot/issues/5390#issuecomment-643821124","issue_url":"https://api.github.com/repos/apache/pinot/issues/5390","id":643821124,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzgyMTEyNA==","user":{"login":"guruguha","id":9054682,"node_id":"MDQ6VXNlcjkwNTQ2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9054682?v=4","gravatar_id":"","url":"https://api.github.com/users/guruguha","html_url":"https://github.com/guruguha","followers_url":"https://api.github.com/users/guruguha/followers","following_url":"https://api.github.com/users/guruguha/following{/other_user}","gists_url":"https://api.github.com/users/guruguha/gists{/gist_id}","starred_url":"https://api.github.com/users/guruguha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guruguha/subscriptions","organizations_url":"https://api.github.com/users/guruguha/orgs","repos_url":"https://api.github.com/users/guruguha/repos","events_url":"https://api.github.com/users/guruguha/events{/privacy}","received_events_url":"https://api.github.com/users/guruguha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-14T20:56:32Z","updated_at":"2020-06-14T20:56:32Z","author_association":"CONTRIBUTOR","body":"I have a Google doc with the description and base design. Please review: Pinot [#5390](https://docs.google.com/document/d/1E_J7PxF9WtaE6ido__u0O-Emtyu0IghQicC-1eLZeRo) ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643821124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643885256","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-643885256","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":643885256,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Mzg4NTI1Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T03:39:22Z","updated_at":"2020-06-15T03:39:22Z","author_association":"CONTRIBUTOR","body":"> Approving this since overall I am onboard with the change. My only request is to please try and make one more attempt at keeping separate names unless absolutely impossible. Even if the new name is ugly, it is fine IMHO.\r\n\r\n@siddharthteotia Appended `Context` to these classes to differentiate them from the thrift classes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/643885256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644003630","html_url":"https://github.com/apache/pinot/pull/5567#issuecomment-644003630","issue_url":"https://api.github.com/repos/apache/pinot/issues/5567","id":644003630,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDAwMzYzMA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T09:06:11Z","updated_at":"2020-06-15T09:12:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5567?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@2c955ce`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5567/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5567?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5567   +/-   ##\n=========================================\n  Coverage          ?   66.47%           \n=========================================\n  Files             ?     1105           \n  Lines             ?    56981           \n  Branches          ?     8529           \n=========================================\n  Hits              ?    37880           \n  Misses            ?    16317           \n  Partials          ?     2784           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.14% <ø> (?)` | |\n| #unittests | `56.88% <ø> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5567?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...r/helix/SegmentOnlineOfflineStateModelFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50T25saW5lT2ZmbGluZVN0YXRlTW9kZWxGYWN0b3J5LmphdmE=) | `67.00% <0.00%> (ø)` | |\n| [.../columnminmaxvalue/ColumnMinMaxValueGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9jb2x1bW5taW5tYXh2YWx1ZS9Db2x1bW5NaW5NYXhWYWx1ZUdlbmVyYXRvci5qYXZh) | `70.00% <0.00%> (ø)` | |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `100.00% <0.00%> (ø)` | |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `67.40% <0.00%> (ø)` | |\n| [...ot/core/startree/v2/store/StarTreeLoaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUxvYWRlclV0aWxzLmphdmE=) | `87.50% <0.00%> (ø)` | |\n| [...ava/org/apache/pinot/common/utils/SchemaUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2NoZW1hVXRpbHMuamF2YQ==) | `9.45% <0.00%> (ø)` | |\n| [...a/org/apache/pinot/core/transport/QueryServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvUXVlcnlTZXJ2ZXIuamF2YQ==) | `79.31% <0.00%> (ø)` | |\n| [...che/pinot/pql/parsers/pql2/ast/OrderByAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcmRlckJ5QXN0Tm9kZS5qYXZh) | `88.23% <0.00%> (ø)` | |\n| [.../server/starter/helix/SegmentFetcherAndLoader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50RmV0Y2hlckFuZExvYWRlci5qYXZh) | `66.34% <0.00%> (ø)` | |\n| [...che/pinot/core/query/reduce/BetweenComparison.java](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQmV0d2VlbkNvbXBhcmlzb24uamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| ... and [1095 more](https://codecov.io/gh/apache/incubator-pinot/pull/5567/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5567?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5567?src=pr&el=footer). Last update [2c955ce...6b5cb40](https://codecov.io/gh/apache/incubator-pinot/pull/5567?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644003630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644081849","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-644081849","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":644081849,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDA4MTg0OQ==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T11:51:48Z","updated_at":"2020-06-15T11:51:48Z","author_association":"CONTRIBUTOR","body":"I think the PR is ready for another round of review. Feels to me it is in an ideal state. Cheers!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644081849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644248153","html_url":"https://github.com/apache/pinot/issues/2719#issuecomment-644248153","issue_url":"https://api.github.com/repos/apache/pinot/issues/2719","id":644248153,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDI0ODE1Mw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T16:48:17Z","updated_at":"2020-06-15T16:48:17Z","author_association":"CONTRIBUTOR","body":"Closing as this is old and fixed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644248153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644249832","html_url":"https://github.com/apache/pinot/issues/5268#issuecomment-644249832","issue_url":"https://api.github.com/repos/apache/pinot/issues/5268","id":644249832,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDI0OTgzMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T16:51:29Z","updated_at":"2020-06-15T16:51:29Z","author_association":"CONTRIBUTOR","body":"Design proposal: https://docs.google.com/document/d/1Cahnas3nh0XErETH0KHLaecN6xCnRVYWNKO3rDn7qcI/edit#","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644249832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644266484","html_url":"https://github.com/apache/pinot/pull/5483#issuecomment-644266484","issue_url":"https://api.github.com/repos/apache/pinot/issues/5483","id":644266484,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDI2NjQ4NA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T17:25:44Z","updated_at":"2020-06-15T17:25:44Z","author_association":"CONTRIBUTOR","body":"> > Approving this since overall I am onboard with the change. My only request is to please try and make one more attempt at keeping separate names unless absolutely impossible. Even if the new name is ugly, it is fine IMHO.\r\n> \r\n> @siddharthteotia Appended `Context` to these classes to differentiate them from the thrift classes.\r\n\r\nThanks @Jackie-Jiang . Let's merge as soon as we get a clean build.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644266484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644439593","html_url":"https://github.com/apache/pinot/pull/5561#issuecomment-644439593","issue_url":"https://api.github.com/repos/apache/pinot/issues/5561","id":644439593,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQzOTU5Mw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T23:19:35Z","updated_at":"2020-06-15T23:19:35Z","author_association":"CONTRIBUTOR","body":"The majority of the code does not match the description. The table truncate API has the same effect with the existing `PinotSegmentRestletResource.deleteAllSegments()`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644439593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644440179","html_url":"https://github.com/apache/pinot/issues/5566#issuecomment-644440179","issue_url":"https://api.github.com/repos/apache/pinot/issues/5566","id":644440179,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ0MDE3OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T23:21:25Z","updated_at":"2020-06-15T23:21:25Z","author_association":"CONTRIBUTOR","body":"@elonazoulay Good catch. Can you please submit a PR to fix this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644440179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644467594","html_url":"https://github.com/apache/pinot/pull/5568#issuecomment-644467594","issue_url":"https://api.github.com/repos/apache/pinot/issues/5568","id":644467594,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ2NzU5NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T00:58:43Z","updated_at":"2020-06-16T01:23:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=h1) Report\n> Merging [#5568](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.14%`.\n> The diff coverage is `70.67%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5568/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5568      +/-   ##\n==========================================\n- Coverage   66.44%   66.30%   -0.15%     \n==========================================\n  Files        1075     1122      +47     \n  Lines       54773    57511    +2738     \n  Branches     8168     8607     +439     \n==========================================\n+ Hits        36396    38133    +1737     \n- Misses      15700    16549     +849     \n- Partials     2677     2829     +152     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.97% <50.68%> (?)` | |\n| #unittests | `57.01% <63.70%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| ... and [468 more](https://codecov.io/gh/apache/incubator-pinot/pull/5568/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=footer). Last update [d8764cc...a45c9ea](https://codecov.io/gh/apache/incubator-pinot/pull/5568?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644467594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644476855","html_url":"https://github.com/apache/pinot/pull/5561#issuecomment-644476855","issue_url":"https://api.github.com/repos/apache/pinot/issues/5561","id":644476855,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ3Njg1NQ==","user":{"login":"Sreemanth","id":2398992,"node_id":"MDQ6VXNlcjIzOTg5OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2398992?v=4","gravatar_id":"","url":"https://api.github.com/users/Sreemanth","html_url":"https://github.com/Sreemanth","followers_url":"https://api.github.com/users/Sreemanth/followers","following_url":"https://api.github.com/users/Sreemanth/following{/other_user}","gists_url":"https://api.github.com/users/Sreemanth/gists{/gist_id}","starred_url":"https://api.github.com/users/Sreemanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sreemanth/subscriptions","organizations_url":"https://api.github.com/users/Sreemanth/orgs","repos_url":"https://api.github.com/users/Sreemanth/repos","events_url":"https://api.github.com/users/Sreemanth/events{/privacy}","received_events_url":"https://api.github.com/users/Sreemanth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T01:31:45Z","updated_at":"2020-06-16T01:31:45Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang \r\nThe majority of the code does not match the description.\r\n>> Removed commits related to truncate command. Updated the pull request. Can you review again.\r\n\r\nhttps://github.com/apache/incubator-pinot/issues/5558  \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644476855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644501242","html_url":"https://github.com/apache/pinot/pull/5569#issuecomment-644501242","issue_url":"https://api.github.com/repos/apache/pinot/issues/5569","id":644501242,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDUwMTI0Mg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T02:57:09Z","updated_at":"2020-06-16T02:57:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=h1) Report\n> Merging [#5569](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.10%`.\n> The diff coverage is `70.53%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5569/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5569      +/-   ##\n==========================================\n- Coverage   66.44%   66.34%   -0.11%     \n==========================================\n  Files        1075     1122      +47     \n  Lines       54773    57520    +2747     \n  Branches     8168     8610     +442     \n==========================================\n+ Hits        36396    38159    +1763     \n- Misses      15700    16536     +836     \n- Partials     2677     2825     +148     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `44.90% <50.74%> (?)` | |\n| #unittests | `56.96% <63.33%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `76.05% <0.00%> (-3.12%)` | :arrow_down: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `80.00% <ø> (ø)` | |\n| [...e/data/manager/realtime/SplitSegmentCommitter.java](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU3BsaXRTZWdtZW50Q29tbWl0dGVyLmphdmE=) | `0.00% <ø> (-63.64%)` | :arrow_down: |\n| ... and [470 more](https://codecov.io/gh/apache/incubator-pinot/pull/5569/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=footer). Last update [33578ac...4a094b3](https://codecov.io/gh/apache/incubator-pinot/pull/5569?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644501242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644553089","html_url":"https://github.com/apache/pinot/pull/5570#issuecomment-644553089","issue_url":"https://api.github.com/repos/apache/pinot/issues/5570","id":644553089,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU1MzA4OQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:11:29Z","updated_at":"2020-06-16T06:18:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5570?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@d8764cc`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `46.29%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5570/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5570?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5570   +/-   ##\n=========================================\n  Coverage          ?   66.28%           \n=========================================\n  Files             ?     1110           \n  Lines             ?    57013           \n  Branches          ?     8514           \n=========================================\n  Hits              ?    37789           \n  Misses            ?    16446           \n  Partials          ?     2778           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.05% <37.03%> (?)` | |\n| #unittests | `57.00% <44.44%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5570?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...pache/pinot/common/utils/request/RequestUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvcmVxdWVzdC9SZXF1ZXN0VXRpbHMuamF2YQ==) | `62.42% <ø> (ø)` | |\n| [.../org/apache/pinot/pql/parsers/Pql2AstListener.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QcWwyQXN0TGlzdGVuZXIuamF2YQ==) | `91.97% <0.00%> (ø)` | |\n| [...ava/org/apache/pinot/pql/parsers/Pql2Compiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QcWwyQ29tcGlsZXIuamF2YQ==) | `88.15% <ø> (ø)` | |\n| [...e/pinot/pql/parsers/pql2/ast/PredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9QcmVkaWNhdGVBc3ROb2RlLmphdmE=) | `100.00% <ø> (ø)` | |\n| [...ers/pql2/ast/PredicateParenthesisGroupAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9QcmVkaWNhdGVQYXJlbnRoZXNpc0dyb3VwQXN0Tm9kZS5qYXZh) | `100.00% <ø> (ø)` | |\n| [...ache/pinot/pql/parsers/pql2/ast/SelectAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9TZWxlY3RBc3ROb2RlLmphdmE=) | `98.87% <ø> (ø)` | |\n| [...gregation/function/AggregationFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `74.66% <ø> (ø)` | |\n| [...l/parsers/pql2/ast/RegexpLikePredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9SZWdleHBMaWtlUHJlZGljYXRlQXN0Tm9kZS5qYXZh) | `50.00% <16.66%> (ø)` | |\n| [.../pql/parsers/pql2/ast/BetweenPredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9CZXR3ZWVuUHJlZGljYXRlQXN0Tm9kZS5qYXZh) | `51.35% <20.00%> (ø)` | |\n| [...l/parsers/pql2/ast/ComparisonPredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9Db21wYXJpc29uUHJlZGljYXRlQXN0Tm9kZS5qYXZh) | `50.49% <33.33%> (ø)` | |\n| ... and [1115 more](https://codecov.io/gh/apache/incubator-pinot/pull/5570/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5570?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5570?src=pr&el=footer). Last update [d8764cc...0ac4b1b](https://codecov.io/gh/apache/incubator-pinot/pull/5570?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644553089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644570133","html_url":"https://github.com/apache/pinot/pull/5571#issuecomment-644570133","issue_url":"https://api.github.com/repos/apache/pinot/issues/5571","id":644570133,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDU3MDEzMw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T06:54:46Z","updated_at":"2020-06-16T07:03:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5571?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@d8764cc`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5571/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5571?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #5571   +/-   ##\n=========================================\n  Coverage          ?   66.55%           \n=========================================\n  Files             ?     1123           \n  Lines             ?    57471           \n  Branches          ?     8606           \n=========================================\n  Hits              ?    38249           \n  Misses            ?    16389           \n  Partials          ?     2833           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.58% <100.00%> (?)` | |\n| #unittests | `56.91% <0.00%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5571?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...he/pinot/common/utils/config/TableConfigUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvY29uZmlnL1RhYmxlQ29uZmlnVXRpbHMuamF2YQ==) | `87.85% <100.00%> (ø)` | |\n| [...pql/parsers/pql2/ast/OrderByExpressionAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcmRlckJ5RXhwcmVzc2lvbkFzdE5vZGUuamF2YQ==) | `85.71% <0.00%> (ø)` | |\n| [.../predicate/NotEqualsPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEVxdWFsc1ByZWRpY2F0ZUV2YWx1YXRvckZhY3RvcnkuamF2YQ==) | `82.19% <0.00%> (ø)` | |\n| [...a/org/apache/pinot/common/metrics/ServerGauge.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJHYXVnZS5qYXZh) | `95.45% <0.00%> (ø)` | |\n| [...a/org/apache/pinot/common/request/FilterQuery.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9GaWx0ZXJRdWVyeS5qYXZh) | `34.78% <0.00%> (ø)` | |\n| [...ot/core/query/request/context/FunctionContext.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvRnVuY3Rpb25Db250ZXh0LmphdmE=) | `75.86% <0.00%> (ø)` | |\n| [...re/io/reader/impl/v1/FixedBitMultiValueReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby9yZWFkZXIvaW1wbC92MS9GaXhlZEJpdE11bHRpVmFsdWVSZWFkZXIuamF2YQ==) | `100.00% <0.00%> (ø)` | |\n| [...pinot/common/exception/InvalidConfigException.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL0ludmFsaWRDb25maWdFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ore/query/request/context/predicate/Predicate.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvcHJlZGljYXRlL1ByZWRpY2F0ZS5qYXZh) | `66.66% <0.00%> (ø)` | |\n| [...pl/fwd/SingleValueUnsortedForwardIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9md2QvU2luZ2xlVmFsdWVVbnNvcnRlZEZvcndhcmRJbmRleENyZWF0b3IuamF2YQ==) | `100.00% <0.00%> (ø)` | |\n| ... and [1114 more](https://codecov.io/gh/apache/incubator-pinot/pull/5571/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5571?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5571?src=pr&el=footer). Last update [d8764cc...aa6b513](https://codecov.io/gh/apache/incubator-pinot/pull/5571?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644570133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644842799","html_url":"https://github.com/apache/pinot/pull/5573#issuecomment-644842799","issue_url":"https://api.github.com/repos/apache/pinot/issues/5573","id":644842799,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDg0Mjc5OQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T15:36:44Z","updated_at":"2020-06-16T15:43:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=h1) Report\n> Merging [#5573](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.17%`.\n> The diff coverage is `68.03%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5573/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5573      +/-   ##\n==========================================\n- Coverage   66.44%   66.27%   -0.18%     \n==========================================\n  Files        1075     1123      +48     \n  Lines       54773    57490    +2717     \n  Branches     8168     8609     +441     \n==========================================\n+ Hits        36396    38101    +1705     \n- Misses      15700    16560     +860     \n- Partials     2677     2829     +152     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.18% <45.96%> (?)` | |\n| #unittests | `56.88% <60.23%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...not/common/lineage/SegmentLineageAccessHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZUFjY2Vzc0hlbHBlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `66.85% <0.00%> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...oller/api/resources/PinotTableRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `51.48% <0.00%> (-5.06%)` | :arrow_down: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| ... and [478 more](https://codecov.io/gh/apache/incubator-pinot/pull/5573/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=footer). Last update [b3a8368...e74a129](https://codecov.io/gh/apache/incubator-pinot/pull/5573?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644842799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644915869","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-644915869","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":644915869,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDkxNTg2OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T17:51:57Z","updated_at":"2020-06-16T17:51:57Z","author_association":"CONTRIBUTOR","body":"@npawar What's the difference between this API and remove all segments API? I can see the truncate API also disables the table, but I don't think it should do so.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644915869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644918781","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-644918781","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":644918781,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDkxODc4MQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T17:57:39Z","updated_at":"2020-06-16T17:57:39Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang there's no difference. It's just packaging the Pinot operations into a command that users are familiar with (database terminology). \r\n\r\nYes, the table should not be permanently disabled. I noted `disable` so that we stop sending queries. I forgot to write re-enable after deleting all segments.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644918781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644929997","html_url":"https://github.com/apache/pinot/pull/5570#issuecomment-644929997","issue_url":"https://api.github.com/repos/apache/pinot/issues/5570","id":644929997,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDkyOTk5Nw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T18:20:18Z","updated_at":"2020-06-16T18:20:18Z","author_association":"CONTRIBUTOR","body":"Add a bit more info in the release notes on why we are removing this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644929997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644934524","html_url":"https://github.com/apache/pinot/issues/5574#issuecomment-644934524","issue_url":"https://api.github.com/repos/apache/pinot/issues/5574","id":644934524,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDkzNDUyNA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T18:25:54Z","updated_at":"2020-06-16T18:25:54Z","author_association":"MEMBER","body":"#4943 \r\n\r\n#4585 \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644934524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644944083","html_url":"https://github.com/apache/pinot/issues/5359#issuecomment-644944083","issue_url":"https://api.github.com/repos/apache/pinot/issues/5359","id":644944083,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDk0NDA4Mw==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T18:40:07Z","updated_at":"2020-06-16T18:40:07Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu The StreamPartitionMsgOffsetFactory interface expects a createMaxOffset method to be implemented. But for kinesis, the offsets are string and they can go out of bounds for Long or any other data type. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644944083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644949114","html_url":"https://github.com/apache/pinot/issues/5359#issuecomment-644949114","issue_url":"https://api.github.com/repos/apache/pinot/issues/5359","id":644949114,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDk0OTExNA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T18:51:03Z","updated_at":"2020-06-16T18:51:03Z","author_association":"CONTRIBUTOR","body":"@KKcorps I have removed that need. Please pull the latest code","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644949114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644951219","html_url":"https://github.com/apache/pinot/issues/5359#issuecomment-644951219","issue_url":"https://api.github.com/repos/apache/pinot/issues/5359","id":644951219,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDk1MTIxOQ==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T18:55:50Z","updated_at":"2020-06-16T18:55:50Z","author_association":"CONTRIBUTOR","body":"Checked it just now. Looks good to me!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644951219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644955751","html_url":"https://github.com/apache/pinot/pull/5570#issuecomment-644955751","issue_url":"https://api.github.com/repos/apache/pinot/issues/5570","id":644955751,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDk1NTc1MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T19:05:30Z","updated_at":"2020-06-16T19:05:30Z","author_association":"CONTRIBUTOR","body":"@mayankshriv Added more release notes","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644955751/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644959711","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-644959711","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":644959711,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDk1OTcxMQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T19:11:32Z","updated_at":"2020-06-16T19:11:32Z","author_association":"CONTRIBUTOR","body":"@npawar IMO we don't need to disable then re-enable the table. If the user sends queries while truncating the table, the result is expected to be indeterministic. If we disable the table, no Helix transition message will be sent, and all the transitions will happen when the table gets re-enabled. The behavior will be the same as not disabling the table.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644959711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644960896","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-644960896","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":644960896,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDk2MDg5Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T19:13:29Z","updated_at":"2020-06-16T19:13:29Z","author_association":"CONTRIBUTOR","body":"Actually I'm not sure about the Helix behavior when you modify the IdealState of a disabled resource","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/644960896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645004567","html_url":"https://github.com/apache/pinot/pull/5576#issuecomment-645004567","issue_url":"https://api.github.com/repos/apache/pinot/issues/5576","id":645004567,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAwNDU2Nw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T20:50:09Z","updated_at":"2020-06-16T20:55:43Z","author_association":"CONTRIBUTOR","body":"I was actually thinking this could be reused for query explanation?\r\nhttps://github.com/apache/incubator-pinot/issues/5434","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645004567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645013650","html_url":"https://github.com/apache/pinot/issues/5559#issuecomment-645013650","issue_url":"https://api.github.com/repos/apache/pinot/issues/5559","id":645013650,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAxMzY1MA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:10:14Z","updated_at":"2020-06-16T21:10:14Z","author_association":"CONTRIBUTOR","body":"We may need to do this carefully. Need to consider race conditions like:\r\n* What if a segment gets pushed while we are deleting all segments?\r\n* What if a segment completes while we are deleting the consuming segment?\r\n\r\nDue to these reasons I prefer that we don't complicate pinot admin APIs on the controller. Instead, provide an admin command that can do more complex operations using the primitives in there, and taking care of other conditions and correcting for them.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645013650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645017356","html_url":"https://github.com/apache/pinot/pull/5576#issuecomment-645017356","issue_url":"https://api.github.com/repos/apache/pinot/issues/5576","id":645017356,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAxNzM1Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:18:38Z","updated_at":"2020-06-16T21:18:38Z","author_association":"CONTRIBUTOR","body":"@fx19880617 I don't think the same code can be reused because the interface needs to be designed very differently so that the plan tree can be returned to the broker.\r\nI want to remove the `PlanNode.showTree()` because I'm going to replace `BrokerRequest` with `QueryContext` in all `PlanNode`, and I don't want to maintain this method (it is already not in-sync with several PlanNodes because of the same reason).\r\nWe can re-design the interface when we actually implement the query explanation.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645017356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645017872","html_url":"https://github.com/apache/pinot/pull/5576#issuecomment-645017872","issue_url":"https://api.github.com/repos/apache/pinot/issues/5576","id":645017872,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAxNzg3Mg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:19:51Z","updated_at":"2020-06-16T21:19:51Z","author_association":"CONTRIBUTOR","body":"> @fx19880617 I don't think the same code can be reused because the interface needs to be designed very differently so that the plan tree can be returned to the broker.\r\n> I want to remove the `PlanNode.showTree()` because I'm going to replace `BrokerRequest` with `QueryContext` in all `PlanNode`, and I don't want to maintain this method (it is already not in-sync with several PlanNodes because of the same reason).\r\n> We can re-design the interface when we actually implement the query explanation.\r\n\r\nsounds good","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645017872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645018142","html_url":"https://github.com/apache/pinot/pull/5575#issuecomment-645018142","issue_url":"https://api.github.com/repos/apache/pinot/issues/5575","id":645018142,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAxODE0Mg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:20:29Z","updated_at":"2020-06-16T21:28:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=h1) Report\n> Merging [#5575](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a&el=desc) will **decrease** coverage by `0.08%`.\n> The diff coverage is `68.95%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/5575/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #5575      +/-   ##\n==========================================\n- Coverage   66.44%   66.36%   -0.09%     \n==========================================\n  Files        1075     1123      +48     \n  Lines       54773    57473    +2700     \n  Branches     8168     8606     +438     \n==========================================\n+ Hits        36396    38144    +1748     \n- Misses      15700    16505     +805     \n- Partials     2677     2824     +147     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| #integrationtests | `45.34% <46.90%> (?)` | |\n| #unittests | `56.91% <60.88%> (?)` | |\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...quota/HelixExternalViewBasedQueryQuotaManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUXVlcnlRdW90YU1hbmFnZXIuamF2YQ==) | `67.87% <0.00%> (ø)` | |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `73.33% <ø> (ø)` | |\n| [...not/common/lineage/SegmentLineageAccessHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZUFjY2Vzc0hlbHBlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `66.85% <0.00%> (ø)` | |\n| [...java/org/apache/pinot/common/segment/ReadMode.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9SZWFkTW9kZS5qYXZh) | `66.66% <ø> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `39.02% <0.00%> (+0.92%)` | :arrow_up: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `80.28% <0.00%> (+1.11%)` | :arrow_up: |\n| [...he/pinot/controller/util/AutoAddInvertedIndex.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0F1dG9BZGRJbnZlcnRlZEluZGV4LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/pinot/core/common/BaseBlockValSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vQmFzZUJsb2NrVmFsU2V0LmphdmE=) | `3.03% <0.00%> (-1.32%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/common/DataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vRGF0YVNvdXJjZS5qYXZh) | `100.00% <ø> (ø)` | |\n| ... and [480 more](https://codecov.io/gh/apache/incubator-pinot/pull/5575/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=footer). Last update [b3a8368...f72d7ee](https://codecov.io/gh/apache/incubator-pinot/pull/5575?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645018142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645019998","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-645019998","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":645019998,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAxOTk5OA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:24:59Z","updated_at":"2020-06-16T21:24:59Z","author_association":"CONTRIBUTOR","body":"Introduce pre-compiled QueryContext class to replace BrokerRequest: #5483","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645019998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645020532","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-645020532","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":645020532,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAyMDUzMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:26:13Z","updated_at":"2020-06-16T21:26:13Z","author_association":"CONTRIBUTOR","body":"Replace BrokerRequest in ServerQueryRequest and SegmentPruner: #5538 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645020532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645020822","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-645020822","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":645020822,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAyMDgyMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:26:56Z","updated_at":"2020-06-16T21:26:56Z","author_association":"CONTRIBUTOR","body":"Replace BrokerRequest in PlanMaker: #5568 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645020822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645021375","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-645021375","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":645021375,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTAyMTM3NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T21:28:16Z","updated_at":"2020-06-16T21:28:16Z","author_association":"CONTRIBUTOR","body":"Some cleanups to simplify the BrokerRequest replacement:\r\n- Clean up the HAVING clause handling: #5570 \r\n- Clean up the query plan printing: #5576 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645021375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645047503","html_url":"https://github.com/apache/pinot/pull/5576#issuecomment-645047503","issue_url":"https://api.github.com/repos/apache/pinot/issues/5576","id":645047503,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTA0NzUwMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T22:39:42Z","updated_at":"2020-06-16T22:39:42Z","author_association":"CONTRIBUTOR","body":"> Let's create a github issue about creating the documentation on annotation guidelines.\r\n\r\n@snleee Good suggestion. Created #5578 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645047503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645068572","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-645068572","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":645068572,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTA2ODU3Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T23:54:10Z","updated_at":"2020-06-16T23:54:10Z","author_association":"CONTRIBUTOR","body":"Replace BrokerRequest in PlanNode: #5579","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645068572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645127226","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-645127226","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":645127226,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTEyNzIyNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T03:36:18Z","updated_at":"2020-06-17T03:36:18Z","author_association":"MEMBER","body":"**Proposal**\r\n\r\n**Quickstart**\r\n- bin/quickstart-batch.sh\r\n- bin/quickstart-stream.sh\r\n- bin/quickstart-hybrid.sh\r\n\r\n**Standalone**\r\n- bin/pinot-admin.sh start-zookeeper <zoo.cfg>\r\n- bin/pinot-admin.sh start-pinot-service <all-in-one.config> \r\n\r\n**clustered mode**\r\n- bin/pinot-admin.sh start-zookeeper <zoo.cfg>\r\n- bin/pinot-admin.sh start-pinot-service <controller.config> \r\n- bin/pinot-admin.sh start-pinot-service <broker.config> \r\n- bin/pinot-admin.sh start-pinot-service <server.config> \r\n\r\n**Ingest data**\r\n\r\nIrrespective of quickstart, standalone or clustered mode, the steps to ingest data will be the same.\r\nCreate Table\r\n```\r\nbin/pinot-admin.sh add-table \\\r\n\t\t-table-config conf/table.json \\\r\n\t\t-table-schema conf/schema.json\r\n```\r\nBatch Ingestion\r\n```\r\nbin/pinot-ingestion-job.sh \\\r\n   -job-spec conf/batch_ingestion_spec.json \r\n```\r\n\r\nThis will help us restrict the documentation to \r\n- controller.config\r\n- server.config\r\n- broker.config\r\n- table-config.json\r\n- table-schema.json\r\n- ingestion-spec.json\r\n\r\nThoughts?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645127226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645539150","html_url":"https://github.com/apache/pinot/issues/5566#issuecomment-645539150","issue_url":"https://api.github.com/repos/apache/pinot/issues/5566","id":645539150,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTUzOTE1MA==","user":{"login":"elonazoulay","id":1587350,"node_id":"MDQ6VXNlcjE1ODczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1587350?v=4","gravatar_id":"","url":"https://api.github.com/users/elonazoulay","html_url":"https://github.com/elonazoulay","followers_url":"https://api.github.com/users/elonazoulay/followers","following_url":"https://api.github.com/users/elonazoulay/following{/other_user}","gists_url":"https://api.github.com/users/elonazoulay/gists{/gist_id}","starred_url":"https://api.github.com/users/elonazoulay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elonazoulay/subscriptions","organizations_url":"https://api.github.com/users/elonazoulay/orgs","repos_url":"https://api.github.com/users/elonazoulay/repos","events_url":"https://api.github.com/users/elonazoulay/events{/privacy}","received_events_url":"https://api.github.com/users/elonazoulay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T18:16:36Z","updated_at":"2020-06-17T18:16:36Z","author_association":"CONTRIBUTOR","body":"Nice! @Sreemanth is quick:) ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645539150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645540941","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-645540941","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":645540941,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTU0MDk0MQ==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T18:20:14Z","updated_at":"2020-06-17T18:20:49Z","author_association":"CONTRIBUTOR","body":"I like the idea of providing a flexible, simplified and unified startup experience regardless of the phase type. \r\n\r\nI have a simple additional requests which might be worth a dedicated topic on its own. Yet I'll mention it here because it might influence the design.\r\n\r\nA `<service>.config` file will indeed simplify the configuration management for documentation and code maintenance. Right now, args needs to be declared in the CLI options class as well as in a Commons Configuration properties class. I would like to suggest that any properties loaded from `<service>.config` could be also passed as environment variable and CLI argument.\r\n\r\nConfig files are great for packaging config profiles that you ship with your deployment but are not friendly to Cloud Native deployments. For Docker and Kubernetes, they would require declaring and mounting volumes when a simple ENV VAR or CLI arg would have done the job. Pinot uses Apache Commons Configuration which supports Composite configuration properties classes that allows to define a hierarchy of sources for configuration. Done right, I think there is an importunity to support pluggable configurations provider (could even support config providers such as Vault or cloud KSM for instance).\r\n\r\nIn short, providing support and quick start examples based on config file is a good choice, but power users and clusters operators would certainly benefits from env var and cli args support since they would enable cleaner and simplified deployment manifest without requiring volumes mounts.\r\n\r\nThe Spring project implements an `Environment` abstraction with [prioritized config sources](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config) decoupled from the application code which should be a good inspiration to follow. Even Quarkus has that concept.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645540941/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645555009","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-645555009","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":645555009,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTU1NTAwOQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T18:47:29Z","updated_at":"2020-06-17T18:47:29Z","author_association":"MEMBER","body":"@daniellavoie Great points and it makes sense given we do have to consider Kubernetes/Docker \r\n\r\nLet's try to summarize the different things we want to support\r\n- bin/pinot-admin.sh start-pinot-service -config-file <service>.config\r\n- bin/pinot-admin.sh start-pinot-service -config-env <config_env_name>\r\n\r\nwe can obviously enhance start-pinot-service to support other options in future.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645555009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645596746","html_url":"https://github.com/apache/pinot/issues/5582#issuecomment-645596746","issue_url":"https://api.github.com/repos/apache/pinot/issues/5582","id":645596746,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTU5Njc0Ng==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T20:09:20Z","updated_at":"2020-06-17T20:09:20Z","author_association":"CONTRIBUTOR","body":"We should do the stream operations (e.g. get number of partitions, in this case) in a separate thread, and report a time-out if that fails. The only problem is that the stream implementation may hang indefinitely, eating up one thread.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645596746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645603669","html_url":"https://github.com/apache/pinot/issues/5582#issuecomment-645603669","issue_url":"https://api.github.com/repos/apache/pinot/issues/5582","id":645603669,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTYwMzY2OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T20:21:47Z","updated_at":"2020-06-17T20:21:47Z","author_association":"MEMBER","body":"For now, even propagating the error message to the user is good enough","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645603669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645626675","html_url":"https://github.com/apache/pinot/issues/5583#issuecomment-645626675","issue_url":"https://api.github.com/repos/apache/pinot/issues/5583","id":645626675,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTYyNjY3NQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T21:10:32Z","updated_at":"2020-06-17T21:10:32Z","author_association":"CONTRIBUTOR","body":"Current controller has `/version` api.\r\nSample output:\r\n```\r\n{\r\n  \"pinot-kafka-2.0\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-avro\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-distribution\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-csv\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-batch-ingestion-standalone\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-thrift\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-confluent-avro\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-orc\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-batch-ingestion-spark\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-gcs\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-batch-ingestion-hadoop\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-hdfs\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-adls\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-json\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\",\r\n  \"pinot-parquet\": \"0.4.0-SNAPSHOT-2553899cd8c86bca79334219edae26dde909d3c5\"\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645626675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645638915","html_url":"https://github.com/apache/pinot/issues/5583#issuecomment-645638915","issue_url":"https://api.github.com/repos/apache/pinot/issues/5583","id":645638915,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTYzODkxNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T21:38:20Z","updated_at":"2020-06-17T21:38:20Z","author_association":"MEMBER","body":"Awesome!\r\n\r\nWhere is this coming from? is this only showing the plugin versions","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645638915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645642684","html_url":"https://github.com/apache/pinot/issues/5583#issuecomment-645642684","issue_url":"https://api.github.com/repos/apache/pinot/issues/5583","id":645642684,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY0MjY4NA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T21:47:03Z","updated_at":"2020-06-17T21:47:03Z","author_association":"CONTRIBUTOR","body":"From here:\r\nhttps://github.com/apache/incubator-pinot/blob/master/pinot-common/src/main/java/org/apache/pinot/common/Utils.java#L115\r\n\r\nyou can find `pinot-distribution` which is the main pinot version.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645642684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645651888","html_url":"https://github.com/apache/pinot/pull/5555#issuecomment-645651888","issue_url":"https://api.github.com/repos/apache/pinot/issues/5555","id":645651888,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY1MTg4OA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T22:08:36Z","updated_at":"2020-06-17T22:08:36Z","author_association":"CONTRIBUTOR","body":"> LGTM. What's the log size limit for github actions?\r\n\r\ni don't find that explicitly. So we will find once we exceed that.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645651888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645661712","html_url":"https://github.com/apache/pinot/pull/5568#issuecomment-645661712","issue_url":"https://api.github.com/repos/apache/pinot/issues/5568","id":645661712,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY2MTcxMg==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T22:35:54Z","updated_at":"2020-06-17T22:35:54Z","author_association":"CONTRIBUTOR","body":"I think we can avoid touching all the test files by keeping the planner interface same. Why do we have to change it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645661712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645664128","html_url":"https://github.com/apache/pinot/pull/5568#issuecomment-645664128","issue_url":"https://api.github.com/repos/apache/pinot/issues/5568","id":645664128,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY2NDEyOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T22:43:06Z","updated_at":"2020-06-17T22:43:06Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia I refactored the interface to resolve the TODO of using `IndexSegment` instead of `SegmentDataManager`. The refactor is not closely related to the QueryContext change, but since I need to touch the interface nonetheless, I decided to resolve the TODO all together.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645664128/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645672057","html_url":"https://github.com/apache/pinot/pull/4925#issuecomment-645672057","issue_url":"https://api.github.com/repos/apache/pinot/issues/4925","id":645672057,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY3MjA1Nw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T23:08:29Z","updated_at":"2020-06-17T23:08:29Z","author_association":"CONTRIBUTOR","body":"No longer needed after introducing the new Predicate classes in QueryContext (#5483)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645672057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645672394","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-645672394","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":645672394,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY3MjM5NA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-17T23:09:30Z","updated_at":"2020-06-17T23:09:30Z","author_association":"CONTRIBUTOR","body":"Replace BrokerRequest in filtering layer: #5584 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/645672394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646090691","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-646090691","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":646090691,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjA5MDY5MQ==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T15:19:30Z","updated_at":"2020-06-18T15:19:30Z","author_association":"CONTRIBUTOR","body":"I rebased the PR on latest changes from upstream.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646090691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646193640","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-646193640","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":646193640,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjE5MzY0MA==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T17:20:59Z","updated_at":"2020-06-18T17:20:59Z","author_association":"CONTRIBUTOR","body":"> (1) Have you run swagger and clicked on (hopefully all) links to make sure they work fine?\r\n\r\nI did test swagger successfully with https. Can provide a screenshot if you want ;)\r\n\r\n> (2) Can we use this as a model commit? :)\r\n\r\nBe my guest :)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646193640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646196278","html_url":"https://github.com/apache/pinot/pull/5543#issuecomment-646196278","issue_url":"https://api.github.com/repos/apache/pinot/issues/5543","id":646196278,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjE5NjI3OA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T17:23:51Z","updated_at":"2020-06-18T17:23:51Z","author_association":"CONTRIBUTOR","body":"> > (1) Have you run swagger and clicked on (hopefully all) links to make sure they work fine?\r\n> \r\n> I did test swagger successfully with https. Can provide a screenshot if you want ;)\r\n> \r\nNo screenshot needed. Just wanted to make sure. Thanks.\r\n\r\n> > (2) Can we use this as a model commit? :)\r\n> \r\n> Be my guest :)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646196278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646255855","html_url":"https://github.com/apache/pinot/issues/5590#issuecomment-646255855","issue_url":"https://api.github.com/repos/apache/pinot/issues/5590","id":646255855,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjI1NTg1NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T19:15:12Z","updated_at":"2020-06-18T19:15:12Z","author_association":"MEMBER","body":"https://github.com/swagger-api/swagger-codegen\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646255855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646260325","html_url":"https://github.com/apache/pinot/issues/5583#issuecomment-646260325","issue_url":"https://api.github.com/repos/apache/pinot/issues/5583","id":646260325,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjI2MDMyNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T19:24:28Z","updated_at":"2020-06-18T19:24:28Z","author_association":"MEMBER","body":"Cool.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646260325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646833937","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-646833937","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":646833937,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjgzMzkzNw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T19:43:56Z","updated_at":"2020-06-19T19:43:56Z","author_association":"CONTRIBUTOR","body":"Enhance Predicate.toString() to return valid expression: #5594 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646833937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646892388","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-646892388","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":646892388,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njg5MjM4OA==","user":{"login":"satishbellapu","id":1003840,"node_id":"MDQ6VXNlcjEwMDM4NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1003840?v=4","gravatar_id":"","url":"https://api.github.com/users/satishbellapu","html_url":"https://github.com/satishbellapu","followers_url":"https://api.github.com/users/satishbellapu/followers","following_url":"https://api.github.com/users/satishbellapu/following{/other_user}","gists_url":"https://api.github.com/users/satishbellapu/gists{/gist_id}","starred_url":"https://api.github.com/users/satishbellapu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishbellapu/subscriptions","organizations_url":"https://api.github.com/users/satishbellapu/orgs","repos_url":"https://api.github.com/users/satishbellapu/repos","events_url":"https://api.github.com/users/satishbellapu/events{/privacy}","received_events_url":"https://api.github.com/users/satishbellapu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T23:12:06Z","updated_at":"2020-06-19T23:12:52Z","author_association":"CONTRIBUTOR","body":"If you are designing CLI here are the few suggestions,\r\n\r\nCommand should be #pinot in the terminal,\r\n\r\n```\r\nUsage:\r\n    pinot [command] [options]\r\n\r\nAvailable Commands:\r\n    start\r\n    stop\r\n\r\nAvailable Options:\r\n    batch (quickstart-batch)\r\n    stream (quickstart-stream)\r\n    hybrid (quickstart-hybrid)\r\n    zookeeper(standalone-zookeeper or clustered-zookeeper)\r\n    services(standalone-services)\r\n    controller(clustered-service)\r\n    broker(clustered-service)\r\n    server(clustered-service)\r\n\r\nFlags:\r\n    -h, --help\r\n    -v, --verbose etc.\r\n```\r\n\r\n```\r\nexport PINOT_CONF=/some/location/<all-in-one.config> or <zoo.cfg> or <controller.config> or <broker.config> or <server.config>\r\nexport PINOT_MODE=quickstart / standalone / clustered\r\n```\r\n\r\n`Use \"pinot [command] [options] --help\" for more information about a command.`\r\n\r\n \r\n\r\nInstead of passing the configurations to the commands we can export the configuration folder so based on the options choice, it can select expected configurations, this will be more flexible in the future for expanding to other options.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646892388/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646893509","html_url":"https://github.com/apache/pinot/pull/5595#issuecomment-646893509","issue_url":"https://api.github.com/repos/apache/pinot/issues/5595","id":646893509,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njg5MzUwOQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T23:16:52Z","updated_at":"2020-06-19T23:16:52Z","author_association":"MEMBER","body":"thanks, will push it after the build passes","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646893509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646894696","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-646894696","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":646894696,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njg5NDY5Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T23:21:54Z","updated_at":"2020-06-19T23:21:54Z","author_association":"MEMBER","body":"@satishbellapu, thanks. This is definitely better than what I suggested. @daniellavoie what do you think?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646894696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646898344","html_url":"https://github.com/apache/pinot/issues/5596#issuecomment-646898344","issue_url":"https://api.github.com/repos/apache/pinot/issues/5596","id":646898344,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njg5ODM0NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T23:38:21Z","updated_at":"2020-06-19T23:38:21Z","author_association":"MEMBER","body":"@jasperjiaguo I think I know what you are talking about but it will be good to provide examples.\r\n\r\nFew things \r\n- going to the other extreme can also be bad in edge cases.\r\n- how do we define large bitmap\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646898344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646910972","html_url":"https://github.com/apache/pinot/issues/5596#issuecomment-646910972","issue_url":"https://api.github.com/repos/apache/pinot/issues/5596","id":646910972,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjkxMDk3Mg==","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T00:59:25Z","updated_at":"2020-06-20T21:56:20Z","author_association":"CONTRIBUTOR","body":"1. I have considered 2 extreme cases:\r\n a. We have a long consecutive rows of hit in each column. In this case, yes we can loose locality because we are essentially doing row by row scanning. However, now the condition we are using to switch between the two approaches is `(numIndexBasedDocIdIterators > 0 && numScanBasedDocIdIterators > 0) || numIndexBasedDocIdIterators > 1` which is essentially using the \"number of bitmaps we have in and-predicate >= 2\". I think \"the percentage of bits set in bitmap\" can be a better criteria and is equally easy to get.   \r\n b. Say A is a bitmapIterator and B is a MVScanDocIdIterator. If it's in this shape (1 is hit and 0 is miss):\r\n![Screen Shot 2020-06-19 at 7 58 50 PM](https://user-images.githubusercontent.com/10736840/85186490-4ce9fc80-b267-11ea-81a6-86bfe213a9c2.png)\r\nThen indeed by only using approach in `AndDocIdIterator.next()` is insufficient; so I have proposed a solution for this in my branch by passing the bitmapIterator to  `SVScanDocIdIterator.advance()` and `MVScanDocIdIterator.advance()`. \r\n2. Agreed. I'm setting up some experiments.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646910972/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646921816","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-646921816","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":646921816,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjkyMTgxNg==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T02:18:09Z","updated_at":"2020-06-20T02:23:48Z","author_association":"CONTRIBUTOR","body":"Definitely an upgrade! This is a lot more consistent to the experience you get in the go / node cli world. \r\n\r\n### Foreground or background\r\n\r\nI feel the CLI should start the service in foreground by default unless specified otherwise. As such, only the `stop` command should only be accepted when a command like `start-background` was used. Starting in foreground sounds more natural for Docker and Kubernetes deployments. Also, if you are starting the CLI as a developper, you get immediate output in your terminal without looking for log files anywhere.\r\n\r\n### Feeding properties from multiple sources.\r\n\r\nAs per my previous comment, I'm working on supporting an abstraction that decouples the property sources from the code base. This is a heavy refactoring that introduces a wrapper around the `org.apache.commons.configuration.Configuration` used all over Pinot. This wrapper introduces a concept of `CompositeConfiguration` that can accept variables from CLI args, environment variables and property files specified by `config.paths`. This new wrapper also introduces a concept of relaxed binding. What it means is that it knows how to translate environment variables such as `PINOT_CONTROLER_PORT` to properties `controller.port`. When properties are inserted and fetched from the environment, they go through relaxing routine that standardize their key so that lookup such \r\nas `config.getPropert(\"controller.port\")` return the value even if it was defined by the `PINOT_CONTROLER_PORT` env variable . As I exposed in my previous comment, this is intended to offer a transparent mechanism to drive Pinot configuration without requiring config files that are hard to reference in a deployment manifest without volumes.\r\n\r\n### Passing Pinot properties to the CLI.\r\n\r\nGiven the new CLI. I would think it would be nice if any property loaded in `org.apache.commons.configuration.Configuration` could be passed as argument in the startup command, e.g.:\r\n\r\n```\r\n$ pinot start controller --help\r\n\r\nUsage:\r\n    pinot start controller [options]\r\n\r\nAvailable Options:\r\n    --help, -h\r\n    --debug\r\n    --controler.port=<port>\r\n    --controler.host=<hostname>\r\n    --cluster-name=<cluster-name>\r\n    --[etc]\r\n    ...\r\n\r\n   Refer to Pinot Documentation at https://docs.pinot.apache.org/basics/components/controller#starting-a-controller for full reference of all available properties for the Controller.\r\n```\r\n\r\nNow, if we want to allow any Pinot config properties to be passed through a `pinot` cli, I feel we might have to drop `args4j` since it requires any CLI argument to be explicitly annotated in a `SubCommand` object. I think overall, Pinot has more than 100 properties used all over the place and does not feel like it would be maintainable over time to require manual binding between a `SubCommand` class and the `org.apache.commons.configuration.Configuration` class. Rewriting a custom CLI with his own main startup class would grant access to the main `args` and let us parse all properties and inject them in the new `CompositeConfiguration` to merge them with the env variables and explicit config files.\r\n\r\nLast but not least, it would also remove the property validation made by the `args4j` annotation properties. With this mechanism, we have inconsistent validation between what is passed by the CLI and what is passed as config file properties. This is an opportunity to centralize validation regardless of the property source.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646921816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646926194","html_url":"https://github.com/apache/pinot/pull/5587#issuecomment-646926194","issue_url":"https://api.github.com/repos/apache/pinot/issues/5587","id":646926194,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjkyNjE5NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T02:52:07Z","updated_at":"2020-06-20T02:52:07Z","author_association":"MEMBER","body":"is this ready for review?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646926194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646942203","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-646942203","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":646942203,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njk0MjIwMw==","user":{"login":"satishbellapu","id":1003840,"node_id":"MDQ6VXNlcjEwMDM4NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1003840?v=4","gravatar_id":"","url":"https://api.github.com/users/satishbellapu","html_url":"https://github.com/satishbellapu","followers_url":"https://api.github.com/users/satishbellapu/followers","following_url":"https://api.github.com/users/satishbellapu/following{/other_user}","gists_url":"https://api.github.com/users/satishbellapu/gists{/gist_id}","starred_url":"https://api.github.com/users/satishbellapu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishbellapu/subscriptions","organizations_url":"https://api.github.com/users/satishbellapu/orgs","repos_url":"https://api.github.com/users/satishbellapu/repos","events_url":"https://api.github.com/users/satishbellapu/events{/privacy}","received_events_url":"https://api.github.com/users/satishbellapu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T05:07:14Z","updated_at":"2020-06-20T05:07:14Z","author_association":"CONTRIBUTOR","body":"@daniellavoie  few comments,\r\n\r\n**Foreground or background :**\r\n\r\nI feel Foreground option will not be much useful unless for the quick start or someone trying the system for the first timers, because you have to close the services and relaunch in background for long running the system, instead of that we can support only one mode which is background and add the following command for debugging or exploration purpose,\r\n\r\n```\r\npinot start [options] //always launch the services background\r\npinot log [options] //ex., pinot log zookeeper \r\n```\r\nShould tail the zookeeper logs for debug purpose and also not required to close the session and relaunch the for continues running, CLI will not be restricted for development only can be used for production as well.\r\n\r\nAfter rechecking @kishoreg  requirements for ingest, we can add load command to the CLI,\r\n\r\n```\r\nEx.. pinot load [load.config]\r\n\r\n load-file.config\r\n //content\r\n table.name : [table-name] \r\n data-to-load : [pathc/batch_ingestion_spec.json]\r\n \r\n```\r\nThis way the tool can be used for multipurpose and also can launch commands one after the other without killing the CLI and that will be so helpful for having auto launcher scripts by support teams/devOps etc.\r\n\r\n```\r\nAvailable Commands:\r\n    start\r\n    stop\r\n    log\r\n    load\r\n```\r\n\r\n**Passing Pinot properties to the CLI.**\r\n\r\nI feel adding options like `--controler.port=<port> or --cluster-name=<cluster-name>` \r\nto the CLI will be bad design and can’t be scalable, we should restrict the options at service level like,\r\n```\r\nOptions:\r\n     zookeeper \r\n     broker \r\n     controller etc\r\n```\r\n\r\nAnd the options like brokers ulr, hosts or ports etc should be part of the properties/config file, that way you can still parse by args4j annotation properties and validate before passing to the systems, and at CLI level you only need to validate on predefine commands and options.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/646942203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647009056","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-647009056","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":647009056,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzAwOTA1Ng==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-20T15:22:19Z","updated_at":"2020-06-20T15:22:19Z","author_association":"CONTRIBUTOR","body":"> **Foreground or background :**\r\n> \r\n> I feel Foreground option will not be much useful unless for the quick start or someone trying the system for the first timers, because you have to close the services and relaunch in background for long running the system, instead of that we can support only one mode which is background and add the following command for debugging or exploration purpose,\r\n\r\nI have to disagree here. We should pause this conversation and take a step back and set ourselves goals. One of the big theme that I would like to see improvement is to make Pinot more friendly to Cloud Native deployments. If you want to run something in a container based environnement, it needs to run in foreground to fully embraces all the container lifecycle management offered by the container orchestrator. Logging management is also simplified because your container orchestrator only needs to retreive the stdout and stderr to forward to a logging platform. As for configuration management; environment variables and cli arguments composes the best practices to operate Cloud Native services. \r\n\r\nI do agree that there is use cases to run Pinot a a traditional Service Daemon. Once you have a well designed foreground service launcher, it is really easy to wrap it with a service package (such as Systemd) that turns it in a background process. Let me be clear, we have to offer an option for operators to run Pinot in foreground. If our base operating model is background, then we have to retrofit foreground semantics and it will an awkward exercice. It a lot easier to turn a foreground process to background.\r\n\r\n> I feel adding options like --controler.port=<port> or --cluster-name=<cluster-name>\r\nto the CLI will be bad design and can’t be scalable, we should restrict the options at service level like. And the options like brokers ulr, hosts or ports etc should be part of the properties/config file, that way you can still parse by args4j annotation properties and validate before passing to the systems, and at CLI level you only need to validate on predefine commands and options.\r\n\r\nAs I explained earlier, property files are not what best practices guide to operate Cloud Native software. Works great for local dev environment but is not what is recommended for operating software on Cloud platforms. This is not bad design. Modern cloud native software all adopt this pattern. I already have a prototype of Pinot that uses this configuration pattern in a scalable way. Maintaining specific binding through `args4j` and manually wiring them the system configuration is, in my opinion, not scalable. Pinot should offer the best \"ready to go\" default properties and let you overwrite them the way that pleases you.\r\n\r\n@satishbellapu, my understanding is that you wish to offer a better \"Pinot in a box\" experience for developers who wish to iterate quickly on their environment. I think there is a lot of value there. My conclusion is that maybe we should have separate story to align when these two different goals. I honestly think they should be materialized in two separate tools. The operator focused `pinot` cli that aims to offer maximum flexibility for operators to run Pinot Services with freedom of choice regarding their target platform. And a `pinot-dev` cli that downloads, install dependencies and runs Pinot Services in an opinionated way to get productive. Under the hood, it would make a lot of sense for it to run pinot with the \"lower level\" `pinot` CLI. What do you think of that suggestion?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647009056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647093536","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-647093536","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":647093536,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzA5MzUzNg==","user":{"login":"satishbellapu","id":1003840,"node_id":"MDQ6VXNlcjEwMDM4NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1003840?v=4","gravatar_id":"","url":"https://api.github.com/users/satishbellapu","html_url":"https://github.com/satishbellapu","followers_url":"https://api.github.com/users/satishbellapu/followers","following_url":"https://api.github.com/users/satishbellapu/following{/other_user}","gists_url":"https://api.github.com/users/satishbellapu/gists{/gist_id}","starred_url":"https://api.github.com/users/satishbellapu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishbellapu/subscriptions","organizations_url":"https://api.github.com/users/satishbellapu/orgs","repos_url":"https://api.github.com/users/satishbellapu/repos","events_url":"https://api.github.com/users/satishbellapu/events{/privacy}","received_events_url":"https://api.github.com/users/satishbellapu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T07:55:12Z","updated_at":"2020-06-21T07:55:12Z","author_association":"CONTRIBUTOR","body":"> We should pause this conversation and take a step back and set ourselves goals.\r\n\r\nYes I agree, I was recommending the CLI, for non-container based deployments (not for docker/kube/gcp/az etc.), I was trying to improve the initial proposals from @kishoreg  they are more specific requirements towards the local cluster than cloud.\r\n\r\n> One of the big theme that I would like to see improvement is to make Pinot more friendly to Cloud Native deployments.\r\n\r\nI am not sure you really want to have a wrappers on top of kubctl/docker/aws/gcp etc I see good documentation with cloud native deployments from [pinot](https://docs.pinot.apache.org/basics/getting-started/kubernetes-quickstart), and more specifically users will be more familiar with the kubctl and eksctl cmds. (sorry for my ignorance if this is totally not making sense, understandable because I am new to the pinot and not sure of the usability issues.)\r\n\r\n\r\n> my understanding is that you wish to offer a better \"Pinot in a box\" experience for developers who wish to iterate quickly on their environment. I think there is a lot of value there. My conclusion is that maybe we should have separate story to align when these two different goals\r\n\r\nYes totally agree, container based deployment vs non container base deployments should have different CLI’s.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647093536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647168833","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-647168833","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":647168833,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzE2ODgzMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T19:12:21Z","updated_at":"2020-06-21T19:12:21Z","author_association":"MEMBER","body":"There was no change in the code related to segment creation. \r\n\r\n@mcvsubbu @npawar @Jackie-Jiang  any idea whats going on here?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647168833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647259914","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-647259914","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":647259914,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzI1OTkxNA==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T04:01:49Z","updated_at":"2020-06-22T04:01:49Z","author_association":"CONTRIBUTOR","body":"The last few lines of the log shows\r\n```\r\n2020/06/21 11:26:45.012 INFO [SegmentDictionaryCreator] [jeepusermap__1__0__20200621T1125Z] Using fixed bytes value dictionary for column: field4, size: 0\r\n2020/06/21 11:26:45.012 INFO [SegmentDictionaryCreator] [jeepusermap__1__0__20200621T1125Z] Created dictionary for STRING column: field4 with cardinality: 1, max length in bytes: 0, range:  to\r\n2020/06/21 11:26:45.036 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__2__0__20200621T1125Z] Start building IndexCreator!\r\n2020/06/21 11:26:45.102 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__0__0__20200621T1125Z] Start building IndexCreator!\r\n2020/06/21 11:26:45.113 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__1__0__20200621T1125Z] Start building IndexCreator!\r\n2020/06/21 11:26:45.433 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__2__0__20200621T1125Z] Finished records indexing in IndexCreator!\r\n2020/06/21 11:26:45.470 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__0__0__20200621T1125Z] Finished records indexing in IndexCreator!\r\n2020/06/21 11:26:45.473 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__1__0__20200621T1125Z] Finished records indexing in IndexCreator!\r\n2020/06/21 11:26:48.632 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__2__0__20200621T1125Z] Finished segment seal!\r\n2020/06/21 11:26:48.638 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__1__0__20200621T1125Z] Finished segment seal!\r\n2020/06/21 11:26:48.674 INFO [SegmentIndexCreationDriverImpl] [jeepusermap__0__0__20200621T1125Z] Finished segment seal!\r\n2020/06/21 11:27:22.204 ERROR [LLRealtimeSegmentDataManager_jeepusermap__0__0__20200621T1125Z] [jeepusermap__0__0__20200621T1125Z] Could not build segment\r\njava.io.IOException: Unable to delete directory /var/pinot/server/data/index/jeepusermap_REALTIME/_tmp/tmp-jeepusermap__0__0__20200621T1125Z-1592738788709/tmp-1592738788896-2704508350342974686.\r\n        at org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1541) ~[pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n        at org.apache.commons.io.FileUtils.move\r\n```\r\nLooks like the segment sealed successfully but failed to delete the tmp folder. \r\nIf you could paste more logs (esp after the exception) we might have more clues. Might be some permission issues.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647259914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647788944","html_url":"https://github.com/apache/pinot/pull/5599#issuecomment-647788944","issue_url":"https://api.github.com/repos/apache/pinot/issues/5599","id":647788944,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Nzc4ODk0NA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T21:55:29Z","updated_at":"2020-06-22T21:55:29Z","author_association":"CONTRIBUTOR","body":"I'd like to take a look at this later today","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647788944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647826615","html_url":"https://github.com/apache/pinot/issues/5577#issuecomment-647826615","issue_url":"https://api.github.com/repos/apache/pinot/issues/5577","id":647826615,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzgyNjYxNQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T23:54:59Z","updated_at":"2020-06-22T23:54:59Z","author_association":"CONTRIBUTOR","body":"Replace BrokerRequest in Operators and DataTableReducers: #5605 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/647826615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648288787","html_url":"https://github.com/apache/pinot/issues/5590#issuecomment-648288787","issue_url":"https://api.github.com/repos/apache/pinot/issues/5590","id":648288787,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODI4ODc4Nw==","user":{"login":"jgutmann","id":2274588,"node_id":"MDQ6VXNlcjIyNzQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/2274588?v=4","gravatar_id":"","url":"https://api.github.com/users/jgutmann","html_url":"https://github.com/jgutmann","followers_url":"https://api.github.com/users/jgutmann/followers","following_url":"https://api.github.com/users/jgutmann/following{/other_user}","gists_url":"https://api.github.com/users/jgutmann/gists{/gist_id}","starred_url":"https://api.github.com/users/jgutmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgutmann/subscriptions","organizations_url":"https://api.github.com/users/jgutmann/orgs","repos_url":"https://api.github.com/users/jgutmann/repos","events_url":"https://api.github.com/users/jgutmann/events{/privacy}","received_events_url":"https://api.github.com/users/jgutmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T16:56:37Z","updated_at":"2020-06-23T16:56:37Z","author_association":"CONTRIBUTOR","body":"Hi @kishoreg, do you have some commands or operations in mind which you would like to see prioritized for this?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648288787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648322115","html_url":"https://github.com/apache/pinot/issues/5598#issuecomment-648322115","issue_url":"https://api.github.com/repos/apache/pinot/issues/5598","id":648322115,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODMyMjExNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T17:56:12Z","updated_at":"2020-06-23T17:56:12Z","author_association":"MEMBER","body":"@ karthikkakolu is also interested in this. Karthik, can you please add your requirements","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648322115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648347552","html_url":"https://github.com/apache/pinot/pull/5597#issuecomment-648347552","issue_url":"https://api.github.com/repos/apache/pinot/issues/5597","id":648347552,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODM0NzU1Mg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T18:46:46Z","updated_at":"2020-06-23T18:46:46Z","author_association":"CONTRIBUTOR","body":"> Can you add some tests for filter expressions like a > 5 && b < 6 ?\r\n> You should be able to set up an ingestion stream with a few records and assert on what made it and what did not?\r\n> \r\n> Overall, since we are modifying tableConfig, please get at least one more review. I suggest Jackie\r\n\r\nThe SegmentGenerationWithFilter test is testing that scenario: https://github.com/apache/incubator-pinot/pull/5597/files#diff-96ecfde3e8fe147dca591c7ee6c3c563 \r\nI plan to add an integration test soon, for all transformations","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648347552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648358328","html_url":"https://github.com/apache/pinot/issues/5609#issuecomment-648358328","issue_url":"https://api.github.com/repos/apache/pinot/issues/5609","id":648358328,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODM1ODMyOA==","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T19:04:54Z","updated_at":"2020-06-23T19:04:54Z","author_association":"CONTRIBUTOR","body":"@pradeepgv42 can you also provide your use case here.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648358328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648362957","html_url":"https://github.com/apache/pinot/issues/5550#issuecomment-648362957","issue_url":"https://api.github.com/repos/apache/pinot/issues/5550","id":648362957,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODM2Mjk1Nw==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T19:10:18Z","updated_at":"2020-06-23T19:10:18Z","author_association":"CONTRIBUTOR","body":"(Sorry, just noticed this, missed your reply earlier)\r\n\r\nI can definitely monitor it outside of Pinot, querying timestamp\r\nof the latest entry or based on consumer offsets as you mentioned. \r\nSomething approximate should work for us for now atleast.\r\n\r\nThanks for the resources, I was not aware of Burrow & kafka-lag-exporter.\r\nI was thinking if Pinot already provided these I could avoid adding the extra layer, \r\nbut given these systems help me monitor all the consumers it will definitely be \r\nworthwhile to go with them.\r\n\r\nI will keep this issue open, incase you folks want to keep it in the feature list \r\nfor future sometime or otherwise I am fine with closing it too.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648362957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648365976","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-648365976","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":648365976,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODM2NTk3Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T19:16:39Z","updated_at":"2020-06-23T19:16:39Z","author_association":"MEMBER","body":"There are a lot of good ideas in this thread. @daniellavoie, can you please summarize and edit the description. We can tag the requirements in as phase1, phase 2 etc","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648365976/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648366114","html_url":"https://github.com/apache/pinot/issues/5609#issuecomment-648366114","issue_url":"https://api.github.com/repos/apache/pinot/issues/5609","id":648366114,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODM2NjExNA==","user":{"login":"pradeepgv42","id":66842697,"node_id":"MDQ6VXNlcjY2ODQyNjk3","avatar_url":"https://avatars.githubusercontent.com/u/66842697?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepgv42","html_url":"https://github.com/pradeepgv42","followers_url":"https://api.github.com/users/pradeepgv42/followers","following_url":"https://api.github.com/users/pradeepgv42/following{/other_user}","gists_url":"https://api.github.com/users/pradeepgv42/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepgv42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepgv42/subscriptions","organizations_url":"https://api.github.com/users/pradeepgv42/orgs","repos_url":"https://api.github.com/users/pradeepgv42/repos","events_url":"https://api.github.com/users/pradeepgv42/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepgv42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-23T19:16:55Z","updated_at":"2020-06-23T19:16:55Z","author_association":"CONTRIBUTOR","body":"time window based folders would help in ease of accounting and maintaining the segments.\r\nFor example, \r\n* if we want to delete the segments beyond a certain date.\r\n* understand the segment sizes grouped by time","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648366114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648514422","html_url":"https://github.com/apache/pinot/issues/5610#issuecomment-648514422","issue_url":"https://api.github.com/repos/apache/pinot/issues/5610","id":648514422,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODUxNDQyMg==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T00:37:00Z","updated_at":"2020-06-24T00:37:00Z","author_association":"CONTRIBUTOR","body":"@fx19880617 , do we have the segments handy? We can load the segment and look into the file header to see number of documents per chunk. I had made an improvement (as part of supporting text blobs for text index) by deriving the number of documents per chunk based on the length of data as opposed to hard coded 1000. So if we pack more than 1000 rows per chunk, the size of each chunk will increase. \r\n\r\nI don't think that would be the issue since I had this PR https://github.com/apache/incubator-pinot/pull/5470 which was included in the 0.4.0 release (a new RC was cut by Haibo to include this) and actually made this behavior configurable (disabled by default) ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648514422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648562581","html_url":"https://github.com/apache/pinot/issues/5610#issuecomment-648562581","issue_url":"https://api.github.com/repos/apache/pinot/issues/5610","id":648562581,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODU2MjU4MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T03:34:35Z","updated_at":"2020-06-24T03:34:35Z","author_association":"CONTRIBUTOR","body":"Segments are not handy and downloadable, I feel I need to write a program to run in prod then load segment and see the file headers. Those segments are created using 0.3.0 release.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648562581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648783983","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-648783983","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":648783983,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODc4Mzk4Mw==","user":{"login":"SudhaGarimella","id":26456419,"node_id":"MDQ6VXNlcjI2NDU2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/26456419?v=4","gravatar_id":"","url":"https://api.github.com/users/SudhaGarimella","html_url":"https://github.com/SudhaGarimella","followers_url":"https://api.github.com/users/SudhaGarimella/followers","following_url":"https://api.github.com/users/SudhaGarimella/following{/other_user}","gists_url":"https://api.github.com/users/SudhaGarimella/gists{/gist_id}","starred_url":"https://api.github.com/users/SudhaGarimella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SudhaGarimella/subscriptions","organizations_url":"https://api.github.com/users/SudhaGarimella/orgs","repos_url":"https://api.github.com/users/SudhaGarimella/repos","events_url":"https://api.github.com/users/SudhaGarimella/events{/privacy}","received_events_url":"https://api.github.com/users/SudhaGarimella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T12:16:11Z","updated_at":"2020-06-24T12:49:35Z","author_association":"NONE","body":"@haibow : [seg-create-issue.txt](https://github.com/apache/incubator-pinot/files/4825293/seg-create-issue.txt)\r\n\r\nSorry did not realize that it was truncated. Please check this one.  Please check attached file.\r\n\r\nBelow is extracted from attached file\r\n\r\njava.io.IOException: Unable to delete directory /var/pinot/server/data/index/jeepusermap_REALTIME/_tmp/tmp-jeepusermap__0__40__20200623T1858Z-1592999308227/tmp-1592999308462--859419267052440122.\r\n\tat org.apache.commons.io.FileUtils.deleteDirectory(FileUtils.java:1541) ~[pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.commons.io.FileUtils.moveDirectory(FileUtils.java:2756) ~[pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.pinot.core.segment.creator.impl.SegmentIndexCreationDriverImpl.handlePostCreation(SegmentIndexCreationDriverImpl.java:230) ~[pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.pinot.core.segment.creator.impl.SegmentIndexCreationDriverImpl.build(SegmentIndexCreationDriverImpl.java:199) ~[pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.pinot.core.realtime.converter.RealtimeSegmentConverter.build(RealtimeSegmentConverter.java:141) ~[pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.pinot.core.data.manager.realtime.LLRealtimeSegmentDataManager.buildSegmentInternal(LLRealtimeSegmentDataManager.java:720) [pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.pinot.core.data.manager.realtime.LLRealtimeSegmentDataManager.buildSegmentForCommit(LLRealtimeSegmentDataManager.java:671) [pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat org.apache.pinot.core.data.manager.realtime.LLRealtimeSegmentDataManager$PartitionConsumer.run(LLRealtimeSegmentDataManager.java:588) [pinot-all-0.4.0-jar-with-dependencies.jar:0.4.0-8355d2e0e489a8d127f2e32793671fba505628a8]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n\r\n\r\n2020/06/24 11:49:38.926 INFO [LLRealtimeSegmentDataManager_jeepusermap__1__38__20200623T1849Z] [jeepusermap__1__38__20200623T1849Z] Consumed 19866 events from (rate:331.08344/s), currentOffset=196880089, numRowsConsumedSoFar=99773, numRowsIndexedSoFar=99773\r\n2020/06/24 11:49:39.019 INFO [LLRealtimeSegmentDataManager_jeepusermap__2__54__20200623T1843Z] [jeepusermap__2__54__20200623T1843Z] Consumed 20005 events from (rate:333.39444/s), currentOffset=197074187, numRowsConsumedSoFar=100182, numRowsIndexedSoFar=100182\r\n\r\n2020/06/24 11:53:06.296 INFO [LLRealtimeSegmentDataManager_jeepusermap__1__38__20200623T1849Z] [jeepusermap__1__38__20200623T1849Z] Stopping consumption due to row limit nRows=169204 numRowsIndexed=169204, numRowsConsumed=169204\r\n2020/06/24 11:53:06.305 INFO [FileUploadDownloadClient] [jeepusermap__1__38__20200623T1849Z] Sending request: http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204 to controller: pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local, version: Unknown\r\n2020/06/24 11:53:06.306 INFO [ServerSegmentCompletionProtocolHandler] [jeepusermap__1__38__20200623T1849Z] Controller response {\"buildTimeSec\":-1,\"isSplitCommitType\":false,\"status\":\"HOLD\",\"offset\":196949520} for http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204\r\n2020/06/24 11:53:09.311 INFO [FileUploadDownloadClient] [jeepusermap__1__38__20200623T1849Z] Sending request: http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204 to controller: pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local, version: Unknown\r\n2020/06/24 11:53:09.311 INFO [ServerSegmentCompletionProtocolHandler] [jeepusermap__1__38__20200623T1849Z] Controller response {\"buildTimeSec\":-1,\"isSplitCommitType\":false,\"status\":\"HOLD\",\"offset\":196949520} for http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204\r\n\r\n2020/06/24 11:53:12.315 INFO [FileUploadDownloadClient] [jeepusermap__1__38__20200623T1849Z] Sending request: http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204 to controller: pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local, version: Unknown\r\n2020/06/24 11:53:12.315 INFO [ServerSegmentCompletionProtocolHandler] [jeepusermap__1__38__20200623T1849Z] Controller response {\"buildTimeSec\":-1,\"isSplitCommitType\":false,\"status\":\"HOLD\",\"offset\":196949520} for http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204\r\n2020/06/24 11:53:15.320 INFO [FileUploadDownloadClient] [jeepusermap__1__38__20200623T1849Z] Sending request: http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204 to controller: pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local, version: Unknown\r\n2020/06/24 11:53:15.320 INFO [ServerSegmentCompletionProtocolHandler] [jeepusermap__1__38__20200623T1849Z] Controller response {\"buildTimeSec\":-1,\"isSplitCommitType\":false,\"status\":\"HOLD\",\"offset\":196949520} for http://pinot-controller-1.pinot-controller-headless.database-prod.svc.cluster.local:9000/segmentConsumed?name=jeepusermap__1__38__20200623T1849Z&offset=196949520&instance=Server_pinot-server-0.pinot-server-headless.database-prod.svc.cluster.local_8098&reason=rowLimit&rowCount=169204\r\n\r\n\r\n\r\nSimilar logs show that retry is happening. Since all consuming threads on all servers threw the same issue, no segment got created in controller also and all 3 consuming threads are down.\r\n\r\nAnd from azure portal I am able to delete the directory mentioned in above exception without any issues","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648783983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648888000","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-648888000","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":648888000,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODg4ODAwMA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T15:22:06Z","updated_at":"2020-06-24T15:22:06Z","author_association":"CONTRIBUTOR","body":"@SudhaGarimella I am not sure how azure permissions work. Things to examine would be:\r\n(1) What user did you run as when deleting the file from azure portal?\r\n(2) what user does the pinot server executable run as?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648888000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648904372","html_url":"https://github.com/apache/pinot/issues/5580#issuecomment-648904372","issue_url":"https://api.github.com/repos/apache/pinot/issues/5580","id":648904372,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODkwNDM3Mg==","user":{"login":"daniellavoie","id":4403970,"node_id":"MDQ6VXNlcjQ0MDM5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/4403970?v=4","gravatar_id":"","url":"https://api.github.com/users/daniellavoie","html_url":"https://github.com/daniellavoie","followers_url":"https://api.github.com/users/daniellavoie/followers","following_url":"https://api.github.com/users/daniellavoie/following{/other_user}","gists_url":"https://api.github.com/users/daniellavoie/gists{/gist_id}","starred_url":"https://api.github.com/users/daniellavoie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniellavoie/subscriptions","organizations_url":"https://api.github.com/users/daniellavoie/orgs","repos_url":"https://api.github.com/users/daniellavoie/repos","events_url":"https://api.github.com/users/daniellavoie/events{/privacy}","received_events_url":"https://api.github.com/users/daniellavoie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T15:49:41Z","updated_at":"2020-06-24T15:53:33Z","author_association":"CONTRIBUTOR","body":"# Refactor start/stop commands\r\n\r\n## Table of Content\r\n\r\n* [Motivation](#motivation)\r\n* [Goals](#goals)\r\n* [Anti-Goals](#anti-goals)\r\n* [Current State](#current-state)\r\n* [Proposal](#proposal)\r\n  * [Step 1 - A unified startup command for operator](#step-1-a-unified-startup-command-for-operators)\r\n  * [Step 2 - Implement a developer focused CLI](#step-2-implement-a-developer-focused-cli)\r\n\r\n## Motivation\r\n\r\nUsers typically go through 3 phases.\r\n\r\n* **quickstart:** comes with preloaded data (quickstart-batch.sh) (start's zookeeper, controller, server, broker in a single process)\r\n* **standalone (local):** start Pinot on a single node and ingest data (bin/pinot-admin.sh Start(Controller|Server|Broker))\r\n* **cluster:** Deploy and operate Pinot on multiple nodes.\r\n\r\nToday, each phase has a different set of scripts which makes it hard to write the user documentation.\r\n\r\nWe should refactor some of the commands to make this process simpler.\r\n\r\n## Goals\r\n\r\n* Make it easier for developers to work locally with Pinot.\r\n* Improve operation on container-based environments.\r\n* Offer no concession to operator and developer experience. Consider distinct tools if needed.\r\n\r\n## Anti-Goals\r\n\r\n* Introduce breaking changes to the configuration and operation\r\n* Decrease the quality and the user experience of operators by introducing non-cloud native friendly behavior to the way Pinot operates.\r\n\r\n## Current state\r\n\r\nThe current set of scripts are not articulated around personas. You currently need to pick a script based on how you want to run Pinot. How you intended to run Pinot (quickstart, standalone and cluster) does not change how you expect the service behaves. \r\n\r\nA good example of an opinionated behavior based on your persona is if Pinot should run in background or foreground. Developers would prefer a \"background service oriented\" mode where best practice for operations would be to run as foreground. When running in foreground, you can wrap the process with any service manager or container orchestrator that is standard to the operator's organization.\r\n\r\n## Proposal\r\n\r\n## Step 1 - A unified startup command for operators\r\n\r\nThis new `pinot` command is basically a rename of the existing `pinot-admin.sh` only that it stripped for the notion of start mode (quickstart, standalone). It is focused on running cluster node in foreground with maximum configuration options. This is the command that would be used by the Pinot Docker image.\r\n\r\n### Command\r\n\r\n```\r\npinot --help\r\n\r\nUsage:\r\n    pinot SERVICE [options]\r\n\r\nStarts a Pinot service\r\n\r\nAvailable Service:\r\n  zookeeper\r\n  broker\r\n  server\r\n  controller\r\n\r\nAvailable Options:\r\n    --help, -h\r\n    --config.paths=<Pinot-config-file>\r\n    \r\n    All Pinot properties may be passed as CLI arguments,environment variables or property files.\r\n    Refer to the Pinot reference documentation for a \r\n    complete list of all available properties.\r\n```\r\n\r\n### Parallel initiative - Configuration management refactoring\r\n\r\nThis Start/Stop command refactoring is also an opportunity to support all Pinot properties to be as CLI arguments and Environment Variables rather than only config files. See PR #5608 which introduce the ability for Pinot to load property from independent configuration sources. Additional phase will be required to plug cli arguments and environments variable to Pinot configuration management.\r\n\r\n* Step 1.1 - #5608 - Introduce the ability for Pinot to load properties from dependent configuration sources.\r\n* Step 1.2 - TBD - Enable properties loaded from environment variables\r\n* Step 1.3 - TBD - Refactor startup command to support generic properties passed as CLI arguments.\r\n\r\n\r\n## Step 2 - Implement a developer focused CLI\r\n\r\nThis new `pinot-local` is a developer focused wrapper around the `pinot` CLI. It main difference is that it acts as a service manager that can run Pinot components in background. It is intended to be cross platform, and not tied to any OS specific service manager. By default, state would be persistent in a `.pinot` folder in the home directory of the executing user. \r\n\r\n### Features\r\n\r\n* Start and stop Pinot components in background\r\n* Provides opinionated defaults for quickstart, standalone modes.\r\n* Provides log access.\r\n* Control and run multiple instances by switching state between state directories\r\n\r\n### Optional Features\r\n\r\n* Download / Update Pinot\r\n* Download / Update Java\r\n\r\n### Commands\r\n\r\n### Help\r\n\r\n```\r\n$ pinot-local --help\r\n\r\nUsage:\r\n    pinot-local [generic-args] COMMAND\r\n\r\nGeneric arguments:\r\n  --state-dir   State directory of the Pinot instance\r\n                Defaults to `~/.pinot`\r\n                Switch between Pinot instances by changing directory\r\n\r\nAvailable commands:\r\n  start\r\n  stop\r\n  logs\r\n  add-table\r\n  add-ingest-job\r\n```\r\n\r\n#### Start\r\n\r\n```\r\n$ pinot-local start --help\r\n\r\nStarts local Zookeeper and Pinot instances. State of these services will be tracked in the provided state-dir\r\n\r\nUsage:\r\n    pinot-local [generic-args] start START_MODE\r\n\r\nGeneric arguments:\r\n  --state-dir   State directory of the Pinot instance\r\n                Defaults to `~/.pinot`\r\n                Switch between Pinot instances by changing directory\r\n\r\nRequired arguments:\r\n    START_MODE  'quickstart' or 'standalone'\r\n\r\n$ Pinot quickstart batch\r\n```\r\n\r\n##### Quickstart\r\n\r\n```\r\n$ pinot-local start quickstart --help\r\n\r\nStarts local Zookeeper and Pinot instances with preloaded sample data. State of these services will be tracked in the provided state-dir\r\n\r\nUsage:\r\n    pinot-local [generic-args] start quickstart MODE\r\n\r\nGeneric arguments:\r\n  --state-dir   State directory of the Pinot instance\r\n                Defaults to `~/.pinot`\r\n                Switch between Pinot instances by changing directory\r\n\r\nAvailable Modes:\r\n    batch\r\n    stream\r\n    hybrid\r\n\r\n$ pinot-local start quickstart batch\r\n```\r\n\r\n#### Standalone\r\n\r\n```\r\n$ pinot-local start standalone --help\r\n\r\nUsage:\r\n    pinot-local [generic-args] start standalone [options]\r\n\r\nStarts local Zookeeper and Pinot instances. State of these services will be tracked in the provided state-dir\r\n\r\nGeneric arguments:\r\n  --state-dir                 State directory of the Pinot instance\r\n                              Defaults to `~/.pinot`\r\n                              Switch between Pinot instances by changing directory\r\n\r\nAvailable options:\r\n    --zookeeper-config-file   Path to a zookeeper configuration file\r\n    --config-file             Path to a Pinot configuration file for all services.\r\n\r\n$ pinot-local standalone --zookeeper-config-file=zoo.cfg --config-file=pinot.properties\r\n```\r\n\r\n#### Stop\r\n\r\n```\r\n$ pinot-local stop --help\r\n\r\nUsage:\r\n    pinot-local [generic-args] stop [options]\r\n\r\nStops the local Zookeeper and Pinot instances found in the  provided state-dir.\r\n\r\nGeneric arguments:\r\n  --state-dir                 State directory of the Pinot instance\r\n                              Defaults to `~/.pinot`\r\n                              Switch between Pinot instances by changing directory\r\n\r\nAvailable options:\r\n    --zookeeper-config-file   Path to a zookeeper configuration file\r\n    --config-file             Path to a Pinot configuration file for all services.\r\n\r\n$ pinot-local standalone --zookeeper-config-file=zoo.cfg --config-file=pinot.properties\r\n```\r\n\r\n#### Logs\r\n\r\n```\r\n$ pinot-local logs --help\r\n\r\nUsage:\r\n    pinot-local [generic-args] logs SERVICE [options]\r\n\r\nPrints logs of the specified service\r\n\r\nGeneric arguments:\r\n  --state-dir                 State directory of the Pinot instance\r\n                              Defaults to `~/.pinot`\r\n                              Switch between Pinot instances by changing directory\r\n\r\nAvailable Service:\r\n  zookeeper\r\n  broker\r\n  server\r\n  controller\r\n\r\nAvailable options:\r\n    --follow, -f              Follow log output\r\n```\r\n\r\n#### Add table\r\n\r\n```\r\n$ pinot-local add-table --help\r\n\r\nUsage:\r\n    pinot-local [generic-args] add-table TABLE_CONFIG TABLE_SCHEMA\r\n\r\nCreates a new Pinot table out of a table config and a table schema\r\n\r\nGeneric arguments:\r\n  --state-dir       State directory of the Pinot instance\r\n                    Defaults to `~/.pinot`\r\n                    Switch between Pinot instances by changing directory\r\n\r\nRequired Arguments:\r\n  TABLE_CONFIG:     Path to the table config json\r\n  TABLE_SCHEMA:     Path to the table schema json\r\n```\r\n\r\n#### Add an ingestion Job\r\n\r\n```\r\n$ pinot-local add-ingest-job --help\r\n\r\nUsage:\r\n    pinot-local [generic-args] add-ingest-job JOB_SPEC\r\n\r\nCreates a new batch ingestion job\r\n\r\nGeneric arguments:\r\n  --state-dir       State directory of the Pinot instance\r\n                    Defaults to `~/.pinot`\r\n                    Switch between Pinot instances by changing directory\r\n\r\nRequired Arguments:\r\n  JOB_SPEC:         Path to the ingestion job json spec json\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/648904372/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649028117","html_url":"https://github.com/apache/pinot/issues/5600#issuecomment-649028117","issue_url":"https://api.github.com/repos/apache/pinot/issues/5600","id":649028117,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTAyODExNw==","user":{"login":"SudhaGarimella","id":26456419,"node_id":"MDQ6VXNlcjI2NDU2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/26456419?v=4","gravatar_id":"","url":"https://api.github.com/users/SudhaGarimella","html_url":"https://github.com/SudhaGarimella","followers_url":"https://api.github.com/users/SudhaGarimella/followers","following_url":"https://api.github.com/users/SudhaGarimella/following{/other_user}","gists_url":"https://api.github.com/users/SudhaGarimella/gists{/gist_id}","starred_url":"https://api.github.com/users/SudhaGarimella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SudhaGarimella/subscriptions","organizations_url":"https://api.github.com/users/SudhaGarimella/orgs","repos_url":"https://api.github.com/users/SudhaGarimella/repos","events_url":"https://api.github.com/users/SudhaGarimella/events{/privacy}","received_events_url":"https://api.github.com/users/SudhaGarimella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T19:42:20Z","updated_at":"2020-06-24T19:42:20Z","author_association":"NONE","body":"@mcvsubbu :  so 2 things\r\n1. the azure portal path is mounted into the server, so isnt that like a local file for pinot server?\r\n2. what we did today was we first had used 0.3 release, then did a rolling update (changed the img to 0.4). When using 0.3 you can see we created about 39 segments, when upgraded to 0.4, the first segment it tried to create had failed. So the point I am saying is - same setup worked well with 0.3 release, when v did a rolling update to 0.4, seg creation failed. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649028117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649065806","html_url":"https://github.com/apache/pinot/pull/5573#issuecomment-649065806","issue_url":"https://api.github.com/repos/apache/pinot/issues/5573","id":649065806,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTA2NTgwNg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-24T20:53:57Z","updated_at":"2020-06-24T20:53:57Z","author_association":"CONTRIBUTOR","body":"I think this task is still pending discussion about race conditions between this API and segment completion/uploads. The issue has more details","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/649065806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]