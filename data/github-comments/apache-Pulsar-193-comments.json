[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583628102","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583628102","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583628102,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzYyODEwMg==","user":{"login":"EugenDueck","id":41422,"node_id":"MDQ6VXNlcjQxNDIy","avatar_url":"https://avatars.githubusercontent.com/u/41422?v=4","gravatar_id":"","url":"https://api.github.com/users/EugenDueck","html_url":"https://github.com/EugenDueck","followers_url":"https://api.github.com/users/EugenDueck/followers","following_url":"https://api.github.com/users/EugenDueck/following{/other_user}","gists_url":"https://api.github.com/users/EugenDueck/gists{/gist_id}","starred_url":"https://api.github.com/users/EugenDueck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EugenDueck/subscriptions","organizations_url":"https://api.github.com/users/EugenDueck/orgs","repos_url":"https://api.github.com/users/EugenDueck/repos","events_url":"https://api.github.com/users/EugenDueck/events{/privacy}","received_events_url":"https://api.github.com/users/EugenDueck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T21:44:17Z","updated_at":"2020-02-07T22:08:51Z","author_association":"CONTRIBUTOR","body":"@codelipenghui I did not add a `producerGroupName` field. What I added is a producer group mode field. If the producer group mode is `Exclusive` (the default), everything stays as it was before: Only one producer with the same name can be connected at any one time. If however the group mode is `Parallel`, then multiple producers with the same `producerName` can connect at the same time.\r\n\r\nSo _group mode_ and _deduplication_ are orthogonal and we don't need another deduplication flag. In order to have deduplication across a producer group, all that needs to be done is\r\n\r\n1. use the parallel producer group mode and\r\n1. set the usual `brokerDeduplicationEnabled` to `true`.\r\n\r\nI will add unit tests for this shortly.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583628102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583652156","html_url":"https://github.com/apache/pulsar/issues/3733#issuecomment-583652156","issue_url":"https://api.github.com/repos/apache/pulsar/issues/3733","id":583652156,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY1MjE1Ng==","user":{"login":"fantapsody","id":2741703,"node_id":"MDQ6VXNlcjI3NDE3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/2741703?v=4","gravatar_id":"","url":"https://api.github.com/users/fantapsody","html_url":"https://github.com/fantapsody","followers_url":"https://api.github.com/users/fantapsody/followers","following_url":"https://api.github.com/users/fantapsody/following{/other_user}","gists_url":"https://api.github.com/users/fantapsody/gists{/gist_id}","starred_url":"https://api.github.com/users/fantapsody/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fantapsody/subscriptions","organizations_url":"https://api.github.com/users/fantapsody/orgs","repos_url":"https://api.github.com/users/fantapsody/repos","events_url":"https://api.github.com/users/fantapsody/events{/privacy}","received_events_url":"https://api.github.com/users/fantapsody/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T22:59:00Z","updated_at":"2020-02-07T22:59:00Z","author_association":"CONTRIBUTOR","body":"It seems several places in `PulsarKafkaConsumer` are affected In order to use `consumerBuilder.topicsPattern(pattern)` for subscription, like messageId/offset management/seeking/commit, consumer management, etc. And maybe we should also reimplement the multi-topic subscription using that provided by the underlying pulsar client? That may simplify the implementation as a whole, but need more work and tests than expected.\r\nhttps://github.com/apache/pulsar/blob/54b39e64f361a2ed5242259e04505bcfc66c1c8a/pulsar-client-kafka-compat/pulsar-client-kafka/src/main/java/org/apache/kafka/clients/consumer/PulsarKafkaConsumer.java#L240","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583652156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583660217","html_url":"https://github.com/apache/pulsar/issues/6251#issuecomment-583660217","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6251","id":583660217,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY2MDIxNw==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T23:31:23Z","updated_at":"2020-02-07T23:31:23Z","author_association":"CONTRIBUTOR","body":"@codelipenghui In case you want some ideas, I really like the way they handle Zookeeper interactions in Apache Ignite. It's one of the most stable distributed technologies I've ever worked with. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583660217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583663456","html_url":"https://github.com/apache/pulsar/issues/6268#issuecomment-583663456","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6268","id":583663456,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY2MzQ1Ng==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T23:46:48Z","updated_at":"2020-02-07T23:46:48Z","author_association":"CONTRIBUTOR","body":"@tuteng This might be under your radar since you've been working on similar issues lately.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583663456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583663926","html_url":"https://github.com/apache/pulsar/issues/6232#issuecomment-583663926","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6232","id":583663926,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY2MzkyNg==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-07T23:49:07Z","updated_at":"2020-02-07T23:49:07Z","author_association":"CONTRIBUTOR","body":"Here's another place where this occurred: https://github.com/apache/pulsar/pull/6202/checks?check_run_id=432617829","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583663926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583675729","html_url":"https://github.com/apache/pulsar/issues/3733#issuecomment-583675729","issue_url":"https://api.github.com/repos/apache/pulsar/issues/3733","id":583675729,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NTcyOQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:38:48Z","updated_at":"2020-02-08T00:38:48Z","author_association":"MEMBER","body":"@fantapsody \r\n\r\n\r\n> And maybe we should also reimplement the multi-topic subscription using that provided by the underlying pulsar client? \r\n\r\n+1 \r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583675729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677121","html_url":"https://github.com/apache/pulsar/pull/2865#issuecomment-583677121","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2865","id":583677121,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NzEyMQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:47:31Z","updated_at":"2020-02-08T00:47:31Z","author_association":"MEMBER","body":"@david-streamlio do you have time to rebase this pull request? or shall we pick it up? /cc @jiazhai ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677125","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583677125","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583677125,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NzEyNQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:47:32Z","updated_at":"2020-02-08T00:47:32Z","author_association":"CONTRIBUTOR","body":"@EugenDueck I have understood the current implementation, just some minor suggestions. If we introduce a producer group, I think it needs a clear definition. If only use group type to indicate a producer group, it seems that a topic can only have a few groups at most(Equal to the number of types\r\nof producer group). This is why I recommend adding producer group name here. I also think this is better understood by users.\r\n\r\nIf agree with the suggestion above, a topic may have multiple producer groups with different group types. So use a flag to indicate the duplication is based on producer name or producer group name is more flexible and understandable. \r\n\r\nJust some small suggestions, please point out any misunderstandings. If these are currently not necessary, we can ignore it first.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677302","html_url":"https://github.com/apache/pulsar/issues/6258#issuecomment-583677302","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6258","id":583677302,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NzMwMg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:48:35Z","updated_at":"2020-02-08T00:48:35Z","author_association":"MEMBER","body":"Namespace already exists usually because tests are re-run. So you might consider improving the test with randomized names.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677302/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677687","html_url":"https://github.com/apache/pulsar/issues/6251#issuecomment-583677687","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6251","id":583677687,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NzY4Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:50:37Z","updated_at":"2020-02-08T00:50:37Z","author_association":"CONTRIBUTOR","body":"@devinbost Thank you very much, I will check it out.  ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677936","html_url":"https://github.com/apache/pulsar/pull/2865#issuecomment-583677936","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2865","id":583677936,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3NzkzNg==","user":{"login":"david-streamlio","id":35466513,"node_id":"MDQ6VXNlcjM1NDY2NTEz","avatar_url":"https://avatars.githubusercontent.com/u/35466513?v=4","gravatar_id":"","url":"https://api.github.com/users/david-streamlio","html_url":"https://github.com/david-streamlio","followers_url":"https://api.github.com/users/david-streamlio/followers","following_url":"https://api.github.com/users/david-streamlio/following{/other_user}","gists_url":"https://api.github.com/users/david-streamlio/gists{/gist_id}","starred_url":"https://api.github.com/users/david-streamlio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-streamlio/subscriptions","organizations_url":"https://api.github.com/users/david-streamlio/orgs","repos_url":"https://api.github.com/users/david-streamlio/repos","events_url":"https://api.github.com/users/david-streamlio/events{/privacy}","received_events_url":"https://api.github.com/users/david-streamlio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:52:03Z","updated_at":"2020-02-08T00:52:03Z","author_association":"CONTRIBUTOR","body":"Sijie\n\nI was waiting for approval on the PR\n\nOn Fri, Feb 7, 2020, 4:47 PM Sijie Guo <notifications@github.com> wrote:\n\n> @david-streamlio <https://github.com/david-streamlio> do you have time to\n> rebase this pull request? or shall we pick it up? /cc @jiazhai\n> <https://github.com/jiazhai>\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/pulsar/pull/2865?email_source=notifications&email_token=AIOS2EPXHFWOKR5CCGUD27TRBX6KLA5CNFSM4F7WVQK2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELFDJQI#issuecomment-583677121>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AIOS2ENFL46KMV2XQW7EGK3RBX6KLANCNFSM4F7WVQKQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583677936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583678652","html_url":"https://github.com/apache/pulsar/issues/6236#issuecomment-583678652","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6236","id":583678652,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3ODY1Mg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T00:57:23Z","updated_at":"2020-02-08T00:57:23Z","author_association":"MEMBER","body":"@hari819 it might be worth adding a separate page about zookeeper security? All the security related documentation are in this directory, prefixed with \"security-\" https://github.com/apache/pulsar/blob/master/site2/docs\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583678652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583679672","html_url":"https://github.com/apache/pulsar/issues/6093#issuecomment-583679672","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6093","id":583679672,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3OTY3Mg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T01:04:56Z","updated_at":"2020-02-08T01:04:56Z","author_association":"MEMBER","body":"@nareshgbhat sorry I got distracted by other things. I will ask my team member to help with this.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583679672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583679748","html_url":"https://github.com/apache/pulsar/issues/6093#issuecomment-583679748","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6093","id":583679748,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3OTc0OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T01:05:32Z","updated_at":"2020-02-08T01:05:32Z","author_association":"MEMBER","body":"/cc @jiazhai ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583679748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583679994","html_url":"https://github.com/apache/pulsar/pull/2865#issuecomment-583679994","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2865","id":583679994,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY3OTk5NA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T01:07:21Z","updated_at":"2020-02-08T01:07:21Z","author_association":"MEMBER","body":"@david-streamlio I thought this pull request was approved a while ago by Jia, Ivan and me.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583679994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583682159","html_url":"https://github.com/apache/pulsar/pull/2865#issuecomment-583682159","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2865","id":583682159,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY4MjE1OQ==","user":{"login":"david-streamlio","id":35466513,"node_id":"MDQ6VXNlcjM1NDY2NTEz","avatar_url":"https://avatars.githubusercontent.com/u/35466513?v=4","gravatar_id":"","url":"https://api.github.com/users/david-streamlio","html_url":"https://github.com/david-streamlio","followers_url":"https://api.github.com/users/david-streamlio/followers","following_url":"https://api.github.com/users/david-streamlio/following{/other_user}","gists_url":"https://api.github.com/users/david-streamlio/gists{/gist_id}","starred_url":"https://api.github.com/users/david-streamlio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-streamlio/subscriptions","organizations_url":"https://api.github.com/users/david-streamlio/orgs","repos_url":"https://api.github.com/users/david-streamlio/repos","events_url":"https://api.github.com/users/david-streamlio/events{/privacy}","received_events_url":"https://api.github.com/users/david-streamlio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T01:19:10Z","updated_at":"2020-02-08T01:19:10Z","author_association":"CONTRIBUTOR","body":"I thought so too but then it was held back due to failing tests that were\nunrelated to the code in the PR\n\nLet me know what is required to move forward and I will do what I can to\nget this merged\n\nOn Fri, Feb 7, 2020, 5:07 PM Sijie Guo <notifications@github.com> wrote:\n\n> @david-streamlio <https://github.com/david-streamlio> I thought this pull\n> request was approved a while ago by Jia, Ivan and me.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/pulsar/pull/2865?email_source=notifications&email_token=AIOS2ELHB3ZSGOAJ26TL6RTRBYAUVA5CNFSM4F7WVQK2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELFD76Q#issuecomment-583679994>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AIOS2EOC3VLX3GZX3PAX7H3RBYAUVANCNFSM4F7WVQKQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583682159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583684456","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583684456","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583684456,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY4NDQ1Ng==","user":{"login":"EugenDueck","id":41422,"node_id":"MDQ6VXNlcjQxNDIy","avatar_url":"https://avatars.githubusercontent.com/u/41422?v=4","gravatar_id":"","url":"https://api.github.com/users/EugenDueck","html_url":"https://github.com/EugenDueck","followers_url":"https://api.github.com/users/EugenDueck/followers","following_url":"https://api.github.com/users/EugenDueck/following{/other_user}","gists_url":"https://api.github.com/users/EugenDueck/gists{/gist_id}","starred_url":"https://api.github.com/users/EugenDueck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EugenDueck/subscriptions","organizations_url":"https://api.github.com/users/EugenDueck/orgs","repos_url":"https://api.github.com/users/EugenDueck/repos","events_url":"https://api.github.com/users/EugenDueck/events{/privacy}","received_events_url":"https://api.github.com/users/EugenDueck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T01:31:34Z","updated_at":"2020-02-08T01:31:34Z","author_association":"CONTRIBUTOR","body":"@codelipenghui I think you are raising two points, which I'll address below. I'm pretty new to pulsar and its concepts, so maybe I'm not yet understanding the implications of all decisions. Let me just explain in detail how I currently see it, and I'll be happy for you or anyone to point out whatever it is that I'm missing.\r\n\r\n1) how easy it is for users to understand\r\n\r\nThis is a valid point. Personally, I do not feel that the concept of a groupMode implies that you can only have one group per groupMode. However, there is potential for confusion around \"producerName\" meaning \"name of the producer group\". That is the disadvantage of repurposing the producerName as the producer group name. On the other hand, there is an advantage in terms of simplicity of implementation, which I think is one of the reasons sijie preferred to use the identity of the producerName, if I understand him correctly.\r\n\r\nAdding a producer group name of course adds complexity in terms of implementation, but I think has also potential for confusion by users, because the possible/impossible combinations of producerName and producerGroupName would need to be documented (I guess it would be a hierarchy prodGroup/prod).\r\n\r\n2) having multiple producer groups, each with their own deduplication settings\r\n\r\nThis is the way I currently see it: If we turn on deduplication for a topic, we have the same flexibility that we would get without producer group names:\r\n\r\n1. If you want to deduplicate across a group of producers, give them the same producerName and set the groupMode to 'parallel'\r\n1. for producers that don't want deduplication, use groupMode 'exclusive'\r\n1. for failover producers use groupMode 'failover' ('failover' mode yet to be implemented)\r\n\r\nAnd above groups can be freely mixed and matched within the same topic, which means you can have x parallel groups, y exclusive \"groups\", and z failover groups, all at the same time.\r\n\r\nThe only use case I can come up with that the current implementation cannot handle is this: One failover group that wants deduplication, while another group (failover or parallel) does not want deduplication on the same topic - or vice-a-versa.\r\n\r\nBut this should be orthogonal to the question of producerGroupName yes or no: It is a question of the granularity of the deduplication setting (currently at the namespace and broker level), which we could make more fine-grained up to the level of producer groups (although I wonder how many users would need that), regardless of whether we have a producerGroupName or if we use the producerName.\r\n\r\nIf there are any other use cases that I'm missing, I'd like to know.\r\n\r\nSo unless I'm missing a use case that is impossible with the current implementation and a finer graining of the dedupe setting in the future, I would prefer properly documenting the new groupMode feature (similar to the way subscription types aka subscription modes are documented), to adding complexity in terms of implementation, which I believe also needs documentation to avoid confusion.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583684456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583688654","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583688654","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583688654,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY4ODY1NA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T01:56:13Z","updated_at":"2020-02-08T07:21:07Z","author_association":"CONTRIBUTOR","body":"@EugenDueck I personally think that there are some disadvantages in using producer name to distinguish producers and producer groups. The presence of a producer with the same name complicates distinguishing producers. For users, if producers in a single group name are grouped producers are easy to understand than the grouped producer are producers with the same name and producer type `Parallel`.\r\n\r\nIf a producer has a producer group name, the workflow more like following steps:\r\n\r\n1. Group some producers into a group(with same producer group name), but producer name is different\r\n2. The client specifies the deduplication based on producer name or group name.\r\n3. Broker side, if use producer name, this is the same as now. If we use the producer group name, we just need to use the `groupName/producerName` as the deduplication key. Of course, it needs to be turned on deduplication first at the broker side.\r\n\r\nIn this case, we can still distinguish producers by name(groupName/producerName). Otherwise, we need the IP of the producer or any other information.\r\n\r\nI hope these make sense to you. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583688654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583690051","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-583690051","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":583690051,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY5MDA1MQ==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T02:04:40Z","updated_at":"2020-02-08T02:04:40Z","author_association":"MEMBER","body":"\r\n```\r\n488dfb                                               1c2ba70605594626b2431b6dde9a799b   adfaaeaa780e        17 seconds ago      27.1MB\r\nalpine                                               3.8                                c8bccc0af957        12 days ago         4.41MB\r\nalpine                                               3.9                                82f67be598eb        12 days ago         5.53MB\r\nalpine                                               3.10                               af341ccd2df8        12 days ago         5.56MB\r\nnode                                                 10-alpine                          cb69d515e572        2 weeks ago         80.5MB\r\nnode                                                 12-alpine                          b0dc3a5e5e9e        2 weeks ago         85.2MB\r\nalpine                                               latest                             e7d92cdc71fe        2 weeks ago         5.59MB\r\nnode                                                 10                                 d9b29c7fd8c0        3 weeks ago         908MB\r\nnode                                                 12                                 7a73e56f893c        3 weeks ago         913MB\r\nbuildpack-deps                                       stretch                            2adbcf3b6aff        5 weeks ago         835MB\r\ndebian                                               9                                  f6c68e2ad82a        5 weeks ago         101MB\r\ndebian                                               8                                  5d7d9c6338e8        5 weeks ago         129MB\r\njekyll/builder                                       latest                             4605d94a6b36        3 months ago        564MB\r\nalpine                                               3.7                                6d1ef012b567        11 months ago       4.21MB\r\nmcr.microsoft.com/azure-pipelines/node8-typescript   latest                             9a948d360778        16 months ago       595MB\r\n```\r\n\r\nIt seems that this PR of Sijie https://github.com/apache/pulsar/pull/6174/files#diff-a618acbf44f9234d2ba74c8f64ce98f9  has fixed this problem and deleted some unusable images, but I think there should be room for optimization. The image above is the image before packaging, and the image below is the image after packaging. I think that many images can be deleted. If you have time, you can try to delete some. If not, I will try to fix this problem. Thanks @devinbost \r\n\r\n```\r\napachepulsar/pulsar-test-latest-version              2.6.0-SNAPSHOT                     7f0e65aad492        22 seconds ago      2.8GB\r\napachepulsar/pulsar-test-latest-version              latest                             7f0e65aad492        22 seconds ago      2.8GB\r\napachepulsar/pulsar-standalone                       2.6.0-SNAPSHOT                     dd63c9e78a54        53 seconds ago      2.76GB\r\napachepulsar/pulsar-standalone                       latest                             dd63c9e78a54        53 seconds ago      2.76GB\r\npulsar-standalone                                    2.6.0-SNAPSHOT                     dd63c9e78a54        53 seconds ago      2.76GB\r\npulsar-standalone                                    latest                             dd63c9e78a54        53 seconds ago      2.76GB\r\napachepulsar/pulsar-all                              2.6.0-SNAPSHOT                     29098fc2d364        11 minutes ago      2.74GB\r\napachepulsar/pulsar-all                              latest                             29098fc2d364        11 minutes ago      2.74GB\r\npulsar-all                                           2.6.0-SNAPSHOT                     29098fc2d364        11 minutes ago      2.74GB\r\npulsar-all                                           latest                             29098fc2d364        11 minutes ago      2.74GB\r\n<none>                                               <none>                             6af8ce67f92f        12 minutes ago      1.35GB\r\napachepulsar/pulsar-grafana                          2.6.0-SNAPSHOT                     20053b07a232        14 minutes ago      286MB\r\napachepulsar/pulsar-grafana                          latest                             20053b07a232        14 minutes ago      286MB\r\npulsar-grafana                                       2.6.0-SNAPSHOT                     20053b07a232        14 minutes ago      286MB\r\npulsar-grafana                                       latest                             20053b07a232        14 minutes ago      286MB\r\napachepulsar/pulsar                                  2.6.0-SNAPSHOT                     fd65abad4278        14 minutes ago      1.52GB\r\napachepulsar/pulsar                                  latest                             fd65abad4278        14 minutes ago      1.52GB\r\npulsar                                               2.6.0-SNAPSHOT                     fd65abad4278        14 minutes ago      1.52GB\r\npulsar                                               latest                             fd65abad4278        14 minutes ago      1.52GB\r\n<none>                                               <none>                             258ebca6b41e        17 minutes ago      495MB\r\npulsar-dashboard                                     2.6.0-SNAPSHOT                     b3cbd1b91e92        37 minutes ago      1.25GB\r\npulsar-dashboard                                     latest                             b3cbd1b91e92        37 minutes ago      1.25GB\r\napachepulsar/pulsar-dashboard                        2.6.0-SNAPSHOT                     b3cbd1b91e92        37 minutes ago      1.25GB\r\napachepulsar/pulsar-dashboard                        latest                             b3cbd1b91e92        37 minutes ago      1.25GB\r\n488dfb                                               1c2ba70605594626b2431b6dde9a799b   adfaaeaa780e        47 minutes ago      27.1MB\r\npython                                               3.7-stretch                        b76227722757        3 days ago          941MB\r\nopenjdk                                              8-jdk-slim                         4229f5fb33f9        3 days ago          284MB\r\nopenjdk                                              8-jdk                              0bfcee65c8ca        3 days ago          488MB\r\nalpine                                               3.8                                c8bccc0af957        12 days ago         4.41MB\r\nalpine                                               3.9                                82f67be598eb        12 days ago         5.53MB\r\nalpine                                               3.10                               af341ccd2df8        12 days ago         5.56MB\r\nnode                                                 10-alpine                          cb69d515e572        2 weeks ago         80.5MB\r\nnode                                                 12-alpine                          b0dc3a5e5e9e        2 weeks ago         85.2MB\r\nalpine                                               latest                             e7d92cdc71fe        2 weeks ago         5.59MB\r\nnode                                                 10                                 d9b29c7fd8c0        3 weeks ago         908MB\r\nnode                                                 12                                 7a73e56f893c        3 weeks ago         913MB\r\nbuildpack-deps                                       stretch                            2adbcf3b6aff        5 weeks ago         835MB\r\ndebian                                               9                                  f6c68e2ad82a        5 weeks ago         101MB\r\ndebian                                               8                                  5d7d9c6338e8        5 weeks ago         129MB\r\nbusybox                                              latest                             6d5fcfe5ff17        5 weeks ago         1.22MB\r\njekyll/builder                                       latest                             4605d94a6b36        3 months ago        564MB\r\nalpine                                               3.7                                6d1ef012b567        11 months ago       4.21MB\r\napachepulsar/pulsar-build                            debian-9                           466f9e1a7d0f        12 months ago       757MB\r\napachepulsar/pulsar-build                            manylinux-cp37-cp37m               e19877a430f5        12 months ago       1.28GB\r\napachepulsar/pulsar-build                            manylinux-cp27-cp27mu              898db154a6ea        12 months ago       1.29GB\r\nmcr.microsoft.com/azure-pipelines/node8-typescript   latest                             9a948d360778        16 months ago       595MB\r\ngrafana/grafana                                      4.3.1                              2cdb407c0fa4        2 years ago         286MB\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583690051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583691233","html_url":"https://github.com/apache/pulsar/issues/6268#issuecomment-583691233","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6268","id":583691233,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY5MTIzMw==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T02:11:37Z","updated_at":"2020-02-08T02:11:37Z","author_association":"MEMBER","body":"Thanks, I will take a look at. @devinbost ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583691233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583695345","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-583695345","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":583695345,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY5NTM0NQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T02:54:58Z","updated_at":"2020-02-08T02:54:58Z","author_association":"CONTRIBUTOR","body":"Fixes #6258 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583695345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583695933","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-583695933","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":583695933,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY5NTkzMw==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T03:02:20Z","updated_at":"2020-02-08T03:02:20Z","author_association":"CONTRIBUTOR","body":"@tuteng Were you responding to my question in #6268 ?\r\nI'll be happy to clean up more of the images. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583695933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583727996","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583727996","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583727996,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcyNzk5Ng==","user":{"login":"EugenDueck","id":41422,"node_id":"MDQ6VXNlcjQxNDIy","avatar_url":"https://avatars.githubusercontent.com/u/41422?v=4","gravatar_id":"","url":"https://api.github.com/users/EugenDueck","html_url":"https://github.com/EugenDueck","followers_url":"https://api.github.com/users/EugenDueck/followers","following_url":"https://api.github.com/users/EugenDueck/following{/other_user}","gists_url":"https://api.github.com/users/EugenDueck/gists{/gist_id}","starred_url":"https://api.github.com/users/EugenDueck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EugenDueck/subscriptions","organizations_url":"https://api.github.com/users/EugenDueck/orgs","repos_url":"https://api.github.com/users/EugenDueck/repos","events_url":"https://api.github.com/users/EugenDueck/events{/privacy}","received_events_url":"https://api.github.com/users/EugenDueck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T11:27:12Z","updated_at":"2020-02-08T11:31:19Z","author_association":"CONTRIBUTOR","body":"@codelipenghui Just to make sure I understand your idea. You are suggesting to have\r\n\r\n1. a new `producerGroupName` property on producers, which would be optional and could be set using the ProducerBuilder. (at least in Java)\r\n1. identical `producerName`s will be considered unrelated if their producer groups are different\r\n1. we would add a deduplication flag to ProducerBuilder that could be used per producer or producer group (not sure how you meant your 2. in your last comment)\r\n1. the failover group property would similarly be set on the producer group\r\n1. we don't need the concept of \"exclusive producer group\"s, as exclusivity can be achieved through the producer name, just as has been done before this PR\r\n\r\nThis looks like a viable alternative to me, but I haven't thought through all the details yet. It gives more flexibility than my last shot at it. I can't say if that flexibility is something that Pulsar users will need. In the use cases that I'm envisioning so far, each topic gets data from one very specific producer, or a group for redundancy.\r\n\r\nSo both variants are fine with me, and I'd say it's your call @codelipenghui @sijie @jiazhai @merlimat \r\nLet me know whether you want me to continue this feature with the \"producer group mode\" (which is the current state of this PR), or whether I should add a \"producerGroupName\" as outlined by codelipenghui.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583727996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583734383","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583734383","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583734383,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzczNDM4Mw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T12:58:04Z","updated_at":"2020-02-08T12:58:04Z","author_association":"CONTRIBUTOR","body":"@EugenDueck Your understanding is correct. I think the two solutions are very similar. I am also inspired by the producer group that @sijie introduced. The difference is just how to make the producers a group(1. same producer name and group type 2. same producer group name).  \r\n\r\n> 4. the failover group property would similarly be set on the producer group\r\n> 5. we don't need the concept of \"exclusive producer group\"s, as exclusivity can be achieved through the producer name, just as has been done before this PR\r\n\r\nI haven't fully figured out what the producer group type does, from the above description, it looks just indicate the producer groups.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583734383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583752009","html_url":"https://github.com/apache/pulsar/issues/6236#issuecomment-583752009","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6236","id":583752009,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1MjAwOQ==","user":{"login":"hari819","id":12997071,"node_id":"MDQ6VXNlcjEyOTk3MDcx","avatar_url":"https://avatars.githubusercontent.com/u/12997071?v=4","gravatar_id":"","url":"https://api.github.com/users/hari819","html_url":"https://github.com/hari819","followers_url":"https://api.github.com/users/hari819/followers","following_url":"https://api.github.com/users/hari819/following{/other_user}","gists_url":"https://api.github.com/users/hari819/gists{/gist_id}","starred_url":"https://api.github.com/users/hari819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari819/subscriptions","organizations_url":"https://api.github.com/users/hari819/orgs","repos_url":"https://api.github.com/users/hari819/repos","events_url":"https://api.github.com/users/hari819/events{/privacy}","received_events_url":"https://api.github.com/users/hari819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T16:24:51Z","updated_at":"2020-02-08T16:24:51Z","author_association":"NONE","body":"@sijie , yes that would be a good idea , but if you have the content already with you could you please provide the same here ,?\r\n\r\nthanks,","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583752009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583768497","html_url":"https://github.com/apache/pulsar/pull/2865#issuecomment-583768497","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2865","id":583768497,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2ODQ5Nw==","user":{"login":"syedatifakhtar","id":1749892,"node_id":"MDQ6VXNlcjE3NDk4OTI=","avatar_url":"https://avatars.githubusercontent.com/u/1749892?v=4","gravatar_id":"","url":"https://api.github.com/users/syedatifakhtar","html_url":"https://github.com/syedatifakhtar","followers_url":"https://api.github.com/users/syedatifakhtar/followers","following_url":"https://api.github.com/users/syedatifakhtar/following{/other_user}","gists_url":"https://api.github.com/users/syedatifakhtar/gists{/gist_id}","starred_url":"https://api.github.com/users/syedatifakhtar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syedatifakhtar/subscriptions","organizations_url":"https://api.github.com/users/syedatifakhtar/orgs","repos_url":"https://api.github.com/users/syedatifakhtar/repos","events_url":"https://api.github.com/users/syedatifakhtar/events{/privacy}","received_events_url":"https://api.github.com/users/syedatifakhtar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T19:22:39Z","updated_at":"2020-02-08T19:22:39Z","author_association":"NONE","body":"Thanks! We are in dire need of this and Azure blob loader [PR-2615](https://github.com/apache/pulsar/pull/2615). I'm hoping we will move that too once this moves?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583768497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583768819","html_url":"https://github.com/apache/pulsar/issues/6276#issuecomment-583768819","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6276","id":583768819,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc2ODgxOQ==","user":{"login":"fernandezpablo85","id":28029,"node_id":"MDQ6VXNlcjI4MDI5","avatar_url":"https://avatars.githubusercontent.com/u/28029?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandezpablo85","html_url":"https://github.com/fernandezpablo85","followers_url":"https://api.github.com/users/fernandezpablo85/followers","following_url":"https://api.github.com/users/fernandezpablo85/following{/other_user}","gists_url":"https://api.github.com/users/fernandezpablo85/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandezpablo85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandezpablo85/subscriptions","organizations_url":"https://api.github.com/users/fernandezpablo85/orgs","repos_url":"https://api.github.com/users/fernandezpablo85/repos","events_url":"https://api.github.com/users/fernandezpablo85/events{/privacy}","received_events_url":"https://api.github.com/users/fernandezpablo85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T19:26:39Z","updated_at":"2020-02-08T19:26:39Z","author_association":"NONE","body":"Note that this also fails when consuming from a single partition, by changing the topic to `$TOPIC_NAME-partition-0` for example","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583768819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583777122","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583777122","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583777122,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc3NzEyMg==","user":{"login":"EugenDueck","id":41422,"node_id":"MDQ6VXNlcjQxNDIy","avatar_url":"https://avatars.githubusercontent.com/u/41422?v=4","gravatar_id":"","url":"https://api.github.com/users/EugenDueck","html_url":"https://github.com/EugenDueck","followers_url":"https://api.github.com/users/EugenDueck/followers","following_url":"https://api.github.com/users/EugenDueck/following{/other_user}","gists_url":"https://api.github.com/users/EugenDueck/gists{/gist_id}","starred_url":"https://api.github.com/users/EugenDueck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EugenDueck/subscriptions","organizations_url":"https://api.github.com/users/EugenDueck/orgs","repos_url":"https://api.github.com/users/EugenDueck/repos","events_url":"https://api.github.com/users/EugenDueck/events{/privacy}","received_events_url":"https://api.github.com/users/EugenDueck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T21:09:17Z","updated_at":"2020-02-08T21:22:06Z","author_association":"CONTRIBUTOR","body":"@codelipenghui Not sure I understand what you don't understand about the _producer group type_, as it would have the same function as with my current solution, with the exception that we don't need an `Exclusive` value. So the _producer group type_ would have one of two possible values:\r\n\r\n1. `Parallel`, which is the default mode where multiple producers with the same `producerGroupName` (but different `producerName`s) can be connected to a broker at the same time and produce concurrently\r\n1. 'Failover', which is the mode merlimat suggested above.\r\n\r\nOne question remains, which is how we configure _producer groups_ - will we do it \"on the fly\" using the `ProducerBuilder`? In that case, what happens if two producers are created with the same `producerGroupName`, but different _producer group types_ or _deduplication_ flags? I would suggest that as long as a producer group is alive, we reject attempts to connect with a different _producer group type_ or _deduplication_ flag. Or were you thinking of adding a new API or configuration for creating and managing producer groups? (This sounds like more complexity)","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583777122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583808464","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-583808464","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":583808464,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgwODQ2NA==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T06:05:10Z","updated_at":"2020-02-09T06:05:10Z","author_association":"CONTRIBUTOR","body":"@tuteng I probably won't be able to get to the task of cleaning up those docker images until I'm able to get beyond a couple of other flaky tests that have been giving me some trouble.\r\nFor example, one of the tests seems to be hanging, but I need to figure out how to identify which test is hanging either by using a remote debugging session or using jstack because it's not clear from the logs. ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583808464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583828850","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-583828850","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":583828850,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzgyODg1MA==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T10:27:21Z","updated_at":"2020-02-09T10:27:21Z","author_association":"MEMBER","body":"> @tuteng I probably won't be able to get to the task of cleaning up those docker images until I'm able to get beyond a couple of other flaky tests that have been giving me some trouble.\r\n> For example, one of the tests seems to be hanging, but I need to figure out how to identify which test is hanging either by using a remote debugging session or using jstack because it's not clear from the logs.\r\n\r\nThank you for your feedback. @devinbost  I'm already following up on this problem. In addition to the lack of storage, there are some other problems. I think I've fixed them. After this test passes https://github.com/AmateurEvents/pulsar/pull/11, I will create a new pr","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583828850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583856319","html_url":"https://github.com/apache/pulsar/pull/6190#issuecomment-583856319","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6190","id":583856319,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzg1NjMxOQ==","user":{"login":"abhilashmandaliya","id":11377931,"node_id":"MDQ6VXNlcjExMzc3OTMx","avatar_url":"https://avatars.githubusercontent.com/u/11377931?v=4","gravatar_id":"","url":"https://api.github.com/users/abhilashmandaliya","html_url":"https://github.com/abhilashmandaliya","followers_url":"https://api.github.com/users/abhilashmandaliya/followers","following_url":"https://api.github.com/users/abhilashmandaliya/following{/other_user}","gists_url":"https://api.github.com/users/abhilashmandaliya/gists{/gist_id}","starred_url":"https://api.github.com/users/abhilashmandaliya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhilashmandaliya/subscriptions","organizations_url":"https://api.github.com/users/abhilashmandaliya/orgs","repos_url":"https://api.github.com/users/abhilashmandaliya/repos","events_url":"https://api.github.com/users/abhilashmandaliya/events{/privacy}","received_events_url":"https://api.github.com/users/abhilashmandaliya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T15:14:51Z","updated_at":"2020-02-09T15:14:51Z","author_association":"CONTRIBUTOR","body":"> ping @Anonymitaet\r\n\r\nShe has approved the commit but some tests have failed.  I am unable to figure out from the logs. Seems unrelated to the changes I made in the documentation. Can anyone help?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583856319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583874176","html_url":"https://github.com/apache/pulsar/pull/2615#issuecomment-583874176","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2615","id":583874176,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzg3NDE3Ng==","user":{"login":"david-streamlio","id":35466513,"node_id":"MDQ6VXNlcjM1NDY2NTEz","avatar_url":"https://avatars.githubusercontent.com/u/35466513?v=4","gravatar_id":"","url":"https://api.github.com/users/david-streamlio","html_url":"https://github.com/david-streamlio","followers_url":"https://api.github.com/users/david-streamlio/followers","following_url":"https://api.github.com/users/david-streamlio/following{/other_user}","gists_url":"https://api.github.com/users/david-streamlio/gists{/gist_id}","starred_url":"https://api.github.com/users/david-streamlio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david-streamlio/subscriptions","organizations_url":"https://api.github.com/users/david-streamlio/orgs","repos_url":"https://api.github.com/users/david-streamlio/repos","events_url":"https://api.github.com/users/david-streamlio/events{/privacy}","received_events_url":"https://api.github.com/users/david-streamlio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T17:59:17Z","updated_at":"2020-02-09T17:59:17Z","author_association":"CONTRIBUTOR","body":"Following up on @ivankelly 's comment. I can submit a PR for the refactoring as it pertains to the AWS S3 offloader first, and then submit a different one for the Azure offloader once the first one is approved.  Will that be the best path forward @sijie ?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583874176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583898793","html_url":"https://github.com/apache/pulsar/pull/6278#issuecomment-583898793","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6278","id":583898793,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzg5ODc5Mw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-09T22:00:08Z","updated_at":"2020-02-09T22:00:08Z","author_association":"CONTRIBUTOR","body":"I think this should already have been fixed in https://github.com/apache/pulsar/pull/6226. Can you double check?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583898793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583912492","html_url":"https://github.com/apache/pulsar/pull/6278#issuecomment-583912492","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6278","id":583912492,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkxMjQ5Mg==","user":{"login":"heronr","id":1810982,"node_id":"MDQ6VXNlcjE4MTA5ODI=","avatar_url":"https://avatars.githubusercontent.com/u/1810982?v=4","gravatar_id":"","url":"https://api.github.com/users/heronr","html_url":"https://github.com/heronr","followers_url":"https://api.github.com/users/heronr/followers","following_url":"https://api.github.com/users/heronr/following{/other_user}","gists_url":"https://api.github.com/users/heronr/gists{/gist_id}","starred_url":"https://api.github.com/users/heronr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heronr/subscriptions","organizations_url":"https://api.github.com/users/heronr/orgs","repos_url":"https://api.github.com/users/heronr/repos","events_url":"https://api.github.com/users/heronr/events{/privacy}","received_events_url":"https://api.github.com/users/heronr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T00:19:03Z","updated_at":"2020-02-10T00:19:03Z","author_association":"CONTRIBUTOR","body":"Yes, you are right. That change will also result in fixing the crash I found. I'll close out this PR.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583912492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583914107","html_url":"https://github.com/apache/pulsar/issues/4976#issuecomment-583914107","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4976","id":583914107,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkxNDEwNw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T00:33:22Z","updated_at":"2020-02-10T00:33:22Z","author_association":"CONTRIBUTOR","body":"close via #5822","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583914107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583914213","html_url":"https://github.com/apache/pulsar/issues/3828#issuecomment-583914213","issue_url":"https://api.github.com/repos/apache/pulsar/issues/3828","id":583914213,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkxNDIxMw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T00:34:18Z","updated_at":"2020-02-10T00:34:18Z","author_association":"CONTRIBUTOR","body":"close via #5822","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583914213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583918200","html_url":"https://github.com/apache/pulsar/issues/6268#issuecomment-583918200","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6268","id":583918200,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkxODIwMA==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T01:04:59Z","updated_at":"2020-02-10T01:04:59Z","author_association":"MEMBER","body":"@devinbost This has been fixed https://github.com/apache/pulsar/pull/6279, can we close it?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583918200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583918269","html_url":"https://github.com/apache/pulsar/issues/6170#issuecomment-583918269","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6170","id":583918269,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkxODI2OQ==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T01:05:29Z","updated_at":"2020-02-10T01:05:29Z","author_association":"CONTRIBUTOR","body":"Hi @jiazhai and @wolfstudy, \r\n\r\nThe idea I shared is to pass system env vars to the function using the YAML configuration. \r\n\r\nOn functions create/update, function worker gets the system env var matching `SYSTEM_ENV1` when `runtimeFlags: -Denv1=${SYSTEM_ENV1}` is defined and replaces it in the injected runtime flags.\r\n\r\nWDYT?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583918269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583920914","html_url":"https://github.com/apache/pulsar/issues/6266#issuecomment-583920914","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6266","id":583920914,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkyMDkxNA==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T01:25:36Z","updated_at":"2020-02-10T01:25:36Z","author_association":"MEMBER","body":"This has been fixed https://github.com/apache/pulsar/pull/6279, can we close it? @devinbost ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583920914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583922658","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-583922658","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":583922658,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkyMjY1OA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T01:37:51Z","updated_at":"2020-02-10T01:37:51Z","author_association":"CONTRIBUTOR","body":"@EugenDueck \r\n> One question remains, which is how we configure producer groups - will we do it \"on the fly\" using the ProducerBuilder? In that case, what happens if two producers are created with the same producerGroupName, but different producer group types or deduplication flags?\r\n\r\nThe broker just needs to check the deduplication is based on producer name or producer group name. \r\nThe deduplication flags are not for producer groups, it's for producers.  If use group name as the deduplication key, the key is group name. If use group name as the deduplication key, the key is groupName/producerName. \r\n\r\nFor producer group type, I think if the type is Exclusive, only can have one producer in this group, others will be rejected. If the type is Failover, only have one active producer, others are standby. If the type is Shared or Parallel, all producers can connect to the broker. Seem very similar to the consumer side. I'm not sure am I understand correctly. @merlimat @sijie @jiazhai ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583922658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583924366","html_url":"https://github.com/apache/pulsar/pull/5716#issuecomment-583924366","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5716","id":583924366,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkyNDM2Ng==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T01:50:40Z","updated_at":"2020-02-10T01:50:40Z","author_association":"MEMBER","body":"@huangdx0726 Please rebase. @jiazhai @codelipenghui PTAL","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583924366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583928661","html_url":"https://github.com/apache/pulsar/issues/6266#issuecomment-583928661","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6266","id":583928661,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzkyODY2MQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T02:19:00Z","updated_at":"2020-02-10T02:19:00Z","author_association":"CONTRIBUTOR","body":"@tuteng Yes, I will close this issue. Thanks for letting me know!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583928661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583956072","html_url":"https://github.com/apache/pulsar/issues/6264#issuecomment-583956072","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6264","id":583956072,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk1NjA3Mg==","user":{"login":"aahmed-se","id":8009085,"node_id":"MDQ6VXNlcjgwMDkwODU=","avatar_url":"https://avatars.githubusercontent.com/u/8009085?v=4","gravatar_id":"","url":"https://api.github.com/users/aahmed-se","html_url":"https://github.com/aahmed-se","followers_url":"https://api.github.com/users/aahmed-se/followers","following_url":"https://api.github.com/users/aahmed-se/following{/other_user}","gists_url":"https://api.github.com/users/aahmed-se/gists{/gist_id}","starred_url":"https://api.github.com/users/aahmed-se/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aahmed-se/subscriptions","organizations_url":"https://api.github.com/users/aahmed-se/orgs","repos_url":"https://api.github.com/users/aahmed-se/repos","events_url":"https://api.github.com/users/aahmed-se/events{/privacy}","received_events_url":"https://api.github.com/users/aahmed-se/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T05:00:01Z","updated_at":"2020-02-10T05:00:01Z","author_association":"CONTRIBUTOR","body":"for testing or production ?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583956072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583965808","html_url":"https://github.com/apache/pulsar/issues/5935#issuecomment-583965808","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5935","id":583965808,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk2NTgwOA==","user":{"login":"SunDapeng1","id":42792537,"node_id":"MDQ6VXNlcjQyNzkyNTM3","avatar_url":"https://avatars.githubusercontent.com/u/42792537?v=4","gravatar_id":"","url":"https://api.github.com/users/SunDapeng1","html_url":"https://github.com/SunDapeng1","followers_url":"https://api.github.com/users/SunDapeng1/followers","following_url":"https://api.github.com/users/SunDapeng1/following{/other_user}","gists_url":"https://api.github.com/users/SunDapeng1/gists{/gist_id}","starred_url":"https://api.github.com/users/SunDapeng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SunDapeng1/subscriptions","organizations_url":"https://api.github.com/users/SunDapeng1/orgs","repos_url":"https://api.github.com/users/SunDapeng1/repos","events_url":"https://api.github.com/users/SunDapeng1/events{/privacy}","received_events_url":"https://api.github.com/users/SunDapeng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T05:47:23Z","updated_at":"2020-02-10T05:47:23Z","author_association":"NONE","body":"@jiazhai  How is this issue going?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583965808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583975666","html_url":"https://github.com/apache/pulsar/pull/6027#issuecomment-583975666","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6027","id":583975666,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk3NTY2Ng==","user":{"login":"murong00","id":31875453,"node_id":"MDQ6VXNlcjMxODc1NDUz","avatar_url":"https://avatars.githubusercontent.com/u/31875453?v=4","gravatar_id":"","url":"https://api.github.com/users/murong00","html_url":"https://github.com/murong00","followers_url":"https://api.github.com/users/murong00/followers","following_url":"https://api.github.com/users/murong00/following{/other_user}","gists_url":"https://api.github.com/users/murong00/gists{/gist_id}","starred_url":"https://api.github.com/users/murong00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/murong00/subscriptions","organizations_url":"https://api.github.com/users/murong00/orgs","repos_url":"https://api.github.com/users/murong00/repos","events_url":"https://api.github.com/users/murong00/events{/privacy}","received_events_url":"https://api.github.com/users/murong00/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T06:30:16Z","updated_at":"2020-02-10T06:30:16Z","author_association":"CONTRIBUTOR","body":"@merlimat @sijie How is this issue going, should we modify both CLI tool and REST API to use the _local_ cluster when allowed clusters are not specified? or keep the current behavior which is default to all available clusters?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583975666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583997866","html_url":"https://github.com/apache/pulsar/pull/6074#issuecomment-583997866","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6074","id":583997866,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk5Nzg2Ng==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T07:56:23Z","updated_at":"2020-02-10T07:56:23Z","author_association":"MEMBER","body":"@rdhabalia any thoughts on Matteo's last comment?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583997866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583999972","html_url":"https://github.com/apache/pulsar/pull/6027#issuecomment-583999972","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6027","id":583999972,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzk5OTk3Mg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:02:38Z","updated_at":"2020-02-10T08:02:38Z","author_association":"MEMBER","body":"@murong00 maybe keep the behavior unchanged and improve the error message when cluster name is an empty string.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/583999972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584001823","html_url":"https://github.com/apache/pulsar/pull/6183#issuecomment-584001823","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6183","id":584001823,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAwMTgyMw==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:07:48Z","updated_at":"2020-02-10T08:07:48Z","author_association":"MEMBER","body":"Thanks @KannarFr for the initial change and thanks @gaoran10 for continuing @KannarFr 's awesome work. It is a great example of teamwork and community collaboration! Thanks everyone involved in this pull request.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584001823/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584005489","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-584005489","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":584005489,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAwNTQ4OQ==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:18:17Z","updated_at":"2020-02-10T08:18:17Z","author_association":"MEMBER","body":"@EugenDueck @codelipenghui \r\n\r\nI think you are on the same page. the only question here is - are we using \"producer name\" for identifying the group of producers (what I originally suggested and what @EugenDueck implemented) or introducing a new field \"producer group name\" in both producer builder and as well as in the wire protocol for identifying the group of producers (what @codelipenghui suggested).\r\n\r\nI don't have any strong preferences about either approach. just from an operation perspective, if we re-use \"producer name\" for identifying the group,  does it affect stats returned by `topic stats` (question to @codelipenghui). If it is affecting stats, we might just consider adding another field \"producer group name\" for identifying the group.\r\n\r\nfor @EugenDueck, I don't think you need to re-do your current work if we need to add another field for identifying producer group.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584005489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584007388","html_url":"https://github.com/apache/pulsar/pull/2615#issuecomment-584007388","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2615","id":584007388,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAwNzM4OA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:24:07Z","updated_at":"2020-02-10T08:24:07Z","author_association":"MEMBER","body":"@david-streamlio let's get #2865 merged first. then you can rebase this pull request on #2865 ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584007388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584010540","html_url":"https://github.com/apache/pulsar/issues/6236#issuecomment-584010540","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6236","id":584010540,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAxMDU0MA==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:33:17Z","updated_at":"2020-02-10T08:33:17Z","author_association":"MEMBER","body":"@hari819 I didn't have the content yet. since you already figured this out, it might be worth it for you to contribute a change. thoughts?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584010540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584014285","html_url":"https://github.com/apache/pulsar/issues/6236#issuecomment-584014285","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6236","id":584014285,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAxNDI4NQ==","user":{"login":"hari819","id":12997071,"node_id":"MDQ6VXNlcjEyOTk3MDcx","avatar_url":"https://avatars.githubusercontent.com/u/12997071?v=4","gravatar_id":"","url":"https://api.github.com/users/hari819","html_url":"https://github.com/hari819","followers_url":"https://api.github.com/users/hari819/followers","following_url":"https://api.github.com/users/hari819/following{/other_user}","gists_url":"https://api.github.com/users/hari819/gists{/gist_id}","starred_url":"https://api.github.com/users/hari819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hari819/subscriptions","organizations_url":"https://api.github.com/users/hari819/orgs","repos_url":"https://api.github.com/users/hari819/repos","events_url":"https://api.github.com/users/hari819/events{/privacy}","received_events_url":"https://api.github.com/users/hari819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T08:43:45Z","updated_at":"2020-02-10T08:43:45Z","author_association":"NONE","body":"@sijie , i can start but need some info on the below , \r\n\r\ni will start by having the zookeeper.conf outside of the the arguments provided for the \"pulsar-all\" container \r\n\r\n`args:\r\n            - >\r\n              bin/wait-for-all-dns.sh &&\r\n              bin/wait-for-my-dns.sh &&\r\n              bin/apply-config-from-env.py conf/zookeeper.conf &&\r\n              bin/apply-config-from-env.py conf/pulsar_env.sh &&\r\n              bin/generate-zookeeper-config.sh conf/zookeeper.conf &&\r\n              cat conf/zookeeper.conf &&\r\n              bin/pulsar zookeeper`\r\n\r\nthere is a configMap for zookeeper already with `kind: ConfigMap\r\nmetadata:\r\n  name: zookeeper-config\r\ndata:\r\n  PULSAR_MEM: \"\\\" -Xms100m -Xmx256m \\\"\"\r\n  PULSAR_GC: \"\\\" -XX:+UseG1GC -XX:MaxGCPauseMillis=10\\\"\"` , can i start adding it here ?\r\n\r\nalso this `\" bin/apply-config-from-env.py conf/zookeeper.conf &&\"`  is the guy who is generating the zookeeper.conf ,\r\n\r\nso where to add the ssl properties ?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584014285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584020796","html_url":"https://github.com/apache/pulsar/pull/6209#issuecomment-584020796","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6209","id":584020796,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAyMDc5Ng==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T09:01:53Z","updated_at":"2020-02-10T09:01:53Z","author_association":"CONTRIBUTOR","body":"> if we re-use \"producer name\" for identifying the group, does it affect stats returned by topic stats\r\n\r\n@sijie Yes, the producer name is returned in PublisherStats, if use `producer name` for identifying the group, we also need an extra attribute(IP? or others). If added `producer group name` for identifying the group, we can format the producer name as `group-name/producer-name`. If the producer group name is absent, keep up with the current.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584020796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584022695","html_url":"https://github.com/apache/pulsar/pull/6178#issuecomment-584022695","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6178","id":584022695,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAyMjY5NQ==","user":{"login":"jiazhai","id":6348208,"node_id":"MDQ6VXNlcjYzNDgyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/6348208?v=4","gravatar_id":"","url":"https://api.github.com/users/jiazhai","html_url":"https://github.com/jiazhai","followers_url":"https://api.github.com/users/jiazhai/followers","following_url":"https://api.github.com/users/jiazhai/following{/other_user}","gists_url":"https://api.github.com/users/jiazhai/gists{/gist_id}","starred_url":"https://api.github.com/users/jiazhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiazhai/subscriptions","organizations_url":"https://api.github.com/users/jiazhai/orgs","repos_url":"https://api.github.com/users/jiazhai/repos","events_url":"https://api.github.com/users/jiazhai/events{/privacy}","received_events_url":"https://api.github.com/users/jiazhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T09:07:22Z","updated_at":"2020-02-10T09:07:22Z","author_association":"MEMBER","body":"ping @merlimat ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584022695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584023511","html_url":"https://github.com/apache/pulsar/pull/6027#issuecomment-584023511","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6027","id":584023511,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDAyMzUxMQ==","user":{"login":"murong00","id":31875453,"node_id":"MDQ6VXNlcjMxODc1NDUz","avatar_url":"https://avatars.githubusercontent.com/u/31875453?v=4","gravatar_id":"","url":"https://api.github.com/users/murong00","html_url":"https://github.com/murong00","followers_url":"https://api.github.com/users/murong00/followers","following_url":"https://api.github.com/users/murong00/following{/other_user}","gists_url":"https://api.github.com/users/murong00/gists{/gist_id}","starred_url":"https://api.github.com/users/murong00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/murong00/subscriptions","organizations_url":"https://api.github.com/users/murong00/orgs","repos_url":"https://api.github.com/users/murong00/repos","events_url":"https://api.github.com/users/murong00/events{/privacy}","received_events_url":"https://api.github.com/users/murong00/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T09:09:36Z","updated_at":"2020-02-10T09:09:36Z","author_association":"CONTRIBUTOR","body":"@sijie ok, will fix later","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584023511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584074957","html_url":"https://github.com/apache/pulsar/issues/6281#issuecomment-584074957","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6281","id":584074957,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDA3NDk1Nw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T11:18:26Z","updated_at":"2020-02-10T11:18:26Z","author_association":"CONTRIBUTOR","body":"@sijie From the discussion at slack, you have mentioned that `msg_backlog - msg_delayed` can not be reliably used for measuring non-delayed messages. Does this mean we need an accurate way of measuring or just a reminder, we still expose an indicator `msg_backlog_non_delayed` = `msg_backlog - msg_delayed`? ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584074957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584106736","html_url":"https://github.com/apache/pulsar/pull/4739#issuecomment-584106736","issue_url":"https://api.github.com/repos/apache/pulsar/issues/4739","id":584106736,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDEwNjczNg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T12:49:43Z","updated_at":"2020-02-10T12:49:43Z","author_association":"CONTRIBUTOR","body":"@KannarFr The #6183 merged, I would close this PR.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584106736/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584119416","html_url":"https://github.com/apache/pulsar/pull/6183#issuecomment-584119416","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6183","id":584119416,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDExOTQxNg==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T13:22:17Z","updated_at":"2020-02-10T13:22:17Z","author_association":"CONTRIBUTOR","body":"@gaoran10 Hi, thanks for the work you did there.\r\n\r\nWe are missing a point that I didn't precise in original issue: `internalSetOffloadDeletionLag` and `internalSetOffloadThreshold` should have their own values per ns or use default configuration. I created a new issue https://github.com/apache/pulsar/issues/6283. (i.e. currently we will have the same trigger policies for every ns, but we want to define per ns). ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584119416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584120115","html_url":"https://github.com/apache/pulsar/issues/6283#issuecomment-584120115","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6283","id":584120115,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDEyMDExNQ==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T13:23:49Z","updated_at":"2020-02-10T13:23:49Z","author_association":"CONTRIBUTOR","body":"I think we should consider adding https://github.com/streamnative/pulsar/issues/221 and https://github.com/streamnative/pulsar/issues/73, they should be done together. WDYT?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584120115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584121588","html_url":"https://github.com/apache/pulsar/issues/6283#issuecomment-584121588","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6283","id":584121588,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDEyMTU4OA==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T13:27:22Z","updated_at":"2020-02-10T13:27:22Z","author_association":"CONTRIBUTOR","body":"So when the offload check thread is passing it will check for \"to offload things\" and \"to remove from offloaded\" and do its stuff consequently.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584121588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584142031","html_url":"https://github.com/apache/pulsar/issues/6283#issuecomment-584142031","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6283","id":584142031,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE0MjAzMQ==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:14:43Z","updated_at":"2020-02-10T14:18:21Z","author_association":"CONTRIBUTOR","body":"Already done, I missread the commit done by @gaoran10, it's already done, so just streamnative#221 and streamnative#73 are 'to do\".","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584142031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584143903","html_url":"https://github.com/apache/pulsar/issues/6283#issuecomment-584143903","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6283","id":584143903,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE0MzkwMw==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:18:35Z","updated_at":"2020-02-10T14:18:35Z","author_association":"CONTRIBUTOR","body":"@gaoran10 you confirm?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584143903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584160543","html_url":"https://github.com/apache/pulsar/pull/6284#issuecomment-584160543","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6284","id":584160543,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE2MDU0Mw==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T14:53:37Z","updated_at":"2020-02-10T14:53:37Z","author_association":"CONTRIBUTOR","body":"Thank @ivankelly point out the problem https://github.com/apache/pulsar/pull/5587/files#r377090967, sorry for the mistake.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584160543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584199356","html_url":"https://github.com/apache/pulsar/pull/6183#issuecomment-584199356","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6183","id":584199356,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDE5OTM1Ng==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T16:09:23Z","updated_at":"2020-02-10T16:09:23Z","author_association":"CONTRIBUTOR","body":"> We are missing a point that I didn't precise in original issue: `internalSetOffloadDeletionLag` and `internalSetOffloadThreshold` should have their own values per ns or use default configuration. I created a new issue #6283. (i.e. currently we will have the same trigger policies for every ns, but we want to define per ns).\r\n\r\n@KannarFr Hi, thanks for your suggestions. In currently, maybe the config `internalSetOffloadDeletionLag` and `internalSetOffloadThreshold` belong to namespace is supported, refer to these API 'http://pulsar.apache.org/admin-rest-api/?version=2.5.0#operation/setOffloadDeletionLag' and 'http://pulsar.apache.org/admin-rest-api/?version=2.5.0#operation/setOffloadThreshold'.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584199356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584203223","html_url":"https://github.com/apache/pulsar/issues/6283#issuecomment-584203223","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6283","id":584203223,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDIwMzIyMw==","user":{"login":"gaoran10","id":15029908,"node_id":"MDQ6VXNlcjE1MDI5OTA4","avatar_url":"https://avatars.githubusercontent.com/u/15029908?v=4","gravatar_id":"","url":"https://api.github.com/users/gaoran10","html_url":"https://github.com/gaoran10","followers_url":"https://api.github.com/users/gaoran10/followers","following_url":"https://api.github.com/users/gaoran10/following{/other_user}","gists_url":"https://api.github.com/users/gaoran10/gists{/gist_id}","starred_url":"https://api.github.com/users/gaoran10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaoran10/subscriptions","organizations_url":"https://api.github.com/users/gaoran10/orgs","repos_url":"https://api.github.com/users/gaoran10/repos","events_url":"https://api.github.com/users/gaoran10/events{/privacy}","received_events_url":"https://api.github.com/users/gaoran10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T16:17:19Z","updated_at":"2020-02-10T16:17:19Z","author_association":"CONTRIBUTOR","body":"@KannarFr Hi, I think these features are interesting.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584203223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584213375","html_url":"https://github.com/apache/pulsar/pull/6183#issuecomment-584213375","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6183","id":584213375,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDIxMzM3NQ==","user":{"login":"KannarFr","id":7518245,"node_id":"MDQ6VXNlcjc1MTgyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/7518245?v=4","gravatar_id":"","url":"https://api.github.com/users/KannarFr","html_url":"https://github.com/KannarFr","followers_url":"https://api.github.com/users/KannarFr/followers","following_url":"https://api.github.com/users/KannarFr/following{/other_user}","gists_url":"https://api.github.com/users/KannarFr/gists{/gist_id}","starred_url":"https://api.github.com/users/KannarFr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KannarFr/subscriptions","organizations_url":"https://api.github.com/users/KannarFr/orgs","repos_url":"https://api.github.com/users/KannarFr/repos","events_url":"https://api.github.com/users/KannarFr/events{/privacy}","received_events_url":"https://api.github.com/users/KannarFr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T16:38:37Z","updated_at":"2020-02-10T16:38:37Z","author_association":"CONTRIBUTOR","body":"Yup, closed on https://github.com/apache/pulsar/issues/6283 but forget here, sorry.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584213375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584223523","html_url":"https://github.com/apache/pulsar/pull/6074#issuecomment-584223523","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6074","id":584223523,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDIyMzUyMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T16:58:57Z","updated_at":"2020-02-10T16:58:57Z","author_association":"CONTRIBUTOR","body":"> @rdhabalia any thoughts on Matteo's last comment?\r\n\r\n@sijie I think he's on vacation now. I'll sync-up with him once he's back. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584223523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584228802","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-584228802","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":584228802,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDIyODgwMg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T17:08:56Z","updated_at":"2020-02-10T17:08:56Z","author_association":"CONTRIBUTOR","body":"@devinbost Having a huge PR makes it very difficult to review each change. It would be better to break it down in individual fixes.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584228802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584235582","html_url":"https://github.com/apache/pulsar/pull/6178#issuecomment-584235582","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6178","id":584235582,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDIzNTU4Mg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T17:23:17Z","updated_at":"2020-02-10T17:23:17Z","author_association":"MEMBER","body":"@codelipenghui \r\n\r\n> how about move currentMessagePublishBufferSize to ServerCnx and periodically sync them to totalMessagePublishBufferSize in BrokerService by a single thread?\r\n\r\nthis sounds good to me. Also consider using LongAdder rather than AtomicLong.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584235582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584237322","html_url":"https://github.com/apache/pulsar/issues/6281#issuecomment-584237322","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6281","id":584237322,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDIzNzMyMg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T17:27:05Z","updated_at":"2020-02-10T17:27:05Z","author_association":"MEMBER","body":"I was thinking of finding a more accurate way to measure this.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584237322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584293630","html_url":"https://github.com/apache/pulsar/issues/6264#issuecomment-584293630","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6264","id":584293630,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDI5MzYzMA==","user":{"login":"andtan91","id":24212897,"node_id":"MDQ6VXNlcjI0MjEyODk3","avatar_url":"https://avatars.githubusercontent.com/u/24212897?v=4","gravatar_id":"","url":"https://api.github.com/users/andtan91","html_url":"https://github.com/andtan91","followers_url":"https://api.github.com/users/andtan91/followers","following_url":"https://api.github.com/users/andtan91/following{/other_user}","gists_url":"https://api.github.com/users/andtan91/gists{/gist_id}","starred_url":"https://api.github.com/users/andtan91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andtan91/subscriptions","organizations_url":"https://api.github.com/users/andtan91/orgs","repos_url":"https://api.github.com/users/andtan91/repos","events_url":"https://api.github.com/users/andtan91/events{/privacy}","received_events_url":"https://api.github.com/users/andtan91/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T18:55:25Z","updated_at":"2020-02-10T18:55:25Z","author_association":"NONE","body":"What exactly do you mean for testing?\r\nFor myself, I'd use the swarm setup for both testing and production environments.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584293630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584323415","html_url":"https://github.com/apache/pulsar/issues/6093#issuecomment-584323415","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6093","id":584323415,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDMyMzQxNQ==","user":{"login":"ganeshrajuLinaro","id":19225071,"node_id":"MDQ6VXNlcjE5MjI1MDcx","avatar_url":"https://avatars.githubusercontent.com/u/19225071?v=4","gravatar_id":"","url":"https://api.github.com/users/ganeshrajuLinaro","html_url":"https://github.com/ganeshrajuLinaro","followers_url":"https://api.github.com/users/ganeshrajuLinaro/followers","following_url":"https://api.github.com/users/ganeshrajuLinaro/following{/other_user}","gists_url":"https://api.github.com/users/ganeshrajuLinaro/gists{/gist_id}","starred_url":"https://api.github.com/users/ganeshrajuLinaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ganeshrajuLinaro/subscriptions","organizations_url":"https://api.github.com/users/ganeshrajuLinaro/orgs","repos_url":"https://api.github.com/users/ganeshrajuLinaro/repos","events_url":"https://api.github.com/users/ganeshrajuLinaro/events{/privacy}","received_events_url":"https://api.github.com/users/ganeshrajuLinaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T20:01:35Z","updated_at":"2020-02-10T20:01:35Z","author_association":"NONE","body":"@sijie We could donate an ARM64 hardware for the project to test and help to setup CI running arm. Shall i create a JIRA for that?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584323415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584338391","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-584338391","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":584338391,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDMzODM5MQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T20:29:29Z","updated_at":"2020-02-10T20:29:29Z","author_association":"CONTRIBUTOR","body":"@merlimat The problem I'm running into is that with the flaky tests, with smaller PRs, there are so many flaky tests that even after retriggering the build 10 times by editing comments on code files, there are still so many flaky tests that I can't get all the tests to pass at once.\r\nHaving multiple PRs just multiplies that problem. \r\nAs a consequence, I have two feature PRs for Go functions that are blocked by the flaky tests. They've been blocked for many days even though they are feature-complete.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584338391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584343190","html_url":"https://github.com/apache/pulsar/pull/6202#issuecomment-584343190","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6202","id":584343190,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDM0MzE5MA==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T20:40:04Z","updated_at":"2020-02-10T20:40:04Z","author_association":"CONTRIBUTOR","body":"@merlimat For example, see how many times we needed to re-run the tests to get the tests to pass for this PR: #6031","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584343190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584353445","html_url":"https://github.com/apache/pulsar/issues/6093#issuecomment-584353445","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6093","id":584353445,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDM1MzQ0NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T21:04:53Z","updated_at":"2020-02-10T21:04:53Z","author_association":"CONTRIBUTOR","body":"@ganeshrajuLinaro It's not needed to compile the Java stuff on ARM. You can take the regular Pulsar binary distribution from the download page (or build it from sources on a x86 box). ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584353445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584376423","html_url":"https://github.com/apache/pulsar/pull/6277#issuecomment-584376423","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6277","id":584376423,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDM3NjQyMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T21:54:31Z","updated_at":"2020-02-10T21:54:31Z","author_association":"CONTRIBUTOR","body":"@heronr I think there might be a possible issue with this change. \r\n\r\nI'm getting a segfault when running tests and tests failing (for unrelated issues): \r\n\r\n```\r\n#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\r\n#1  0x00007f351d252899 in __GI_abort () at abort.c:79\r\n#2  0x00007f351d4d994a in ?? () from /lib/x86_64-linux-gnu/libstdc++.so.6\r\n#3  0x00007f351d4e535c in ?? () from /lib/x86_64-linux-gnu/libstdc++.so.6\r\n#4  0x00007f351d4e53c7 in std::terminate() () from /lib/x86_64-linux-gnu/libstdc++.so.6\r\n#5  0x000055708bcafbbf in std::thread::~thread (this=0x55708c947268, __in_chrg=<optimized out>) at /usr/include/c++/9/thread:139\r\n#6  0x00007f351da183f2 in pulsar::ExecutorService::~ExecutorService (this=0x55708c947250, __in_chrg=<optimized out>) at /pulsar/pulsar-client-cpp/lib/ExecutorService.cc:52\r\n```\r\n\r\nwhere we have: \r\n\r\n```c++\r\n    ~thread()\r\n    {\r\n      if (joinable())\r\n        std::terminate();\r\n    }\r\n```\r\nSo I think that in this case we have not called `join()` before the thread was actually destroyed.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584376423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584389349","html_url":"https://github.com/apache/pulsar/issues/6281#issuecomment-584389349","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6281","id":584389349,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDM4OTM0OQ==","user":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-10T22:28:22Z","updated_at":"2020-02-10T22:32:38Z","author_association":"MEMBER","body":"Thanks @codelipenghui! Specifically, we want the number of messages that are ready to be consumed right now. In other words, we want the number of messages that either were not published with a `deliverAt` time, or have a `deliverAt` time that is on or before the current time.\r\n\r\nFor alerting purposes it should ideally be accurate within a minute or so. The problem we've seen is the number `msg_backlog - msg_delayed` can often be incorrect for a day or more so it is not sufficient for this purpose.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584389349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584424687","html_url":"https://github.com/apache/pulsar/issues/6268#issuecomment-584424687","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6268","id":584424687,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQyNDY4Nw==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T00:25:00Z","updated_at":"2020-02-11T00:25:00Z","author_association":"CONTRIBUTOR","body":"@tuteng Thanks for getting this fixed right away!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584424687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584430634","html_url":"https://github.com/apache/pulsar/issues/6288#issuecomment-584430634","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6288","id":584430634,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzMDYzNA==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T00:51:01Z","updated_at":"2020-02-11T00:51:24Z","author_association":"CONTRIBUTOR","body":"It appears to be stuck in this loop:\r\n\r\n```\r\n        while (bkc.getZkHandle()\r\n            .exists(ledgerRootPath + \"/available/\" + InetAddress.getLocalHost().getHostAddress() + \":\" + port,\r\n                false) == null) {\r\n            Thread.sleep(500);\r\n        }\r\n```\r\nin `startBookie(..)`\r\nin `BookKeeperClusterTestCase`","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584430634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584431846","html_url":"https://github.com/apache/pulsar/issues/6288#issuecomment-584431846","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6288","id":584431846,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzMTg0Ng==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T00:56:11Z","updated_at":"2020-02-11T00:56:11Z","author_association":"CONTRIBUTOR","body":"Here's the conf value that's getting passed as the first parameter of startBookie(..):\r\n\r\n![image](https://user-images.githubusercontent.com/7418031/74203957-975ecb00-4c2e-11ea-8406-84c18b37f5ef.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584431846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584432502","html_url":"https://github.com/apache/pulsar/pull/6284#issuecomment-584432502","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6284","id":584432502,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzMjUwMg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T00:59:03Z","updated_at":"2020-02-11T00:59:03Z","author_association":"CONTRIBUTOR","body":"@ivankelly Thanks","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584432502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584432568","html_url":"https://github.com/apache/pulsar/issues/6273#issuecomment-584432568","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6273","id":584432568,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzMjU2OA==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T00:59:19Z","updated_at":"2020-02-11T00:59:19Z","author_association":"CONTRIBUTOR","body":"@codelipenghui Do you think there could be a relationship between this issue and https://github.com/apache/pulsar/issues/6224\r\n?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584432568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584436315","html_url":"https://github.com/apache/pulsar/pull/6277#issuecomment-584436315","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6277","id":584436315,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQzNjMxNQ==","user":{"login":"heronr","id":1810982,"node_id":"MDQ6VXNlcjE4MTA5ODI=","avatar_url":"https://avatars.githubusercontent.com/u/1810982?v=4","gravatar_id":"","url":"https://api.github.com/users/heronr","html_url":"https://github.com/heronr","followers_url":"https://api.github.com/users/heronr/followers","following_url":"https://api.github.com/users/heronr/following{/other_user}","gists_url":"https://api.github.com/users/heronr/gists{/gist_id}","starred_url":"https://api.github.com/users/heronr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heronr/subscriptions","organizations_url":"https://api.github.com/users/heronr/orgs","repos_url":"https://api.github.com/users/heronr/repos","events_url":"https://api.github.com/users/heronr/events{/privacy}","received_events_url":"https://api.github.com/users/heronr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T01:08:02Z","updated_at":"2020-02-11T01:08:02Z","author_association":"CONTRIBUTOR","body":"This implies that there is thread leak in certain cases, probably caused by the Executor service being destroyed in the context of the worker thread. I will try to run the tests locally and track this down, but it may prove difficult to resolve.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584436315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584459484","html_url":"https://github.com/apache/pulsar/pull/5390#issuecomment-584459484","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5390","id":584459484,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQ1OTQ4NA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T02:58:03Z","updated_at":"2020-02-11T02:58:03Z","author_association":"CONTRIBUTOR","body":"@rdhabalia Added tests to prove compress/decompress compatibility with current JNI implementations.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584459484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584478392","html_url":"https://github.com/apache/pulsar/issues/6288#issuecomment-584478392","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6288","id":584478392,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDQ3ODM5Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T04:58:59Z","updated_at":"2020-02-11T04:58:59Z","author_association":"CONTRIBUTOR","body":"Bookie is failing to start up because the disk usage is >95%","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584478392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584512950","html_url":"https://github.com/apache/pulsar/issues/3115#issuecomment-584512950","issue_url":"https://api.github.com/repos/apache/pulsar/issues/3115","id":584512950,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDUxMjk1MA==","user":{"login":"vamsi360","id":1364362,"node_id":"MDQ6VXNlcjEzNjQzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/1364362?v=4","gravatar_id":"","url":"https://api.github.com/users/vamsi360","html_url":"https://github.com/vamsi360","followers_url":"https://api.github.com/users/vamsi360/followers","following_url":"https://api.github.com/users/vamsi360/following{/other_user}","gists_url":"https://api.github.com/users/vamsi360/gists{/gist_id}","starred_url":"https://api.github.com/users/vamsi360/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vamsi360/subscriptions","organizations_url":"https://api.github.com/users/vamsi360/orgs","repos_url":"https://api.github.com/users/vamsi360/repos","events_url":"https://api.github.com/users/vamsi360/events{/privacy}","received_events_url":"https://api.github.com/users/vamsi360/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T07:49:10Z","updated_at":"2020-02-11T07:49:10Z","author_association":"NONE","body":"Hi @rohts-patil @shan-96 \r\nCould you tell me how to replicate the issue you are facing with a test project? I will debug this and replicate/fix","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584512950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584533152","html_url":"https://github.com/apache/pulsar/pull/6289#issuecomment-584533152","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6289","id":584533152,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDUzMzE1Mg==","user":{"login":"aahmed-se","id":8009085,"node_id":"MDQ6VXNlcjgwMDkwODU=","avatar_url":"https://avatars.githubusercontent.com/u/8009085?v=4","gravatar_id":"","url":"https://api.github.com/users/aahmed-se","html_url":"https://github.com/aahmed-se","followers_url":"https://api.github.com/users/aahmed-se/followers","following_url":"https://api.github.com/users/aahmed-se/following{/other_user}","gists_url":"https://api.github.com/users/aahmed-se/gists{/gist_id}","starred_url":"https://api.github.com/users/aahmed-se/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aahmed-se/subscriptions","organizations_url":"https://api.github.com/users/aahmed-se/orgs","repos_url":"https://api.github.com/users/aahmed-se/repos","events_url":"https://api.github.com/users/aahmed-se/events{/privacy}","received_events_url":"https://api.github.com/users/aahmed-se/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T08:58:55Z","updated_at":"2020-02-11T08:58:55Z","author_association":"CONTRIBUTOR","body":"@sijie I have to push some other changes related to our private build, will file some separate commits for docs a bit later. This is from our internal pulsar. So want the commit to go as is.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584533152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584544259","html_url":"https://github.com/apache/pulsar/issues/6054#issuecomment-584544259","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6054","id":584544259,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDU0NDI1OQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T09:28:40Z","updated_at":"2020-02-11T09:28:48Z","author_association":"CONTRIBUTOR","body":"This issue is a duplicate of https://github.com/apache/pulsar/issues/5311","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584544259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584560316","html_url":"https://github.com/apache/pulsar/pull/6027#issuecomment-584560316","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6027","id":584560316,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDU2MDMxNg==","user":{"login":"murong00","id":31875453,"node_id":"MDQ6VXNlcjMxODc1NDUz","avatar_url":"https://avatars.githubusercontent.com/u/31875453?v=4","gravatar_id":"","url":"https://api.github.com/users/murong00","html_url":"https://github.com/murong00","followers_url":"https://api.github.com/users/murong00/followers","following_url":"https://api.github.com/users/murong00/following{/other_user}","gists_url":"https://api.github.com/users/murong00/gists{/gist_id}","starred_url":"https://api.github.com/users/murong00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/murong00/subscriptions","organizations_url":"https://api.github.com/users/murong00/orgs","repos_url":"https://api.github.com/users/murong00/repos","events_url":"https://api.github.com/users/murong00/events{/privacy}","received_events_url":"https://api.github.com/users/murong00/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T10:09:29Z","updated_at":"2020-02-11T10:09:29Z","author_association":"CONTRIBUTOR","body":"@sijie Please help to review again, thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584560316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584565330","html_url":"https://github.com/apache/pulsar/issues/6273#issuecomment-584565330","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6273","id":584565330,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDU2NTMzMA==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T10:21:59Z","updated_at":"2020-02-11T10:21:59Z","author_association":"CONTRIBUTOR","body":"I'm adding my discussion Slack discussion with @codelipenghui (with his permission) to create a better record of our discussion on this issue. \r\n\r\nHe documented what happens in this issue:\r\n\r\n\"For example, we have four batch messages in the producer pending message queue. The messages look like this(I show the sequence ID for more straightforward understanding):\r\n0 -> [0 - 5]\r\n1 -> [6, 8]\r\n2 -> [7 - 10]\r\n3 -> [12 - 15]\r\nBatch message-0 has six messages with sequence ID 0 to 5, and batch message-1 has two messages with sequence ID 6 and 8, and batch message-2 has four messages with sequence ID 7 to 10, and the last batch message-3 has four messages with sequence ID 12 to 15.\r\nWhen message-0 published to the broker, let’s look at the state of the producer and the broker:\r\n\r\n- Producer: the last pushed sequence ID is 5, and the last published sequence ID is 0 since the publish response not yet returned.\r\n- Broker: the lash pushed sequence ID is 5, and the last persistent sequence ID is 0 since the message not written to the Bookie.\r\n\r\nThen the message-1 published to the broker:\r\n\r\n- Producer: the last pushed sequence ID is 8, and the last published sequence ID is 0 since the publish response not yet returned.\r\n- Broker: the lash pushed sequence ID is 8, and the last persistent sequence ID is 0 since the message not written to the Bookie.\r\n\r\nWhen the producer flushes the message-2 to the broker, the message-2 has a sequence ID that lower than the last pushed sequence ID of the producer. So the producer should stop flush message-3 because the producer should get the response of message-2 and re-batch the messages of message-2. After re-batching, the producer should retry the re-batched message. The current state of the broker and producer are:\r\n\r\n- Producer: the last pushed sequence ID is 10, and the last published sequence ID is 10 since the publish response not yet returned.\r\n- Broker: the lash pushed sequence ID is 10, and the last persistent sequence ID is 10 since the message not written to the Bookie.\r\n\r\nAfter message-2 published, the producer starts flushing message-3. So that retry the re-batched message can be handled properly.\r\nBut in extreme cases, this will introduce a lot of blocking.\r\n\r\n--------\r\n\r\nRegarding:\r\n\r\n>  When the producer flushes the message-2 to the broker, the message-2 has a sequence ID that lower than the last pushed sequence ID of the producer. So the producer should stop flush message-3 because the producer should get the response of message-2 and re-batch the messages of message-2.\r\n\r\nI asked:\r\n\"Would that require the producer to wait for the response of message-2 before it could flush message-3? (Moving from asynchronous to synchronous behavior?)\"\r\n\r\nHe replied:\r\n\"Yes, because if message-3 published to the broker, message-2 will be ignored by broker.\"\r\n\r\nI said:\r\n\"hmm… What if the broker could notice that “message-2 has a sequence ID that lower than the last pushed sequence ID of the producer” and send back a response to the producer that requires the producer to re-submit message-2 with the correct sequence?\r\nI guess it depends on what we want the user experience to be. Should this situation be considered an error that we’d want the producer’s developer to know about and need to fix? The main broker limitation is that we’re only tracking the last sequence ID, so we really have no way to know what was missing between those sequence IDs. (In the example of message-1, there’s late data that doesn’t appear until message-2.)\r\nIn Apache Flink, they provide a mechanism to allow re-ordering of messages (within a time buffer) and de-duplication, but that introduces additional latency that is acceptable for a data processing engine but probably wouldn’t be acceptable for Pulsar.\"\r\n\r\nHe replied: \r\n\"yes you are right, it wouldn’t be acceptable for Pulsar.\r\nMaybe we need a PIP to describe the solution, it’s a tricky problem. We need to made some trade offs.  Maybe there are better solutions, we need time to think about how to properly handle message deduplication. . . The current message order dependent deduplication approach brings us many restrictions.\"\r\n\r\nI replied: \r\n\"I very much agree.\r\nInstead, we perhaps could implement a sliding window dictionary of Sequence IDs that would contain a fixed number of IDs to keep in memory. Lookups would still be O(1).  Perhaps a dynamic adjustable window feature could even be at provided at some point for dynamic-length deduplication logic. \r\nWe’d need to find out if there are more reasons that only the last Sequence ID is retained.\r\nIf they could be worked around, then this could implement a new feature of Pulsar.\"\r\n\r\nHe added:\r\n\"I thought of an easy way to deal with the current issue, No need to change the current mechanism, Of course, the current mechanism has better room for optimization that like your ideas.\r\nThe problem is producer combine duplicate messages and non-duplicate messages into a batch message. So we can change the current logic, if the message is a possibility duplicate message, we can flush it directly, this will avoid combine it into a batch. I think this has a small impact on performance and no need to change any broker code.\"\r\n\r\nI asked:\r\n\"Would that mean the producer would need to retain state (like a window of Sequence IDs like we were talking about) to be able to identify if duplicate messages are mixed with non-duplicate messages into a batch message?\"\r\n\r\nHe replied: \r\n\"Yes, there are two state named `lastSequenceIdPushed` and `lastSequenceIdPublished` , if sequence ID of the new message lower than `lastSequenceIdPushed`  but greater than `lastSequenceIdPublished` , This message may be duplicated. Then we don’t combine it into the current batch.  If  sequence ID of the new message  lower than `lastSequenceIdPublished` ,This is an absolute duplicate message, we can return back to users.\"\r\n\r\nTo better understand the current implementation, he suggested that I investigate these tests:\r\n`MessageDuplicationTest` and `ClientDeduplicationTest` ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584565330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584589249","html_url":"https://github.com/apache/pulsar/issues/6281#issuecomment-584589249","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6281","id":584589249,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDU4OTI0OQ==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T11:21:52Z","updated_at":"2020-02-11T11:21:52Z","author_association":"CONTRIBUTOR","body":"Ok, I will take a look.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584589249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584590606","html_url":"https://github.com/apache/pulsar/issues/6273#issuecomment-584590606","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6273","id":584590606,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDU5MDYwNg==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T11:25:50Z","updated_at":"2020-02-11T11:25:50Z","author_association":"CONTRIBUTOR","body":"> Do you think there could be a relationship between this issue and #6224?\r\n\r\n@devinbost Looks not relevant","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584590606/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584698924","html_url":"https://github.com/apache/pulsar/pull/6178#issuecomment-584698924","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6178","id":584698924,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDY5ODkyNA==","user":{"login":"codelipenghui","id":12592133,"node_id":"MDQ6VXNlcjEyNTkyMTMz","avatar_url":"https://avatars.githubusercontent.com/u/12592133?v=4","gravatar_id":"","url":"https://api.github.com/users/codelipenghui","html_url":"https://github.com/codelipenghui","followers_url":"https://api.github.com/users/codelipenghui/followers","following_url":"https://api.github.com/users/codelipenghui/following{/other_user}","gists_url":"https://api.github.com/users/codelipenghui/gists{/gist_id}","starred_url":"https://api.github.com/users/codelipenghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codelipenghui/subscriptions","organizations_url":"https://api.github.com/users/codelipenghui/orgs","repos_url":"https://api.github.com/users/codelipenghui/repos","events_url":"https://api.github.com/users/codelipenghui/events{/privacy}","received_events_url":"https://api.github.com/users/codelipenghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T15:43:20Z","updated_at":"2020-02-11T15:43:20Z","author_association":"CONTRIBUTOR","body":"@merlimat @sijie @jiazhai I have applied the comment, please help take a look, thanks.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584698924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584717050","html_url":"https://github.com/apache/pulsar/issues/2307#issuecomment-584717050","issue_url":"https://api.github.com/repos/apache/pulsar/issues/2307","id":584717050,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDcxNzA1MA==","user":{"login":"JarrodJ83","id":248166,"node_id":"MDQ6VXNlcjI0ODE2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/248166?v=4","gravatar_id":"","url":"https://api.github.com/users/JarrodJ83","html_url":"https://github.com/JarrodJ83","followers_url":"https://api.github.com/users/JarrodJ83/followers","following_url":"https://api.github.com/users/JarrodJ83/following{/other_user}","gists_url":"https://api.github.com/users/JarrodJ83/gists{/gist_id}","starred_url":"https://api.github.com/users/JarrodJ83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JarrodJ83/subscriptions","organizations_url":"https://api.github.com/users/JarrodJ83/orgs","repos_url":"https://api.github.com/users/JarrodJ83/repos","events_url":"https://api.github.com/users/JarrodJ83/events{/privacy}","received_events_url":"https://api.github.com/users/JarrodJ83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T16:18:53Z","updated_at":"2020-02-11T16:18:53Z","author_association":"NONE","body":"This is great news, @sijie! I've been following the email discussion but I don't know much about how a project gets brought into the Pulsar community. Maybe you could provide a high level update of what is happening and what this means moving forward for DotPulsar? Will there be a roadmap of some sort for it? When would we expect to start seeing new updates? etc. \r\n\r\nAs stated before I am still evaluating if we would be able to use Pulsar at my current company and any information about what the development story on dotnet will be moving forward will help inform that decision. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584717050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584765616","html_url":"https://github.com/apache/pulsar/pull/6277#issuecomment-584765616","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6277","id":584765616,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDc2NTYxNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T17:51:40Z","updated_at":"2020-02-11T17:51:40Z","author_association":"CONTRIBUTOR","body":"@heronr I don't think there's a thread leak. Rather, the error seems to be that the `std::thread` object is destroyed before the actual thread was stopped. \r\n\r\nThe main issue I see here is that the `~std::thread()` is being invoked from the thread itself and therefore it's not \"joined\" and it cannot be \"joined\" under any circumstance.\r\n\r\nI believe the only solution is that we should ensure, that `~ExecutorService()` is never called from the same thread.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584765616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584786111","html_url":"https://github.com/apache/pulsar/issues/6288#issuecomment-584786111","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6288","id":584786111,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDc4NjExMQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-11T18:36:18Z","updated_at":"2020-02-11T18:36:18Z","author_association":"CONTRIBUTOR","body":"@merlimat You are right. \r\nOn a production server, if the disk utilization is that high if the bookie crashes, will there be a problem with restarting the bookie? Or, is it just an issue with running the test?","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584786111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584957811","html_url":"https://github.com/apache/pulsar/issues/6300#issuecomment-584957811","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6300","id":584957811,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk1NzgxMQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T01:00:42Z","updated_at":"2020-02-12T01:00:42Z","author_association":"CONTRIBUTOR","body":"It's not clear yet if this issue is related to this one: https://github.com/apache/pulsar/issues/3552","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584957811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584983124","html_url":"https://github.com/apache/pulsar/issues/6302#issuecomment-584983124","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6302","id":584983124,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDk4MzEyNA==","user":{"login":"tuteng","id":1907867,"node_id":"MDQ6VXNlcjE5MDc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1907867?v=4","gravatar_id":"","url":"https://api.github.com/users/tuteng","html_url":"https://github.com/tuteng","followers_url":"https://api.github.com/users/tuteng/followers","following_url":"https://api.github.com/users/tuteng/following{/other_user}","gists_url":"https://api.github.com/users/tuteng/gists{/gist_id}","starred_url":"https://api.github.com/users/tuteng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuteng/subscriptions","organizations_url":"https://api.github.com/users/tuteng/orgs","repos_url":"https://api.github.com/users/tuteng/repos","events_url":"https://api.github.com/users/tuteng/events{/privacy}","received_events_url":"https://api.github.com/users/tuteng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T02:11:35Z","updated_at":"2020-02-12T02:11:35Z","author_association":"MEMBER","body":"How do you run this test? Can you show your command? @devinbost \r\n\r\nI run the integration test locally using the following command:\r\n\r\npackage\r\n```\r\nmvn clean install -DskipTests\r\nmvn -B -f tests/docker-images/pom.xml install -am -Pdocker -DskipTests\r\n```\r\nrun test\r\n```\r\nmvn test -pl  tests/integration -DintegrationTests -DredirectTestOutputToFile=false -Dtest=PulsarFunctionsProcessTest -Dgroups=source\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/584983124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/585039321","html_url":"https://github.com/apache/pulsar/issues/6302#issuecomment-585039321","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6302","id":585039321,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTAzOTMyMQ==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T05:39:40Z","updated_at":"2020-02-12T05:39:40Z","author_association":"CONTRIBUTOR","body":"In the case that I reported above, I actually ran these tests from IntelliJ...\r\nI can try running them as you specified.","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/585039321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/585039337","html_url":"https://github.com/apache/pulsar/issues/6302#issuecomment-585039337","issue_url":"https://api.github.com/repos/apache/pulsar/issues/6302","id":585039337,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTAzOTMzNw==","user":{"login":"devinbost","id":7418031,"node_id":"MDQ6VXNlcjc0MTgwMzE=","avatar_url":"https://avatars.githubusercontent.com/u/7418031?v=4","gravatar_id":"","url":"https://api.github.com/users/devinbost","html_url":"https://github.com/devinbost","followers_url":"https://api.github.com/users/devinbost/followers","following_url":"https://api.github.com/users/devinbost/following{/other_user}","gists_url":"https://api.github.com/users/devinbost/gists{/gist_id}","starred_url":"https://api.github.com/users/devinbost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinbost/subscriptions","organizations_url":"https://api.github.com/users/devinbost/orgs","repos_url":"https://api.github.com/users/devinbost/repos","events_url":"https://api.github.com/users/devinbost/events{/privacy}","received_events_url":"https://api.github.com/users/devinbost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-12T05:39:45Z","updated_at":"2020-02-12T05:39:45Z","author_association":"CONTRIBUTOR","body":"@tuteng ","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/585039337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]