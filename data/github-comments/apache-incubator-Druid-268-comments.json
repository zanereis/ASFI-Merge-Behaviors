[{"url":"https://api.github.com/repos/apache/druid/issues/comments/518904051","html_url":"https://github.com/apache/druid/issues/5705#issuecomment-518904051","issue_url":"https://api.github.com/repos/apache/druid/issues/5705","id":518904051,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODkwNDA1MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T01:35:42Z","updated_at":"2019-08-07T01:35:42Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518904051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518937495","html_url":"https://github.com/apache/druid/pull/8251#issuecomment-518937495","issue_url":"https://api.github.com/repos/apache/druid/issues/8251","id":518937495,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODkzNzQ5NQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T04:43:59Z","updated_at":"2019-08-07T04:43:59Z","author_association":"CONTRIBUTOR","body":"Looks like the package-lock got out of sync you need to reinstall the packages and push","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518937495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518942700","html_url":"https://github.com/apache/druid/issues/8249#issuecomment-518942700","issue_url":"https://api.github.com/repos/apache/druid/issues/8249","id":518942700,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk0MjcwMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T05:11:41Z","updated_at":"2019-08-07T05:11:41Z","author_association":"CONTRIBUTOR","body":"Hmm, I understand it could be useful for your use case if custom segment version is allowed, but I still think it would be better if the functionality supported by Druid is more organized and safe.\r\n\r\nI'm wondering if it's possible to achieve the same goal with a new supervisor (not supervisor task). This supervisor coordinates the completion order of incoming tasks. I guess the completion order might be defined in a various way in the future, but we can start with a simple one like FIFO. So, you may want to submit all indexing tasks to this supervisor instead of directly submitting them to the overlord. The supervisor guarantees first-issued tasks are finished first, which means the segments created by later tasks will have higher versions.\r\n\r\nI think this could be implemented quite easily with a simple restriction, i.e., the `intervals` parameter should be specified in the `granularitySpec`. If `intervals` of a new task are overlapped with those of any other tasks, then that new task will wait for those tasks to be finished first. If a task fails, the supervisor will retry it until it succeeds or the number of failures exceeds a configured limit. With this supervisor, your tasks can still be run in parallel if their intervals are not overlapped. Tasks of overlapping intervals can't be run at the same time, but I think this should be same in the custom segment version approach. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518942700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518946288","html_url":"https://github.com/apache/druid/issues/8246#issuecomment-518946288","issue_url":"https://api.github.com/repos/apache/druid/issues/8246","id":518946288,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk0NjI4OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T05:30:40Z","updated_at":"2019-08-07T05:30:40Z","author_association":"CONTRIBUTOR","body":"The query I posted is overly simplified (I tried to make the simplest query that will manifest the bug). The way the table works is that it wants to do a group by while still having access to the raw rows:\r\n\r\n![image](https://user-images.githubusercontent.com/177816/62597034-7d1bed00-b899-11e9-93c1-5d50e74ff731.png)\r\n\r\nWe achieve this with an outer select but we use an inner group by to actually get a bunch of intervals instead of just a list of segments in whatever order (since there is a limit).\r\n\r\nThe real query (with no filter) right now is:\r\n\r\n```sql\r\nSELECT\r\n  (\"start\" || '/' || \"end\") AS \"interval\",\r\n  \"segment_id\", \"datasource\", \"start\", \"end\", \"size\", \"version\", \"partition_num\", \"num_replicas\", \"num_rows\", \"is_published\", \"is_available\", \"is_realtime\", \"is_overshadowed\", \"payload\"\r\nFROM sys.segments\r\nWHERE\r\n  (\"start\" || '/' || \"end\") IN (\r\n     SELECT \"start\" || '/' || \"end\"\r\n     FROM sys.segments\r\n     GROUP BY 1\r\n     LIMIT 25\r\n  )\r\nORDER BY \"start\" DESC\r\nLIMIT 25000\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518946288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518946888","html_url":"https://github.com/apache/druid/issues/8249#issuecomment-518946888","issue_url":"https://api.github.com/repos/apache/druid/issues/8249","id":518946888,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk0Njg4OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T05:33:33Z","updated_at":"2019-08-07T05:33:33Z","author_association":"CONTRIBUTOR","body":"Hmm, I guess it might not work for you if the tasks are issued out of order..","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518946888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518947902","html_url":"https://github.com/apache/druid/pull/8251#issuecomment-518947902","issue_url":"https://api.github.com/repos/apache/druid/issues/8251","id":518947902,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk0NzkwMg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T05:38:26Z","updated_at":"2019-08-07T05:38:26Z","author_association":"CONTRIBUTOR","body":"Thank you for addressing my feedback so vigorously. I am playing with this locally and it looks great. This is g2g after CI 👍  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518947902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518961059","html_url":"https://github.com/apache/druid/pull/7728#issuecomment-518961059","issue_url":"https://api.github.com/repos/apache/druid/issues/7728","id":518961059,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk2MTA1OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T06:35:35Z","updated_at":"2019-08-07T06:35:35Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If you think that's incorrect or this pull request should instead be reviewed, please simply write any comment. Even if closed, you can still revive the PR at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518961059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/518961707","html_url":"https://github.com/apache/druid/pull/8060#issuecomment-518961707","issue_url":"https://api.github.com/repos/apache/druid/issues/8060","id":518961707,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk2MTcwNw==","user":{"login":"SandishKumarHN","id":3078999,"node_id":"MDQ6VXNlcjMwNzg5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/3078999?v=4","gravatar_id":"","url":"https://api.github.com/users/SandishKumarHN","html_url":"https://github.com/SandishKumarHN","followers_url":"https://api.github.com/users/SandishKumarHN/followers","following_url":"https://api.github.com/users/SandishKumarHN/following{/other_user}","gists_url":"https://api.github.com/users/SandishKumarHN/gists{/gist_id}","starred_url":"https://api.github.com/users/SandishKumarHN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SandishKumarHN/subscriptions","organizations_url":"https://api.github.com/users/SandishKumarHN/orgs","repos_url":"https://api.github.com/users/SandishKumarHN/repos","events_url":"https://api.github.com/users/SandishKumarHN/events{/privacy}","received_events_url":"https://api.github.com/users/SandishKumarHN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T06:38:14Z","updated_at":"2019-08-07T06:38:14Z","author_association":"CONTRIBUTOR","body":"@leventov  Thanks for the first review, Please review this file first processing/src/test/java/org/apache/druid/query/groupby/GroupByQueryRunnerTest.java\r\nbig file and people keep making changes to it!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/518961707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519039125","html_url":"https://github.com/apache/druid/issues/6905#issuecomment-519039125","issue_url":"https://api.github.com/repos/apache/druid/issues/6905","id":519039125,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTAzOTEyNQ==","user":{"login":"trevortitlestad","id":37294006,"node_id":"MDQ6VXNlcjM3Mjk0MDA2","avatar_url":"https://avatars.githubusercontent.com/u/37294006?v=4","gravatar_id":"","url":"https://api.github.com/users/trevortitlestad","html_url":"https://github.com/trevortitlestad","followers_url":"https://api.github.com/users/trevortitlestad/followers","following_url":"https://api.github.com/users/trevortitlestad/following{/other_user}","gists_url":"https://api.github.com/users/trevortitlestad/gists{/gist_id}","starred_url":"https://api.github.com/users/trevortitlestad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevortitlestad/subscriptions","organizations_url":"https://api.github.com/users/trevortitlestad/orgs","repos_url":"https://api.github.com/users/trevortitlestad/repos","events_url":"https://api.github.com/users/trevortitlestad/events{/privacy}","received_events_url":"https://api.github.com/users/trevortitlestad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T10:28:40Z","updated_at":"2019-08-07T10:28:40Z","author_association":"NONE","body":"We are currently running 0.14.2-incubating and noticed the same thing on the Historical nodes when swapping out the servers. Once the Historical servers had finished loading the data back into the cluster and the load queues were empty, the log lines stopped and all appeared to go back to normal.\r\n\r\n`WARN [ZkCoordinator] com.amazonaws.services.s3.internal.S3AbortableInputStream - Not all bytes were read from the S3ObjectInputStream, aborting HTTP connection. This is likely an error and may result in sub-optimal behavior. Request only the bytes you need via a ranged GET or drain the input stream after use.`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519039125/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519135504","html_url":"https://github.com/apache/druid/issues/8252#issuecomment-519135504","issue_url":"https://api.github.com/repos/apache/druid/issues/8252","id":519135504,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzNTUwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T14:59:09Z","updated_at":"2019-08-07T14:59:09Z","author_association":"CONTRIBUTOR","body":"Do you notice any difference for router vs broker? (Is it possible each one is adding its own Date header)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519135504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519136591","html_url":"https://github.com/apache/druid/issues/8246#issuecomment-519136591","issue_url":"https://api.github.com/repos/apache/druid/issues/8246","id":519136591,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzNjU5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:01:25Z","updated_at":"2019-08-07T15:01:25Z","author_association":"CONTRIBUTOR","body":"OK, in that case I vote (2) for 0.16.0 but to keep this issue open in general.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519136591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519137601","html_url":"https://github.com/apache/druid/issues/6548#issuecomment-519137601","issue_url":"https://api.github.com/repos/apache/druid/issues/6548","id":519137601,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzNzYwMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:03:42Z","updated_at":"2019-08-07T15:03:42Z","author_association":"CONTRIBUTOR","body":"@fanwu72 are you still facing this issue with the latest Druid? I haven't looked into it yet, but wondering if it's still relevant. Any interest in contributing a unit test that demonstrates the problem? We could add it to the code base with an `@Ignore` tag just so we have it and can use it to verify if this is fixed in the future.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519137601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519137617","html_url":"https://github.com/apache/druid/issues/6548#issuecomment-519137617","issue_url":"https://api.github.com/repos/apache/druid/issues/6548","id":519137617,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzNzYxNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:03:43Z","updated_at":"2019-08-07T15:03:43Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519137617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519138947","html_url":"https://github.com/apache/druid/issues/6544#issuecomment-519138947","issue_url":"https://api.github.com/repos/apache/druid/issues/6544","id":519138947,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzODk0Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:06:50Z","updated_at":"2019-08-07T15:06:50Z","author_association":"CONTRIBUTOR","body":"@licl2014 does this issue still happen with the latest Druid? The Parquet extension has been totally revamped and the code block your error references doesn't exist anymore.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519138947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519138958","html_url":"https://github.com/apache/druid/issues/6544#issuecomment-519138958","issue_url":"https://api.github.com/repos/apache/druid/issues/6544","id":519138958,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzODk1OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:06:51Z","updated_at":"2019-08-07T15:06:51Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519138958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519139532","html_url":"https://github.com/apache/druid/issues/6550#issuecomment-519139532","issue_url":"https://api.github.com/repos/apache/druid/issues/6550","id":519139532,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzOTUzMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:08:13Z","updated_at":"2019-08-07T15:08:13Z","author_association":"CONTRIBUTOR","body":"Still a useful request IMO.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519139532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519139552","html_url":"https://github.com/apache/druid/issues/6550#issuecomment-519139552","issue_url":"https://api.github.com/repos/apache/druid/issues/6550","id":519139552,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEzOTU1Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:08:14Z","updated_at":"2019-08-07T15:08:14Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519139552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519150535","html_url":"https://github.com/apache/druid/issues/8252#issuecomment-519150535","issue_url":"https://api.github.com/repos/apache/druid/issues/8252","id":519150535,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE1MDUzNQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T15:34:06Z","updated_at":"2019-08-07T15:34:06Z","author_association":"CONTRIBUTOR","body":"@gianm your guess is right as always, does not happen if querying broker directly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519150535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519196668","html_url":"https://github.com/apache/druid/issues/6498#issuecomment-519196668","issue_url":"https://api.github.com/repos/apache/druid/issues/6498","id":519196668,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE5NjY2OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T17:35:39Z","updated_at":"2019-08-07T17:35:39Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519196668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519199927","html_url":"https://github.com/apache/druid/pull/8234#issuecomment-519199927","issue_url":"https://api.github.com/repos/apache/druid/issues/8234","id":519199927,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE5OTkyNw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T17:44:12Z","updated_at":"2019-08-07T17:44:12Z","author_association":"CONTRIBUTOR","body":"Rebased onto master","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519199927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519229527","html_url":"https://github.com/apache/druid/pull/8253#issuecomment-519229527","issue_url":"https://api.github.com/repos/apache/druid/issues/8253","id":519229527,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTIyOTUyNw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T19:06:38Z","updated_at":"2019-08-07T19:06:38Z","author_association":"CONTRIBUTOR","body":"Looks good. Thank you. 👍 after CI","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519229527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519248107","html_url":"https://github.com/apache/druid/issues/8249#issuecomment-519248107","issue_url":"https://api.github.com/repos/apache/druid/issues/8249","id":519248107,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI0ODEwNw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T20:02:47Z","updated_at":"2019-08-07T21:10:35Z","author_association":"CONTRIBUTOR","body":"@jihoonson thanks ... yeah , basically it is very much possible for following pathological case to happen for our env...\r\n\r\ndataset#1 data interval: hour1 - hour3\r\ndataset#2 data interval: hour2 - hour4\r\ndataset#3 data interval: hour3 - hour5\r\n....\r\n\r\nwhich requires indexing of these datasets be done sequentially unless we can control the segment version irrespective of who submits the indexing tasks.\r\n\r\nso, I am assuming that you agree there is not a ideal/simple alternative and we can support something in the task to let user override segment version. we can leave it an undocumented option or documented with warning phrases describing the pitfalls.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519248107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519262740","html_url":"https://github.com/apache/druid/issues/8249#issuecomment-519262740","issue_url":"https://api.github.com/repos/apache/druid/issues/8249","id":519262740,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI2Mjc0MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T20:47:18Z","updated_at":"2019-08-07T20:47:18Z","author_association":"CONTRIBUTOR","body":"Yes, I don't see a simple and better alternative. For this kind of feature, I personally prefer to document with a scary warning with details.\r\n\r\n> @jihoonson I see that there has been a lot of code changes in locking etc and I haven't gone through them yet, do you think this would be doable in a central place or needs to be handled per task ?\r\n\r\nSo, you don't have to roll up and it will make things a bit simpler. I think the part you may want to modify will depend on what lock type you want to use. \r\n\r\nIf a task is using the time chunk lock, it can assign the segment version by itself ([LocalSegmentAllocator for local indexing](https://github.com/apache/incubator-druid/blob/master/indexing-service/src/main/java/org/apache/druid/indexing/common/task/LocalSegmentAllocator.java) and [ParallelSupervisorTask for parallel indexing](https://github.com/apache/incubator-druid/blob/master/indexing-service/src/main/java/org/apache/druid/indexing/common/task/batch/parallel/ParallelIndexSupervisorTask.java#L462)).\r\n\r\nIf it's using the segment lock, the segment version is assigned by [the overlord in a centralized manner](https://github.com/apache/incubator-druid/blob/master/server/src/main/java/org/apache/druid/metadata/IndexerSQLMetadataStorageCoordinator.java#L344). This is because the major version of the new segment is determined based on the existing segments.\r\n\r\nWith the segment lock, all your tasks can run at the same time unless they are overwriting existing segments. For segment lock, you may want to set custom minor versions. With the time chunk lock, tasks can run at the same time only if their intervals are not overlapped. For time chunk lock, you may want to set custom major versions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519262740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519268714","html_url":"https://github.com/apache/druid/pull/8253#issuecomment-519268714","issue_url":"https://api.github.com/repos/apache/druid/issues/8253","id":519268714,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI2ODcxNA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T21:05:20Z","updated_at":"2019-08-07T21:05:20Z","author_association":"CONTRIBUTOR","body":"@mcbrewster could you please not update so much of the package-lock","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519268714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519274246","html_url":"https://github.com/apache/druid/pull/8165#issuecomment-519274246","issue_url":"https://api.github.com/repos/apache/druid/issues/8165","id":519274246,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI3NDI0Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T21:23:19Z","updated_at":"2019-08-07T21:23:19Z","author_association":"CONTRIBUTOR","body":"Some history on interning and data segments for any archeologists out there: https://github.com/apache/incubator-druid/pull/3238 \r\nand its downfall https://github.com/apache/incubator-druid/pull/3286","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519274246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519280799","html_url":"https://github.com/apache/druid/pull/8253#issuecomment-519280799","issue_url":"https://api.github.com/repos/apache/druid/issues/8253","id":519280799,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTI4MDc5OQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T21:45:41Z","updated_at":"2019-08-07T21:45:41Z","author_association":"CONTRIBUTOR","body":"TY for addressing my feedback.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519280799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519305152","html_url":"https://github.com/apache/druid/issues/8249#issuecomment-519305152","issue_url":"https://api.github.com/repos/apache/druid/issues/8249","id":519305152,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTMwNTE1Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T23:30:00Z","updated_at":"2019-08-07T23:30:00Z","author_association":"CONTRIBUTOR","body":"going through https://github.com/apache/incubator-druid/issues/7491 , thanks for documenting that , it is helpful to have that kind of knowledge inside the proposals.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519305152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519388908","html_url":"https://github.com/apache/druid/issues/8252#issuecomment-519388908","issue_url":"https://api.github.com/repos/apache/druid/issues/8252","id":519388908,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM4ODkwOA==","user":{"login":"Vaduz","id":69694,"node_id":"MDQ6VXNlcjY5Njk0","avatar_url":"https://avatars.githubusercontent.com/u/69694?v=4","gravatar_id":"","url":"https://api.github.com/users/Vaduz","html_url":"https://github.com/Vaduz","followers_url":"https://api.github.com/users/Vaduz/followers","following_url":"https://api.github.com/users/Vaduz/following{/other_user}","gists_url":"https://api.github.com/users/Vaduz/gists{/gist_id}","starred_url":"https://api.github.com/users/Vaduz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Vaduz/subscriptions","organizations_url":"https://api.github.com/users/Vaduz/orgs","repos_url":"https://api.github.com/users/Vaduz/repos","events_url":"https://api.github.com/users/Vaduz/events{/privacy}","received_events_url":"https://api.github.com/users/Vaduz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T06:42:36Z","updated_at":"2019-08-08T06:42:36Z","author_association":"NONE","body":"@vogievetsky Thank you for opening an issue. I confirmed this behavior current stable branch (0.15.0).\r\nThis issue happens not only router, but also coordinator and indexer APIs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519388908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519408025","html_url":"https://github.com/apache/druid/issues/7988#issuecomment-519408025","issue_url":"https://api.github.com/repos/apache/druid/issues/7988","id":519408025,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTQwODAyNQ==","user":{"login":"liuzibei2004","id":24430885,"node_id":"MDQ6VXNlcjI0NDMwODg1","avatar_url":"https://avatars.githubusercontent.com/u/24430885?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzibei2004","html_url":"https://github.com/liuzibei2004","followers_url":"https://api.github.com/users/liuzibei2004/followers","following_url":"https://api.github.com/users/liuzibei2004/following{/other_user}","gists_url":"https://api.github.com/users/liuzibei2004/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzibei2004/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzibei2004/subscriptions","organizations_url":"https://api.github.com/users/liuzibei2004/orgs","repos_url":"https://api.github.com/users/liuzibei2004/repos","events_url":"https://api.github.com/users/liuzibei2004/events{/privacy}","received_events_url":"https://api.github.com/users/liuzibei2004/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T07:46:21Z","updated_at":"2019-08-08T07:46:21Z","author_association":"NONE","body":"a very useful feature，hope could be supported soon","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519408025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519490762","html_url":"https://github.com/apache/druid/issues/4349#issuecomment-519490762","issue_url":"https://api.github.com/repos/apache/druid/issues/4349","id":519490762,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTQ5MDc2Mg==","user":{"login":"pantaoran","id":7800702,"node_id":"MDQ6VXNlcjc4MDA3MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7800702?v=4","gravatar_id":"","url":"https://api.github.com/users/pantaoran","html_url":"https://github.com/pantaoran","followers_url":"https://api.github.com/users/pantaoran/followers","following_url":"https://api.github.com/users/pantaoran/following{/other_user}","gists_url":"https://api.github.com/users/pantaoran/gists{/gist_id}","starred_url":"https://api.github.com/users/pantaoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pantaoran/subscriptions","organizations_url":"https://api.github.com/users/pantaoran/orgs","repos_url":"https://api.github.com/users/pantaoran/repos","events_url":"https://api.github.com/users/pantaoran/events{/privacy}","received_events_url":"https://api.github.com/users/pantaoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T12:07:15Z","updated_at":"2019-08-08T12:07:15Z","author_association":"NONE","body":"I just learned of the existence of the config field `druid.generic.useDefaultValueForNull` from the 0.13.0 release notes, but I can't find any mention of the field in the general configuration reference at https://druid.apache.org/docs/latest/configuration/index.html\r\n\r\nAnd if the flag is implemented and released, why is this issue still open? Sorry I don't have time to read through all the replies here. But could you please document the config field?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519490762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519584944","html_url":"https://github.com/apache/druid/pull/7306#issuecomment-519584944","issue_url":"https://api.github.com/repos/apache/druid/issues/7306","id":519584944,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU4NDk0NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T16:10:47Z","updated_at":"2019-08-08T16:10:47Z","author_association":"MEMBER","body":"@vogievetsky could you please review `datasource-view.tsx`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519584944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519631474","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519631474","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519631474,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTYzMTQ3NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T18:17:22Z","updated_at":"2019-08-08T18:17:22Z","author_association":"CONTRIBUTOR","body":"Does [druid.coordinator.kill.on](https://druid.apache.org/docs/latest/configuration/index.html#coordinator-operation) work for this case?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519631474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519635068","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519635068","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519635068,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTYzNTA2OA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T18:27:02Z","updated_at":"2019-08-08T18:27:02Z","author_association":"CONTRIBUTOR","body":"The documentation for `druid.coordinator.kill.on` is very confusing:\r\n\r\n```\r\nBoolean flag for whether or not the Coordinator should \r\nsubmit kill task for unused segments, that is, \r\nhard delete them from metadata store and deep storage.\r\n```\r\n\r\nWhat qualifies as `unused` segments?\r\n\r\nIf i want to add a lifecyle rule to load say 90 days of data, and accidentally type 80 instead of 90, will coordinator have already deleted those extra 10 days permanently by then? \r\n\r\n```\r\nIf set to true, then for all whitelisted dataSources (or optionally all), \r\nCoordinator will submit tasks periodically based on period specified. \r\n```\r\n\r\nWhere does one specify the said `period`? This is a boolean property\r\n\r\n```\r\nThese kill tasks will delete all segments except for the last durationToRetain period.\r\n```\r\n\r\nWhat `durationToRetain` is this referring to?\r\nAlso does it apply the same `duration` to all datasources? \r\nHow do i specify different durations for different datasources?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519635068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519646648","html_url":"https://github.com/apache/druid/issues/8254#issuecomment-519646648","issue_url":"https://api.github.com/repos/apache/druid/issues/8254","id":519646648,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY0NjY0OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T18:59:42Z","updated_at":"2019-08-08T18:59:42Z","author_association":"CONTRIBUTOR","body":"Yeah the query UI tries to wrap your query, that does not work well for the queries you posted.\r\n\r\nYou can disable that like so:\r\n\r\n![image](https://user-images.githubusercontent.com/177816/62729957-e43dbc80-b9d3-11e9-9fc6-1c94dfba7b38.png)\r\n\r\nMake sure your run button says `Run as is`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519646648/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519646783","html_url":"https://github.com/apache/druid/issues/8254#issuecomment-519646783","issue_url":"https://api.github.com/repos/apache/druid/issues/8254","id":519646783,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY0Njc4Mw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T19:00:04Z","updated_at":"2019-08-08T19:00:04Z","author_association":"CONTRIBUTOR","body":"We should make the query wrapper smarter","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519646783/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519655061","html_url":"https://github.com/apache/druid/issues/8269#issuecomment-519655061","issue_url":"https://api.github.com/repos/apache/druid/issues/8269","id":519655061,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY1NTA2MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T19:26:17Z","updated_at":"2019-08-08T19:26:17Z","author_association":"MEMBER","body":"Related to #7209","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519655061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519663853","html_url":"https://github.com/apache/druid/issues/7497#issuecomment-519663853","issue_url":"https://api.github.com/repos/apache/druid/issues/7497","id":519663853,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY2Mzg1Mw==","user":{"login":"mvogiatzis","id":1357708,"node_id":"MDQ6VXNlcjEzNTc3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1357708?v=4","gravatar_id":"","url":"https://api.github.com/users/mvogiatzis","html_url":"https://github.com/mvogiatzis","followers_url":"https://api.github.com/users/mvogiatzis/followers","following_url":"https://api.github.com/users/mvogiatzis/following{/other_user}","gists_url":"https://api.github.com/users/mvogiatzis/gists{/gist_id}","starred_url":"https://api.github.com/users/mvogiatzis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvogiatzis/subscriptions","organizations_url":"https://api.github.com/users/mvogiatzis/orgs","repos_url":"https://api.github.com/users/mvogiatzis/repos","events_url":"https://api.github.com/users/mvogiatzis/events{/privacy}","received_events_url":"https://api.github.com/users/mvogiatzis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T19:53:22Z","updated_at":"2019-08-08T19:53:22Z","author_association":"NONE","body":"Had the same issue @ans76 have you found any solution?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519663853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519664521","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519664521","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519664521,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY2NDUyMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T19:55:30Z","updated_at":"2019-08-08T19:55:30Z","author_association":"CONTRIBUTOR","body":"Maybe the doc needs to be improved to make things more clear.\r\n\r\n>What qualifies as unused segments?\r\n\r\nA segment is `unused` or `unpublished` if its `used` flag is set to false in metadata store.\r\n\r\n> If i want to add a lifecyle rule to load say 90 days of data, and accidentally type 80 instead of 90, will coordinator have already deleted those extra 10 days permanently by then?\r\n\r\nNo, the coordinator never kills used segments.\r\n\r\n> Where does one specify the said period? This is a boolean property\r\n> What durationToRetain is this referring to?\r\n\r\n`period` and `durationToRetain` are explained right below `druid.coordinator.kill.on` in the same page.\r\n\r\nhttps://druid.apache.org/docs/latest/tutorials/tutorial-delete-data.html might help to understand better.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519664521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519666922","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519666922","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519666922,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY2NjkyMg==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:02:40Z","updated_at":"2019-08-08T20:02:40Z","author_association":"CONTRIBUTOR","body":"i think i understand now.\r\n\r\nmy point is that currently deleting old segments is a manual (and thus error-prone) task.\r\nit requires making multiple api calls with exact time ranges.\r\n\r\nTo achieve the use case of say 'delete everything for datasource X older than 1 year', one would need to \r\n1. write a script\r\n2. make sure it has no bugs\r\n3. make sure its running daily. \r\n\r\nAnd one has to write a separate script for every datasource.\r\n\r\nWhat is proposed here is that this should instead just be a rule inside druid coordinator which automatically deletes old data. Kinda like we have rules for loading/dropping data.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519666922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519669763","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519669763","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519669763,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY2OTc2Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:11:32Z","updated_at":"2019-08-08T20:11:32Z","author_association":"CONTRIBUTOR","body":"I'm not sure how it's different from turning on `druid.coordinator.kill.on`. Segments will be automatically marked as `unpublished` (I believe `unpublished` is a more proper term than `unused`) if the drop rule can be applied to them. Once they are marked as `unpublished`, the coordinator will kill them automatically (delete them from both metadata store and deep storage). Am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519669763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519672667","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519672667","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519672667,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY3MjY2Nw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:20:04Z","updated_at":"2019-08-08T20:20:04Z","author_association":"CONTRIBUTOR","body":"the use case is that you may want to delete segments older than just the drop period.\r\nin my example, I 'load' 90 days of data. However I want to 'delete' only data that is 1 year or older.\r\nFrom what i understand, with `kill.on`, everything older than 90 days will be deleted, which is not what i may want","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519672667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519674667","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519674667","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519674667,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY3NDY2Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:26:02Z","updated_at":"2019-08-08T20:26:02Z","author_association":"CONTRIBUTOR","body":"Hmm, I think `druid.coordinator.kill.durationToRetain` will work to keep data older than drop period?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519674667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519675168","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519675168","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519675168,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY3NTE2OA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:27:34Z","updated_at":"2019-08-08T20:27:34Z","author_association":"CONTRIBUTOR","body":"how would you configure a different value of `druid.coordinator.kill.durationToRetain` per data source?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519675168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519676632","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519676632","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519676632,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY3NjYzMg==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:31:50Z","updated_at":"2019-08-08T20:31:50Z","author_association":"CONTRIBUTOR","body":"also the [docs here](https://druid.apache.org/docs/latest/tutorials/tutorial-delete-data.html) say:\r\n\r\n```\r\nThe segment must first be marked as \"unused\". This occurs when a user manually disables a segment through the Coordinator API.\r\n```\r\nthey dont say that a segment is 'automatically' `unused` if a drop rule applies to them. my reading of this is that you _have_ to call api to mark segment as `unused`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519676632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519679217","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519679217","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519679217,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY3OTIxNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T20:40:00Z","updated_at":"2019-08-08T20:40:00Z","author_association":"CONTRIBUTOR","body":"I think that doc is wrong. It usually doesn't happen by manual operation. [This doc](https://druid.apache.org/docs/latest/ingestion/delete-data.html) is better.\r\n\r\n\r\n\r\n> how would you configure a different value of `druid.coordinator.kill.durationToRetain` per data source?\r\n\r\nGood point. I don't think you can configure different values per data source.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519679217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519690040","html_url":"https://github.com/apache/druid/issues/8264#issuecomment-519690040","issue_url":"https://api.github.com/repos/apache/druid/issues/8264","id":519690040,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTY5MDA0MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T21:14:45Z","updated_at":"2019-08-08T21:15:02Z","author_association":"CONTRIBUTOR","body":"It is very much possible to do something to add support for per datasource level `durationToRetain` in dynamic config similar to white list, that would override the common property which would probably resolve this issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519690040/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519718149","html_url":"https://github.com/apache/druid/pull/7281#issuecomment-519718149","issue_url":"https://api.github.com/repos/apache/druid/issues/7281","id":519718149,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTcxODE0OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T23:04:12Z","updated_at":"2019-08-08T23:04:12Z","author_association":"NONE","body":"This pull request/issue has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519718149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519722429","html_url":"https://github.com/apache/druid/pull/8185#issuecomment-519722429","issue_url":"https://api.github.com/repos/apache/druid/issues/8185","id":519722429,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTcyMjQyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T23:25:45Z","updated_at":"2019-08-08T23:25:45Z","author_association":"CONTRIBUTOR","body":"Sorry for the delayed review. I'll look through this PR soon. \r\n\r\nFrom the PR description, I'm wondering the SQL syntax could be better. I guess it might not easy to use this feature if they have tons of segments. My question is, can we use the same SQL syntax and add a new query context to enable this feature? For example, it could be something like this.\r\n\r\n```json\r\n{\r\n  \"query\": \"select count(distinct pid) from DATASOURCE where col='val'\",\r\n  \"context\": {\r\n    \"accurateCardinarlity\": true\r\n  }\r\n}\r\n```\r\n\r\nAlso, please update the PR description as detailed as possible based on https://github.com/apache/incubator-druid/blob/master/.github/pull_request_template.md. The PR template now has a section to explain design choices which can help others to understand this PR better.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519722429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519724736","html_url":"https://github.com/apache/druid/pull/8185#issuecomment-519724736","issue_url":"https://api.github.com/repos/apache/druid/issues/8185","id":519724736,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTcyNDczNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T23:37:47Z","updated_at":"2019-08-08T23:37:47Z","author_association":"CONTRIBUTOR","body":"Oh maybe I was confused. From the documentation, looks like you aded a new `ACCURATE_CARDINALITY` method for this feature. Then it looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519724736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519735366","html_url":"https://github.com/apache/druid/pull/8258#issuecomment-519735366","issue_url":"https://api.github.com/repos/apache/druid/issues/8258","id":519735366,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTczNTM2Ng==","user":{"login":"dampcake","id":6202532,"node_id":"MDQ6VXNlcjYyMDI1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6202532?v=4","gravatar_id":"","url":"https://api.github.com/users/dampcake","html_url":"https://github.com/dampcake","followers_url":"https://api.github.com/users/dampcake/followers","following_url":"https://api.github.com/users/dampcake/following{/other_user}","gists_url":"https://api.github.com/users/dampcake/gists{/gist_id}","starred_url":"https://api.github.com/users/dampcake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dampcake/subscriptions","organizations_url":"https://api.github.com/users/dampcake/orgs","repos_url":"https://api.github.com/users/dampcake/repos","events_url":"https://api.github.com/users/dampcake/events{/privacy}","received_events_url":"https://api.github.com/users/dampcake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T00:37:09Z","updated_at":"2019-08-09T00:46:08Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519735366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519736869","html_url":"https://github.com/apache/druid/pull/7811#issuecomment-519736869","issue_url":"https://api.github.com/repos/apache/druid/issues/7811","id":519736869,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTczNjg2OQ==","user":{"login":"ccaominh","id":9208416,"node_id":"MDQ6VXNlcjkyMDg0MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9208416?v=4","gravatar_id":"","url":"https://api.github.com/users/ccaominh","html_url":"https://github.com/ccaominh","followers_url":"https://api.github.com/users/ccaominh/followers","following_url":"https://api.github.com/users/ccaominh/following{/other_user}","gists_url":"https://api.github.com/users/ccaominh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccaominh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccaominh/subscriptions","organizations_url":"https://api.github.com/users/ccaominh/orgs","repos_url":"https://api.github.com/users/ccaominh/repos","events_url":"https://api.github.com/users/ccaominh/events{/privacy}","received_events_url":"https://api.github.com/users/ccaominh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T00:46:17Z","updated_at":"2019-08-09T00:46:17Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-druid/pull/8230 also removes the explicit snappy-java dependency","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519736869/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519741230","html_url":"https://github.com/apache/druid/pull/8006#issuecomment-519741230","issue_url":"https://api.github.com/repos/apache/druid/issues/8006","id":519741230,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc0MTIzMA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T01:14:06Z","updated_at":"2019-08-09T01:14:06Z","author_association":"MEMBER","body":"Could you update the version in [licenses.yaml](https://github.com/apache/incubator-druid/blob/master/licenses.yaml#L339)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519741230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519742123","html_url":"https://github.com/apache/druid/pull/8008#issuecomment-519742123","issue_url":"https://api.github.com/repos/apache/druid/issues/8008","id":519742123,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc0MjEyMw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T01:19:30Z","updated_at":"2019-08-09T01:19:30Z","author_association":"MEMBER","body":"Could you update the version in [licenses.yaml](https://github.com/apache/incubator-druid/blob/master/licenses.yaml#L2071) to match this version?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519742123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519744810","html_url":"https://github.com/apache/druid/pull/8078#issuecomment-519744810","issue_url":"https://api.github.com/repos/apache/druid/issues/8078","id":519744810,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc0NDgxMA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T01:35:53Z","updated_at":"2019-08-09T01:35:53Z","author_association":"MEMBER","body":"This overall lgtm, could you update the [licenses.yaml](https://github.com/apache/incubator-druid/blob/master/licenses.yaml#L2239) to match the version increase done here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519744810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519754000","html_url":"https://github.com/apache/druid/pull/8008#issuecomment-519754000","issue_url":"https://api.github.com/repos/apache/druid/issues/8008","id":519754000,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc1NDAwMA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T02:29:48Z","updated_at":"2019-08-09T02:29:48Z","author_association":"MEMBER","body":"@clintropolis Thanks a lot. Updated.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519754000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519754059","html_url":"https://github.com/apache/druid/pull/7870#issuecomment-519754059","issue_url":"https://api.github.com/repos/apache/druid/issues/7870","id":519754059,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc1NDA1OQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T02:30:10Z","updated_at":"2019-08-09T02:30:10Z","author_association":"MEMBER","body":"@clintropolis Thanks a lot. Updated.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519754059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519774475","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-519774475","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":519774475,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc3NDQ3NQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T04:39:02Z","updated_at":"2019-08-09T04:39:02Z","author_association":"CONTRIBUTOR","body":"Is it possible that those rows are duplicated in Kafka?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519774475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519774914","html_url":"https://github.com/apache/druid/pull/8275#issuecomment-519774914","issue_url":"https://api.github.com/repos/apache/druid/issues/8275","id":519774914,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc3NDkxNA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T04:41:34Z","updated_at":"2019-08-09T04:41:34Z","author_association":"CONTRIBUTOR","body":"Looks good, thank you for fixing so quickly. 👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519774914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519775305","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-519775305","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":519775305,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc3NTMwNQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T04:44:04Z","updated_at":"2019-08-09T04:58:14Z","author_association":"CONTRIBUTOR","body":"nope. in fact, we have another datasource reading from the same topic with second level granularity, and it shows no duplication at all. (10s is the interval at which data is generated).\r\n\r\nResults from different data source with higher resolution (base resolution at which data is generated)\r\n[query-3014d0a9-3a96-4b2f-9180-b90a8c73a1f1.zip](https://github.com/apache/incubator-druid/files/3484776/query-3014d0a9-3a96-4b2f-9180-b90a8c73a1f1.zip)\r\nNote that data here is perfect for the same time range and same kafka topic\r\n\r\n```SQL\r\nSELECT *\r\n FROM \"kube-metrics-second\" \r\n WHERE accountid='52c7e28eebb26a86fb1505b5' AND  \r\n \"__time\" >= TIMESTAMP '2019-08-09 02:37:00' AND \"__time\" < TIMESTAMP '2019-08-09 02:40:00'  \r\n AND cluster='ds' AND etype='container' AND namespace='default' AND name='app-alertproc' AND pod='alertproc-deployment-65f59b6b8-gc57m'\r\n```\r\nKIS spec\r\n\r\n```js\r\n{\r\n  \"type\": \"kafka\",\r\n  \"dataSchema\": {\r\n    \"dataSource\": \"kube-metrics-second\",\r\n    \"parser\": {\r\n      \"type\": \"string\",\r\n      \"parseSpec\": {\r\n        \"format\": \"json\",\r\n        \"timestampSpec\": {\r\n          \"column\": \"timestamp\",\r\n          \"format\": \"auto\"\r\n        },\r\n        \"dimensionsSpec\": {\r\n          \"dimensions\": [\r\n            \"accountid\",\r\n            \"cluster\",\r\n            \"name\",\r\n            \"namespace\",\r\n            \"etype\",\r\n            \"labels\",\r\n            \"owner\",\r\n            \"owner_kind\",\r\n            \"node\",\r\n            \"image\",\r\n            \"pod\",\r\n            \"node_pool\"\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    \"metricsSpec\": [\r\n      {\r\n        \"name\": \"count\",\r\n        \"type\": \"count\"\r\n      },\r\n      {\r\n        \"name\": \"req_cpu\",\r\n        \"fieldName\": \"req_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"req_mem\",\r\n        \"fieldName\": \"req_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"lim_cpu\",\r\n        \"fieldName\": \"lim_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"lim_mem\",\r\n        \"fieldName\": \"lim_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"cap_cpu\",\r\n        \"fieldName\": \"cap_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"cap_mem\",\r\n        \"fieldName\": \"cap_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"cap_pods\",\r\n        \"fieldName\": \"cap_pods\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"alloc_cpu\",\r\n        \"fieldName\": \"alloc_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"alloc_mem\",\r\n        \"fieldName\": \"alloc_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"alloc_pods\",\r\n        \"fieldName\": \"alloc_pods\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"cpu\",\r\n        \"fieldName\": \"cpu\",\r\n        \"type\": \"doubleMax\"\r\n      },\r\n      {\r\n        \"name\": \"rxBytes\",\r\n        \"fieldName\": \"rxBytes\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"txBytes\",\r\n        \"fieldName\": \"txBytes\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"mem_used\",\r\n        \"fieldName\": \"mem_used\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"mem_limit\",\r\n        \"fieldName\": \"mem_limit\",\r\n        \"type\": \"longMax\"\r\n      }\r\n    ],\r\n    \"granularitySpec\": {\r\n      \"type\": \"uniform\",\r\n      \"segmentGranularity\": \"HOUR\",\r\n      \"queryGranularity\": \"SECOND\"\r\n    }\r\n  },\r\n  \"tuningConfig\": {\r\n    \"type\": \"kafka\",\r\n    \"maxRowsPerSegment\": 5000000\r\n  },\r\n  \"ioConfig\": {\r\n    \"topic\": \"kube-metrics\",\r\n    \"consumerProperties\": {\r\n      \"bootstrap.servers\": \"xxx\"\r\n    },\r\n    \"taskCount\": 1,\r\n    \"replicas\": 2,\r\n    \"taskDuration\": \"PT1H\"\r\n  }\r\n}\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519775305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519823745","html_url":"https://github.com/apache/druid/pull/8006#issuecomment-519823745","issue_url":"https://api.github.com/repos/apache/druid/issues/8006","id":519823745,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTgyMzc0NQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T08:06:22Z","updated_at":"2019-08-09T08:06:22Z","author_association":"CONTRIBUTOR","body":"Sure, done @clintropolis ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519823745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519835172","html_url":"https://github.com/apache/druid/issues/6544#issuecomment-519835172","issue_url":"https://api.github.com/repos/apache/druid/issues/6544","id":519835172,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTgzNTE3Mg==","user":{"login":"licl2014","id":6941514,"node_id":"MDQ6VXNlcjY5NDE1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6941514?v=4","gravatar_id":"","url":"https://api.github.com/users/licl2014","html_url":"https://github.com/licl2014","followers_url":"https://api.github.com/users/licl2014/followers","following_url":"https://api.github.com/users/licl2014/following{/other_user}","gists_url":"https://api.github.com/users/licl2014/gists{/gist_id}","starred_url":"https://api.github.com/users/licl2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/licl2014/subscriptions","organizations_url":"https://api.github.com/users/licl2014/orgs","repos_url":"https://api.github.com/users/licl2014/repos","events_url":"https://api.github.com/users/licl2014/events{/privacy}","received_events_url":"https://api.github.com/users/licl2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T08:41:15Z","updated_at":"2019-08-09T08:41:15Z","author_association":"CONTRIBUTOR","body":"Yep, we found this error  in 0.9.2 version, we will check it in lastest version. @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519835172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519857909","html_url":"https://github.com/apache/druid/issues/8279#issuecomment-519857909","issue_url":"https://api.github.com/repos/apache/druid/issues/8279","id":519857909,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTg1NzkwOQ==","user":{"login":"ighack","id":6670377,"node_id":"MDQ6VXNlcjY2NzAzNzc=","avatar_url":"https://avatars.githubusercontent.com/u/6670377?v=4","gravatar_id":"","url":"https://api.github.com/users/ighack","html_url":"https://github.com/ighack","followers_url":"https://api.github.com/users/ighack/followers","following_url":"https://api.github.com/users/ighack/following{/other_user}","gists_url":"https://api.github.com/users/ighack/gists{/gist_id}","starred_url":"https://api.github.com/users/ighack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ighack/subscriptions","organizations_url":"https://api.github.com/users/ighack/orgs","repos_url":"https://api.github.com/users/ighack/repos","events_url":"https://api.github.com/users/ighack/events{/privacy}","received_events_url":"https://api.github.com/users/ighack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T09:51:03Z","updated_at":"2019-08-09T09:51:03Z","author_association":"NONE","body":"I have same exception\r\nmy kafak is kafka_2.11-0.10.1.0","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519857909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519950665","html_url":"https://github.com/apache/druid/issues/5373#issuecomment-519950665","issue_url":"https://api.github.com/repos/apache/druid/issues/5373","id":519950665,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk1MDY2NQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T14:55:41Z","updated_at":"2019-08-09T14:55:41Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519950665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519988927","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-519988927","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":519988927,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk4ODkyNw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T16:51:59Z","updated_at":"2019-08-09T16:51:59Z","author_association":"CONTRIBUTOR","body":"it gets worse.\r\n\r\n[query-a65b3b59-3a39-4168-9261-912020fd591c.zip](https://github.com/apache/incubator-druid/files/3487289/query-a65b3b59-3a39-4168-9261-912020fd591c.zip)\r\n\r\nhere the aggregation is PT30M, and you can see `2019-08-09T15:00:00.000Z` row is repeated four times!!\r\n\r\n```sql\r\nSELECT *\r\n FROM \"kube-metrics-30m\" \r\n WHERE accountid='52c7e28eebb26a86fb1505b5' AND  \r\n \"__time\" >= TIMESTAMP '2019-08-09 14:00:00' AND \"__time\" < TIMESTAMP '2019-08-09 16:30:00'  \r\n AND cluster='ds' AND etype='container' AND namespace='default' AND name='app-alertproc' AND pod='alertproc-deployment-65f59b6b8-gc57m'\r\n ```\r\n\r\nKIS spec\r\n\r\n```\r\n{\r\n  \"type\": \"kafka\",\r\n  \"dataSchema\": {\r\n    \"dataSource\": \"kube-metrics-30m\",\r\n    \"parser\": {\r\n      \"type\": \"string\",\r\n      \"parseSpec\": {\r\n        \"format\": \"json\",\r\n        \"timestampSpec\": {\r\n          \"column\": \"timestamp\",\r\n          \"format\": \"auto\"\r\n        },\r\n        \"dimensionsSpec\": {\r\n          \"dimensions\": [\r\n            \"accountid\",\r\n            \"cluster\",\r\n            \"name\",\r\n            \"namespace\",\r\n            \"etype\",\r\n            \"labels\",\r\n            \"owner\",\r\n            \"owner_kind\",\r\n            \"node\",\r\n            \"image\",\r\n            \"pod\",\r\n            \"node_pool\"\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    \"metricsSpec\": [\r\n      {\r\n        \"name\": \"count\",\r\n        \"type\": \"count\"\r\n      },\r\n      {\r\n        \"name\": \"req_cpu\",\r\n        \"fieldName\": \"req_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"req_mem\",\r\n        \"fieldName\": \"req_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"lim_cpu\",\r\n        \"fieldName\": \"lim_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"lim_mem\",\r\n        \"fieldName\": \"lim_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"cap_cpu\",\r\n        \"fieldName\": \"cap_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"cap_mem\",\r\n        \"fieldName\": \"cap_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"cap_pods\",\r\n        \"fieldName\": \"cap_pods\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"alloc_cpu\",\r\n        \"fieldName\": \"alloc_cpu\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"alloc_mem\",\r\n        \"fieldName\": \"alloc_mem\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"alloc_pods\",\r\n        \"fieldName\": \"alloc_pods\",\r\n        \"type\": \"floatMax\"\r\n      },\r\n      {\r\n        \"name\": \"cpu\",\r\n        \"fieldName\": \"cpu\",\r\n        \"type\": \"doubleMax\"\r\n      },\r\n      {\r\n        \"name\": \"rxBytes\",\r\n        \"fieldName\": \"rxBytes\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"txBytes\",\r\n        \"fieldName\": \"txBytes\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"mem_used\",\r\n        \"fieldName\": \"mem_used\",\r\n        \"type\": \"longMax\"\r\n      },\r\n      {\r\n        \"name\": \"mem_limit\",\r\n        \"fieldName\": \"mem_limit\",\r\n        \"type\": \"longMax\"\r\n      }\r\n    ],\r\n    \"granularitySpec\": {\r\n      \"type\": \"uniform\",\r\n      \"segmentGranularity\": {\"type\": \"period\", \"period\": \"PT12H\"},\r\n      \"queryGranularity\": {\"type\": \"period\", \"period\": \"PT30M\"}\r\n    }\r\n  },\r\n  \"tuningConfig\": {\r\n    \"type\": \"kafka\",\r\n    \"maxRowsPerSegment\": 5000000\r\n  },\r\n  \"ioConfig\": {\r\n    \"topic\": \"kube-metrics\",\r\n    \"consumerProperties\": {\r\n      \"bootstrap.servers\": \"xx\"\r\n    },\r\n    \"taskCount\": 1,\r\n    \"replicas\": 2,\r\n    \"taskDuration\": \"PT12H\"\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519988927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/519990154","html_url":"https://github.com/apache/druid/issues/4861#issuecomment-519990154","issue_url":"https://api.github.com/repos/apache/druid/issues/4861","id":519990154,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTk5MDE1NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T16:55:42Z","updated_at":"2019-08-09T16:55:42Z","author_association":"NONE","body":"This issue has been closed due to lack of activity. If you think that is incorrect, or the issue requires additional review, you can revive the issue at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/519990154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520002101","html_url":"https://github.com/apache/druid/issues/8279#issuecomment-520002101","issue_url":"https://api.github.com/repos/apache/druid/issues/8279","id":520002101,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDAwMjEwMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T17:33:25Z","updated_at":"2019-08-09T17:33:25Z","author_association":"CONTRIBUTOR","body":"Hi, the minimum supported Kafka version is changed to 0.11.0 in 0.15.0. See https://github.com/apache/incubator-druid/releases/tag/druid-0.15.0-incubating for more details.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520002101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520014042","html_url":"https://github.com/apache/druid/pull/8273#issuecomment-520014042","issue_url":"https://api.github.com/repos/apache/druid/issues/8273","id":520014042,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDAxNDA0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T18:11:40Z","updated_at":"2019-08-09T18:11:40Z","author_association":"CONTRIBUTOR","body":"I restarted the \"other integration test\" job, which had blown up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520014042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520018349","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520018349","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520018349,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDAxODM0OQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T18:25:34Z","updated_at":"2019-08-09T18:25:34Z","author_association":"CONTRIBUTOR","body":"adding more data to help getting to root cause.\r\n\r\n24 hour of data when queried from `minute` granularity datasource (`kube-metrics-minute` spec above)\r\n\r\n![image](https://user-images.githubusercontent.com/3190176/62800349-0d278580-ba98-11e9-873c-0b01715eaef3.png)\r\n\r\nSame data, when queried from `second` granularity datasource (`kube-metrics-second` above)\r\n![image](https://user-images.githubusercontent.com/3190176/62800412-321bf880-ba98-11e9-9c76-e866cfba2170.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520018349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520048197","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520048197","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520048197,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA0ODE5Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:10:01Z","updated_at":"2019-08-09T20:10:01Z","author_association":"CONTRIBUTOR","body":"With Kafka ingestion, it's possible that rollup is not 100%, due to the incremental publishing, e.g.:\r\n- Kafka task gets a row like `{\"timestamp\":\"2019-08-09 14:00:00\", \"dim1\":\"hello\", \"metric\":1}`\r\n- Kafka task hits a memory/row/time limit and does an incremental publish\r\n- If after the incremental publish, another row `{\"timestamp\":\"2019-08-09 14:00:00\", \"dim1\":\"hello\", \"metric\":2}` arrives, it won't be rolled up into the first already published segment, and a non-aggregating query would return both of those rows\r\n\r\nIf you run an exact aggregating query like:\r\n\r\n```\r\nSELECT accountid, SUM(cpu) \r\nFROM \"kube-metrics-minute\" \r\nWHERE accountid='52c7e28eebb26a86fb1505b5' AND  \r\n \"__time\" >= TIMESTAMP '2019-08-09 14:00:00' AND \"__time\" < TIMESTAMP '2019-08-09 16:30:00' AND cluster='ds' AND etype='container' AND namespace='default' AND name='app-alertproc' AND pod='alertproc-deployment-65f59b6b8-gc57m' \r\nGROUP BY accountid\r\n```\r\n\r\ndoes the sum on CPU return the expected value?\r\n\r\nYou could compare the results of that query across the minute/second/30m datasources and see if they match, to rule out imperfect rollup from incremental publishes.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520048197/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520053194","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520053194","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520053194,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA1MzE5NA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:28:07Z","updated_at":"2019-08-09T20:28:07Z","author_association":"CONTRIBUTOR","body":"they all produce different value.\r\nhere is the video showing results on each datasource:\r\nhttps://www.screencast.com/t/gSsZsnHz0\r\n\r\nas for the points you mentioned, they are not possible due to the very small amount of data that is being fed into this kafka topic and the frequency with which the issue is being seen.\r\nI described in the druid-dev thread `ingestion time aggregation in KIS broken in 0.15.1`\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520053194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520055677","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520055677","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520055677,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA1NTY3Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:37:11Z","updated_at":"2019-08-09T20:37:11Z","author_association":"CONTRIBUTOR","body":"Ah, sorry, I just realized that \"cpu\" is a max aggregator here, can you try a sum on count instead?\r\n\r\n```\r\nSELECT accountid, SUM(count) \r\nFROM \"kube-metrics-minute\" \r\nWHERE accountid='52c7e28eebb26a86fb1505b5' AND  \r\n \"__time\" >= TIMESTAMP '2019-08-09 14:00:00' AND \"__time\" < TIMESTAMP '2019-08-09 16:30:00' AND cluster='ds' AND etype='container' AND namespace='default' AND name='app-alertproc' AND pod='alertproc-deployment-65f59b6b8-gc57m' \r\nGROUP BY accountid\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520055677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520057728","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520057728","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520057728,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA1NzcyOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:44:39Z","updated_at":"2019-08-09T20:44:39Z","author_association":"CONTRIBUTOR","body":"If I compare the 1m vs 1s data provided, they look consistent:\r\n\r\n1s for 2019-08-09T02:37:00.000Z:\r\n\r\n![Screen Shot 2019-08-09 at 1 40 36 PM](https://user-images.githubusercontent.com/8729063/62807904-82e91c80-baab-11e9-849b-db0eb780f2da.png)\r\n\r\n1s for 2019-08-09T02:38:00.000Z:\r\n\r\n![Screen Shot 2019-08-09 at 1 43 11 PM](https://user-images.githubusercontent.com/8729063/62807956-a613cc00-baab-11e9-9761-2f0048ff1b79.png)\r\n\r\n1m data:\r\n\r\n\r\n\r\n\r\n![Screen Shot 2019-08-09 at 1 41 00 PM](https://user-images.githubusercontent.com/8729063/62807928-91373880-baab-11e9-93d3-60cdbbe69abe.png)\r\n\r\nThe 1m data looks consistent with the 1s data, with 6 total rows from the input, and the max agg on CPU is consistent as well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520057728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520059682","html_url":"https://github.com/apache/druid/pull/8277#issuecomment-520059682","issue_url":"https://api.github.com/repos/apache/druid/issues/8277","id":520059682,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA1OTY4Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:52:10Z","updated_at":"2019-08-09T20:52:57Z","author_association":"CONTRIBUTOR","body":"I believe that's intentional (druid spelled backwards), it's setting the password for the `druid@localhost` user (which can be anything)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520059682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520060433","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520060433","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520060433,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2MDQzMw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:55:02Z","updated_at":"2019-08-09T21:04:59Z","author_association":"CONTRIBUTOR","body":"you are right, the sum of counts is indeed the same across datasources.\r\nvideo:\r\nhttps://www.screencast.com/t/lRPk0aif6qZ\r\n\r\nHowever, looking at the segments for the `30m` datasource, they are clearly too small to hit any kind of memory/row limit. So why is there any duplication of rows at all? (and that too four times for the `2019-08-09T15:00:00.000Z` row in the `30m` table!)\r\n\r\n![image](https://user-images.githubusercontent.com/3190176/62808527-2e46a100-baad-11e9-97d2-0689c37ad078.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520060433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520060529","html_url":"https://github.com/apache/druid/pull/8277#issuecomment-520060529","issue_url":"https://api.github.com/repos/apache/druid/issues/8277","id":520060529,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2MDUyOQ==","user":{"login":"road-cycling","id":29840907,"node_id":"MDQ6VXNlcjI5ODQwOTA3","avatar_url":"https://avatars.githubusercontent.com/u/29840907?v=4","gravatar_id":"","url":"https://api.github.com/users/road-cycling","html_url":"https://github.com/road-cycling","followers_url":"https://api.github.com/users/road-cycling/followers","following_url":"https://api.github.com/users/road-cycling/following{/other_user}","gists_url":"https://api.github.com/users/road-cycling/gists{/gist_id}","starred_url":"https://api.github.com/users/road-cycling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/road-cycling/subscriptions","organizations_url":"https://api.github.com/users/road-cycling/orgs","repos_url":"https://api.github.com/users/road-cycling/repos","events_url":"https://api.github.com/users/road-cycling/events{/privacy}","received_events_url":"https://api.github.com/users/road-cycling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:55:19Z","updated_at":"2019-08-09T20:55:32Z","author_association":"NONE","body":"@jon-wei  I also thought that at first, however the following setup lines show the user and pass as druid\r\n\r\n```druid.metadata.storage.connector.user=druid\r\ndruid.metadata.storage.connector.password=druid\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520060529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520061014","html_url":"https://github.com/apache/druid/pull/8277#issuecomment-520061014","issue_url":"https://api.github.com/repos/apache/druid/issues/8277","id":520061014,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2MTAxNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T20:57:11Z","updated_at":"2019-08-09T20:57:11Z","author_association":"CONTRIBUTOR","body":"Ah I see, good catch!\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520061014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520062305","html_url":"https://github.com/apache/druid/pull/8277#issuecomment-520062305","issue_url":"https://api.github.com/repos/apache/druid/issues/8277","id":520062305,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2MjMwNQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:01:45Z","updated_at":"2019-08-09T21:02:02Z","author_association":"CONTRIBUTOR","body":"Could you please change the `druid.metadata.storage.connector.password=druid` line instead?\r\n\r\nThe sqlserver/postgresql extension docs use `diurd` consistently as the example password, and `intellij-setup.md` is written to expect `diurd` as the mysql example password as well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520062305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520062484","html_url":"https://github.com/apache/druid/pull/8277#issuecomment-520062484","issue_url":"https://api.github.com/repos/apache/druid/issues/8277","id":520062484,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2MjQ4NA==","user":{"login":"road-cycling","id":29840907,"node_id":"MDQ6VXNlcjI5ODQwOTA3","avatar_url":"https://avatars.githubusercontent.com/u/29840907?v=4","gravatar_id":"","url":"https://api.github.com/users/road-cycling","html_url":"https://github.com/road-cycling","followers_url":"https://api.github.com/users/road-cycling/followers","following_url":"https://api.github.com/users/road-cycling/following{/other_user}","gists_url":"https://api.github.com/users/road-cycling/gists{/gist_id}","starred_url":"https://api.github.com/users/road-cycling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/road-cycling/subscriptions","organizations_url":"https://api.github.com/users/road-cycling/orgs","repos_url":"https://api.github.com/users/road-cycling/repos","events_url":"https://api.github.com/users/road-cycling/events{/privacy}","received_events_url":"https://api.github.com/users/road-cycling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:02:17Z","updated_at":"2019-08-09T21:02:17Z","author_association":"NONE","body":"Sure 👍 \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520062484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520063397","html_url":"https://github.com/apache/druid/pull/8277#issuecomment-520063397","issue_url":"https://api.github.com/repos/apache/druid/issues/8277","id":520063397,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2MzM5Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:05:51Z","updated_at":"2019-08-09T21:05:51Z","author_association":"CONTRIBUTOR","body":"Thanks! (skipping CI for doc-only change)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520063397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520065008","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520065008","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520065008,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2NTAwOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:12:00Z","updated_at":"2019-08-09T21:12:00Z","author_association":"CONTRIBUTOR","body":"Hm, are you able to provide a task log for the 30m task?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520065008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520065354","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520065354","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520065354,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2NTM1NA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:13:19Z","updated_at":"2019-08-09T21:13:19Z","author_association":"CONTRIBUTOR","body":"what is a 'task log' and where do i get it from?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520065354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520066515","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520066515","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520066515,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2NjUxNQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:17:20Z","updated_at":"2019-08-09T21:17:47Z","author_association":"CONTRIBUTOR","body":"in the tasks view, if you click the magnifying glass next to a task, it will have a `Logs` section on the left in the window that pops up, grab the `View full log` in the upper right in that view","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520066515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520067946","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520067946","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520067946,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2Nzk0Ng==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:22:44Z","updated_at":"2019-08-09T21:22:44Z","author_association":"CONTRIBUTOR","body":"nothing in the logs. just `Finished peon task`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520067946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520069386","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520069386","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520069386,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA2OTM4Ng==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:28:13Z","updated_at":"2019-08-09T21:28:13Z","author_association":"CONTRIBUTOR","body":"I think that means log4j logging isn't configured (the `Finished peon task` is printed using `System.out.println` instead of through a logger), check https://druid.apache.org/docs/latest/configuration/logging.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520069386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520070434","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520070434","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520070434,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA3MDQzNA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:32:01Z","updated_at":"2019-08-09T21:33:39Z","author_association":"CONTRIBUTOR","body":"this is how logging is configured for all nodes.\r\napart from the peons, all the other nodes seem to be outputting fine..\r\nEven the MM processes, on which this peon is running are outputting their logs\r\n\r\n```xml\r\n<Configuration status=\"WARN\">\r\n    <Appenders>\r\n\r\n        <RollingFile name=\"RollingFile\" fileName=\"log/druid.log\" filePattern=\"log/druid-%d{MM-dd-yyyy}-%i.log\">\r\n\r\n          <PatternLayout>\r\n                <Pattern>%d %p %c{1.} [%t] %m%n</Pattern>\r\n          </PatternLayout>\r\n          <Policies>\r\n                <OnStartupTriggeringPolicy />\r\n                <TimeBasedTriggeringPolicy />\r\n                <SizeBasedTriggeringPolicy size=\"100 MB\"/>\r\n          </Policies>\r\n\r\n          <DefaultRolloverStrategy>\r\n            <Delete basePath=\"log/\">\r\n              <IfFileName glob=\"*/druid-*.log\">\r\n                <IfLastModified age=\"7d\">\r\n                  <IfAny>\r\n                    <IfAccumulatedFileSize exceeds=\"4 GB\" />\r\n                    <IfAccumulatedFileCount exceeds=\"10\" />\r\n                  </IfAny>\r\n                </IfLastModified>\r\n              </IfFileName>\r\n              \r\n            </Delete>\r\n          </DefaultRolloverStrategy>\r\n          \r\n\r\n        </RollingFile>\r\n\r\n\r\n    </Appenders>\r\n\r\n    <Loggers>\r\n        \r\n        <AsyncLogger name=\"io.druid.curator.inventory.CuratorInventoryManager\" level=\"info\" additivity=\"false\">\r\n          <AppenderRef ref=\"RollingFile\"/>\r\n        </AsyncLogger>\r\n\r\n        <AsyncLogger name=\"io.druid.client.BatchServerInventoryView\" level=\"info\" additivity=\"false\">\r\n          <AppenderRef ref=\"RollingFile\"/>\r\n        </AsyncLogger>\r\n\r\n        <!-- Make extra sure nobody adds logs in a bad way that can hurt performance -->\r\n        <AsyncLogger name=\"io.druid.client.ServerInventoryView\" level=\"info\" additivity=\"false\">\r\n          <AppenderRef ref=\"RollingFile\"/>\r\n        </AsyncLogger>\r\n        <AsyncLogger name =\"io.druid.java.util.http.client.pool.ChannelResourceFactory\" level=\"info\" additivity=\"false\">\r\n          <AppenderRef ref=\"RollingFile\"/>\r\n        </AsyncLogger>\r\n\r\n        <Root level=\"info\">\r\n            <AppenderRef ref=\"RollingFile\"/>\r\n        </Root>\r\n    </Loggers>\r\n</Configuration>\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520070434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520073904","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520073904","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520073904,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA3MzkwNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T21:44:42Z","updated_at":"2019-08-09T21:44:42Z","author_association":"CONTRIBUTOR","body":"In the middleManager runtime.properties, does the `druid.indexer.runner.javaOpts` property have the following? \r\n\r\n`-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager`\r\n\r\nIt will be needed for task logging to work.\r\n\r\nAdditionally, I think you'll need a separate log4j xml for the tasks that uses a Console appender (the separate task logs rely on the tasks logging to console), you can specify that with `-Dlog4j.configurationFile=<conf-file-location>`, this should also go in `druid.indexer.runner.javaOpts` in the MM runtime properties","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520073904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520078202","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520078202","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520078202,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA3ODIwMg==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T22:02:47Z","updated_at":"2019-08-09T22:02:47Z","author_association":"CONTRIBUTOR","body":"I do have the `-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager` property in `druid.indexer.runner.javaOpts`.\r\n\r\nI will add the `-Dlog4j.configurationFile=<conf-file-location>` with the following config, and let you know what happens.  If you need me to add additional config to the below let me know\r\n\r\n```xml\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n\r\n<Configuration status=\"WARN\">\r\n    <Appenders>\r\n        <Console name=\"Console\" target=\"SYSTEM_OUT\">\r\n            <PatternLayout pattern=\"%d{ISO8601} %p [%t] %c - %m%n\"/>\r\n        </Console>\r\n    </Appenders>\r\n\r\n    <Loggers>\r\n\r\n        <AsyncLogger name=\"io.druid.curator.inventory.CuratorInventoryManager\" level=\"info\" additivity=\"false\">\r\n            <AppenderRef ref=\"Console\"/>\r\n        </AsyncLogger>\r\n\r\n        <AsyncLogger name=\"io.druid.client.BatchServerInventoryView\" level=\"info\" additivity=\"false\">\r\n            <AppenderRef ref=\"Console\"/>\r\n        </AsyncLogger>\r\n\r\n        <!-- Make extra sure nobody adds logs in a bad way that can hurt performance -->\r\n        <AsyncLogger name=\"io.druid.client.ServerInventoryView\" level=\"info\" additivity=\"false\">\r\n            <AppenderRef ref=\"Console\"/>\r\n        </AsyncLogger>\r\n        <AsyncLogger name =\"io.druid.java.util.http.client.pool.ChannelResourceFactory\" level=\"info\" additivity=\"false\">\r\n            <AppenderRef ref=\"Console\"/>\r\n        </AsyncLogger>\r\n\r\n        <Root level=\"info\">\r\n            <AppenderRef ref=\"Console\"/>\r\n        </Root>\r\n    </Loggers>\r\n</Configuration>\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520078202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520098592","html_url":"https://github.com/apache/druid/pull/7066#issuecomment-520098592","issue_url":"https://api.github.com/repos/apache/druid/issues/7066","id":520098592,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA5ODU5Mg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T23:58:59Z","updated_at":"2019-08-09T23:58:59Z","author_association":"MEMBER","body":"Hi @QiuMM, any chance you have some time to spare to resolve conflicts and address outstanding review? This seems like a rather useful feature for Druid and not so far from being finished. I would hate to see it get killed by the stale bot.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520098592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520098594","html_url":"https://github.com/apache/druid/pull/7066#issuecomment-520098594","issue_url":"https://api.github.com/repos/apache/druid/issues/7066","id":520098594,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDA5ODU5NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T23:59:01Z","updated_at":"2019-08-09T23:59:01Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520098594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520114435","html_url":"https://github.com/apache/druid/issues/6421#issuecomment-520114435","issue_url":"https://api.github.com/repos/apache/druid/issues/6421","id":520114435,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExNDQzNQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T03:37:34Z","updated_at":"2019-08-10T03:37:34Z","author_association":"NONE","body":"This issue has been closed due to lack of activity. If you think that is incorrect, or the issue requires additional review, you can revive the issue at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520114435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520132287","html_url":"https://github.com/apache/druid/issues/8218#issuecomment-520132287","issue_url":"https://api.github.com/repos/apache/druid/issues/8218","id":520132287,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEzMjI4Nw==","user":{"login":"ashwanilabs","id":542435,"node_id":"MDQ6VXNlcjU0MjQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/542435?v=4","gravatar_id":"","url":"https://api.github.com/users/ashwanilabs","html_url":"https://github.com/ashwanilabs","followers_url":"https://api.github.com/users/ashwanilabs/followers","following_url":"https://api.github.com/users/ashwanilabs/following{/other_user}","gists_url":"https://api.github.com/users/ashwanilabs/gists{/gist_id}","starred_url":"https://api.github.com/users/ashwanilabs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashwanilabs/subscriptions","organizations_url":"https://api.github.com/users/ashwanilabs/orgs","repos_url":"https://api.github.com/users/ashwanilabs/repos","events_url":"https://api.github.com/users/ashwanilabs/events{/privacy}","received_events_url":"https://api.github.com/users/ashwanilabs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T09:00:11Z","updated_at":"2019-08-10T09:00:11Z","author_association":"NONE","body":"Because I don't see any matching aggregator parameter like \"isInputThetaSketch\" for theta sketches. Do we have any thing similar parameter present for quantile sketches ? If yes, can you please update the documentation accordingly for quantile sketch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520132287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520142067","html_url":"https://github.com/apache/druid/issues/6573#issuecomment-520142067","issue_url":"https://api.github.com/repos/apache/druid/issues/6573","id":520142067,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE0MjA2Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T11:37:31Z","updated_at":"2019-08-10T11:37:31Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520142067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520186693","html_url":"https://github.com/apache/druid/issues/6573#issuecomment-520186693","issue_url":"https://api.github.com/repos/apache/druid/issues/6573","id":520186693,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE4NjY5Mw==","user":{"login":"fdoumet","id":1440016,"node_id":"MDQ6VXNlcjE0NDAwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1440016?v=4","gravatar_id":"","url":"https://api.github.com/users/fdoumet","html_url":"https://github.com/fdoumet","followers_url":"https://api.github.com/users/fdoumet/followers","following_url":"https://api.github.com/users/fdoumet/following{/other_user}","gists_url":"https://api.github.com/users/fdoumet/gists{/gist_id}","starred_url":"https://api.github.com/users/fdoumet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fdoumet/subscriptions","organizations_url":"https://api.github.com/users/fdoumet/orgs","repos_url":"https://api.github.com/users/fdoumet/repos","events_url":"https://api.github.com/users/fdoumet/events{/privacy}","received_events_url":"https://api.github.com/users/fdoumet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T23:16:07Z","updated_at":"2019-08-10T23:16:18Z","author_association":"NONE","body":"Stil an issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520186693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520186694","html_url":"https://github.com/apache/druid/issues/6573#issuecomment-520186694","issue_url":"https://api.github.com/repos/apache/druid/issues/6573","id":520186694,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE4NjY5NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T23:16:09Z","updated_at":"2019-08-10T23:16:09Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520186694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520251699","html_url":"https://github.com/apache/druid/issues/8276#issuecomment-520251699","issue_url":"https://api.github.com/repos/apache/druid/issues/8276","id":520251699,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDI1MTY5OQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-11T18:57:19Z","updated_at":"2019-08-11T18:57:19Z","author_association":"CONTRIBUTOR","body":"ok, i enabled the task logs, let everything run for a full day and collected all the data in this zip.\r\n[druidbug.zip](https://github.com/apache/incubator-druid/files/3490327/druidbug.zip)\r\n\r\nthe zip contains everything, the queries, the results, etc.\r\nthis time again, the `30m` segment has multiple repeated rows.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520251699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520258486","html_url":"https://github.com/apache/druid/issues/5915#issuecomment-520258486","issue_url":"https://api.github.com/repos/apache/druid/issues/5915","id":520258486,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDI1ODQ4Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-11T20:38:14Z","updated_at":"2019-08-11T20:38:14Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520258486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520281657","html_url":"https://github.com/apache/druid/issues/2330#issuecomment-520281657","issue_url":"https://api.github.com/repos/apache/druid/issues/2330","id":520281657,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDI4MTY1Nw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T02:00:05Z","updated_at":"2019-08-12T02:00:05Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520281657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520295078","html_url":"https://github.com/apache/druid/issues/6576#issuecomment-520295078","issue_url":"https://api.github.com/repos/apache/druid/issues/6576","id":520295078,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDI5NTA3OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T04:20:08Z","updated_at":"2019-08-12T04:20:08Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520295078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520301201","html_url":"https://github.com/apache/druid/issues/8175#issuecomment-520301201","issue_url":"https://api.github.com/repos/apache/druid/issues/8175","id":520301201,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDMwMTIwMQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T05:14:57Z","updated_at":"2019-08-12T05:14:57Z","author_association":"CONTRIBUTOR","body":"so there is something i dont understand:\r\n\r\nsince KIS tasks dont persist the data until their handoff, wont killing or suspending them make them lose their current data? then when they restart, they will need to re-read all that data for the segment from the begining, and during that time if the broker query reaches that 'restarted' task, it will see no value for that timerange.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520301201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/520401753","html_url":"https://github.com/apache/druid/issues/6577#issuecomment-520401753","issue_url":"https://api.github.com/repos/apache/druid/issues/6577","id":520401753,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDQwMTc1Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-08-12T12:20:08Z","updated_at":"2019-08-12T12:20:08Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/520401753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]