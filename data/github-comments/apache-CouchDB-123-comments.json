[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1781811900","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1781811900","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1781811900,"node_id":"IC_kwDOAAMmUc5qNEq8","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-26T19:58:08Z","updated_at":"2023-10-26T19:58:08Z","author_association":"MEMBER","body":"(of course our current PBKDF2 implementation is bespoke anyway)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1781811900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1781911798","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1781911798","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1781911798,"node_id":"IC_kwDOAAMmUc5qNdD2","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-26T21:21:09Z","updated_at":"2023-10-26T21:32:06Z","author_association":"CONTRIBUTOR","body":"Ah indeed, it is invoking the sha* functions from OpenSSL. The macros in fast_pbkdf2.c looked a bit confusing and it was hard to tell what was happening there. And you're right, in that respect it's just as compliant or non-compliant as our previous implementation.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1781911798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1783384996","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1783384996","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1783384996,"node_id":"IC_kwDOAAMmUc5qTEuk","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-27T19:10:09Z","updated_at":"2023-10-27T19:10:09Z","author_association":"CONTRIBUTOR","body":"In the documentation, _1.3.6.1.1. Selectors Basics_ should also talk about `$beginsWith`?\r\n\r\nhttps://github.com/apache/couchdb/blob/a5af77787bd58207bc63d822e9959103755325d8/src/docs/src/api/database/find.rst?plain=1#L201-L207\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1783384996/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1784786455","html_url":"https://github.com/apache/couchdb/issues/4815#issuecomment-1784786455","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4815","id":1784786455,"node_id":"IC_kwDOAAMmUc5qYa4X","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T09:20:47Z","updated_at":"2023-10-30T09:20:47Z","author_association":"CONTRIBUTOR","body":"@nickva \r\nWould it make sense to consolidate this into one section (e.g. [smoosh]) only?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1784786455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785168773","html_url":"https://github.com/apache/couchdb/issues/4815#issuecomment-1785168773","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4815","id":1785168773,"node_id":"IC_kwDOAAMmUc5qZ4OF","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T13:13:28Z","updated_at":"2023-10-30T13:13:28Z","author_association":"CONTRIBUTOR","body":"Logically they sort of make sense in separate sections as they are logs coming from different areas.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785168773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785389166","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-1785389166","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":1785389166,"node_id":"IC_kwDOAAMmUc5qauBu","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T14:52:14Z","updated_at":"2023-10-30T14:52:14Z","author_association":"CONTRIBUTOR","body":"Thanks for the heads-up @RaitoBezarius. We're investigating using QuickJS https://github.com/apache/couchdb/issues/4448 but so far it hasn't made into a release yet. After the discussion in the Apache CouchDB meeting the plan is to release as an option first along with an automated background scanner to check users' design docs for compatibility between SM and QuickJS (or potentially any other JS engine in the future).\r\n\r\nI had tried to bring SM 102 in with https://github.com/apache/couchdb/pull/4305 but they keep changing the C++ API almost every release so that didn't get very far.\r\n\r\nRecent RHEL versions have removed spidermonkey from their base packages I see Debian Bookworm still supports https://packages.debian.org/bookworm/libmozjs-78-0. Presumably they have security patches for it as well? Perhaps nixpkgs can use the Debian version?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785389166/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785392792","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-1785392792","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":1785392792,"node_id":"IC_kwDOAAMmUc5qau6Y","user":{"login":"RaitoBezarius","id":314564,"node_id":"MDQ6VXNlcjMxNDU2NA==","avatar_url":"https://avatars.githubusercontent.com/u/314564?v=4","gravatar_id":"","url":"https://api.github.com/users/RaitoBezarius","html_url":"https://github.com/RaitoBezarius","followers_url":"https://api.github.com/users/RaitoBezarius/followers","following_url":"https://api.github.com/users/RaitoBezarius/following{/other_user}","gists_url":"https://api.github.com/users/RaitoBezarius/gists{/gist_id}","starred_url":"https://api.github.com/users/RaitoBezarius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RaitoBezarius/subscriptions","organizations_url":"https://api.github.com/users/RaitoBezarius/orgs","repos_url":"https://api.github.com/users/RaitoBezarius/repos","events_url":"https://api.github.com/users/RaitoBezarius/events{/privacy}","received_events_url":"https://api.github.com/users/RaitoBezarius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T14:54:03Z","updated_at":"2023-10-30T14:54:03Z","author_association":"NONE","body":"@nickva I will investigate the security updates for 78, I am surprised but maybe that's the case!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785392792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785802556","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1785802556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1785802556,"node_id":"IC_kwDOAAMmUc5qcS88","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T18:22:02Z","updated_at":"2023-10-30T18:22:02Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785802556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785845249","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1785845249","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1785845249,"node_id":"IC_kwDOAAMmUc5qcdYB","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T18:49:52Z","updated_at":"2023-10-30T18:49:52Z","author_association":"CONTRIBUTOR","body":"@willholley\r\n>Typically, CouchDB uses the [Review-Then-Commit](http://www.apache.org/foundation/glossary.html#ReviewThenCommit) (RTC) model of code collaboration, not _Commit-Then-Review_.\r\n\r\n:stuck_out_tongue_winking_eye:","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785845249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785849980","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1785849980","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1785849980,"node_id":"IC_kwDOAAMmUc5qceh8","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T18:53:01Z","updated_at":"2023-10-30T18:53:01Z","author_association":"CONTRIBUTOR","body":"@big-r81 we have been in contact with @willholley about the PR out-of-band.  On merging the PR he was aware that I did not have any more pending comments on the contents.  I wanted to approve it formally but I was a bit late to the party hence I added the comment with the +1 to signal that I agree with the change.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785849980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785861835","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1785861835","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1785861835,"node_id":"IC_kwDOAAMmUc5qchbL","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T19:00:53Z","updated_at":"2023-10-30T19:00:53Z","author_association":"CONTRIBUTOR","body":"@pgj It was only a small friendly reminder 😉 btw, this reminds me of #4772...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785861835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785876361","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1785876361","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1785876361,"node_id":"IC_kwDOAAMmUc5qck-J","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T19:11:18Z","updated_at":"2023-10-30T19:11:18Z","author_association":"CONTRIBUTOR","body":"Hrm...  Something is wrong with the merged version.  CI says the following:\r\n\r\n```console\r\n[2023-10-30T18:57:57.544Z] FAIL: test_basic (25-beginswith-test.BeginsWithOperator)\r\n[2023-10-30T18:57:57.544Z] ----------------------------------------------------------------------\r\n[2023-10-30T18:57:57.544Z] Traceback (most recent call last):\r\n[2023-10-30T18:57:57.544Z]   File \"/home/jenkins/workspace/kins-cm1_FullPlatformMatrix_main/centos7/build/src/mango/test/25-beginswith-test.py\", line 49, in test_basic\r\n[2023-10-30T18:57:57.544Z]     self.assertEqual(len(docs), 2)\r\n[2023-10-30T18:57:57.544Z] AssertionError: 0 != 2\r\n[2023-10-30T18:57:57.544Z] \r\n[2023-10-30T18:57:57.544Z] ======================================================================\r\n[2023-10-30T18:57:57.544Z] FAIL: test_compound_key (25-beginswith-test.BeginsWithOperator)\r\n[2023-10-30T18:57:57.544Z] ----------------------------------------------------------------------\r\n[2023-10-30T18:57:57.544Z] Traceback (most recent call last):\r\n[2023-10-30T18:57:57.544Z]   File \"/home/jenkins/workspace/kins-cm1_FullPlatformMatrix_main/centos7/build/src/mango/test/25-beginswith-test.py\", line 68, in test_compound_key\r\n[2023-10-30T18:57:57.544Z]     self.assertEqual(len(docs), 1)\r\n[2023-10-30T18:57:57.544Z] AssertionError: 0 != 1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785876361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785880172","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1785880172","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1785880172,"node_id":"IC_kwDOAAMmUc5qcl5s","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T19:14:06Z","updated_at":"2023-10-30T19:14:06Z","author_association":"CONTRIBUTOR","body":"Locally (with Dreyfus/Clouseau enabled) `make mango-test` works for me.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1785880172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786063439","html_url":"https://github.com/apache/couchdb/pull/4826#issuecomment-1786063439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4826","id":1786063439,"node_id":"IC_kwDOAAMmUc5qdSpP","user":{"login":"sblaisot","id":2768193,"node_id":"MDQ6VXNlcjI3NjgxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/2768193?v=4","gravatar_id":"","url":"https://api.github.com/users/sblaisot","html_url":"https://github.com/sblaisot","followers_url":"https://api.github.com/users/sblaisot/followers","following_url":"https://api.github.com/users/sblaisot/following{/other_user}","gists_url":"https://api.github.com/users/sblaisot/gists{/gist_id}","starred_url":"https://api.github.com/users/sblaisot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sblaisot/subscriptions","organizations_url":"https://api.github.com/users/sblaisot/orgs","repos_url":"https://api.github.com/users/sblaisot/repos","events_url":"https://api.github.com/users/sblaisot/events{/privacy}","received_events_url":"https://api.github.com/users/sblaisot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T21:19:48Z","updated_at":"2023-10-30T21:19:48Z","author_association":"CONTRIBUTOR","body":"What a shame.\r\n\r\nNo snap package maintainer, no Debian 12 package more than 4 monthes after release. Is couchdb still alive?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786063439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786067232","html_url":"https://github.com/apache/couchdb/pull/4826#issuecomment-1786067232","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4826","id":1786067232,"node_id":"IC_kwDOAAMmUc5qdTkg","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T21:22:49Z","updated_at":"2023-10-30T21:22:49Z","author_association":"CONTRIBUTOR","body":"@sblaisot I'm happy to see your contributions to the snap package in the next days...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786067232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786375979","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1786375979","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1786375979,"node_id":"IC_kwDOAAMmUc5qee8r","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T03:20:21Z","updated_at":"2023-10-31T03:20:21Z","author_association":"CONTRIBUTOR","body":"It probably a flaky test. We should investigate as we've been trying to squash some of those lately. Is the race condition fairly obvious? Usually we can add a retry loop.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786375979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786470992","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1786470992","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1786470992,"node_id":"IC_kwDOAAMmUc5qe2JQ","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T05:26:02Z","updated_at":"2023-10-31T05:26:02Z","author_association":"CONTRIBUTOR","body":"It is not flaky, these errors happen every time -- but only on CentOS 7.  I was able to reproduce the issue locally with the help of a container created from the `apache/couchdbci-centos:7-erlang-24.3.4.10` Docker image.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786470992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786501544","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1786501544","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1786501544,"node_id":"IC_kwDOAAMmUc5qe9mo","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T05:59:55Z","updated_at":"2023-10-31T05:59:55Z","author_association":"CONTRIBUTOR","body":"> It is not flaky, these errors happen every time -- but only on CentOS 7.\r\n\r\nOh very interesting, definitely worth investigating. One thing that immediately jumps to mind is that CentOS 7 has an older libicu library which may have different collation rules. Any end/start (min/max) marker perhaps might collate differently there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786501544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786788940","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1786788940","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1786788940,"node_id":"IC_kwDOAAMmUc5qgDxM","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T09:03:57Z","updated_at":"2023-10-31T09:03:57Z","author_association":"MEMBER","body":"@big-r81 oops on the premature merge - I'm too used to working with repos with branch protection enabled in GH and didn't think to manually check for the +1.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786788940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786790838","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1786790838","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1786790838,"node_id":"IC_kwDOAAMmUc5qgEO2","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T09:05:10Z","updated_at":"2023-10-31T09:05:10Z","author_association":"MEMBER","body":"curious that the failure didn't show in the PR checks - it definitely smells like a collation issue and likely an issue with the special characters used in the tests rather than the implementation of `$beginsWith`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786790838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786846495","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1786846495","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1786846495,"node_id":"IC_kwDOAAMmUc5qgR0f","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T09:36:57Z","updated_at":"2023-10-31T09:36:57Z","author_association":"CONTRIBUTOR","body":"@willholley np, only a reminder. We will add this review-branch-protection in the future. At the moment, we will get the \"green\" merge button, if the CI runs through...\r\n\r\nThe failure didn't show up in the PR checks, because CentOS and other OSes are only called in the full CI run. For PRs, we only test a linux distro (debian) with different erlang version (24,25,26).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1786846495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787188105","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1787188105","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1787188105,"node_id":"IC_kwDOAAMmUc5qhlOJ","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T13:09:18Z","updated_at":"2023-10-31T13:09:18Z","author_association":"CONTRIBUTOR","body":"> it definitely smells like a collation issue and likely an issue with the special characters used in the tests\r\n\r\nIn my understanding, the two failing test cases do not feature any special characters.  Neither the selectors nor the documents.  C.f. \"begins with `A`\" vs. { `\"AUS\"`, `\"AND\"`, `\"CAN\"`, `\"DEN\"`, `\"ETH\"` }.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787188105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787391987","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1787391987","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1787391987,"node_id":"IC_kwDOAAMmUc5qiW_z","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T14:59:14Z","updated_at":"2023-10-31T14:59:14Z","author_association":"CONTRIBUTOR","body":"@pgj can you test on your local CentOS vm the state before the PR? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787391987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787413943","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1787413943","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1787413943,"node_id":"IC_kwDOAAMmUc5qicW3","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T15:09:39Z","updated_at":"2023-10-31T15:09:39Z","author_association":"CONTRIBUTOR","body":"It is the derived string upper limit that does not work.  Consider the following:\r\n\r\n```erlang\r\n> Lower = <<\"A\">>.\r\n<<\"A\">>.\r\n> Upper = <<Lower/binary, 16#10FFFF>>.\r\n<<\"A\\377\">>.\r\n```\r\n\r\nOn CentOS 7:\r\n\r\n```erlang\r\n> couch_ejson_compare:get_icu_version().\r\n{50,2,0,0}\r\n> couch_ejson_compare:get_collator_version().\r\n{58,0,6,50}\r\n> mango_json:cmp(Lower, <<\"AUS\">>).\r\n-1\r\n> mango_json:cmp(<<\"AUS\">>, Upper).\r\n1\r\n```\r\n\r\nOn anywhere else (for example, locally):\r\n\r\n```erlang\r\n> couch_ejson_compare:get_icu_version().\r\n{73,2,0,0}\r\n> couch_ejson_compare:get_collator_version().\r\n{153,120,0,0}\r\n> mango_json:cmp(Lower, <<\"AUS\">>).\r\n-1\r\n> mango_json:cmp(<<\"AUS\">>, Upper).\r\n-1\r\n```\r\n\r\nThe `mango_json:cmp/2` function should return `-1` for every case.  That signals the \"less than\" result, which should hold for all.  Apparently, `icu` 50 disagrees (as @nickva suspected) hence no documents are returned for the range.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787413943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787623697","html_url":"https://github.com/apache/couchdb/issues/4827#issuecomment-1787623697","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4827","id":1787623697,"node_id":"IC_kwDOAAMmUc5qjPkR","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T17:02:21Z","updated_at":"2023-10-31T17:02:21Z","author_association":"MEMBER","body":"To what end? Fauxton is just calling the API, it has no special privileges.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1787623697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788169233","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1788169233","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1788169233,"node_id":"IC_kwDOAAMmUc5qlUwR","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T23:25:03Z","updated_at":"2023-10-31T23:25:03Z","author_association":"CONTRIBUTOR","body":"Yeah, basically [the lack of support for `0xFFFF` in older ICU versions](https://www.unicode.org/reports/tr35/tr35-collation.html#tailored_noncharacter_weights) strikes again here, similar to what happened in #3491.  As the standard says:\r\n\r\n_U+FFFF: This code point is tailored to have a primary weight higher than all other characters. This allows the reliable specification of a range, such as “Sch” ≤ X ≤ “Sch\\uFFFF”, to include all strings starting with \"sch\" or equivalent._\r\n\r\nGiven that the other issue was fixed by unconditionally applying a shim on top of the ICU string comparison call, we should do the same here?  @nickva what do you think?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788169233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788364777","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1788364777","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1788364777,"node_id":"IC_kwDOAAMmUc5qmEfp","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T03:50:10Z","updated_at":"2023-11-01T03:50:10Z","author_association":"CONTRIBUTOR","body":"@pgj excellent find!\r\n\r\n> Given that the other issue was fixed by unconditionally applying a shim on top of the ICU string comparison call, we should do the same here? @nickva what do you think?\r\n\r\nIt could work. The previous fix was easy enough as it was an isolated element -- a single marker. This one might involve doing some string wrangling in C, which is always fun, and by fun I mean dangerous, of course ;-)\r\n\r\nI guess we could extend the current check to first see if the string ends in `\\uFFFFF` and handle that special case.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788364777/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788590244","html_url":"https://github.com/apache/couchdb/issues/4827#issuecomment-1788590244","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4827","id":1788590244,"node_id":"IC_kwDOAAMmUc5qm7ik","user":{"login":"estoT1","id":84388106,"node_id":"MDQ6VXNlcjg0Mzg4MTA2","avatar_url":"https://avatars.githubusercontent.com/u/84388106?v=4","gravatar_id":"","url":"https://api.github.com/users/estoT1","html_url":"https://github.com/estoT1","followers_url":"https://api.github.com/users/estoT1/followers","following_url":"https://api.github.com/users/estoT1/following{/other_user}","gists_url":"https://api.github.com/users/estoT1/gists{/gist_id}","starred_url":"https://api.github.com/users/estoT1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estoT1/subscriptions","organizations_url":"https://api.github.com/users/estoT1/orgs","repos_url":"https://api.github.com/users/estoT1/repos","events_url":"https://api.github.com/users/estoT1/events{/privacy}","received_events_url":"https://api.github.com/users/estoT1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T08:28:58Z","updated_at":"2023-11-01T08:28:58Z","author_association":"NONE","body":"Thank you for your prompt reply, all feedback is appreciated.\r\nFrom your reply I infer the Fauxton UI cannot be limited to local host bind address from the APIs?\r\n\r\nShort answer: Reducing the attack surface. Everything has its issue and must be patched.\r\nLong answer: To minimize the impact of UI vulnerabilities and assign appropriate maintenance plan/risk response plan for the CouchDB asset group.\r\n\r\nThanking you in advance!\r\n🙇 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788590244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788606504","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1788606504","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1788606504,"node_id":"IC_kwDOAAMmUc5qm_go","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T08:43:53Z","updated_at":"2023-11-01T08:43:53Z","author_association":"MEMBER","body":"I wonder whether there's a pragmatically high code point we could use as the high bound in `$beginsWith` until we drop support for Centos 7 (it goes out of support next year)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788606504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788722544","html_url":"https://github.com/apache/couchdb/issues/4827#issuecomment-1788722544","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4827","id":1788722544,"node_id":"IC_kwDOAAMmUc5qnb1w","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T10:21:44Z","updated_at":"2023-11-01T10:21:44Z","author_association":"MEMBER","body":"Got it.\r\n\r\nWhat you can do is remove all the files under the `share/www` directory, and then `/_utils` won't serve up those files. You can then place those files elsewhere and use haproxy/nginx/anything to serve them, putting whatever additional access restrictions you'd like over them.\r\n\r\nIf you're building from source you can use the `--disable-fauxton` configure option which skips all the build steps for fauxton and skips the crucial final step of copying the output into the `share` directory in the artifact.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788722544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788763323","html_url":"https://github.com/apache/couchdb/issues/4827#issuecomment-1788763323","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4827","id":1788763323,"node_id":"IC_kwDOAAMmUc5qnly7","user":{"login":"estoT1","id":84388106,"node_id":"MDQ6VXNlcjg0Mzg4MTA2","avatar_url":"https://avatars.githubusercontent.com/u/84388106?v=4","gravatar_id":"","url":"https://api.github.com/users/estoT1","html_url":"https://github.com/estoT1","followers_url":"https://api.github.com/users/estoT1/followers","following_url":"https://api.github.com/users/estoT1/following{/other_user}","gists_url":"https://api.github.com/users/estoT1/gists{/gist_id}","starred_url":"https://api.github.com/users/estoT1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estoT1/subscriptions","organizations_url":"https://api.github.com/users/estoT1/orgs","repos_url":"https://api.github.com/users/estoT1/repos","events_url":"https://api.github.com/users/estoT1/events{/privacy}","received_events_url":"https://api.github.com/users/estoT1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T10:56:00Z","updated_at":"2023-11-01T10:56:00Z","author_association":"NONE","body":"Thank you, this fully answers my question! \r\nHave a great day!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788763323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788849130","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1788849130","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1788849130,"node_id":"IC_kwDOAAMmUc5qn6vq","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T12:10:48Z","updated_at":"2023-11-01T12:10:48Z","author_association":"CONTRIBUTOR","body":"> whether there's a pragmatically high code point we could use as the high bound\r\n\r\nI was thinking about the same.   Unfortunately I am not that experienced with Unicode collation and ICU and I do not have any idea.  I will keep studying the implementation for some inspiration and work on the shim-based approach so we could at least have something as a fix.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1788849130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1789416560","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1789416560","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1789416560,"node_id":"IC_kwDOAAMmUc5qqFRw","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T18:05:07Z","updated_at":"2023-11-01T18:05:07Z","author_association":"CONTRIBUTOR","body":"Another sentinel value might work, good idea.\r\n\r\nCentOS is EOL next year so then we can deprecate support for it and remove a few hacks we have for it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1789416560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1789425187","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1789425187","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1789425187,"node_id":"IC_kwDOAAMmUc5qqHYj","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T18:11:24Z","updated_at":"2023-11-01T18:11:24Z","author_association":"CONTRIBUTOR","body":"> Another sentinel value might work, good idea.\r\n\r\nSure but what should be that value specifically?  My impression is that 0xFFFF was created for that exact purpose because it was missing before.  It would be good to know how others have implemented this feature in lack of this symbol.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1789425187/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790141900","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1790141900","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1790141900,"node_id":"IC_kwDOAAMmUc5qs2XM","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T06:26:31Z","updated_at":"2023-11-02T06:30:51Z","author_association":"CONTRIBUTOR","body":"> Sure but what should be that value specifically? My impression is that 0xFFFF was created for that exact purpose because it was missing before. It would be good to know how others have implemented this feature in lack of this symbol.\r\n\r\nLooking over at the PR itself, one issue that jumps out is in the line `<<Arg/binary, 16#10FFFF>>`. We don't actually build a binary with 3 extra bytes at the end: 10, FF and FF; instead we're appending an integer with the size of 8 bits which gets maxed out at FF.\r\n\r\n```\r\nio:format(\"~w~n\", [<<\"A\",16#10FFFF>>]).\r\n<<65,255>>\r\n```\r\n\r\nAt some point the ICU library decided to treat that differently but they could have as well have thrown an error too.\r\n\r\nBut then, if even if we did `16#10FFFF:24` it would still hit the same special case of the API implementation. What we're passing in is a utf8 encoded binary but then append a raw unicode code point to it.\r\n\r\nSo then the fix might be to actually encode the `U+10FFFF`:\r\n\r\n```\r\nio:format(\"~w~n\", [<<16#10FFFF/utf8>>]).\r\n<<244,143,191,191>>\r\n```\r\n\r\nEven better, since unicode standard seems to define a max sortable code point `U+FFFF`, we should use that instead of `U+10FFFF`.  So we could define a max as `unicode:characters_to_binary([16#FFFF])` or the shorter version of `<<16#FFFF/utf8>>`.\r\n\r\n```\r\nio:format(\"~w~n\", [<<16#FFFF/utf8>>]).\r\n<<239,191,191>>\r\n```\r\n\r\nGive `<<Arg/binary, 16#FFFF/utf8>>` a try, that should work on all the OS-es. It probably calls for extra unit tests too. \r\n\r\nOne interesting case to think about is that with `/utf8` binary type we'll crash if the string is not a valid utf8 binary (say if somehow jiffy allowed through a surrogate pair prefix or we then building /utf8 binary should blow up).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790141900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790228128","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1790228128","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1790228128,"node_id":"IC_kwDOAAMmUc5qtLag","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T07:49:12Z","updated_at":"2023-11-02T07:49:12Z","author_association":"CONTRIBUTOR","body":"Thanks @nickva!  I will experiment with the options you described above and get back to you with the results.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790228128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790366824","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1790366824","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1790366824,"node_id":"IC_kwDOAAMmUc5qttRo","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:27:46Z","updated_at":"2023-11-02T09:27:46Z","author_association":"MEMBER","body":"thanks @nickva - this solution looks good in my tests using the CentoOS container","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790366824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790448696","html_url":"https://github.com/apache/couchdb/pull/4828#issuecomment-1790448696","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4828","id":1790448696,"node_id":"IC_kwDOAAMmUc5quBQ4","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T10:17:52Z","updated_at":"2023-11-02T10:17:52Z","author_association":"MEMBER","body":"@pgj I'm trying to think where it would make sense to add unit tests for non-UTF8 data. There are no existing eunit tests for `field_ranges` or `range` (perhaps we add some?) and I don't think it's possible to generate non-UTF8 data via the integration tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790448696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790482735","html_url":"https://github.com/apache/couchdb/pull/4828#issuecomment-1790482735","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4828","id":1790482735,"node_id":"IC_kwDOAAMmUc5quJkv","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T10:40:28Z","updated_at":"2023-11-02T10:40:28Z","author_association":"CONTRIBUTOR","body":"If you implement the pre-check that I suggested then it can be established for `mango_idx_view:range/5` that the input will always be a valid UTF-8 input hence no tests are needed.  The requirement for the test could be then pushed to the validation phase.\r\n\r\nWhen I experimented with this fix locally, I extended `mango_selector:norm_ops/1` as follows:\r\n\r\n```diff\r\ndiff --git a/src/mango/src/mango_selector.erl b/src/mango/src/mango_selector.erl\r\nindex 93d3b10ca..24660e963 100644\r\n--- a/src/mango/src/mango_selector.erl\r\n+++ b/src/mango/src/mango_selector.erl\r\n@@ -136,7 +136,10 @@ norm_ops({[{<<\"$text\">>, Arg}]}) when\r\n norm_ops({[{<<\"$text\">>, Arg}]}) ->\r\n     ?MANGO_ERROR({bad_arg, '$text', Arg});\r\n norm_ops({[{<<\"$beginsWith\">>, Arg}]} = Cond) when is_binary(Arg) ->\r\n-    Cond;\r\n+    case couch_util:validate_utf8(Arg) of\r\n+        true -> Cond;\r\n+        false -> ?MANGO_ERROR({bad_arg, '$beginsWith', Arg})\r\n+    end;\r\n % Not technically an operator but we pass it through here\r\n % so that this function accepts its own output. This exists\r\n % so that $text can have a field name value which simplifies\r\n```\r\n\r\nWith that, the existing definition of `match_beginswith_test/0` in the same module could be extended naturally.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790482735/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790508697","html_url":"https://github.com/apache/couchdb/pull/4829#issuecomment-1790508697","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4829","id":1790508697,"node_id":"IC_kwDOAAMmUc5quP6Z","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T10:58:33Z","updated_at":"2023-11-02T10:58:33Z","author_association":"CONTRIBUTOR","body":"@willholley FYI","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790508697/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790609445","html_url":"https://github.com/apache/couchdb/pull/4810#issuecomment-1790609445","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4810","id":1790609445,"node_id":"IC_kwDOAAMmUc5quogl","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T12:08:13Z","updated_at":"2023-11-02T12:08:13Z","author_association":"CONTRIBUTOR","body":"> Even better, since unicode standard seems to define a max sortable code point `U+FFFF`, we should use that instead of `U+10FFFF`.\r\n\r\nErlang itself supports `U+10FFFF` and it is numerically greater than `U+FFFF`.\r\n\r\n> Give `<<Arg/binary, 16#FFFF/utf8>>` a try, that should work on all the OS-es.\r\n\r\nIt works nicely.  Jenkins seems to be happy with that, see #4829 for the details.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790609445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790795555","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1790795555","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1790795555,"node_id":"IC_kwDOAAMmUc5qvV8j","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T14:01:24Z","updated_at":"2023-11-02T14:01:24Z","author_association":"MEMBER","body":"sorry, I've modified this yet again. Notably I increase the default iterations to 50,000. I override this in a test to avoid adding a timer:sleep hack.\r\n\r\nI changed needs_upgrade to _not_ have defaults for password_scheme or iterations. Instead I use couch_util:get_value/2 and so we get `undefined` if these items are missing. If either are missing the function will return true and we'll then do the upgrade. Any document without these fields is broken and needs fixing (a user/admin that removed them by accident is the only path). I much prefer this to yet another place with a `sha` or `10` default. It is quite _wrong_ to put defaults there anyway. The default for scheme, prf, iterations only apply when _creating_ new password hashes. Existing hashes must have their actual parameters supplied (as fields for user docs and packed into the config value for admins).\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790795555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790827914","html_url":"https://github.com/apache/couchdb/pull/4828#issuecomment-1790827914","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4828","id":1790827914,"node_id":"IC_kwDOAAMmUc5qvd2K","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T14:20:01Z","updated_at":"2023-11-02T14:20:01Z","author_association":"MEMBER","body":"@pgj updated as per #4829 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1790827914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791409321","html_url":"https://github.com/apache/couchdb/issues/4815#issuecomment-1791409321","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4815","id":1791409321,"node_id":"IC_kwDOAAMmUc5qxryp","user":{"login":"Sdas0000","id":138152510,"node_id":"U_kgDOCDwKPg","avatar_url":"https://avatars.githubusercontent.com/u/138152510?v=4","gravatar_id":"","url":"https://api.github.com/users/Sdas0000","html_url":"https://github.com/Sdas0000","followers_url":"https://api.github.com/users/Sdas0000/followers","following_url":"https://api.github.com/users/Sdas0000/following{/other_user}","gists_url":"https://api.github.com/users/Sdas0000/gists{/gist_id}","starred_url":"https://api.github.com/users/Sdas0000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sdas0000/subscriptions","organizations_url":"https://api.github.com/users/Sdas0000/orgs","repos_url":"https://api.github.com/users/Sdas0000/repos","events_url":"https://api.github.com/users/Sdas0000/events{/privacy}","received_events_url":"https://api.github.com/users/Sdas0000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T19:19:32Z","updated_at":"2023-11-02T19:19:32Z","author_association":"NONE","body":"After setting compaction logging information , we are still not getting anything in our log for compaction , \r\n\"log\": {\r\n    \"level\": \"error\",\r\n    \"writer\": \"journald\"\r\n  },\r\n.....\r\n\"smoosh\": {\r\n    \"compaction_log_level\": \"notice\",\r\n    \"db_channels\": \"ratio_dbs, slack_dbs\",\r\n    \"view_channels\": \"ratio_views,slack_views\"\r\n},\r\n.....\r\n \"couchdb\": {\r\n    \"attachment_stream_buffer_size\": \"4096\",\r\n    \"changes_doc_ids_optimization_threshold\": \"100\",\r\n    \"compaction_log_level\": \"notice\",\r\n    \"database_dir\": \"./data\",\r\n    \"default_engine\": \"couch\",\r\n    \"default_security\": \"admin_only\",\r\n    \"file_compression\": \"snappy\",\r\n    \"max_dbs_open\": \"100000\",\r\n    \"max_document_size\": \"4194304\",\r\n    \"os_process_timeout\": \"5000\",\r\n    \"users_db_security_editable\": \"false\",\r\n    \"uuid\": \"5b48005e5b5ff19ec5b18e04068ffa40\",\r\n    \"view_index_dir\": \"./data\"\r\n  }\r\n\r\nIf we set log.level = info , we are getting compaction information : \r\n\r\n\"log\": {\r\n    \"level\": \"info\",\r\n    \"writer\": \"journald\"\r\n  },\r\n\r\nNov 02 19:14:41 xxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.2104.10> -------- Starting compaction for db \"shards/c0000000-dfffffff/item_store-0.1698775231\" at 141132\r\nNov 02 19:14:41 xxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.2079.10> -------- Starting compaction for db \"shards/e0000000-ffffffff/item_store-0.1698775231\" at 141325\r\nNov 02 19:14:41 xxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.1331.9> -------- Starting compaction for db \"shards/80000000-9fffffff/item_store-0.1698775231\" at 141371\r\nNov 02 19:14:41 xxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.2107.10> -------- Starting compaction for db \"shards/60000000-7fffffff/item_store-0.1698775231\" at 141524\r\nNov 02 19:14:41 xxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.2108.10> -------- Starting compaction for db \"shards/20000000-3fffffff/item_store-0.1698775231\" at 141585\r\nNov 02 19:14:41 xxxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.2084.10> -------- Starting compaction for db \"shards/a0000000-bfffffff/item_store-0.1698775231\" at 141778\r\nNov 02 19:14:41 xxxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.2112.10> -------- Starting compaction for db \"shards/00000000-1fffffff/item_store-0.1698775231\" at 140895\r\nNov 02 19:14:41 xxxxxxxx couchdb[2333]: couchdb@demo-ab-1-ro-us-east1-1-1.c.np-store-monarch.internal <0.1310.9> -------- Starting compaction for db \"shards/40000000-5fffffff/item_store-0.1698775231\" at 141210\r\n\r\nCouchdb version : \r\n\r\n{\r\n  \"couchdb\": \"Welcome\",\r\n  \"version\": \"3.3.2\",","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791409321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791442468","html_url":"https://github.com/apache/couchdb/issues/4815#issuecomment-1791442468","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4815","id":1791442468,"node_id":"IC_kwDOAAMmUc5qxz4k","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T19:44:22Z","updated_at":"2023-11-02T19:44:22Z","author_association":"CONTRIBUTOR","body":"That's great @Sdas0000. Yeah, compaction level has to higher or equal than your log level, otherwise you won't see those messages. So for instance if you set your log level to `warning`, then your smoosh and couchdb `compaction_log_level` should be `warning`, `error`, etc to be logged.\r\n\r\nInitially your log level was set to `error` but your `compaction_log_level` was at `notice` so you didn't see them. Then, when log level is `info`, you started seeing `notice` messages. `notice` is a big higher than `info` as per:\r\n\r\n```erlang\r\nlevel_to_integer(debug) -> 1;\r\nlevel_to_integer(info) -> 2;\r\nlevel_to_integer(notice) -> 3;\r\nlevel_to_integer(warning) -> 4;\r\nlevel_to_integer(warn) -> 4;\r\nlevel_to_integer(error) -> 5;\r\nlevel_to_integer(err) -> 5;\r\nlevel_to_integer(critical) -> 6;\r\nlevel_to_integer(crit) -> 6;\r\nlevel_to_integer(alert) -> 7;\r\nlevel_to_integer(emergency) -> 8;\r\nlevel_to_integer(emerg) -> 8;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791442468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791461071","html_url":"https://github.com/apache/couchdb/issues/4815#issuecomment-1791461071","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4815","id":1791461071,"node_id":"IC_kwDOAAMmUc5qx4bP","user":{"login":"Sdas0000","id":138152510,"node_id":"U_kgDOCDwKPg","avatar_url":"https://avatars.githubusercontent.com/u/138152510?v=4","gravatar_id":"","url":"https://api.github.com/users/Sdas0000","html_url":"https://github.com/Sdas0000","followers_url":"https://api.github.com/users/Sdas0000/followers","following_url":"https://api.github.com/users/Sdas0000/following{/other_user}","gists_url":"https://api.github.com/users/Sdas0000/gists{/gist_id}","starred_url":"https://api.github.com/users/Sdas0000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sdas0000/subscriptions","organizations_url":"https://api.github.com/users/Sdas0000/orgs","repos_url":"https://api.github.com/users/Sdas0000/repos","events_url":"https://api.github.com/users/Sdas0000/events{/privacy}","received_events_url":"https://api.github.com/users/Sdas0000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T20:01:13Z","updated_at":"2023-11-02T20:01:13Z","author_association":"NONE","body":"if log level is info or warning , we are already getting compaction info without setting compaction_log_level. There no need to set compaction_log_level. Our issue is we want to keep log as \"error\" and need compaction information by setting compaction_log_level to info or notice. Basically we are looking what time compaction starts and what time compaction ends .  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791461071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791518288","html_url":"https://github.com/apache/couchdb/issues/4815#issuecomment-1791518288","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4815","id":1791518288,"node_id":"IC_kwDOAAMmUc5qyGZQ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T20:49:05Z","updated_at":"2023-11-02T20:57:25Z","author_association":"CONTRIBUTOR","body":">  Our issue is we want to keep log as \"error\" and need compaction information by setting compaction_log_level to info or notice\r\n\r\nSee my comment above: https://github.com/apache/couchdb/issues/4815#issuecomment-1773335087\r\nTry setting both to `error` and see if you see any emitted logs if your log level is `error`\r\n\r\nWhen you set `[log] level = error` you're saying \"I don't want to log anything with a level lower than `error`\". Then setting `compaction_log_level` to `info` or `warning`, unsurprisingly, won't show up in your logs.\r\n\r\nNotice how logging works here: \r\n\r\nhttps://github.com/apache/couchdb/blob/e9d703c2139cdb695259c814c79f041e6864b81e/src/smoosh/src/smoosh_channel.erl#L168-L172\r\n\r\n`compaction_log_level = info` there would effectively call `couch_log:info(\"....\")`, so that won't show up in your log unless you turned you log level all the way down to info.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791518288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791536007","html_url":"https://github.com/apache/couchdb/pull/4830#issuecomment-1791536007","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4830","id":1791536007,"node_id":"IC_kwDOAAMmUc5qyKuH","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T21:04:47Z","updated_at":"2023-11-02T21:04:47Z","author_association":"CONTRIBUTOR","body":"Why is not #4829 enough?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791536007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791537538","html_url":"https://github.com/apache/couchdb/pull/4830#issuecomment-1791537538","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4830","id":1791537538,"node_id":"IC_kwDOAAMmUc5qyLGC","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T21:06:15Z","updated_at":"2023-11-02T21:06:15Z","author_association":"CONTRIBUTOR","body":"> Why is not #4829 enough?\r\n\r\nnoticed some failures there and was wondering if it just need to be rebased\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791537538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791569055","html_url":"https://github.com/apache/couchdb/pull/4830#issuecomment-1791569055","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4830","id":1791569055,"node_id":"IC_kwDOAAMmUc5qySyf","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T21:34:01Z","updated_at":"2023-11-02T21:34:01Z","author_association":"CONTRIBUTOR","body":"Okay.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791569055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791577531","html_url":"https://github.com/apache/couchdb/pull/4828#issuecomment-1791577531","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4828","id":1791577531,"node_id":"IC_kwDOAAMmUc5qyU27","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T21:41:58Z","updated_at":"2023-11-02T21:41:58Z","author_association":"CONTRIBUTOR","body":"Full CI tests passed https://ci-couchdb.apache.org/blue/organizations/jenkins/jenkins-cm1%2FFullPlatformMatrix/detail/jenkins-mango-begingswith-fixes-2/1/pipeline but see the minor test fix comment.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791577531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791584258","html_url":"https://github.com/apache/couchdb/pull/4830#issuecomment-1791584258","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4830","id":1791584258,"node_id":"IC_kwDOAAMmUc5qyWgC","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T21:47:52Z","updated_at":"2023-11-02T21:47:52Z","author_association":"CONTRIBUTOR","body":"the build passed! closing the pr","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791584258/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791686692","html_url":"https://github.com/apache/couchdb/pull/4826#issuecomment-1791686692","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4826","id":1791686692,"node_id":"IC_kwDOAAMmUc5qyvgk","user":{"login":"sblaisot","id":2768193,"node_id":"MDQ6VXNlcjI3NjgxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/2768193?v=4","gravatar_id":"","url":"https://api.github.com/users/sblaisot","html_url":"https://github.com/sblaisot","followers_url":"https://api.github.com/users/sblaisot/followers","following_url":"https://api.github.com/users/sblaisot/following{/other_user}","gists_url":"https://api.github.com/users/sblaisot/gists{/gist_id}","starred_url":"https://api.github.com/users/sblaisot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sblaisot/subscriptions","organizations_url":"https://api.github.com/users/sblaisot/orgs","repos_url":"https://api.github.com/users/sblaisot/repos","events_url":"https://api.github.com/users/sblaisot/events{/privacy}","received_events_url":"https://api.github.com/users/sblaisot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T23:09:49Z","updated_at":"2023-11-02T23:10:13Z","author_association":"CONTRIBUTOR","body":"@big-r81 No sooner said than done. Not for snap package but at least for deb12 packages. This was a 15 minutes job. it is completely useless because I have no mean to test it without visibility on CI and repos.\r\n\r\n- https://github.com/apache/couchdb-ci/pull/59\r\n- https://github.com/apache/couchdb-pkg/pull/116\r\n\r\nOf course, as I have no mean to test it and no visibility on CI and repos, it must still be addressed by some core team member","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791686692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791959331","html_url":"https://github.com/apache/couchdb/pull/4826#issuecomment-1791959331","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4826","id":1791959331,"node_id":"IC_kwDOAAMmUc5qzyEj","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-03T06:53:02Z","updated_at":"2023-11-03T06:53:02Z","author_association":"CONTRIBUTOR","body":"> @big-r81 No sooner said than done. Not for snap package but at least for deb12 packages. This was a 15 minutes job. it is completely useless because I have no mean to test it without visibility on CI and repos.\r\n> \r\n>     * [Handle Debian 12 Bookworm couchdb-ci#59](https://github.com/apache/couchdb-ci/pull/59)\r\n> \r\n>     * [Handle Debian 12 Bookworm couchdb-pkg#116](https://github.com/apache/couchdb-pkg/pull/116)\r\n> \r\n> \r\n> Of course, as I have no mean to test it and no visibility on CI and repos, it must still be addressed by some core team member\r\n\r\n@sblaisot Thank you for your contribution. Maybe with a nicer attitude for the [next](https://github.com/apache/couchdb/pull/4826#issuecomment-1786063439) time. ;-)\r\nIn the meantime someone (😋) else had the same idea.\r\n\r\n- https://github.com/apache/couchdb-ci/pull/58\r\n- https://github.com/apache/couchdb-pkg/pull/115\r\n\r\nWe're in preparation of a new CouchDB release and want to update our CI packages before. At the moment we are waiting for an Erlang patch to land in OTP/25+ which we want to get integrated first. I take a quicklook of your PRs and lets merge the best from both. I'll get back to you on this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1791959331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792292428","html_url":"https://github.com/apache/couchdb/pull/4829#issuecomment-1792292428","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4829","id":1792292428,"node_id":"IC_kwDOAAMmUc5q1DZM","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-03T11:42:16Z","updated_at":"2023-11-03T11:42:16Z","author_association":"CONTRIBUTOR","body":"This PR is no longer needed therefore closing it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792292428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792981766","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-1792981766","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":1792981766,"node_id":"IC_kwDOAAMmUc5q3rsG","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-03T19:24:12Z","updated_at":"2023-11-03T19:24:12Z","author_association":"CONTRIBUTOR","body":"@nickva Bookworm has v102 now too, but v102 has no security support too and v115 will end in one year [[1](https://endoflife.date/firefox)]. This matures fast ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792981766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792989935","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-1792989935","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":1792989935,"node_id":"IC_kwDOAAMmUc5q3trv","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-03T19:31:37Z","updated_at":"2023-11-03T19:31:37Z","author_association":"CONTRIBUTOR","body":"@big-r81 we can't use 102 they changed the C++ API","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792989935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792991341","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-1792991341","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":1792991341,"node_id":"IC_kwDOAAMmUc5q3uBt","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-03T19:32:56Z","updated_at":"2023-11-03T19:32:56Z","author_association":"CONTRIBUTOR","body":"I know and maybe v102 -> v115 again ...  ;-)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792991341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792997954","html_url":"https://github.com/apache/couchdb/issues/4825#issuecomment-1792997954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4825","id":1792997954,"node_id":"IC_kwDOAAMmUc5q3vpC","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-03T19:38:17Z","updated_at":"2023-11-03T19:38:17Z","author_association":"CONTRIBUTOR","body":"Exactly!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1792997954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1800788556","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1800788556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1800788556,"node_id":"IC_kwDOAAMmUc5rVdpM","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-08T00:43:28Z","updated_at":"2023-11-08T00:43:28Z","author_association":"CONTRIBUTOR","body":"First compile run:\r\n\r\n```\r\n==> fast_pbkdf2 (compile)\r\nCompiling c:/Users/couchdb/Documents/couchdb/src/fast_pbkdf2/c_src/fast_pbkdf2.c\r\nERROR: compile failed while processing c:/Users/couchdb/Documents/couchdb/src/fast_pbkdf2: rebar_abort\r\nMicrosoft (R) C/C++ Optimizing Compiler Version 19.37.32825 for x64\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\ncl : Command line error D8021 : invalid numeric argument '/Wextra'\r\nmake: *** [Makefile.win:118: couch] Error 1\r\n```\r\nSo I patched `rebar.config` of `fast_pbkdf2` to:\r\n\r\n```diff\r\ndiff --git a/src/fast_pbkdf2/rebar.config b/src/fast_pbkdf2/rebar.config\r\nindex a0ef529ca..871f8a74f 100644\r\n--- a/src/fast_pbkdf2/rebar.config\r\n+++ b/src/fast_pbkdf2/rebar.config\r\n@@ -39,7 +39,8 @@\r\n         % From files\r\n         [\"c_src/*.c\"],\r\n         % Using options\r\n-        [ {env, [{\"CFLAGS\", \"$CFLAGS -std=c99 -O3 -g -Wall -Wextra -fPIC\"},\r\n+        [ {env, [{\"(linux|solaris|darwin|freebsd)\", \"CFLAGS\", \"$CFLAGS -std=c99 -O3 -g -Wall -Wextra -fPIC\"},       \r\n+                 {\"win32\", \"CFLAGS\", \"$CFLAGS /O2 /DNDEBUG /Wall\"},\r\n                  {\"LDLIBS\", \"$LDLIBS -lcrypto\"},\r\n                  {\"DRV_LINK_TEMPLATE\", \"$DRV_LINK_TEMPLATE $LDLIBS\"}]}]\r\n      }\r\n```\r\n\r\nSecond compile run:\r\n\r\n```\r\n==> fast_pbkdf2 (compile)\r\nCompiling c:/Users/couchdb/Documents/couchdb/src/fast_pbkdf2/c_src/fast_pbkdf2.c\r\nMicrosoft (R) C/C++ Optimizing Compiler Version 19.37.32825 for x64\r\nCopyright (C) Microsoft Corporation.  All rights reserved.\r\n\r\nfast_pbkdf2.c\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_drv_nif.h(40): warning C4820: '<unnamed-tag>': '4' bytes padding added after data member 'dirty_scheduler_support'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_drv_nif.h(156): warning C4820: '_SysIOVec': '4' bytes padding added after data member 'iov_len'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(123): warning C4820: 'enif_func_t': '4' bytes padding added after data member 'arity'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(125): warning C4820: 'enif_func_t': '4' bytes padding added after data member 'flags'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(134): warning C4820: 'enif_entry_t': '4' bytes padding added after data member 'num_of_funcs'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(147): warning C4820: 'enif_entry_t': '4' bytes padding added after data member 'options'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(215): warning C4820: '<unnamed-tag>': '4' bytes padding added after data member 'members'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(279): warning C4820: 'erl_nif_io_vec': '4' bytes padding added after data member 'iovcnt'\r\nc:\\tools\\erl-24.3.4.10\\erts-12.3.2.10\\include\\erl_nif.h(287): warning C4820: 'erl_nif_io_vec': '4' bytes padding added after data member 'flags'\r\nc:/Users/couchdb/Documents/couchdb/src/fast_pbkdf2/c_src/fast_pbkdf2.c(35): fatal error C1083: Cannot open include file: 'openssl/sha.h': No such file or directory\r\nERROR: compile failed while processing c:/Users/couchdb/Documents/couchdb/src/fast_pbkdf2: rebar_abort\r\nmake: *** [Makefile.win:118: couch] Error 1\r\n```\r\n\r\nWindows has problems with OpenSSL too. OpenSSL is installed via `vcpkg` and should be automatically available (header files etc...). Need some more investigations.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1800788556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1800865306","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1800865306","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1800865306,"node_id":"IC_kwDOAAMmUc5rVwYa","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-08T01:39:20Z","updated_at":"2023-11-08T01:39:20Z","author_association":"CONTRIBUTOR","body":"Solved the \"OpenSSL not found\" error. Installed the wrong architecture (x86 instead x64).\r\nNeeded to tweak the 'rebar.config' again, that the liibrary linking is working:\r\n\r\n```diff\r\ndiff --git a/src/fast_pbkdf2/rebar.config b/src/fast_pbkdf2/rebar.config\r\nindex a0ef529ca..486434801 100644\r\n--- a/src/fast_pbkdf2/rebar.config\r\n+++ b/src/fast_pbkdf2/rebar.config\r\n@@ -39,8 +39,10 @@\r\n         % From files\r\n         [\"c_src/*.c\"],\r\n         % Using options\r\n-        [ {env, [{\"CFLAGS\", \"$CFLAGS -std=c99 -O3 -g -Wall -Wextra -fPIC\"},\r\n-                 {\"LDLIBS\", \"$LDLIBS -lcrypto\"},\r\n+        [ {env, [{\"(linux|solaris|darwin|freebsd)\", \"CFLAGS\", \"$CFLAGS -std=c99 -O3 -g -Wall -Wextra -fPIC\"},\r\n+                 {\"win32\", \"CFLAGS\", \"$CFLAGS /O2 /DNDEBUG /Wall\"},\r\n+                 {\"(linux|solaris|darwin|freebsd)\", \"LDLIBS\", \"$LDLIBS -lcrypto\"},\r\n+                 {\"win32\", \"LDLIBS\", \"$LDLIBS libcrypto.lib\"},\r\n                  {\"DRV_LINK_TEMPLATE\", \"$DRV_LINK_TEMPLATE $LDLIBS\"}]}]\r\n      }\r\n  ]}.\r\n```\r\n\r\nI think I will create a PR in the `fast_pbkdf2` repo...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1800865306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1801774838","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1801774838","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1801774838,"node_id":"IC_kwDOAAMmUc5rZOb2","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-08T12:16:18Z","updated_at":"2023-11-08T12:16:18Z","author_association":"MEMBER","body":"I'm open to not importing fast_pbkdf2 and just enhancing our home-grown pbkdf2 implementation to allow sha-256, it's trivial to do. Since we're planning to use the native one if it gets fixed anyway, perhaps that's the best move.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1801774838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1802352943","html_url":"https://github.com/apache/couchdb/pull/4834#issuecomment-1802352943","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4834","id":1802352943,"node_id":"IC_kwDOAAMmUc5rbbkv","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-08T17:35:13Z","updated_at":"2023-11-08T17:35:13Z","author_association":"CONTRIBUTOR","body":"Set a very high iteration count then start ./dev/run -n 1 cluster with debug logging:\r\n\r\n```\r\n[debug] 2023-11-08T17:32:42.199629Z node1@127.0.0.1 <0.439.0> d57e910932 Waiting for admins to be hashed. Seconds left: 291\r\n[debug] 2023-11-08T17:32:43.200672Z node1@127.0.0.1 <0.439.0> d57e910932 Waiting for admins to be hashed. Seconds left: 290\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1802352943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1802874933","html_url":"https://github.com/apache/couchdb/issues/4725#issuecomment-1802874933","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4725","id":1802874933,"node_id":"IC_kwDOAAMmUc5rdbA1","user":{"login":"fr2lancer","id":6251051,"node_id":"MDQ6VXNlcjYyNTEwNTE=","avatar_url":"https://avatars.githubusercontent.com/u/6251051?v=4","gravatar_id":"","url":"https://api.github.com/users/fr2lancer","html_url":"https://github.com/fr2lancer","followers_url":"https://api.github.com/users/fr2lancer/followers","following_url":"https://api.github.com/users/fr2lancer/following{/other_user}","gists_url":"https://api.github.com/users/fr2lancer/gists{/gist_id}","starred_url":"https://api.github.com/users/fr2lancer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr2lancer/subscriptions","organizations_url":"https://api.github.com/users/fr2lancer/orgs","repos_url":"https://api.github.com/users/fr2lancer/repos","events_url":"https://api.github.com/users/fr2lancer/events{/privacy}","received_events_url":"https://api.github.com/users/fr2lancer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-08T23:15:02Z","updated_at":"2023-11-08T23:15:02Z","author_association":"NONE","body":"Hi actually I can't see any outstanding lines in debug mode in the log. \r\nit just no logs from yesterday and process is unable to be recognized and top is 5.0.\r\nNot consuming too much memory.\r\n\r\ndo you know how to flush debug from erlang?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1802874933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1804898861","html_url":"https://github.com/apache/couchdb/issues/4747#issuecomment-1804898861","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4747","id":1804898861,"node_id":"IC_kwDOAAMmUc5rlJIt","user":{"login":"fr2lancer","id":6251051,"node_id":"MDQ6VXNlcjYyNTEwNTE=","avatar_url":"https://avatars.githubusercontent.com/u/6251051?v=4","gravatar_id":"","url":"https://api.github.com/users/fr2lancer","html_url":"https://github.com/fr2lancer","followers_url":"https://api.github.com/users/fr2lancer/followers","following_url":"https://api.github.com/users/fr2lancer/following{/other_user}","gists_url":"https://api.github.com/users/fr2lancer/gists{/gist_id}","starred_url":"https://api.github.com/users/fr2lancer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr2lancer/subscriptions","organizations_url":"https://api.github.com/users/fr2lancer/orgs","repos_url":"https://api.github.com/users/fr2lancer/repos","events_url":"https://api.github.com/users/fr2lancer/events{/privacy}","received_events_url":"https://api.github.com/users/fr2lancer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-10T00:44:07Z","updated_at":"2023-11-10T00:44:07Z","author_association":"NONE","body":"Hi. is there a way to debug it from Erlang level? \r\n\r\nIt actually nothing show in the debug logs. It just silently died.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1804898861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1804992279","html_url":"https://github.com/apache/couchdb/issues/4747#issuecomment-1804992279","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4747","id":1804992279,"node_id":"IC_kwDOAAMmUc5rlf8X","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-10T02:46:21Z","updated_at":"2023-11-10T02:46:21Z","author_association":"CONTRIBUTOR","body":"Are there any logs at all at debug or info level being emitted? When things slow down too much there are usually timeout errors being logged.\r\n\r\nI see you have 4GB of ram. That may be a bit low, does it behave differently if you increase the amount of memory?\r\n\r\nCould try querying a `/_node/_local/_stats` and `/_node/_local/_system` and share to see if there are any message queues backing up perhaps.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1804992279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1805625536","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1805625536","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1805625536,"node_id":"IC_kwDOAAMmUc5rn6jA","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-10T12:08:07Z","updated_at":"2023-11-10T12:08:07Z","author_association":"MEMBER","body":"I'd like to suppress the conflict errors since those are benign. Each node might elect to hash and update the user doc when it gets a request. however, by design of this PR, they will attempt to make the same update. the same initial _rev, and the same new fields (iterations, derived_key). so the conflicts should be clean, in that the update is rejected at all copies and does not introduce a new branch in the doc.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1805625536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1805656312","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1805656312","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1805656312,"node_id":"IC_kwDOAAMmUc5roCD4","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-10T12:33:16Z","updated_at":"2023-11-10T13:02:24Z","author_association":"MEMBER","body":"I can't trigger the conflict cases locally but I've added a `catch` on the front of `couch_password_hasher`'s call to `AuthModule:update_user_creds`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1805656312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1805790263","html_url":"https://github.com/apache/couchdb/pull/4835#issuecomment-1805790263","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4835","id":1805790263,"node_id":"IC_kwDOAAMmUc5roiw3","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-10T14:04:23Z","updated_at":"2023-11-10T14:04:23Z","author_association":"CONTRIBUTOR","body":"The code is very clean and makes Clouseau easier to use. Thank you, Gábor.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1805790263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1806072709","html_url":"https://github.com/apache/couchdb/pull/4814#issuecomment-1806072709","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4814","id":1806072709,"node_id":"IC_kwDOAAMmUc5rpnuF","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-10T16:48:38Z","updated_at":"2023-11-10T16:48:38Z","author_association":"CONTRIBUTOR","body":"Makes sense that we can just ignore the conflict as they should be the same content. Even if a conflict is generated it should merge cleanly.\r\n\r\n> I can't trigger the conflict cases locally but I've added a `catch` on the front of `couch_password_hasher`'s call to `AuthModule:update_user_creds`.\r\n\r\nThat would still dump the error in the logs. The error comes from the error logger earlier because we throw inside the spawn_monitor-ed process here and don't catch it: https://github.com/apache/couchdb/blob/5a21bb219485fda5f27c68bf09794711040c38a9/src/chttpd/src/chttpd_auth_cache.erl#L63-L70\r\n\r\nWe could do a `try ... catch conflict -> exit(conflict) end`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1806072709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1806713224","html_url":"https://github.com/apache/couchdb/pull/4826#issuecomment-1806713224","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4826","id":1806713224,"node_id":"IC_kwDOAAMmUc5rsEGI","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-11T06:25:17Z","updated_at":"2023-11-11T06:25:17Z","author_association":"CONTRIBUTOR","body":"Debian Bookworm packages for x86_64 should be available via the standard installation method https://docs.couchdb.org/en/stable/install/unix.html#installation-using-the-apache-couchdb-convenience-binary-packages\r\n\r\nDocs still don't mention it, we should update that as well, if @big-r81 doesn't get to it before I do, I'll do tomorrow.\r\n\r\nThere is a PR to add snap packages back in: https://github.com/apache/couchdb-pkg/pull/119. Though none of us know very much about snaps so that may take a while.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1806713224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1806743910","html_url":"https://github.com/apache/couchdb/pull/4826#issuecomment-1806743910","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4826","id":1806743910,"node_id":"IC_kwDOAAMmUc5rsLlm","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-11T08:19:43Z","updated_at":"2023-11-11T08:22:55Z","author_association":"CONTRIBUTOR","body":"@nickva Hi created a #4840 for Debian 12, but I wouldn't backport it to the `stable` docs branch (we didn't do it consequently for all 3.3.x docs PRs). While we are in progress of releasing a new version, `latest` would become `stable` and then it would be mentioned there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1806743910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807001168","html_url":"https://github.com/apache/couchdb/pull/4841#issuecomment-1807001168","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4841","id":1807001168,"node_id":"IC_kwDOAAMmUc5rtKZQ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-12T04:42:11Z","updated_at":"2023-11-12T04:42:11Z","author_association":"CONTRIBUTOR","body":"Bookworm passed:\r\n\r\n<img width=\"202\" alt=\"Screenshot 2023-11-11 at 11 41 44 PM\" src=\"https://github.com/apache/couchdb/assets/211822/0db5278d-5932-48ec-bc9b-6370d923a3f4\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807001168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807053687","html_url":"https://github.com/apache/couchdb/pull/4842#issuecomment-1807053687","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4842","id":1807053687,"node_id":"IC_kwDOAAMmUc5rtXN3","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-12T08:22:55Z","updated_at":"2023-11-12T09:47:29Z","author_association":"CONTRIBUTOR","body":"Do we want to do it for all directories under `src/` with something like `src/*/compile_commands.json` (in the `.gitignore` file of the root folder)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807053687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807140484","html_url":"https://github.com/apache/couchdb/pull/4842#issuecomment-1807140484","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4842","id":1807140484,"node_id":"IC_kwDOAAMmUc5rtsaE","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-12T14:13:38Z","updated_at":"2023-11-12T14:13:38Z","author_association":"CONTRIBUTOR","body":"> Do we want to do it for all directories under `src/` with something like `src/*/compile_commands.json` (in the `.gitignore` file of the root folder)?\r\n\r\nThat could work. Good idea.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807140484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807239075","html_url":"https://github.com/apache/couchdb/issues/4747#issuecomment-1807239075","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4747","id":1807239075,"node_id":"IC_kwDOAAMmUc5ruEej","user":{"login":"fr2lancer","id":6251051,"node_id":"MDQ6VXNlcjYyNTEwNTE=","avatar_url":"https://avatars.githubusercontent.com/u/6251051?v=4","gravatar_id":"","url":"https://api.github.com/users/fr2lancer","html_url":"https://github.com/fr2lancer","followers_url":"https://api.github.com/users/fr2lancer/followers","following_url":"https://api.github.com/users/fr2lancer/following{/other_user}","gists_url":"https://api.github.com/users/fr2lancer/gists{/gist_id}","starred_url":"https://api.github.com/users/fr2lancer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fr2lancer/subscriptions","organizations_url":"https://api.github.com/users/fr2lancer/orgs","repos_url":"https://api.github.com/users/fr2lancer/repos","events_url":"https://api.github.com/users/fr2lancer/events{/privacy}","received_events_url":"https://api.github.com/users/fr2lancer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-12T21:05:03Z","updated_at":"2023-11-12T21:05:03Z","author_association":"NONE","body":"Hi it has been upgrade to use 8GB ram on last Thurs. today I checked it -> still same issue - seems like died on Sat\r\nI can't query it as it not responding me any more\r\n\r\nI found this in dmesg -> so it became  'D' status and consuming resources\r\n\r\n INFO: task 1_scheduler:1658 blocked for more than 120 seconds.\r\n[169939.922146]       Not tainted 4.18.0-477.10.1.el8_8.x86_64 #1\r\n[169939.922162] \"echo 0 > /proc/sys/kernel/hung_task_timeout_secs\" disables this message.\r\n\r\n\r\n[169694.167806]       Not tainted 4.18.0-477.10.1.el8_8.x86_64 #1\r\n[169694.167823] \"echo 0 > /proc/sys/kernel/hung_task_timeout_secs\" disables this message.\r\n[169694.167848] task:1_scheduler     state:D stack:    0 pid: 1658 ppid:     1 flags:0x00000080\r\n[169694.167853] Call Trace:\r\n[169694.167857]  __schedule+0x2d1/0x870\r\n[169694.167866]  schedule+0x55/0xf0\r\n[169694.167868]  io_schedule+0x12/0x40\r\n[169694.167871]  migration_entry_wait_on_locked+0x1ea/0x290\r\n[169694.167876]  ? filemap_fdatawait_keep_errors+0x50/0x50\r\n[169694.167879]  do_swap_page+0x5b0/0x710\r\n[169694.167881]  ? pmd_devmap_trans_unstable+0x2e/0x40\r\n[169694.167886]  ? handle_pte_fault+0x5d/0x880\r\n[169694.167888]  __handle_mm_fault+0x453/0x6c0\r\n[169694.167890]  handle_mm_fault+0xca/0x2a0\r\n[169694.167892]  __do_page_fault+0x1f0/0x450\r\n[169694.167897]  do_page_fault+0x37/0x130\r\n[169694.167900]  ? page_fault+0x8/0x30\r\n[169694.167904]  page_fault+0x1e/0x30\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807239075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807474970","html_url":"https://github.com/apache/couchdb/issues/1151#issuecomment-1807474970","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1151","id":1807474970,"node_id":"IC_kwDOAAMmUc5ru-Ea","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T04:51:29Z","updated_at":"2023-11-13T04:51:29Z","author_association":"CONTRIBUTOR","body":"Close as there was no response and the reproducer gist is missing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807474970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807482890","html_url":"https://github.com/apache/couchdb/issues/1181#issuecomment-1807482890","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1181","id":1807482890,"node_id":"IC_kwDOAAMmUc5rvAAK","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:03:47Z","updated_at":"2023-11-13T05:03:47Z","author_association":"CONTRIBUTOR","body":"This looks like it was fixed in https://github.com/apache/couchdb/pull/4199\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807482890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807489276","html_url":"https://github.com/apache/couchdb/issues/903#issuecomment-1807489276","issue_url":"https://api.github.com/repos/apache/couchdb/issues/903","id":1807489276,"node_id":"IC_kwDOAAMmUc5rvBj8","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:13:28Z","updated_at":"2023-11-13T05:13:28Z","author_association":"CONTRIBUTOR","body":"The 810 issue as related to replicator stats should be fixed in https://github.com/apache/couchdb/pull/2447.  Per replication job stats are persisted to checkpoint and then used for job initialization.\r\n\r\nIf we want a general stats aggregator for all nodes, it would be a larger design, involving creating a top level aggregator, possibly with custom aggregators, a new top level API and so on. Closing for now that scope is a bit larger than intended here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807489276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807497604","html_url":"https://github.com/apache/couchdb/issues/1209#issuecomment-1807497604","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1209","id":1807497604,"node_id":"IC_kwDOAAMmUc5rvDmE","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:25:15Z","updated_at":"2023-11-13T05:25:15Z","author_association":"CONTRIBUTOR","body":"This should be fixed in https://github.com/apache/couchdb/commit/23e5f92a15cdc868622481d2ff63ca3770110fae\r\n\r\nThere is a new query_server_config option `revs_limit` defaulting to `20` which limits the number of branches of heavily conflicted documents.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807497604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807505364","html_url":"https://github.com/apache/couchdb/issues/1256#issuecomment-1807505364","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1256","id":1807505364,"node_id":"IC_kwDOAAMmUc5rvFfU","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:35:29Z","updated_at":"2023-11-13T05:35:29Z","author_association":"CONTRIBUTOR","body":"We have a more general fair-share mechanism now in https://docs.couchdb.org/en/stable/whatsnew/3.2.html#features-and-enhancements to be able to configure replication priorities. Users would create one-shot replications and put in them in low priority (with very few shares) `_replicator` dbs.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807505364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807510439","html_url":"https://github.com/apache/couchdb/issues/1269#issuecomment-1807510439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1269","id":1807510439,"node_id":"IC_kwDOAAMmUc5rvGun","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:42:54Z","updated_at":"2023-11-13T05:42:54Z","author_association":"CONTRIBUTOR","body":"Dreyfus / clouseau is now part of couchdb as part of 3.x+\r\n\r\nGeo hasn't gotten much support and demand at Cloudant and as such, is now removed. There a few remnants of it in the Apache CouchDB code but we should probably remove those.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807510439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807515830","html_url":"https://github.com/apache/couchdb/issues/1278#issuecomment-1807515830","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1278","id":1807515830,"node_id":"IC_kwDOAAMmUc5rvIC2","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:51:31Z","updated_at":"2023-11-13T05:51:31Z","author_association":"CONTRIBUTOR","body":"This is already implemented.\r\n\r\n```\r\n% http $DB/_dbs_info'?key=\"db1\"'\r\n\r\n[\r\n    {\r\n        \"info\": {\r\n            \"cluster\": {\r\n                \"n\": 1,\r\n                \"q\": 2,\r\n                \"r\": 1,\r\n                \"w\": 1\r\n            },\r\n            \"compact_running\": false,\r\n            \"db_name\": \"db1\",\r\n            \"disk_format_version\": 8,\r\n            \"doc_count\": 0,\r\n            \"doc_del_count\": 0,\r\n            \"instance_start_time\": \"1666880205\",\r\n            \"props\": {},\r\n            \"purge_seq\": \"0-g1AAAABTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQeC5BkaABS_4EgK5EBp8pEhqR6iJIsACz0Fj4\",\r\n            \"sizes\": {\r\n                \"active\": 0,\r\n                \"external\": 0,\r\n                \"file\": 16696\r\n            },\r\n            \"update_seq\": \"0-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQeC5BkaABS_4EgK4M5kSEXKMBubmCckmRkhKkLp0mJDEn1KEYYGCcZmiVjMSILABMCI_8\"\r\n        },\r\n        \"key\": \"db1\"\r\n    }\r\n]\r\n```\r\n\r\nSince the conversation stalled after 5 years, closing. Feel free to re-open / continue the discussion.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807515830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807520592","html_url":"https://github.com/apache/couchdb/issues/1324#issuecomment-1807520592","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1324","id":1807520592,"node_id":"IC_kwDOAAMmUc5rvJNQ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T05:58:21Z","updated_at":"2023-11-13T05:58:21Z","author_association":"CONTRIBUTOR","body":"This was implemented in https://github.com/apache/couchdb/pull/4483. We emit log reports which include in-indexed mango queries.\r\n\r\nThere are additional mango metrics, too: https://github.com/apache/couchdb/pull/2410","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807520592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807522386","html_url":"https://github.com/apache/couchdb/issues/1357#issuecomment-1807522386","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1357","id":1807522386,"node_id":"IC_kwDOAAMmUc5rvJpS","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:00:58Z","updated_at":"2023-11-13T06:00:58Z","author_association":"CONTRIBUTOR","body":"This should be fixed in https://github.com/apache/couchdb/pull/4199","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807522386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807524340","html_url":"https://github.com/apache/couchdb/issues/1358#issuecomment-1807524340","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1358","id":1807524340,"node_id":"IC_kwDOAAMmUc5rvKH0","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:03:42Z","updated_at":"2023-11-13T06:03:42Z","author_association":"CONTRIBUTOR","body":"Closing as there is no response from the user.\r\n\r\nfabric_worker_timeout can be configured or user could try to increase the dist cluster network capacity, disk, memory or cpu resources.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807524340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807528095","html_url":"https://github.com/apache/couchdb/issues/1412#issuecomment-1807528095","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1412","id":1807528095,"node_id":"IC_kwDOAAMmUc5rvLCf","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:08:36Z","updated_at":"2023-11-13T06:08:36Z","author_association":"CONTRIBUTOR","body":"Fair share job scheduling https://docs.couchdb.org/en/stable/replication/replicator.html#fair-share-job-scheduling would cover the majority of the cases. One shot replications could be placed in replicator dbs with a low number of shares. Fair share configuration would indirectly configure frequency and delays between replication jobs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807528095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807534614","html_url":"https://github.com/apache/couchdb/issues/1455#issuecomment-1807534614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1455","id":1807534614,"node_id":"IC_kwDOAAMmUc5rvMoW","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:17:27Z","updated_at":"2023-11-13T06:17:27Z","author_association":"CONTRIBUTOR","body":"PBKDF2 implementation was just improved in https://github.com/apache/couchdb/pull/4814\r\n\r\nhttps://csrc.nist.gov/csrc/media/Projects/crypto-publication-review-project/documents/initial-comments/sp800-132-initial-public-comments-2023.pdf indicates Argon2 looks like a favorite of industry reviewers so far instead of brcypt. Since we haven't brought bcrypt back in 5 years, it's probably worth closing the issue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807534614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807546214","html_url":"https://github.com/apache/couchdb/issues/1515#issuecomment-1807546214","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1515","id":1807546214,"node_id":"IC_kwDOAAMmUc5rvPdm","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:32:16Z","updated_at":"2023-11-13T06:32:16Z","author_association":"CONTRIBUTOR","body":"Dreyfus is now part of https://docs.couchdb.org/en/stable/install/search.html#install-search\r\n\r\nThere is also a new search implementation available in main https://github.com/apache/couchdb/blob/4c76b38a2184c327d6173ffba438db95bc6b96b6/nouveau/README.md. The plan as of the latest Apache CouchDB dev meeting is to release it as part of the next 3.4 release with the jar file available in the package. Users would have to install their own JDK.\r\n\r\nGeo has been removed and unsupported by Cloudant for a while now. There are some remnants mentioning \"hastings\" in `main` but otherwise nobody is testing or actively running Geo from what I am aware.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807546214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807556565","html_url":"https://github.com/apache/couchdb/issues/1520#issuecomment-1807556565","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1520","id":1807556565,"node_id":"IC_kwDOAAMmUc5rvR_V","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:44:52Z","updated_at":"2023-11-13T06:44:52Z","author_association":"CONTRIBUTOR","body":"We have been looking at performance improvements lately and have released a bunch in 3.3:  https://docs.couchdb.org/en/stable/whatsnew/3.3.html#highlights\r\n\r\nSome details in https://github.com/apache/couchdb/issues/4308:\r\n * https://github.com/apache/couchdb/pull/4238\r\n * https://github.com/apache/couchdb/pull/4201\r\n * https://github.com/apache/couchdb/pull/4193\r\n * https://github.com/apache/couchdb/pull/4185\r\n * https://github.com/apache/couchdb/pull/4179\r\n * https://github.com/apache/couchdb/pull/4163\r\n * https://github.com/apache/couchdb/pull/4144\r\n * https://github.com/apache/couchdb/pull/4059\r\n * https://github.com/apache/couchdb/pull/4056\r\n * https://github.com/apache/couchdb/pull/4052\r\n \r\nThere is even a simple built-in diagnostic fabric_bench module: https://github.com/apache/couchdb/pull/4601\r\n\r\nHowever, in general, a dedicated Apache CouchDB perf team hasn't happened in 5 years. It's mostly noticing regressions, bottlenecks, and lock contentions and fixing accordingly by contributors.\r\n\r\nIn light of that, let's close the issue. If we want to revive it, and there is suddenly some interest we can re-open it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807556565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807557284","html_url":"https://github.com/apache/couchdb/issues/1521#issuecomment-1807557284","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1521","id":1807557284,"node_id":"IC_kwDOAAMmUc5rvSKk","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:45:41Z","updated_at":"2023-11-13T06:45:41Z","author_association":"CONTRIBUTOR","body":"Implemented in https://github.com/apache/couchdb/pull/4601\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807557284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807564879","html_url":"https://github.com/apache/couchdb/issues/1651#issuecomment-1807564879","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1651","id":1807564879,"node_id":"IC_kwDOAAMmUc5rvUBP","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:55:20Z","updated_at":"2023-11-13T06:55:20Z","author_association":"CONTRIBUTOR","body":"This is now fixed:\r\n\r\n```\r\n% curl http://adm:pass@localhost:15984/_users/_bulk_get -H content-type:application/json -d '{\"docs\":[\"doc-1\"]}'\r\n{\"results\":[{\"id\":null,\"docs\":[{\"error\":{\"rev\":null,\"reason\":\"document must be a JSON object\",\"id\":null,\"error\":\"bad_request\"}}]}]}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807564879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807565378","html_url":"https://github.com/apache/couchdb/issues/1209#issuecomment-1807565378","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1209","id":1807565378,"node_id":"IC_kwDOAAMmUc5rvUJC","user":{"login":"mmarinchenko","id":21952330,"node_id":"MDQ6VXNlcjIxOTUyMzMw","avatar_url":"https://avatars.githubusercontent.com/u/21952330?v=4","gravatar_id":"","url":"https://api.github.com/users/mmarinchenko","html_url":"https://github.com/mmarinchenko","followers_url":"https://api.github.com/users/mmarinchenko/followers","following_url":"https://api.github.com/users/mmarinchenko/following{/other_user}","gists_url":"https://api.github.com/users/mmarinchenko/gists{/gist_id}","starred_url":"https://api.github.com/users/mmarinchenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmarinchenko/subscriptions","organizations_url":"https://api.github.com/users/mmarinchenko/orgs","repos_url":"https://api.github.com/users/mmarinchenko/repos","events_url":"https://api.github.com/users/mmarinchenko/events{/privacy}","received_events_url":"https://api.github.com/users/mmarinchenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:55:58Z","updated_at":"2023-11-13T06:55:58Z","author_association":"NONE","body":"@nickva \r\n> This should be fixed in https://github.com/apache/couchdb/commit/23e5f92a15cdc868622481d2ff63ca3770110fae\r\n\r\nNo, this was fixed in https://github.com/apache/couchdb/commit/0678742e4d0176807b221fb519c211a579c4baf2\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807565378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807567669","html_url":"https://github.com/apache/couchdb/issues/1714#issuecomment-1807567669","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1714","id":1807567669,"node_id":"IC_kwDOAAMmUc5rvUs1","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T06:58:51Z","updated_at":"2023-11-13T06:58:51Z","author_association":"CONTRIBUTOR","body":"As indicated above, Fair Share replicator feature could be used for something like this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807567669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807569468","html_url":"https://github.com/apache/couchdb/issues/1830#issuecomment-1807569468","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1830","id":1807569468,"node_id":"IC_kwDOAAMmUc5rvVI8","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T07:00:52Z","updated_at":"2023-11-13T07:00:52Z","author_association":"CONTRIBUTOR","body":"In a url, as a rule the `+` character has to be urlencoded.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807569468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807571630","html_url":"https://github.com/apache/couchdb/issues/1885#issuecomment-1807571630","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1885","id":1807571630,"node_id":"IC_kwDOAAMmUc5rvVqu","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T07:03:21Z","updated_at":"2023-11-13T07:03:21Z","author_association":"CONTRIBUTOR","body":"This was implemented in https://github.com/apache/couchdb/pull/3110\r\n\r\nHowever we ended up using hard-coded suites instead it seems.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807571630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807571694","html_url":"https://github.com/apache/couchdb/issues/1209#issuecomment-1807571694","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1209","id":1807571694,"node_id":"IC_kwDOAAMmUc5rvVru","user":{"login":"mmarinchenko","id":21952330,"node_id":"MDQ6VXNlcjIxOTUyMzMw","avatar_url":"https://avatars.githubusercontent.com/u/21952330?v=4","gravatar_id":"","url":"https://api.github.com/users/mmarinchenko","html_url":"https://github.com/mmarinchenko","followers_url":"https://api.github.com/users/mmarinchenko/followers","following_url":"https://api.github.com/users/mmarinchenko/following{/other_user}","gists_url":"https://api.github.com/users/mmarinchenko/gists{/gist_id}","starred_url":"https://api.github.com/users/mmarinchenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmarinchenko/subscriptions","organizations_url":"https://api.github.com/users/mmarinchenko/orgs","repos_url":"https://api.github.com/users/mmarinchenko/repos","events_url":"https://api.github.com/users/mmarinchenko/events{/privacy}","received_events_url":"https://api.github.com/users/mmarinchenko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T07:03:26Z","updated_at":"2023-11-13T07:03:26Z","author_association":"NONE","body":"Thanks to @rnewson!👍","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807571694/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807572796","html_url":"https://github.com/apache/couchdb/issues/1949#issuecomment-1807572796","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1949","id":1807572796,"node_id":"IC_kwDOAAMmUc5rvV88","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T07:04:40Z","updated_at":"2023-11-13T07:04:40Z","author_association":"CONTRIBUTOR","body":"This is fixed in https://github.com/apache/couchdb/pull/2179","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807572796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807580522","html_url":"https://github.com/apache/couchdb/issues/2065#issuecomment-1807580522","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2065","id":1807580522,"node_id":"IC_kwDOAAMmUc5rvX1q","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T07:13:23Z","updated_at":"2023-11-13T07:13:23Z","author_association":"CONTRIBUTOR","body":"Apache CouchDb doesn't provide MacOS binaries.  They are provided by https://neighbourhood.ie/ at https://neighbourhood.ie/download-apache-couchdb-mac/. \r\n\r\nIt's been about 4 years. @MrBokeh, perhaps try a newer version?  If you still see the issue, please contact Neighbourhood.ie\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807580522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807588434","html_url":"https://github.com/apache/couchdb/issues/2095#issuecomment-1807588434","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2095","id":1807588434,"node_id":"IC_kwDOAAMmUc5rvZxS","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T07:21:33Z","updated_at":"2023-11-13T07:21:33Z","author_association":"CONTRIBUTOR","body":"@rvaldepenas sorry just now noticed the question after 4 years when looking to close some inactive tickets. For Apache CouchDB you can use `_scheduler/jobs` and inspect the `history` list. That would indicate if the jobs is continuously retrying  or not. The history will how the last 20 or so event for that particular jobs.\r\n\r\nOtherwise, closing the issue as resolved.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1807588434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]